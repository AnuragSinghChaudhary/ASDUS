define(["jquery","underscore","cookie"],function(e,t){"use strict";var o=function(){this.initialize()};return o.prototype={initialize:function(){this.useLocalStorage=navigator.cookieEnabled&&window.localStorage,this.useLocalStorage&&!e.cookie("hasFwInfo")&&(window.localStorage.removeItem("fwInfo"),e.cookie("hasFwInfo","true",{path:"/"}))},setPersistentSessionValue:function(e,t){var o=this._getFwInfo();o[e]=t,this._setFwInfo(o)},getPersistentSessionValue:function(e,t){var o=this._getFwInfo();return o[e]||t},getAndClearPersistentSessionValue:function(e){var o=this._getFwInfo(),n=o[e];return this._setFwInfo(t.omit(o,e)),n},_setFwInfo:function(e){if(t.isObject(e))try{e=JSON.stringify(e),this.useLocalStorage?window.localStorage.setItem("fwInfo",e):window.sessionStorage.setItem("fwInfo",e)}catch(o){console.error("Unable to set fwInfo in localStorage",o.stack||o.stacktrace||o.message)}},_getFwInfo:function(){var e;try{e=JSON.parse(this.useLocalStorage?window.localStorage.getItem("fwInfo"):window.sessionStorage.getItem("fwInfo"))}catch(t){console.error("Unable to fetch fwInfo from localStorage",t.stack||t.stacktrace||t.message)}return e||{}},setsessionvalue:function(e,t){this.setPersistentSessionValue(e,t)},getsessionvalue:function(e){return this.getPersistentSessionValue(e)},getandclearsessionvalue:function(e){return this.getAndClearPersistentSessionValue(e)}},new o});
//# sourceMappingURL=fwinfo.js.map