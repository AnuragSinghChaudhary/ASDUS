define(["jquery","underscore","pubsub","modules/scroller/base-scroll"],function(t,i,e,o){var r=o.extend({initialize:function(e){e=t.extend({color:"light",draggerPaddingLeft:0,draggerPaddingRight:2,delayScroll:!0},e);var r=i.template('<div class="horizontal-scroll ui-<%= color %>"><div class="scrolldragger"><div class="over-icon"></div></div></div>');e.template=r({color:e.color}),this.scrollerName=this.$el.attr("data-name"),this.$(".horizontal-scroll").remove(),o.prototype.initialize.call(this,e)},getViewportSize:function(){return this.$el.width()},getContentSize:function(){return this.content.width()},_setDraggerSize:function(t){return t-=this.options.draggerPaddingLeft+this.options.draggerPaddingRight,this.dragger.css({width:t}),t},animateContentToPosition:function(e,o,r,n){var s=this.viewportSize-this.contentSize,a=Math.max(s,Math.min(e,0));return n=n||"ease-out",t.when(this.animate(this.dragger,"left",-1*a*this.contentViewportRatio+"px",r||0,n),this.animate(this.content,"left",a+"px",r,n)).done(i.bind(function(){this.$el.trigger("scrollBarUpdate",[a/s])},this))},scrollToElement:function(t,i,e,o){var r,n=t.outerWidth(),s=t.position().left+t.parent().position().left,a=s+n;if(0>s){var h=this.getViewportSize();r=i?s+(n-h):s}else a>this.getViewportSize()&&(r=i?s:s+(n-this.getViewportSize()));if(r){var l=this.content.position().left-r;this.animateContentToPosition(l,0,e,o)}},moveContentToPosition:function(t,i){if(!this.active)return!1;var e=Math.min(this.viewportSize-this.contentSize,0),o=Math.max(e,Math.min(t,0));return this._positionDragger(-1*o*this.contentViewportRatio),this._positionContent(o),this.$el.trigger("scrollBarUpdate",[o/e]),o===t},moveDraggerToPosition:function(t,i){if(!this.active)return!1;var e=this.viewportSize-(this.draggerSize+this.options.draggerPaddingRight+this.options.draggerPaddingLeft),o=Math.max(0,Math.min(t,e));return this._positionDragger(o),this._positionContent(-1*o/this.contentViewportRatio),this.$el.trigger("scrollBarUpdate",o/e),o===t},_positionDragger:function(t){t+=this.options.draggerPaddingLeft,t=Math.round(t),this.dragger.css({left:t})},_positionContent:function(t){t=Math.round(t),this.content.css({left:t}),this.scrollerName&&e.trigger("hor:scrollbar:update:"+this.scrollerName)}});return r});
//# sourceMappingURL=horizontal-scroll.js.map