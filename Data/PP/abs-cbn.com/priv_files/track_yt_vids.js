function onYouTubeIframeAPIReady(){for(var a=document.getElementsByTagName("iframe"),b=a.length;b--;)/youtube.com\/embed/.test(a[b].src)&&(player=new YT.Player(a[b],{events:{onStateChange:onPlayerStateChange}}))}function onPlayerReady(a){a.target.setVolume(100),a.target.playVideo()}function onPlayerStateChange(a){if(a.data==YT.PlayerState.PLAYING){console.log("duration: "+player.getDuration()),console.log("url: "+player.getVideoUrl());var b=player.getVideoData(),c=b.video_id;console.log("videoid: "+c)}}function trackYTUnload(){sensors.unload();var a=new Date,b=null;do b=new Date;while(100>b-a)}for(var e=document.getElementsByTagName("iframe"),x=e.length;x--;)/youtube.com\/embed/.test(e[x].src)&&-1===e[x].src.indexOf("enablejsapi=")&&(e[x].src+=(-1===e[x].src.indexOf("?")?"?":"&")+"enablejsapi=1");var player;window.onbeforeunload=function(a){var a=a||window.event;return a&&(a.returnValue="na"),"na"},window.onbeforeunload=trackYTUnload;var j=document.createElement("script"),f=document.getElementsByTagName("script")[0];j.src="//www.youtube.com/iframe_api",j.async=!0,f.parentNode.insertBefore(j,f);var item=document.getElementById("track_yt_spring"),itemStream=item.getAttribute("data-stream");sensors=new SpringStreams(itemStream),adapter={getMeta:function(){var a=player.getVideoData(),b=a.video_id;return{pl:"youtubeABSiframe",plv:"version1",sx:screen.width,sy:screen.height,cq:b}},getDuration:function(){return player.getDuration()},getPosition:function(){return player.getCurrentTime()}},desc={stream:"videos/"+itemStream},sensors.track(itemStream,desc,adapter),sensors.debug=function(a){console.log(a)};