!function(e,t,n,i){if(void 0===e.unid||!e.unid.version){!function(){try{new window.CustomEvent("test")}catch(t){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=window.Event.prototype,window.CustomEvent=e}}();var a,o="com.go.unid",d=function(e){return(document.cookie.match("(?:^|;\\s*)"+e+"\\s*=\\s*([^;]+)")||0)[1]},r=function(e,t,n,i){var a=new Date;a.setTime(a.getTime()+15768e7),document.cookie=e+"="+(void 0===t?"":t)+";path="+(i||"/")+";expires="+(void 0===t?"Thu, 01 Jan 1970 00:00:01 GMT":a.toUTCString())+(n?";domain="+n:"")},u=function(){h.className="",S.postMessage(JSON.stringify({action:"check",data:unid._data}),p)},s=function(e){b.vexpired=new Date-e>=63072e6,b.vexpired&&(delete b.lsData.VCONSENT,delete b.lsData.VCONSENTTIME,delete b.lsData.SWID,delete b.lsData.ANON)},l=function(t,i){unid.reason=t,n.dispatchEvent(new CustomEvent("unid.error",{detail:i||t})),e.unid.cbGet&&e.unid.cbGet(),e.unid.cbData&&e.unid.cbData(unid.getData())},c=function(){var t=unid.getData();n.dispatchEvent(new CustomEvent("unid.value",{detail:t})),e.unid.cbGet&&e.unid.cbGet(t.unid),e.unid.cbData&&e.unid.cbData(t)},v=function(t,i){var a=(new Date).getTime();if(n.dispatchEvent(new CustomEvent("unid.abort",{detail:unid.getData()})),c(),"denied"!==t&&"swid_nt"!==t&&!(localStorage&&a-Number(localStorage.getItem(o+":abort")||0)>72e6))try{localStorage.setItem(o+":abort",a);var d=new(e.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");d.open("GET",e.location.protocol+"//unid.go.com/abort",!0),d.setRequestHeader("Content-Type","text/plain"),d.setRequestHeader("_","f`"+(parent!==e?1:0)+"``h`"+e.location.hostname+(i?"``e`"+i:"")+"``"+t+"`1"),d.send()}catch(e){}},f=function(e){if(!b.lsDisabled)try{localStorage.setItem(o+":data",JSON.stringify(e))}catch(e){b.lsFail=!0}},m=d("UNID"),g=d("SWID"),p=i.protocol+"//cdn.unid.go.com",w=i.hostname.replace(/\.$/,"").toLowerCase(),b={cookiesDisabled:!t.cookieEnabled,framed:e.self!=e.top||i!==e.parent.location?1:0,fwid:d("mrmid"),host:w,href:i.href,incognito:!1,language:t.language,lsDisabled:!1,lsFail:!1,merlinId:"undefined"!=typeof Merlin&&Merlin.cookies?Merlin.cookies.M_ID:void 0,ref:n.referrer,rutma:d("__rutma"),swid:g,tzOffset:(new Date).getTimezoneOffset(),unid:d("UNID"),what:{}};if(e.unid={_data:b,clear:function(t){t&&(e.unid.clearCB=t),r("UNID");for(var n=i.host.split(":")[0].split("."),a="."+n.pop(),u=0;u<n.length;u++)a=n.pop()+a,n.length&&(a="."+a),r("UNID",void 0,a),d("UNID")||(n=[]);localStorage.removeItem(o+":abort"),localStorage.removeItem(o+":data"),delete unid._data.unid,delete unid.value,unid.new=!1,unid.silo=!1,unid._data.lsData={},unid.reason="cleared",S&&S.postMessage('{"action":"clear"}',p)},get:function(t){var n=d("UNID");return t&&(n?t(n):e.unid.cbGet=t),n},getData:function(t){var n={new:e.unid.new,reason:e.unid.reason,silo:e.unid.silo,unid:e.unid.value,done:e.unid.done};return t&&(n.done?t(n):e.unid.cbData=t),n},vconsent:function(t,n,i,a){var o=void 0===unid._data.lsData.VCONSENT?2:unid._data.lsData.VCONSENT;s(n);var d=b.vexpired?2:t?1:0;return o===d?(a&&a({unid:unid.value,reason:unid.reason,type:unid.type}),!1):(2!==d&&(1===d&&(unid.silo=!1),unid._data.lsData.VCONSENT=d,unid._data.lsData.VCONSENTTIME=n.getTime()),unid._data.user=i,unid._data.update=1,2===o&&0===d||0===o&&2===d||(unid._data.unid=void 0,delete unid._data.lsData.UNID),f(unid._data.lsData),u(),a&&(e.unid.cbData=a),!0)},new:!1,reason:m?"return":"new",silo:!1,value:m,version:"4.0.47",done:!1},b.version=e.unid.version,"1"==d("SWID_NT"))return unid.clear(),unid.reason="swid_nt",unid.done=!0,v("swid_nt");b.cookiesDisabled||(r(o,o),b.cookiesBlocked=!d(o),r(o));try{var D=o+":test";localStorage.setItem(D,1),localStorage.getItem(D),localStorage.removeItem(D)}catch(e){b.lsDisabled=!0}if(b.lsDisabled||(a=localStorage.getItem(o+":data")),"[object Object]"===a&&(localStorage.removeItem(o+":data"),a=void 0),a)try{a=JSON.parse(a)}catch(e){localStorage.removeItem(o+":data"),b.lsFail=!0}a=a||{},b.lsData=a,void 0!==a.VCONSENTTIME&&s(a.VCONSENTTIME);var h=n.createElement("iframe");h.id="unidFrame",h.style.display="none",h.src=p+"/inner/?v="+e.unid.version;var S,N=function(){n.body.appendChild(h),S=h.contentWindow};n.body&&N(),n.onreadystatechange=function(){if("complete"===n.readyState&&n.body&&(!b.merlinId&&"undefined"!=typeof Merlin&&Merlin.getCookies&&Merlin.getCookies(function(e){e&&e.M_ID&&(b.merlinId=e.M_ID)}),S||N(),"MutationObserver"in e)){var t=new MutationObserver(function(i){i.forEach(function(i){var a,o=i.addedNodes[0];if(o&&((a=o.childNodes)[0]&&Array.prototype.slice.call(a).filter(function(e){return!!e.id&&"unidFrame"==e.id}).length)){t.disconnect();var d=n.querySelector("#unidFrame"),r=h&&h.parentNode?h.parentNode:null;r&&(r.removeChild(d),N())}else e.setTimeout(function(){t.disconnect()},2e3)})});t.observe(n.body,{childList:!0,subtree:!1,attributes:!1})}};var I=n.querySelector('script[src*="/js/unid.min.js"]');I&&(b.client=I.getAttribute("data-client"),b.vrequired=!!I.getAttribute("data-vrequired")),n.dispatchEvent(new CustomEvent("unid.ready")),h.onload=function(){!function(e){try{var t=window.RequestFileSystem||window.webkitRequestFileSystem;if(t)t(window.TEMPORARY,100,function(){e()},function(){b.incognito=!0,e()});else{if(!window.indexedDB)throw 1;sessionStorage.setItem(o,o),sessionStorage.removeItem(o),e()}}catch(t){b.incognito=!0,e()}}(u)};var y=function(t){if(t.origin===p){var a={};try{a=JSON.parse(t.data)}catch(t){return}var o=a.data,u=a.action;if("state"===u){if(h.classList.add("unid_"+o),"cleared"===o&&e.unid.clearCB)return e.unid.clearCB();if("done"===o)return unid.done=!0,c();if("swid_nt"===o)return unid.clear(),unid.reason=o,v(o);if("daa_optout"===o)return unid.clear(),unid.reason=o,v(o);if("denied"===o)return unid.new=!1,unid.reason=o,v(o);if("backoff"===o)return l(o);if(/error_/.test(o))return l("error",Number(o.replace("error_","")));"unknown"===o&&function(){if(!localStorage||!localStorage.getItem("com.go.unid:unknown")){localStorage.setItem("com.go.unid:unknown",1);var t=new(e.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");t.open("POST",e.location.protocol+"//unid.go.com/unknown",!0),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(JSON.stringify({cn:document.cookie.replace(/=[^;]*/g,""),h:i.hostname,href:i.href,r:n.referrer}))}}()}else if("store"===u)unid._data.lsData=o,f(o);else if("log"===u)console.log(o);else if("reason"===u)unid.reason=o,"new"===o?unid.new=!0:"silo"===o?unid.silo=!0:"sync"===o&&(unid.new=!1,unid.silo=!1);else if("unid"===u){if(o){for(var s=i.host.split(":")[0].split("."),m="."+s.pop(),g=0;g<s.length;g++)m=s.pop()+m,s.length&&(m="."+m),r("UNID",o,m),d("UNID")===o&&(s=[]);r("UNID",o),h.classList.add("unid_allowed"),h.setAttribute("data-unid",o)}unid.new="sync"!==unid.reason&&o&&o!==e.unid.value,e.unid.value=o,e.unid._data&&(e.unid._data.unid=e.unid.value)}}};e.addEventListener?addEventListener("message",y,!1):attachEvent("onmessage",y)}}(window,navigator,document,window.location);
