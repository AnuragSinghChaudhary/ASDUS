!function($){var wds_corporate_load_more_anchor="#wds-corporate-newsroom-load-more",wds_corporate_search_datepicker=".jquery-ui-datepicker",wds_corporate_newsroom_ajax_data={action:"wds_corporate_newsroom_load_more",wp_nonce:archive_discovery_newsroom.ajax_wds_corporate_newsroom_ajax,page:2};function wds_corporate_newsroom_update(){var date_chosen,initial_anchor_val=$(wds_corporate_load_more_anchor).html();$(wds_corporate_load_more_anchor).html(archive_discovery_newsroom.loading),1==archive_discovery_newsroom.is_search?(wds_corporate_newsroom_ajax_data.s=archive_discovery_newsroom.s,wds_corporate_newsroom_ajax_data.post_type=archive_discovery_newsroom.post_type||""):wds_corporate_newsroom_ajax_data.post_type="discovery-newsroom",(date_chosen=$(wds_corporate_search_datepicker).datepicker().val())&&""!==date_chosen&&(delete wds_corporate_newsroom_ajax_data.year,wds_corporate_newsroom_ajax_data.datepicker=date_chosen);var paramObj,updatedParams=wds_get_search_params();if(wds_corporate_newsroom_ajax_data.year)updatedParams.Y=wds_corporate_newsroom_ajax_data.year,delete updatedParams.D,delete updatedParams.M;else if(wds_corporate_newsroom_ajax_data.datepicker){var date=wds_corporate_newsroom_ajax_data.datepicker.split("/");updatedParams.Y=date[2],updatedParams.D=date[1],updatedParams.M=date[0]}updatedParams.P=wds_corporate_newsroom_ajax_data.page,paramObj=updatedParams,history.replaceState(history.state,document.title,window.location.origin+window.location.pathname+"?"+$.param(paramObj,!0)),$.ajax({type:"post",url:archive_discovery_newsroom.ajax_url,cache:!1,data:wds_corporate_newsroom_ajax_data,dataType:"json",success:function(data,status){data.have_posts||$(".articles").append(archive_discovery_newsroom.no_posts),$(wds_corporate_load_more_anchor).html(initial_anchor_val),wds_corporate_newsroom_ajax_data.page=wds_corporate_newsroom_ajax_data.page+1,$(".articles").append(data.html),data.next_loop_have_posts||$(wds_corporate_load_more_anchor).addClass("hidden")},error:function(jqXHR,status,error){alert(archive_discovery_newsroom.was_error)}})}function wds_get_search_params(){return window.location.search?window.location.search.replace(/(^\?)/,"").split("&").map(function(n){return this[(n=n.split("="))[0]]=n[1],this}.bind({}))[0]:{}}$(document).ready(function(){if($(wds_corporate_search_datepicker).datepicker({dateFormat:"mm/dd/yy"}),window.location.search){var loadedParams=wds_get_search_params();if(loadedParams.Y)if(loadedParams.P&&(wds_corporate_newsroom_ajax_data.page=parseInt(loadedParams.P)+1),$(".wds-corporate-search-filter li a").removeClass("active"),loadedParams.Y&&loadedParams.M&&loadedParams.D){var dateString=loadedParams.M+"/"+loadedParams.D+"/"+loadedParams.Y;$(wds_corporate_search_datepicker).val(dateString),wds_corporate_newsroom_ajax_data.datepicker=dateString}else{var yearString=loadedParams.Y;wds_corporate_newsroom_ajax_data.year=yearString,"2015"!==yearString&&"2014"!==yearString&&"2013"!==yearString&&"2012"!==yearString||$(".wds-corporate-search-filter li a:contains('"+yearString+"')").addClass("active")}}$(wds_corporate_load_more_anchor).on("click",function(e){e.preventDefault(),wds_corporate_newsroom_update()}),$(wds_corporate_search_datepicker).on("change",function(){$(".articles").html(""),wds_corporate_newsroom_ajax_data.page=1,wds_corporate_newsroom_update(),$(wds_corporate_load_more_anchor).removeClass("hidden"),$(".wds-corporate-search-filter li a").removeClass("active")}).on("focus",function(){$(".wds-corporate-search-filter li a").removeClass("active"),$(this).addClass("active")}),$(".wds-corporate-search-filter li a").on("click",function(e){e.preventDefault(),$(this).hasClass("active")||($(".wds-corporate-search-filter li a").removeClass("active"),$(this).addClass("active"),delete wds_corporate_newsroom_ajax_data.datepicker,$(this).hasClass("all")?delete wds_corporate_newsroom_ajax_data.year:wds_corporate_newsroom_ajax_data.year=$(this).html(),$(".articles").html(""),wds_corporate_newsroom_ajax_data.page=1,$(wds_corporate_search_datepicker).val(""),wds_corporate_newsroom_update(),$(wds_corporate_load_more_anchor).removeClass("hidden"),$(wds_corporate_search_datepicker).removeClass("active"))})})}(jQuery);