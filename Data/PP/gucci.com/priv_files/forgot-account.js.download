define(["jquery","eventDispatcher","formEndpointValidation","ajaxConfig","overlay","handlebars"],function(e,t,n,r,i,s){function g(){c.prop("action",o),e(".recover-account",".sign-in-overlay").on("click",y),n.newInstance(c,S),e("#suggestedEmails").on("click",".button-copy-email",b)}function y(){p.data("redirect-url")&&(d=p.data("redirect-url"),c.find('input[name="referer"]').val(d)),p.data("save-item")&&(v=p.data("save-item"),c.find('input[name="productCode"]').val(v)),p.data("shopping-bag")&&(m=p.data("shopping-bag"),c.find('input[name="cartEntryNumber"]').val(m))}function b(t){t.preventDefault();var n=e(this).data("email");e(".input-login-email").val(n)}function w(t,n,r){var t=e(t).html(),i=s.compile(t),n=n;e(r).html(i(n)),e("#suggestedEmailsNotFound").addClass("hide"),e("#suggestedEmails").removeClass("hide"),e(".new-account-default-text").addClass("hide")}function E(){e("#suggestedEmails").addClass("hide"),e("#suggestedEmailsNotFound").removeClass("hide")}function S(t){if(t.status!="ok")return t.suggestedEmails!=null&&t.suggestedEmails.length>0?w("#suggestedEmailsTemplate",t,"#suggestedEmails .emails-list"):(e(".new-account-default-text").addClass("hide"),E()),i.close("#forgot-account-overlay"),t;if(t.suggestedEmails==null)var n=0;else var n=t.suggestedEmails;window.location=hybris.contextPath+a+"?suggestedEmails="+n}var o=r.getRemoteService("FORGOT-ACCOUNT-ENDPOINT"),u="#forgot-account-overlay",a="/signIn",f=".forgot-account-overlay",l=e(".forgot-account-overlay-main-content",f),c=e(".forgot-account-form",f),h=e("#forgot-account-form"),p=e("#form-create-account"),d="",v="",m="";return{load:function(){function e(){}g(),t.dispatchAndListen("forgotAccount",e)}}});