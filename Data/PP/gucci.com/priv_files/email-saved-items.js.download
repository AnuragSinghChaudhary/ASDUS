define(["jquery","eventDispatcher","ajaxConfig","overlay","formEndpointValidation","os"],function(e,t,n,r,i,s){function f(){u.prop("action",o),i.newInstance(u,l)}function l(e){return r.close("#email-overlay"),e}function c(){a&&e(".email-overlay-form-input",e("#email-overlay")).is(":focus")&&u.submit()}function h(){e(".email-overlay-form-send-button",e("#email-overlay")).bind("click touchend",c)}var o=n.getRemoteService("SAVED-ITEMS-EMAIL-ENDPOINT"),u=e(".email-overlay-form:not(.email-store-overlay-form)"),a=s.isIOSDevice;return{load:function(){function e(){}f(),h(),t.dispatchAndListen("emailSavedItems",e)}}});