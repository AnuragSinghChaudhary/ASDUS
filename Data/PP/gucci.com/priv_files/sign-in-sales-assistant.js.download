define(["jquery","eventDispatcher","select","formValidation","ajaxConfig","ajaxLoader"],function(e,t,n,r,i,s){function l(){f.selectric("init")}function c(){r.newFormValidate(e(o)),e(".sign-in-sa-content input").bind("change",function(){e(this).val()!==undefined&&e(this).val()!==""&&e(this).removeClass("error")}),e(u).bind("change",p),e(u).change(),e(".full-ssa-logged-out-cta").bind("click",h)}function h(){e(this).closest("form").submit()}function p(){var t={email:e(this).val()},n=s.endPointAccess(a,t,"POST");n.done(function(t){var n=t;f.find("option").not('[value=""]').remove();if(n.userType=="ssa"&&n.stores!==undefined&&n.stores.length>0){var r=n.stores.length==1;n.stores.map(function(t){e("<option>",{value:t.storeCode,selected:r}).text(t.name).appendTo(f)})}f.selectric("init").selectric("refresh")}),n.fail(function(e,t,n){console.error("The following error occurred: "+t,n)})}var o="#loginSAForm",u=".sign-in-form input[name=email]",a="SALES-ASSISTANT-STORES",f=e("#sales-assistant-stores");return{load:function(){function e(){}l(),c(),t.dispatchAndListen("signInSalesAssistant",e)}}});