(function(a){a.fn.extend({autocomplete:function(b,c){var d=typeof b=="string";c=a.extend({},a.Autocompleter.defaults,{url:d?b:null,data:d?null:b,delay:d?a.Autocompleter.defaults.delay:10,max:c&&!c.scroll?10:150},c);c.highlight=c.highlight||function(e){return e};c.formatMatch=c.formatMatch||c.formatItem;return this.each(function(){new a.Autocompleter(this,c)})},result:function(b){return this.bind("result",b)},search:function(b){return this.trigger("search",[b])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(b){return this.trigger("setOptions",[b])},unautocomplete:function(){return this.trigger("unautocomplete")}});a.Autocompleter=function(q,g){var c={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var b=a(q).attr("autocomplete","off").addClass(g.inputClass);var o;var w="";var r=a.Autocompleter.Cache(g);var e=0;var A;var E={mouseDownOnSelect:false};var x=a.Autocompleter.Select(g,q,d,E);var D;a.browser.opera&&a(q.form).bind("submit.autocomplete",function(){if(D){D=false;return false}});b.bind((a.browser.opera?"keypress":"keydown")+".autocomplete",function(G){A=G.keyCode;e=e==0?1:e;switch(G.keyCode){case c.UP:G.preventDefault();if(x.visible()){x.prev()}else{z(0,true)}break;case c.DOWN:G.preventDefault();if(x.visible()){x.next()}else{z(0,true)}break;case c.PAGEUP:G.preventDefault();if(x.visible()){x.pageUp()}else{z(0,true)}break;case c.PAGEDOWN:G.preventDefault();if(x.visible()){x.pageDown()}else{z(0,true)}break;case g.multiple&&a.trim(g.multipleSeparator)==","&&c.COMMA:case c.TAB:case c.RETURN:a("#as-submittype").val("entered");if(d()){G.preventDefault();D=true;return false}break;case c.ESC:x.hide();break;default:clearTimeout(o);o=setTimeout(z,g.delay);break}}).focus(function(){e++}).blur(function(){e=0;if(!E.mouseDownOnSelect){y()}}).click(function(){if(e++>1&&!x.visible()){z(0,true)}}).bind("search",function(){var G=(arguments.length>1)?arguments[1]:null;function H(L,K){var I;if(K&&K.length){for(var J=0;J<K.length;J++){if(K[J].result.toLowerCase()==L.toLowerCase()){I=K[J];break}}}if(typeof G=="function"){G(I)}else{b.trigger("result",I&&[I.data,I.value])}}a.each(l(b.val()),function(I,J){f(B(J),H,H)})}).bind("flushCache",function(){r.flush()}).bind("setOptions",function(){a.extend(g,arguments[1]);if("data" in arguments[1]){r.populate()}}).bind("unautocomplete",function(){x.unbind();b.unbind();a(q.form).unbind(".autocomplete")}).bind("webkitspeechchange",function(){z(0,true)});function d(){var H=x.selected();if(!H||H.href==null){return false}a("#fk-header-search-form").attr("action",H.href);var G=H.result;w=G;if(g.multiple){var I=l(b.val());if(I.length>1){G=I.slice(0,I.length-1).join(g.multipleSeparator)+g.multipleSeparator+G}G+=g.multipleSeparator}b.val(G);C();a("#as").val("on");a("#fk-menuSelItem").text(H.displayVertical);m(H.param);a("#fk-header-search-form").submit();return true}function F(G,H){a("<input>").attr({type:"hidden",name:G,value:H}).addClass("eparams").appendTo(a("#fk-header-search-form"))}function m(I){a(".eparams").remove();if(I!=null){for(var H in I){if(H=="sid"){var G=document.getElementById("header_sid");if(G){G.name="sid";G.value=I[H]}else{F(H,I[H])}}else{F(H,I[H])}}}}function z(I,H){if(A==c.DEL){x.hide();return}var G=b.val();if(!H&&G==w){return}w=G;G=B(n(G));if(G.length>=g.minChars){b.addClass(g.loadingClass);if(!g.matchCase){G=G.toLowerCase()}f(G,p,C)}else{t();x.hide()}}function l(H){if(!H){return[""]}var I=H.split(g.multipleSeparator);var G=[];a.each(I,function(J,K){if(a.trim(K)){G[J]=a.trim(K)}});return G}function n(G){if(!g.multiple){return G}var H=l(G);return H[H.length-1]}function v(G,H){if(g.autoFill&&(n(b.val()).toLowerCase()==G.toLowerCase())&&A!=c.BACKSPACE){b.val(b.val()+H.substring(n(w).length));a.Autocompleter.Selection(q,w.length,w.length+H.length)}}function y(){clearTimeout(o);o=setTimeout(C,200)}function C(){var G=x.visible();x.hide();clearTimeout(o);t();if(g.mustMatch){b.search(function(H){if(!H){if(g.multiple){var I=l(b.val()).slice(0,-1);b.val(I.join(g.multipleSeparator)+(I.length?g.multipleSeparator:""))}else{b.val("")}}})}if(G){a.Autocompleter.Selection(q,q.value.length,q.value.length)}}function p(H,G){if(G&&G[1].length&&e){if(G[1].length==0){C();return}t();x.display(G,H);x.show()}else{C()}}function f(I,K,H){I=B(n(I));var G=r.load(I);if(G){K(I,G);return}if(!g.matchCase){I=I.toLowerCase()}var J="";if(J&&J.length){K(I,J)}else{if((typeof g.url=="string")&&(g.url.length>0)){var L={vertical:a("#fk-vertical-auto-suggestions").val(),"ab-bucket":a("#ab_buk").val()};a.each(g.extraParams,function(M,N){L[M]=typeof N=="function"?N():N});a("#as-show").val("off");a.ajax({mode:"abort",port:"autocomplete"+q.name,dataType:"json",url:g.url,data:a.param(a.extend({query:I},L)),timeout:3000,success:function(N){if(N){for(var M in N){r.add(M,N[M])}K(I,N[I])}}})}else{x.emptyList();H(I)}}}function B(G){G=G.replace(/^\s+|\s+$/g,"");G=G.replace(/\s+/g," ");return G}function u(M,L){var H=[];var K=L;var G=L[M][1];var J=G;for(var I=0;I<J.length;I++){var N=J[I];if(N){H[H.length]={data:N,value:N,result:N}}}return H}function t(){b.removeClass(g.loadingClass)}};a.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"fk-ac-results",loadingClass:"ac_loading",minChars:1,delay:200,matchCase:false,matchSubset:false,matchContains:false,cacheLength:20,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(b){return b[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(c,b){return c.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"$1")},scroll:true,scrollHeight:180};a.Autocompleter.Cache=function(o){var d={};var c=0;var b=new Array();function g(r,q){if(!o.matchCase){r=r.toLowerCase()}var p=r.indexOf(q);if(o.matchContains=="word"){p=r.toLowerCase().search("\\b"+q.toLowerCase())}if(p==-1){return false}return p==0||o.matchContains}function m(r,p){if(!d[r]){c++}d[r]=p}function e(p){if(!(a.inArray(p,b)>-1)){b.push(p)}}function n(p){return a.inArray(p,b)>-1}function f(){if(!o.data){return false}var q={},p=0;if(!o.url){o.cacheLength=1}q[""]=[];for(var t=0,r=o.data.length;t<r;t++){var w=o.data[t];w=(typeof w=="string")?[w]:w;var v=o.formatMatch(w,t+1,o.data.length);if(v===false){continue}var u=v.charAt(0).toLowerCase();if(!q[u]){q[u]=[]}var x={value:v,data:w,result:o.formatResult&&o.formatResult(w)||v};q[u].push(x);if(p++<o.max){q[""].push(x)}}a.each(q,function(y,z){o.cacheLength++;m(y,z)})}setTimeout(f,25);function l(){d={};c=0}return{flush:l,add:m,populate:f,addQList:e,loadQList:n,load:function(u){if(d[u]){return d[u]}if(!o.cacheLength||!c){return null}if(!o.url&&o.matchContains){var t=[];for(var p in d){if(p.length>0){var v=d[p];a.each(v,function(w,q){if(g(q.value,u)){t.push(q)}})}}return t}else{if(d[u]){return d[u]}else{if(o.matchSubset){for(var r=u.length-1;r>=o.minChars;r--){var v=d[u.substr(0,r)];if(v){var t=[];a.each(v,function(w,q){if(g(q.value,u)){t[t.length]=q}});return t}}}}}return null}}};a.Autocompleter.Select=function(e,p,r,y){var o={ACTIVE:"ac_over"};var q,l=-1,A,t="",B=true,c,w,x,f;function v(){if(!B){return}f=new FKART.ui.Tooltip({nearElement:a(".search-bar-text"),cssClass:e.resultsClass,showCloseIcon:false,extraHoverArea:true,align:"left",inside:".search-bar-text-wrap",fadeAnimation:false,message:a("<div><div></div></div>")});c=f.getContainer();w=a("<table width='100%' cellpadding='0' cellspacing='0'></table>");if(e.width>0){c.css("width",e.width)}B=false}function z(D){var C=D.target;while(C&&C.tagName!="LI"){C=C.parentNode}if(!C){return[]}return C}function n(D){q.slice(l,l+1).removeClass(o.ACTIVE);m(D);if(l==-1){a("#fk-top-search-box").val(t);a("#fk-top-search-box").focus();return}var G=q.slice(l,l+1).addClass(o.ACTIVE);var C=a.data(G[0],"ac_data");var F=C.displayVertical||"All Categories";if(C.href==null&&D!=0){n(D);return}a("#fk-top-search-box").val(C.result);a("#fk-menuSelItem").text(F);if(e.scroll){var E=0;q.slice(0,l).each(function(){E+=this.offsetHeight});if((E+G[0].offsetHeight-x.scrollTop())>x[0].clientHeight){x.scrollTop(E+G[0].offsetHeight-x.innerHeight())}else{if(E<x.scrollTop()){x.scrollTop(E)}}}}function m(C){l+=C;if(l<0){l=-1}else{if(l>=q.size()){l=0}}}function g(C,F,D){C=a.trim(C);var E=new RegExp(C,"gi");F=F.replace(E,function(G){return'<span class="'+D+'">'+G+"</span>"});return F}function u(D,K,E,H,G){var C,J;for(var F=0;F<E.length;F++){if(a("#ab_buk").val()=="new-new"){catHTML='&nbsp;&nbsp;&nbsp;&nbsp;in <span class="highlight-suggestion-vertical">'+E[F][0]+"</span>"}else{catHTML=g(D,K,"highlight-suggestion")+' in <span class="highlight-suggestion-vertical">'+E[F][0]+"</span>"}if(E[F][2]){J=E[F][2]}else{J="/flipkart/pr"}var I=a("<li/>").html(catHTML).attr("data-otracker","as-incategory").appendTo(H)[0];a.data(I,"ac_data",{href:J,result:K,value:catHTML,displayVertical:E[F][0],param:{sid:E[F][1],"as-pos":(G+1)+"_"+(F+1)+"_ic_"+D}})}}function b(D,K,I){if(K.length>0){var C="header";var L=a("<li/>").html("<span class='text'> Popular Products </span>").addClass(C).appendTo(I)[0];a.data(L,"ac_data",{href:null,result:null,value:null,param:{}})}var H="";for(var F=0;F<K.length;F++){var E=a("<div/>").addClass("product-autosuggest");var N=a("<div/>").addClass("image").append(a("<img/>").attr("src",K[F][2]));E.append(N);var M=a("<span/>").addClass("title").html(g(D,K[F][1],"highlight-suggestion")+"<br>");var J=a("<span/>").addClass("price").text("Rs. "+K[F][3]);M.append(J);E.append(M);var G=E.clone();var L=a("<li/>").html(G).attr("data-otracker","as-product").appendTo(I)[0];if(K[F][4]){H=K[F][4]}else{H="/item/"+K[F][0]}a.data(L,"ac_data",{href:H,result:K[F][1],value:G,param:{"as-pos":"p_"+(F+1)+"_"+D,pid:K[F][0]}})}}function d(){w.empty();var N=A;var G=a("<tbody>");var I=a("<tr>");var L=a("<td>");var K=a("<ul id='list_"+j+"' />").appendTo(L).mouseover(function(Q){if(z(Q).nodeName&&z(Q).nodeName.toUpperCase()=="LI"){l=a("ul").children().removeClass(o.ACTIVE).index(z(Q));a(z(Q)).addClass(o.ACTIVE)}}).click(function(Q){a(z(Q)).addClass(o.ACTIVE);a("#as-submittype").val("clicked");var R=a(z(Q)).index()+1;a("#as-grouprank").val(R);r();p.focus();return true}).mousedown(function(){y.mouseDownOnSelect=true}).mouseup(function(){y.mouseDownOnSelect=false});var J=N[1];var D=N[1];var H=N[2];var O=N[3];var C=a("#fk-search-select :selected").attr("data-storeurl");for(var F=0;F<D.length;F++){if(!J[F]){continue}var E=e.formatItem(J[F],F+1,12,J[F],t);E=g(t,D[F],"highlight-suggestion");if(E===false){continue}var P=F%2==0?"ac_even":"ac_odd";var M=a("<li/>").html(e.highlight(E,t)).addClass(P).appendTo(K)[0];a.data(M,"ac_data",{href:C,result:D[F],displayVertical:"All Category",value:E,param:{"as-pos":(F+1)+"_q_"+t}});if(a("#ab_buk").val()=="new-new"){u(t,D[F],H[F],K,F)}else{if(a("#ab_buk").val()=="new-old"){u(t,D[F],H[F],K,F)}else{if(F==0){u(t,D[0],H,K,F)}}}}b(t,O,K);L.appendTo(I);I.appendTo(G);G.appendTo(w);w.appendTo(c.find(".fk-ui-tooltip-content"));q=w.find("li");if(a.fn.bgiframe){x.bgiframe()}}return{display:function(D,C){v();A=D;t=C;d()},next:function(){n(1)},prev:function(){n(-1)},pageUp:function(){if(l!=0&&l-8<0){n(-l)}else{n(-8)}},pageDown:function(){if(l!=q.size()-1&&l+8>q.size()){n(q.size()-1-l)}else{n(8)}},hide:function(){c&&c.hide();q&&q.removeClass(o.ACTIVE);l=-1},visible:function(){return c&&c.is(":visible")},current:function(){return this.visible()&&(q.filter("."+o.ACTIVE)[0]||e.selectFirst&&q[0])},show:function(){var F=a(p).offset(),C=parseInt(c.css("border-right-width"))+parseInt(c.css("border-left-width"));a("#as-show").val("on");c.css({width:typeof e.width=="string"||e.width>0?e.width:a(p).outerWidth()-C,top:F.top+p.offsetHeight,left:F.left-parseInt(c.css("border-left-width"))});f.show();if(e.scroll){x.scrollTop(0);x.css({maxHeight:e.scrollHeight,overflow:"auto"});if(a.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var D=0;q.each(function(){D+=this.offsetHeight});var E=D>e.scrollHeight;x.css("height",E?e.scrollHeight:D);if(!E){q.width(x.width()-parseInt(q.css("padding-left"))-parseInt(q.css("padding-right")))}}}},selected:function(){var C=q&&q.filter("."+o.ACTIVE).removeClass(o.ACTIVE);if(C&&C.length){var D=q.index(C)+1}return C&&C.length&&a.data(C[0],"ac_data")},emptyList:function(){x&&x.empty()},unbind:function(){c&&c.remove()}}};a.Autocompleter.Selection=function(d,e,c){if(d.createTextRange){var b=d.createTextRange();b.collapse(true);b.moveStart("character",e);b.moveEnd("character",c);b.select()}else{if(d.setSelectionRange){d.setSelectionRange(e,c)}else{if(d.selectionStart){d.selectionStart=e;d.selectionEnd=c}}}d.focus()}})(jQuery);(function(a){a.fn.menuAim=function(b){var c=a(this),r=null,f=[],v=null,q=null,u=0,w=a.extend({rowSelector:"> li",submenuSelector:"*",tolerance:75,activate:a.noop,deactivate:a.noop},b);var m=3,e=300;var d=function(x){f.push({x:x.pageX,y:x.pageY});if(f.length>m){f.shift()}};var p=function(){if(u){a(document).unbind("mousemove",d);u=0}if(q){clearTimeout(q)}if(r){w.deactivate(r);r=null}};var n=function(){if(!u){a(document).mousemove(d);u=1}if(q){clearTimeout(q)}g(this)};var l=function(x){if(x==r){return}if(r){w.deactivate(r)}w.activate(x);r=x};var g=function(y){var x=o();if(x){q=setTimeout(function(){g(y)},x)}else{l(y)}};var o=function(){if(!r||!a(r).is(w.submenuSelector)){return 0}var z=c.offset(),G={x:z.left+c.outerWidth(),y:z.top-w.tolerance},A={x:z.left+c.outerWidth(),y:z.top+c.outerHeight()+w.tolerance},B=f[f.length-1],F=f[0];if(!B){return 0}if(!F){F=B}if(F.x<z.left||F.x>A.x||F.y<z.top||F.y>A.y){return 0}if(v&&B.x==v.x&&B.y==v.y){return 0}function C(I,H){return(H.y-I.y)/(H.x-I.x)}var D=C(B,G),y=C(B,A),x=C(F,G),E=C(F,A);if(D<x&&y>E){v=B;return e}v=null;return 0};var t=function(){c.mouseleave(p).find(w.rowSelector).mouseenter(n)};t();return this}})(jQuery);function affixedScroller(a){(throttle(function(){$(window).scroll(function(){var b=$(window).scrollTop()+a.edgeGap,d=[],e=[],c;if(($(document).height()-($(".fk-mainfooter").height()+$(".refiner-widget").height()+a.edgeGap))-$(window).scrollTop()<30){$(".refiner-widget").removeClass("fixed").addClass("absolute").css({top:"auto",bottom:"20px"})}else{if(b>a.affixAfter){$(".refiner-widget").removeClass("relative absolute").addClass("fixed").css({top:"80px",bottom:"auto"})}else{$(".refiner-widget").removeClass("fixed").addClass("relative").css({top:"0px",bottom:"auto"})}}$("."+a.sectionClass).each(function(){d.push($("#"+$(this).attr("id")))});$.each(d,function(){var f=$(this);if(f.offset().top<$(window).scrollTop()+140){e.push(f)}});if(e.length){c=e.length-1;$("."+a.pointerClass).each(function(f){var g=$(this);if(f==c){g.addClass(a.styleClass);if(!g.attr("data-tracked")){if(typeof trackFacet!="undefined"){trackFacet("scroll")}if(typeof tracking_skipScroll!="undefined"&&!tracking_skipScroll){g.attr("data-tracked",true)}}}else{g.hasClass(a.styleClass)&&g.removeClass(a.styleClass)}})}})},100))()}(function(a){a.fn.scrollToView=function(f){if(this.length==0){return this}var r={scrollTo:"auto",edge:5,easing:300};var y=a.extend({},r,f),b=y.scrollTo,n=y.edge,v=y.easing,l=y.throttle||16,g=a(window),o=a(this[0]),u=0;b=b?b.toString().toLowerCase():"auto";n=isNaN(parseInt(n))?r.edge:n;v=isNaN(parseInt(v))?r.easing:v;var q=new function(){this.top=g.scrollTop();this.bottom=this.top+g.height()};var x=new function(){this.top=o.offset().top;this.bottom=this.top+o.outerHeight(true)};var e=[x.top,x.bottom,q.top,q.bottom];var t=Math.min.apply(null,e);var c=Math.max.apply(null,e);if((t==q.top&&c==q.bottom)||o.is(":hidden")){this.trigger({type:"onScrolledToView"});return this}if(!isNaN(parseInt(b))){u=parseInt(b)-n}else{if(b=="top"){u=x.top-n}else{if(b=="bottom"){u=x.bottom+n}else{if((t==x.top&&c==x.bottom)||c==q.bottom){u=x.top-n}else{if(c==x.bottom){u=x.bottom-g.height()+n}}}}}var p=this,m=false,d,w;a("html, body").animate({scrollTop:u},v,"swing",function(){if(!m){p.trigger({type:"onScrolledToView"});m=true}});return this}})(jQuery);var validPhonenumberPattern=/^[\+\*#0-9\-,\s/]*[0-9]$/;var CONFIG=CONFIG||{};var FKART=FKART||{};FKART.NS=function(e,c){var d=e.split("."),b=(typeof c==="object")||FKART,a;if(window[d[0]]===b){d=d.slice(1)}for(a=0;a<d.length;a+=1){if(typeof b[d[a]]==="undefined"){b[d[a]]={}}b=b[d[a]]}return b};FKART.JSON={escapeStr:function(a){return a.replace('"','\\"')},encode:function(a){if(!a){return"null"}switch(a.constructor){case String:return'"'+escape(a)+'"';case Number:return'"'+a.toString()+'"';case Boolean:return a?"true":"false";case Array:var b=[];for(i in a){b.push(FKART.JSON.encode(a[i]))}return"["+b.join(",")+"]";case Object:var b=[];for(k in a){b.push(FKART.JSON.encode(k)+":"+FKART.JSON.encode(a[k]))}return"{"+b.join(",")+"}";default:return"null"}},decode:function(d){try{var o=eval("("+d+")");return o}catch(e){}return null}};function getDate(){var b=new Date();var a=b.getDate();var c=b.getMonth()+1;var d=b.getFullYear();if(a<10){a="0"+a}if(c<10){c="0"+c}b=a+"/"+c+"/"+d;return b}function ajaxRequest(e,a,c,d){function b(f){if(f){if(f.status=="ok"){if(typeof(d.success)=="function"){d.success(f.data)}}else{if(typeof(d.error)=="function"){d.error(f.msg,f.data)}}return}ajaxFailed()}$.ajax({type:e,url:a,success:b,error:ajaxFailed,data:c,dataType:"json"})}function ajaxRequestNotifyNew(f,a,b,d,e){function c(g){if(g){if(parseInt(g.STATUS_CODE)===200){if(typeof(e.success)=="function"){e.success(g.data)}}else{if(typeof(e.error)=="function"){e.error(g.msg,g.data)}}return}ajaxFailed()}$.ajax({type:f,url:a,headers:b,success:c,error:ajaxFailed,data:d,dataType:"json"})}function ajaxRequestNew(e,a,c,d){function b(f){if(f){f=f.replace(/^\s*/,"").replace(/\s*$/,"");f=FKART.JSON.decode(f);processData(d,f);return}ajaxFailed()}if(typeof(d.failure)=="function"){return $.ajax({type:e,url:a,success:b,error:d.failure,data:c,dataType:"text"})}else{return $.ajax({type:e,url:a,success:b,error:ajaxFailed,data:c,dataType:"text"})}}function processData(b,a){if(a){if(a.status=="ok"){if(typeof(b.success)=="function"){b.success(a.data)}}else{if(typeof(b.error)=="function"){b.error(a.msg,a.data)}}}}function ajaxRequestSimple(d,a,b,c){if(typeof(c.success)!="function"){c.success=function(e){}}if(typeof(c.failure)=="function"){c.failure=ajaxFailed}$.ajax({type:d,url:a,success:c.success,error:c.failure,data:b})}function toUrlQueryString(b){var a=[];for(k in b){a.push(k+"="+encodeURIComponent(b[k]))}return a.join("&")}function Utf8encode(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a}function Utf8decode(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}function isEmailValid(g,d){var a="@";var b=".";var l="+";var f=g.indexOf(a);var c=g.length;var e=g.indexOf(b);if(g.indexOf(a)==-1){return false}if(g.indexOf(a)==-1||g.indexOf(a)==0||g.indexOf(a)==c){return false}if(g.indexOf(b)==-1||g.indexOf(b)==0||g.indexOf(b)==c){return false}if(g.indexOf(a,(f+1))!=-1){return false}if(g.substring(f-1,f)==b||g.substring(f+1,f+2)==b){return false}if(g.indexOf(b,(f+2))==-1){return false}if(g.indexOf(" ")!=-1){return false}if(g.indexOf(l)==0||g.indexOf(l)>(f-2)){return false}if(!d&&isEmailFlipkart(g)){return false}if(typeof is_email_vaild_new=="function"){return is_email_vaild_new(g)}if(typeof is_email_valid=="function"){return is_email_valid(g)}return true}function isEmailFlipkart(b){var a=b.lastIndexOf("@");tld=b.substring((1+a),(9+a)).toLowerCase();return((tld=="flipkart")||(tld=="flipcart"))}function is_email_valid(f){var e=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~`](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~`])*@(([a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])|[a-zA-Z0-9])(\.(([a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])|[a-zA-Z0-9]))+/;var g=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~`](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~`])*@\[?[0-9\.]+\]?$/;var d=/@\./;var c=/\.@/;var b=/\.\./;var a=/\.$/;if(d.test(f)){return false}if(c.test(f)){return false}if(b.test(f)){return false}if(a.test(f)){return false}if(e.test(f)){return true}if(g.test(f)){return true}return false}function isValidNumber(a){for(i=0;i<a.length;i++){ch=a.substring(i,i+1);if(ch<"0"||ch>"9"){return false}}return true}function isValidPhoneNumber(a){var b=validPhonenumberPattern.test(a);if(b){return true}else{return false}}function isEmailMobileNoValid(b){var a=/^(([a-zA-Z0-9])+([a-zA-Z0-9\.\+_-])*@([a-zA-Z0-9_-])+([a-zA-Z0-9\._-]+)+\.[a-zA-Z]{2,6})$|^([6-9][0-9]{9})$/;if(!a.test(b)){return false}if(isEmailFlipkart(b)){return false}return true}function isValidMobileNumber(a){var b=/^[6-9][0-9]{9}$/;if(!b.test(a)){return false}return true}function strip(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function ajaxFailed(){}var TextBox={_focus:function(b,a){if(b.value==a){b.value="";b.style.color="#000000"}},_blur:function(b,a){if(b.value==""){b.value=a;b.style.color="grey"}}};function generateSearchLink(a,c){var b=c.href+"?"+toUrlQueryString(a);c.setAttribute("href",b);return true}function setSessionCooke(a){var c=/^[a-zA-Z0-9]{52}$/;a=strip(a);var b=c.test(a);if(b!=false){return true}return false}if(typeof document.getElementsByClassName=="undefined"){document.getElementsByClassName=function(e){var a=this.all||this.getElementsByTagName("*");var d=new Array();var c=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)");for(var b=0;b<a.length;b++){if(c.test(a[b].className)){d[d.length]=a[b]}}return d}}if(typeof addEvent=="undefined"){function addEvent(e,d,b,a){a=a||false;if(e.addEventListener){e.addEventListener(d,b,false);return true}else{if(e.attachEvent){var c=e.attachEvent("on"+d,b);return c}else{e["on"+d]=b}}}}if(typeof removeEvent=="undefined"){function removeEvent(d,c,b,a){a=a||false;if(d.removeEventListener){d.removeEventListener(c,b,false)}else{if(d.detachEvent){d.detachEvent("on"+c,b)}else{delete d["on"+c]}}}}function updateQueryStringParameter(c,b,a){var d=new RegExp("([?|&])"+b+"=.*?(&|$)","i"),e=c.indexOf("?")!==-1?"&":"?";if(c.match(d)){return c.replace(d,"$1"+b+"="+encodeURIComponent(a)+"$2")}else{return c+e+b+"="+encodeURIComponent(a)}}function $dc(b,a){a=a||"div";var c=document.createElement(a);if(b){c.className=b}return c}FKART.NS("FKART.utils");FKART.utils.evalScript=function(c){var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.text=c;b.insertBefore(a,b.firstChild);b.removeChild(a)};FKART.utils.runSnippet=function(a,c){c=c||"script[type='text/javascript+"+a+"']";$(c).each(function(){var d=$(this);if(d.attr("data-src")){$script(d.attr("data-src"),b.curry(this))}else{b(this)}});function b(d){FKART.utils.evalScript(d.text||d.textContent||d.innerHTML);d.type=d.type+"-executed"}};FKART.utils.runOnload=function(a){FKART.utils.runSnippet("fk-onload",a)};FKART.utils.runWindowOnload=function(a){FKART.utils.runSnippet("fk-window-onload",a)};function _l(a){if(typeof console!="undefined"&&console.log){console.log(a)}return a}Function.prototype.curry=function(){var b=this,a=Array.prototype.slice.call(arguments);return function(){return b.apply(this,a.concat(Array.prototype.slice.call(arguments)))}};if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(a){return this.indexOf(a)===0}}function throttle(b,a){var c=null;return function(){var e=this,d=arguments;clearTimeout(c);c=setTimeout(function(){b.apply(e,d)},a)}}var require_module=new function(){var a={};function f(m,l){a.js=m;a.css=l}function e(m,l){a.js[m]&&$script(a.js[m].url,l)}function c(l){a.css[l]&&!b(l)&&d(a.css[l].url)}function b(l){return !!$(document.getElementsByTagName("link")).filter("[href='"+a.css[l].url+"']").length}function d(l){var m=document.createElement("link");m.type="text/css";m.rel="stylesheet";m.href=l;document.getElementsByTagName("head")[0].appendChild(m)}function g(n,l){var m=document.createElement("script");m.type="text/javascript";m.onload=l;m.src=n;document.getElementsByTagName("head")[0].appendChild(m)}return{init:f,css:c,js:e,loadJS:g}};function addOnload(a){$(document).ready(a)}function addWindowOnload(a){$(window).load(a)}(function(){$(document).ajaxError(function(g,d,f,c){var a=f.url.replace(/([&]?__FK[=][^&]+)/,""),b;_l("Ajax error for "+a);if(d.status===0){_l("Could not connect, verify network");return}b="HTTP "+d.status+" ("+c+")";_l(b);$.ajax({url:"/ajaxlog/error",global:false,data:{message:b,url:a},type:"post"})})})();FKART.linkTracking=new function(){var c=null;function a(d){c=d}function b(){$(".required-tracking[data-tracking-id]").each(function(){var e=$(this);var d=[];c&&d.push(c);e.attr("data-tracking-id");d.push(e.attr("data-tracking-id"));e.find("a[href][data-tracking-id]").each(function(){$(this).attr("data-tracking-id")&&d.push($(this).attr("data-tracking-id"));var g=d.join("_");var f=$(this).attr("href");!/^#|^javascript[:]/.test(f)&&$(this).attr("href",updateQueryStringParameter(f,"otracker",g));d.pop()});e.removeClass("required-tracking")})}return{setContext:a,parse:b}};FKART.parseModuleLinkTracking=function(){FKART.linkTracking.parse()};function setIframeProperty(d,c){var b=document.getElementById(d);if(b){for(var a in c){b[a]=c[a]}}}function redir(a){window.location=a}function showHelp(a){var b=window.open(a,"FlipkartHelp","width=500,height=400,resizable=1,scrollbars=1,status=1,toolbar=0,left="+((screen.width/2)-250)+",top="+((screen.height/2)-200));b.focus();return false}function hide(a){if(a){a.style.display="none"}}function show(a){if(a){a.style.display=""}}function json_decode(a){return FKART.JSON.decode(a)}function h(a){if(typeof(a)!=="undefined"&&a!=null&&a!=""){a=a.replace("&","&amp;");a=a.replace('"',"&quot;").replace("'","&#039;");a=a.replace("<","&lt;").replace(">","&gt;")}return a}FKART.utils.localStorage={setObject:function(a,b){if(!window.localStorage||!a||!b){return}localStorage.setItem(a,JSON.stringify(b))},getObject:function(a){if(!window.localStorage||!a){return}var b=localStorage.getItem(a);if(b){return JSON.parse(b)}},removeObject:function(a){if(!window.localStorage||!a){return}localStorage.removeItem(a)}};FKART.utils.validate=function(){var a=function(b){var d=$(b);var c={el:d};if(typeof b==="string"&&d.length==0){return c}c.val=d.val();if($.trim(c.val)==""){c.msg=d.data("error_msg");return c}return c};return{pincode:function(b){var c=a(b);if(!c.hasOwnProperty("msg")){if(!isValidNumber(c.val)||c.val.length!=6){return c.el.data("nan")}var d=/^[1-9]{1}[0-9]{2}\s{0,1}[0-9]{3}$/;if(!d.test(c.val)){return c.el.data("format")}return true}else{return c.msg}},phoneNumber:function(b){var c=a(b);if(!c.hasOwnProperty("msg")){var f=/^[0-9]{10,11}$/;if(c.val==""){return c.el.data("error_msg")}var d=c.val.split(",");for(var e=0;e<d.length;e++){if(!isValidPhoneNumber(d[e])||!f.test(d[e].replace(/[^0-9]/g,""))){return c.el.data("invalid")}}return true}else{return c.msg}}}}();window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1000/60)}}();window.ctrls={};function register_controller(a,b){window.ctrls[a]=b}function init_controllers(a){a=a||window.ctrls;$("div[data-ctrl]").each(function(){var c=$(this).attr("data-ctrl");if(a[c]){var b=a[c];b.apply(window,[this]);$(this).removeAttr("data-ctrl")}})}FKART.urlParser=function(a){var l=window.location.href;if(a&&typeof a==="string"){l=a}var g=l.split("?")[1];var d={};if(g){var e=g.split("&");for(var f=0;f<e.length;f++){var c=e[f].split("=");var m=c[0];var b=c[1];(m.length)&&(b!=null)&&(d[m]=b)}}return{get:function(n){return(n?decodeURIComponent(d[n]):d)}}};function stripslashes(a){return(a+"").replace(/\\(.?)/g,function(c,b){switch(b){case"\\":return"\\";case"0":return"\u0000";case"":return"";default:return b}})}(function(){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Date.prototype.getDayName=function(){return b[this.getDay()]};Date.prototype.getShortDayName=function(){return a[this.getDay()]};Date.prototype.getDateSuffix=function(){var c=this.getDate();return(c>20||c<10)?([false,"st","nd","rd"])[(c%10)]||"th":"th"}})();FKART.utils.isASCII=function(a){return/^[\x00-\x7F]*$/.test(a)};(function(){var b=[].slice,c={};var a=window.EventBus={publish:function(f){if(typeof f!=="string"){throw new Error("Invalid Topic")}var e=b.call(arguments,1),n,m,l,g=0,d;if(!c[f]){return true}n=c[f].slice();for(l=n.length;g<l;g++){m=n[g];d=m.callback.apply(m.context,e);if(d===false){break}}return d!==false},subscribe:function(d,f,o){if(typeof d!=="string"){throw new Error("Invalid Topic")}if(arguments.length===2){o=f;f=null}var m,n=d.split(/\s/),l=n.length,g;for(m=0;m<l;m++){d=n[m];g=false;if(!c[d]){c[d]=[]}var e={callback:o,context:f};if(!g){c[d].push(e)}}return o},unsubscribe:function(d,f,l){if(typeof d!=="string"){throw new Error("Invalid Topic")}if(arguments.length===2){l=f;f=null}if(!c[d]){return}var g=c[d].length,e;for(e=g-1;e>=0;e--){if(c[d][e].callback===l){if(c[d][e].context===f){c[d].splice(e,1)}}}}}})();(function(){var a={};var b=window.HooksManager={register_hook:function(c,f){if(typeof c!=="string"||typeof f!=="function"){throw new Error("Invalid Hook")}if(!((c in a)&&(Object.prototype.toString.call(a[c])==="[object Array]"))){a[c]=[]}var e=false;for(var d=0;d<a[c].length;d++){if(a[c][d]===f){e=true;break}}if(!e){a[c].push(f)}},remove_hook:function(c,f){if(typeof c!=="string"||typeof f!=="function"){throw new Error("Invalid Hook")}if((c in a)&&(Object.prototype.toString.call(a[c])==="[object Array]")){var e=false;for(var d=a[c].length-1;d>=0;d--){if(a[c][d]===f){a[c].splice(d,1)}}}},execute_hooks:function(c){if(typeof c!=="string"){return false}if((c in a)&&(Object.prototype.toString.call(a[c])==="[object Array]")&&(a[c].length>0)){var e=[];for(var d=0;d<a[c].length;d++){e.push(a[c][d].call(null))}return e}else{return{status:"ok",message:"No hooks registered"}}}}})();$(document).ready(function(a){$(document).on("click",".fd-help-icon",function(){var d=$(this);var c=d.parent();var b=new FKART.ui.Tooltip({message:$(".delivery-help-message",c).html(),cssClass:"yellow-tip delivery-helper-tip",inside:d.closest(".cart-dialog").length?".cart-table":"body",showCloseIcon:true});b.show(d);setTimeout(function(){$(document).click(function(f){if(!($(f.target).is(".delivery-helper-tip *"))){b.destroy()}})},100)})});function submitReview(t,m,n,f,g){if(!m){m=""}var p=encodeURIComponent((document.getElementById("review_title").value));var r=encodeURIComponent((document.getElementById("display_name").value));var q=encodeURIComponent((document.getElementById("review_text").value));var l=encodeURIComponent((document.getElementById("form_key").value));var o=document.getElementById("certified_buyer").checked?1:0;var d=encodeURIComponent((document.getElementById("ugc_source").value));var c="";var b="";var e="";var a=encodeURIComponent((document.getElementById("session_data_id").value));$("#review_help_message").empty().hide();$("#user-review-form .user-input .user-input-field").removeClass("highlight_error_component");$("#user-review-form .user-input .one_line_error_message").hide();$("#review_text_help_message").show();FKART.loader.show("Submitting review ...");ajaxRequest("POST","/kenny.php",{action:"ADDREVIEW",edition_id:m,item_id:t,review_title:p,display_name:r,review_text:q,certified:o,rating:$(".rating").val(),ratingID:$("#ratingID").val(),vertical:$("#vertical").val(),p:a,form_key:l,ugc_source:d,review_id:f},{success:function(w){FKART.ugc.updateOmnitureFirstTime(parseInt($(".fk-give-star").attr("data-rating-count"),10),"First time Rating","event50");FKART.ugc.updateOmnitureFirstTime(parseInt(n,10),"First time Review","event51");var v=(o==1)?"certified_buyer":"non_certified_buyer";FKART.omni.customEvent("Write Review",{events:"event33,event34",prop47:g,eVar19:s.eVar19,prop10:v});var u="/review-purchases?pid="+m+"&source=ty_w";setTimeout(function(){window.location.href=u},2000)},error:function(y,x){FKART.loader.hide();if(x){if(y=="NotLoggedIn"){var w=window.location.href;var u=w+"&p="+x;FKART.login.showPopup(u,true,null,$(".login-review-message").html())}else{if(x.length>1){document.getElementById("review_help_message").innerHTML=y;document.getElementById("review_help_message").style.display="block";for(var v=0;v<x.length;v++){$("#"+x[v]).addClass("highlight_error_component")}}else{document.getElementById(x.join()+"_error_message").innerHTML=y;document.getElementById(x.join()+"_error_message").style.display="block";$("#"+x.join()).addClass("highlight_error_component");if(x.join()=="review_text"){$("#review_text_help_message").hide()}}}}else{$("#review_help_message").html(y).show()}}})}function open_viewport(a){if(!viewport_loaded){load_viewport(a)}show(document.getElementById("viewportSection"))}function close_viewport(a){hide(document.getElementById("viewportSection"));show(document.getElementById("google_"+a))}var viewport_loaded=false;function load_viewport(a){viewport_loaded=true;viewportDiv=document.getElementById("viewport");viewer=new google.books.DefaultViewer(viewportDiv,{showLinkChrome:false});viewer.load(a,function(){})}var googleBooks={isbn:null,addEvent:function(e,d,b,a){if(e.addEventListener){e.addEventListener(d,b,a);return true}else{if(e.attachEvent){var c=e.attachEvent("on"+d,b);return c}else{}}},init:function(a){this.isbn=a;var b=document.createElement("script");b.src="http://books.google.com/books?jscmd=viewapi&bibkeys="+this.isbn+"&callback=googleBooks.googleCallback";this.append(b)},append:function(a){document.getElementsByTagName("head").item(0).appendChild(a)},googleCallback:function(b){if(b[this.isbn]){var a=b[this.isbn];if(a){if((a.preview=="full"||a.preview=="partial")&&(typeof(a.embeddable)=="undefined"||a.embeddable!=false)){this.bookInfo=a;this.loadJsAPI()}}}},loadJsAPI:function(){var a=document.createElement("script");a.src="http://www.google.co.in/jsapi";a.id="g_js_api";this.append(a);this.addEvent(a,"load",this.loadedJsAPI);this.addEvent(a,"readystatechange",function(){if((a.readyState=="complete")||(a.readyState=="loaded")){googleBooks.loadedJsAPI()}})},loadedJsAPI:function(){if(google){if(google.load){google.load("books","0",{callback:function(){}});show(document.getElementById("google_"+googleBooks.isbn))}}}};var defaultPaymentOption={pg:null,mode:null,bank_code:null,onchange_set:function(c,d){sel_mode="";var b=document.co_check_form;if(b){if(b.default_payment_option){for(var a=0;a<b.default_payment_option.length;a++){selectedOne=b.default_payment_option[a];if(selectedOne.checked==true){sel_mode=selectedOne.value;break}}}}if(sel_mode==c){this.mode=sel_mode;this.bank_code=d}},set:function(a,b,c){this.pg=a;this.mode=b;this.bank_code=c},getCurrDefaultParams:function(){if(this.mode){return"def_pg="+this.pg+"&def_mode="+this.mode+"&def_bank_code="+(this.bank_code?this.bank_code:"")}return""},sync_server:function(){if(this.mode){var a="action=SET_DEFAULT_PAYMENT_OPTION&"+this.getCurrDefaultParams();ajaxRequest("POST","/kenny.php",a,{success:function(b){},error:function(c,b){}})}}};function changeActionURL(c,a){var b=document.getElementById(c);if(b){b.action=a}}function submitSearchSortForm(a,b){var c=document.getElementById(b);show(c);a.submit()}function logAnalytics(a){ajaxRequest("POST","/kenny.php","action="+a,{})}function showMore(a){ajaxRequest("POST","/kenny.php","action=SEEMOREITEM",{});while(a++){if(document.getElementById("irritatingSliderElement-"+a)){if(document.getElementById("irritatingSliderElement-"+a).style.display=="none"){document.getElementById("irritatingSliderElement-"+a).style.display="table-row"}}else{break}}document.getElementById("irritatingSliderElement-showMore").innerHTML="See Less";document.getElementById("irritatingSliderElement-showMore").className="fksk-seeall-less mprod-similar-seeall-less";document.getElementById("irritatingSliderElement-showMore").onclick=function(){return collapseAll(a)};return false}function collapseAll(b){var a=b-4;for(;b>3;b--){if(document.getElementById("irritatingSliderElement-"+b)){document.getElementById("irritatingSliderElement-"+b).style.display="none"}}document.getElementById("irritatingSliderElement-showMore").innerHTML='<u>See More</u> <span class="seemoreNumber">('+a+")</span>";document.getElementById("irritatingSliderElement-showMore").className="fksk-seeall-more mprod-similar-seeall-more";document.getElementById("irritatingSliderElement-showMore").onclick=function(){return showMore(3)};return false}function notifyMe(d){var e="";if(navigator.userAgent){e+=navigator.userAgent}e+=" FKUA/website/41/website/Desktop";if(d=="undefined"){d=""}var c=escape(strip(document.getElementById("email"+d).value));var a=escape(strip(document.getElementById("editionid"+d).value));var f=escape(strip(document.getElementById("price"+d).value));var b=escape(strip(document.getElementById("ret"+d).value));if(c==""||!isEmailValid(c)){document.getElementById("notify_error"+d).innerHTML="Please specify a <b>valid</b> Email Address<br />";document.getElementById("email"+d).focus();return false}document.getElementById("notify_conform"+d).innerHTML="<div style='text-align:center;'><img src='/images/ajax-loader.gif' border='0'/></div>";ajaxRequestNotifyNew("POST","/api/2/ugc/notifyMe",{"X-User-Agent":e},{productId:a,email:c},{success:function(l){document.getElementById("padding_div"+d).style.display="none";document.getElementById("notify_message"+d).innerHTML="You will be <b>Notified by Email</b> when it becomes available.";document.getElementById("notify_conform"+d).innerHTML="Thank you for your interest in this Item.";var g=s_gi(s_account);g.linkTrackVars="products,eVar22,events";g.linkTrackEvents="event29";g.products=";"+a+";;;;eVar22="+g.eVar1;g.events="event29";g.tl(this,"o","Notify Me")},error:function(l,g){document.getElementById("email"+d).value=c;document.getElementById("notify_error"+d).innerHTML=l;document.getElementById("notify_message"+d).innerHTML="";document.getElementById("notify_conform"+d).innerHTML=""}});return false}function fkToggleDisplay(b){var a=document.getElementById(b).style;if(a.display=="block"){document.getElementById(b).style.display="none"}else{document.getElementById(b).style.display="block"}return false}function fkChangeDisplay(c,d,a){for(i=1;i<=c;i++){if(i==a){document.getElementById("dt"+d+"_"+i).className="csubtitle csubtitle_selected"}else{document.getElementById("dt"+d+"_"+i).className="csubtitle"}}var b="dd"+d;var f=b+"_"+a;var e=document.getElementById(f).innerHTML;document.getElementById(b).innerHTML=e;return false}function getQueryBuilderResults(e){var d=getSearchFilters(e);var c=document.getElementById("vertical").value;var b=document.getElementById("defaultFilter").value;var a=document.getElementById("limit").value;var f=document.getElementById("querybuilder-display-vertical").value;if(typeof(f)=="undefined"){f=c}document.getElementById("results-info").innerHTML='<div class="fk-qbuilder-loader"><img src="/images/bw_loader.gif" /></div>';ajaxRequest("POST","/search/getQueryBuilderResults","vertical="+c+"&filter="+d+"&defaultFilter="+b+"&limit="+a,{success:function(l){document.getElementById("results-info").innerHTML="&nbsp;";var g=l.start;if(l.start==0){g=l.datacount}document.getElementById("fk-qresults-header").innerHTML="<div class='fk-query-results-header'>Showing <b>"+g+"</b> of <b>"+l.datacount+"</b> "+f+"</div>";document.getElementById("results-data").innerHTML=l.html;document.getElementById("fk-qresults-more").innerHTML="";if(l.morelink_flag){document.getElementById("fk-qresults-more").innerHTML=getQueryBuilderMoreLink(l.more_url,l.start,f)}window.location.hash="#page=landing;filter="+d+";limit="+g},error:function(l,g){document.getElementById("fk-qresults-header").innerHTML="";document.getElementById("results-info").innerHTML="&nbsp;";document.getElementById("fk-qresults-more").innerHTML="";document.getElementById("results-data").innerHTML="<div class='fk-error-querybuilder'><b>Sorry, no results found. Please select another option.</b></div>"}});return false}function getSearchFilters(d){var a=getFilterTitles(d);var c="";var e=0;for(var b=0;b<a.length;b++){var f=document.getElementById(a[b]).value;if(f!=""){if(e==0){c+=a[b]+":"+f}else{c+=">>"+a[b]+":"+f}e++}}return c}function getFilterTitles(b){var a=new Array();for(i=0;i<b.elements.length;i++){if(b.elements[i].type=="select-one"){a.push(b.elements[i].id)}}return a}function showMoreQueryBuilderResults(b,g,f){var a=document.getElementById("vertical").value;var c=b.split("?",2);var e="more-results-"+g;document.getElementById("results-info").innerHTML='<div class="fk-qbuilder-loader"><img src="/images/bw_loader.gif" /></div>';var d=document.getElementById("querybuilder-display-vertical").value;if(typeof(d)=="undefined"){d=a}ajaxRequest("POST",c[0],c[1],{success:function(o){document.getElementById("results-info").innerHTML="";var m=o.start;if(o.start==0){m=o.datacount}document.getElementById("fk-qresults-header").innerHTML="<div class='fk-query-results-header'>Showing <b>"+m+"</b> of <b>"+o.datacount+"</b> "+d+"</div>";document.getElementById(e).innerHTML=o.html;document.getElementById("fk-qresults-more").innerHTML="";if(o.morelink_flag){document.getElementById("fk-qresults-more").innerHTML=getQueryBuilderMoreLink(o.more_url,o.start,d)}var n=(window.location.hash).indexOf("limit=");var l="";if(n==-1){l="limit="}else{l=(window.location.hash).slice(0,n+6)}var p=l+m;window.location.hash=p},error:function(m,l){document.getElementById("results-info").innerHTML="";document.getElementById("fk-qresults-more").innerHTML=""}});return false}function getQueryBuilderMoreLink(b,d,c){var a="";a='<div class="line"><a class="fk-query-morelink" href="javascript:void(0);" onclick="showMoreQueryBuilderResults(\''+b+"','"+d+"', '"+c+'\');"><span>See More Results</span>&nbsp;<img src ="/images/fkart/arrow_big.png" class="fk-query-moreimg"/></a></div>';return a}function getResultsForHashParams(g){var e=g.split(";");var l="";var b=0;var c="";for(var m=0;m<e.length;m++){var f=e[m];var a=f.split("=");switch(a[0]){case"start":b=a[1];break;case"vertical":l=a[1]}}var o=l;if(l=="computers"){o="laptops"}var p="/search/getQueryBuilderResults?"+g.replace(/;/g,"&");var n=g.match(/filter=([^;]+);?/);if(n){var d=unescape(n[1]).split(">>");for(var m in d){var c=d[m].split(":");if(c.length==2){$("#"+c[0]).val(c[1])}}}showHashResults(p,0,o)}function showHashResults(b,f,e){var c=b.split("?",2);document.getElementById("fk-qresults-header").innerHTML="";document.getElementById("results-data").innerHTML="";document.getElementById("results-info").innerHTML='<div class="fk-qbuilder-loader"><img src="/images/bw_loader.gif" /></div>';document.getElementById("fk-qresults-more").innerHTML="";var a=document.getElementById("vertical").value;var d=document.getElementById("querybuilder-display-vertical").value;if(typeof(d)=="undefined"){d=a}ajaxRequest("POST",c[0],c[1],{success:function(n){document.getElementById("results-info").innerHTML="";var l=n.start;if(n.start==0){l=n.datacount}document.getElementById("fk-qresults-header").innerHTML="<div class='fk-query-results-header'>Showing <b>"+l+"</b> of <b>"+n.datacount+"</b> "+d+"</div>";document.getElementById("results-data").innerHTML=n.html;document.getElementById("fk-qresults-more").innerHTML="";if(n.morelink_flag){document.getElementById("fk-qresults-more").innerHTML=getQueryBuilderMoreLink(n.more_url,n.start,d)}var m=(window.location.hash).indexOf("limit=");var g="";if(m==-1){g="limit="}else{g=(window.location.hash).slice(0,m+6)}window.location.hash=g+l},error:function(l,g){document.getElementById("results-info").innerHTML="";document.getElementById("fk-qresults-more").innerHTML=""}});return false}function newsletterEmailScroll(a){var b=$("#sem_email_capture");if($(window).scrollTop()>=FKART.SEM.emailDivTop){if(b.css("position")!="fixed"){b.css("position","fixed").css("top","0").css("zIndex","100").css("width",FKART.SEM.emailDivWidth)}}else{b.css("position","static")}}function newsletterEmailSubmit(a){var b={};b.emailid=$("#sem_email_id")[0].value;b.source="sem";b.form_key=escape(Utf8encode($("#sem_form_key")[0].value));if($("#sem_email_id:text")[0].value==$("#sem_email_id")[0].getAttribute("grey_text")||$("#sem_email_id")[0].value==""){return}ajaxRequestNew("POST","/xhr/registerNewsletterEmail",b,{success:function(c){$("#sem_email_capture").css("display","none");$("#sem_email_capture_thankyou").css("display","block").fadeOut(2000,function(){})},error:function(d,c){$("#sem_email_capture").css("display","none");$("#sem_email_capture_thankyou").css("display","block").fadeOut(2000,function(){})},failure:function(c){$("#sem_email_capture").css("display","none");$("#sem_email_capture_thankyou").css("display","block").fadeOut(2000,function(){})}})}function newsletterEnterEvtHandler(a){var b=a.which?a.which:a.keyCode;if(b==13){newsletterEmailSubmit(a)}}function textboxGreyTextFocus(a){if(a.target.value==a.target.getAttribute("grey_text")){a.target.value="";$(a.target).css("color","#333333").css("fontSize","13px")}}function textboxGreyTextBlur(a){if(a.target.value==""){a.target.value=a.target.getAttribute("grey_text");$(a.target).css("color","#AAAAAA").css("fontSize","13px")}}FKART.carousel=function(c,b){try{$("#"+c).jcarousel(b)}catch(a){}};FKART.MI={images40:{},images275:{},images400:{},images700:{},images1100:{},imagesCount:0,currentLargeImage:{},currentLargeImageOrder:0,currentSmallImage:{},currentSmallImageOrder:0,imageAreaHeight:300,longCarouselRendered:false,init:function(c){this.images40=c.images40;this.images275=c.images275;this.images400=c.images400;this.images700=c.images700;this.images1100=c.images1100;this.visibleItems=c.visibleItems;if(this.images40){if(this.images40.length){this.imagesCount=this.images40.length}else{this.imagesCount=this.lengthOf(this.images40)}}else{this.imagesCount=0}if(this.imagesCount>this.visibleItems){require_module.js("carousel",function(){$(".require-mi-carousel").each(function(){var f=$(this);var g={content:$(".ccarousel",f)};var e=f.data();$.extend(g,e);var d=new FKART.ui.LazyCarousel(g);d.init();f.removeClass("require-mi-carousel")})})}var b=400;if(this.images700){b=700}if(typeof(this.pp_large_images_popup)=="object"){this.pp_large_images_popup.getContainer().remove()}this.pp_large_images_popup=new FKART.ui.Dialog({width:(b+200),body:$("#pp-large-images-popup"),modal:true,header:$("#pp-large-images-popup .title"),cssClass:"fk-popup",showFooter:false});var a=$(window).height()-100;if(b<a){a=b}$(".visible-image-large").css("height",a+"px");this.imageAreaHeight=$(".main-image").height();$(".thumbs-small, .quickview-thumbs").bind("hover",function(){FKART.MI.loadSmallImage($(this).attr("rel"))});$(".thumbs-small").bind("click",function(){FKART.MI.showPopup();FKART.MI.loadLargeImage($(this).attr("rel"))});$(".thumbs-large").bind("click",function(){FKART.MI.loadLargeImage($(this).attr("rel"))});$("#large-image-link").bind("click",function(){FKART.MI.showPopup();FKART.MI.loadLargeImage($("#visible-image-small").attr("rel"))})},showPopup:function(){this.pp_large_images_popup.show();var a=($(".visible-image-large").height()-$("#visible-image-large").height())/2;if(a>0){$("#visible-image-large").css({"margin-top":a+"px"})}},hidePopup:function(){this.pp_large_images_popup.hide()},loadSmallImage:function(f){this.currentSmallImage=this.getImage(f,275);var c=this.getImage(f,1100);if(this.currentSmallImage){var d=this.currentSmallImage.s3_path;var e=this.currentSmallImage.actual_height;var b=this.currentSmallImage.actual_width;var f=this.currentSmallImage.id;var a=$("#visible-image-small").attr("src");if(a!=d){this.showLoader(1);$("#visible-image-small").attr("rel",f).attr("src",d);if(typeof(c)!="undefined"&&typeof(c.s3_path)!="undefined"){$("#visible-image-small").attr("data-zoom-src",c.s3_path);$(".zoom-msg").show();FKART.MI.hideLoader(1)}else{$("#visible-image-small").attr("data-zoom-src","");$(".zoom-msg").hide();$("#visible-image-small").unbind("load").load(function(){FKART.MI.hideLoader(1)})}}}},loadLargeImage:function(l){var c=[700,400];for(var e in c){this.currentLargeImage=this.getImage(l,c[e]);if(this.currentLargeImage){break}}if(this.currentLargeImage){var d=this.currentLargeImage.s3_path;var f=this.currentLargeImage.actual_height;var b=this.currentLargeImage.actual_width;var l=this.currentLargeImage.id;var a=$("#visible-image-large").attr("src");if(a!=d){this.showLoader(2);$("#visible-image-large").attr("src",d);var g=($(".visible-image-large").height()-f)/2;g=parseInt(g)>0?g:0;$("#visible-image-large").css({"margin-top":g+"px"});$(".thumbs-large").each(function(){$(this).removeClass("active")});if(typeof(l)!="undefined"&&l){$("#thumb-"+l).addClass("active")}$("#visible-image-large").unbind("load").load(function(){FKART.MI.hideLoader(2)})}}},getImage:function(c,b){switch(b){case 40:for(var a in this.images40){if(this.images40[a].id==c){return this.images40[a]}}return false;case 275:for(var a in this.images275){if(this.images275[a].id==c){return this.images275[a]}}return false;case 400:for(var a in this.images400){if(this.images400[a].id==c){return this.images400[a]}}return false;case 700:for(var a in this.images700){if(this.images700[a].id==c){return this.images700[a]}}return false;case 1100:for(var a in this.images1100){if(this.images1100[a].id==c){return this.images1100[a]}}return false}},showLoader:function(a){switch(a){case 1:$("#visible-image-small").hide();$("#loader-image-small").show();break;case 2:$("#visible-image-large").hide();$("#loader-image-large").show();break}},hideLoader:function(a){switch(a){case 1:$("#visible-image-small").show();$("#loader-image-small").hide();break;case 2:$("#visible-image-large").show();$("#loader-image-large").hide();break}},lengthOf:function(b){var a=0;for(var c in b){if(b.hasOwnProperty(c)){++a}}return a}};FKART.Wishlist={toolTipTitle:"What is this?",toolTipBody:"By making your list public, you let others view and share it. You can change this setting any time you want.",setABBucket:function(a){FKART.Wishlist.abbucket=a},isInBucket:function(a){if(typeof FKART.Wishlist.abbucket!="undefined"&&FKART.Wishlist.abbucket==a){return true}else{return false}},showIntro:function(){if(!$.cookie("sflsn")){var b=$(".product-details .title-wrap").find(".title").text();var a=$(".productImage").first().attr("src");if((typeof b!="undefined")&&b!=""&&(typeof a!="undefined")&&a!=""){FKART.omni.customEvent("SaveForLater",{prop53:"save4later_popup_open"});$(".wishlist-interstitial-container").find(".product-image").attr("src",a);$(".wishlist-interstitial-container").find(".product-info strong").text(b);$(".wishlist-interstitial-container").show();$(".wishlist-interstitial-container .close a").one("click",function(c){c.preventDefault();$(".wishlist-interstitial-container").hide()});$(".wishlist-interstitial-container .viewlist-btn").one("click",function(c){FKART.omni.customEvent("SaveForLater",{prop53:"save4later_viewsavedlist"})});$.cookie("sflsn",1,{expires:365*3,path:"/"})}}},changePrivacy:function(b,a){ajaxRequest("POST","/account/a_saveProfile",{profile_name:a,isWishListPublic:b},{success:function(){location.reload()},error:function(d,c){}})},changeSort:function(d,a){var c=document.getElementById("pageNo").value;var b=document.getElementById("wishlist-filter").value;window.location=a+"?page="+c+"&sort="+d.value+"&filter="+b},showToolTip:function(a){FKART.Tooltip.show(a,FKART.Wishlist.toolTipTitle,FKART.Wishlist.toolTipBody)},add:function(a,b,d,c){ajaxRequest("POST","/kenny.php",{action:"ADDTOWISHLIST",edition_id:a,form_key:c},{success:function(e){FKART.omnitureFireEvent({"track-vars":"products,events","track-events":"event21",products:";"+a,events:"event21",name:"add to wishlist"});ajaxRequest("POST","/xhr/logWishlist",{action:"ADDTOWISHLIST",edition_id:a},{success:function(m){}});if(b){if($(b).hasClass("digital")){var f=$(".edition_"+a).attr("data-item-name");var l=$(b).attr("data-item-type");FKART.digital.notify({text:'<span class="tick_icon"></span> "'+f+'" has been added to your Wishlist. &nbsp;<a href="/wishlist?filter=digital-'+l+'" class="fk-button blue">Browse Wishlist</a>'})}var g="Added to WISHLIST";if(FKART.Wishlist.isInBucket("saveforlater")){g="Saved  for LATER"}switch(d){case"prod":if(FKART.Wishlist.isInBucket("saveforlater")){FKART.Wishlist.showIntro()}$(b).replaceWith('<a class="added-to-wishlist" href="/wishlist"><span class="add-to-wishlist-text">'+g+"</span></a>");break;case"new-prod":if(FKART.Wishlist.isInBucket("saveforlater")){$(b).replaceWith('<span class="added-to-wishlist" data-title="Saved for Later" class="pp-added-to-wishlist helperTip">Saved for <a href="/wishlist">Later</a></span>')}else{$(b).replaceWith('<span class="added-to-wishlist" data-title="Added to Wishlist" class="pp-added-to-wishlist helperTip">Added to <a href="/wishlist">Wishlist</a></span>')}break;case"browse":if(FKART.Wishlist.isInBucket("saveforlater")){$(b).replaceWith('<span class="fk-item-wl-link added-to-wishlist">Saved for <a href="/wishlist" class="fk-underline">Later</a>.</span>')}else{$(b).replaceWith('<span class="fk-item-wl-link added-to-wishlist">Added to <a href="/wishlist" class="fk-underline">Wishlist</a>.</span>')}break;case"digital-prod":var l=$(b).attr("data-item-type");$(b).replaceWith('<span class="added-to-wishlist" style="vertical-align: middle;">Added to Wishlist.</span> <a href="/wishlist?filter=digital-'+l+'">Browse Wishlist</a>');break}}else{window.location.href="/wishlist"}},error:function(){window.location.reload()}})},remove:function(a,c,d,e){if(!d){var b=$("#div-"+a);b.height($(".browse-product",b).height());b.append('<div class="del-shim"><span class="del-vcenter">Removing this item from your list</span></div>')}ajaxRequest("POST","/kenny.php",{action:"DELETEFROMWISHLIST",edition_id:a,form_key:e},{success:function(f){ajaxRequest("POST","/xhr/logWishlist",{action:"REMOVEFROMWISHLIST",edition_id:a},{success:function(l){}});if(!d){setTimeout(function(){b.show().animate({height:"toggle"},600,function(){b.remove();var p=$("#wl-itm-cnt").text();var n=p.indexOf("Item");var o=p.substring(1,n-1);var m=parseInt(o)-1;var l="";if(m==1){l=m+" Item"}else{l=m+" Items"}$("#wl-itm-cnt").html("("+l+")");$("#wl-tot-val").html($("#wl-tot-val").html()-c);if(m==0){$("#wishlist").hide();$("#empty-wishlist-msg").show()}})},500)}else{var g=$(".edition_"+a).attr("data-item-name");FKART.digital.notify({text:'<span class="tick_icon"></span> "'+g+'" has been deleted from your List.'});window.location.reload(true)}},error:function(){}})}};FKART.Tooltip={show:function(c,d,a){var b=$(c).offset();if(!$("#fk-tooltip").length){FKART.Tooltip.init(d,a);$("#fk-tooltip").offset({left:b.left-127+$(c).width()/2,top:(b.top+22)})}else{$("#fk-tooltip").show()}$("#fk-tooltip").offset({left:b.left-127+$(c).width()/2,top:(b.top+22)})},hide:function(){$("#fk-tooltip").hide()},init:function(b,a){$("body").append('<div class="fk-ttip" id="fk-tooltip"><span class="cls" onclick="FKART.Tooltip.hide();return false;"></span><span class="arw"></span><div class="titl">'+b+"</div>"+a+"</div>")}};FKART.cbTooltip={showPopup:function(b){if(!$("#cashback-tooltip").length){FKART.cbTooltip.init()}$("#cashback-tooltip").show();var a=$(b).offset();$("#cashback-tooltip").offset({left:a.left-125+$(b).width()/2,top:(a.top+22)});$("#cashback-tooltip").offset({left:a.left-125+$(b).width()/2,top:(a.top+22)})},hidePopup:function(){$("#cashback-tooltip").hide()},init:function(){$("body").append('<div class="fk-cb-ttip" id="cashback-tooltip"><span class="cls" onclick="FKART.cbTooltip.hidePopup();return false;"></span><span class="arw"></span><div class="titl">How does \'Cashback\' work?</div>The \'Cashback\' offer is <b>instant</b> and exclusive to Flipkart.com. You pay only the final price that you see in your shopping cart.</div>')}};function brandLogoInit(){var a=$("#promo-know-more-message").attr("msg");var b=new FKART.ui.Tooltip({message:a,nearElement:$(".promo-logo"),cssClass:"fks-promo-logo-tooltip"});$(".promo-logo").click(function(){b.show()})}function warrantyPopupInit(c,b){var d="Warranty";var a=new FKART.ui.Popup({header:"Warranty",message:$("#"+b),nearElement:$("#"+c),repositionCallback:function(e){$(this).css("left",(e.left+100)+"px")},cssClass:"warranty-popup"});$("#"+c).click(function(){a.show()})}function warrantyTooltipInit(c,a){var b=new FKART.ui.Tooltip({message:$("#"+a),nearElement:$("#"+c).first(),align:"b-right",showCloseIcon:true,cssClass:"fk-cod-help-tooltip yellow-tip fk-ui-tooltip-box-shadowed"});$("#"+c).click(function(d){d.preventDefault();d.stopPropagation();b.show()});b.getContainer().on("click",function(d){d.preventDefault();d.stopPropagation()});$(document).on("click",function(){b.hide()})}function showPopup(c,b,d){var a=new FKART.ui.Popup({header:d,message:$("#"+b),nearElement:$("#"+c)});$("#"+c).click(function(){a.show()})}function adHelpPopupInit(d,b){var c='We sometimes show sponsored content relevant to our users. Flipkart doesn\'t share any personal information with the sponsors. The sponsored content is always clearly marked  as Sponsored or Advertisements. If you have any feedback on this feature, please let us know through our <a href="/s/contact?issueType=features_suggestions" target="_blank">contact us form</a>. Please contact us at <a href="/s/contact?issueType=business_related" target="_blank">this form</a> if you want to know more about this program.';var a=new FKART.ui.Tooltip({message:c,nearElement:$(d),cssClass:"popup-ads"});$(b).click(function(){a.show()})}FKART.initBuyOptionTooltips=function(){var d=new FKART.ui.HoverTooltip({nearElement:$(".buw"),extraHoverArea:false,cssClass:"buw-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0});var a=new FKART.ui.HoverTooltip({nearElement:$(".atc"),extraHoverArea:false,cssClass:"atc-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0});var c=new FKART.ui.HoverTooltip({nearElement:$(".buy-options .add-to-wishlist"),extraHoverArea:false,cssClass:"atw-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0});var e=new FKART.ui.HoverTooltip({nearElement:$(".del-wishlist"),extraHoverArea:false,cssClass:"atw-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0});var b=new FKART.ui.HoverTooltip({nearElement:$(".add-to-lib"),extraHoverArea:false,cssClass:"add-to-lib-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0})};function fkShowAnswer(a){$(a).unbind("click");$(a).parent().addClass("fk-answer");$(a).parent().removeClass("fk-question");$(a).parent().next().show();$(a).parent().addClass("hidden")}FKART.Location={loader:null,checkAvailability:function(c,a){$("#checkPIN").attr("disabled",true);var b=$("#pincode").val();if(!b||b==""||isNaN(parseInt(b))||(b.length!=6)||!isValidNumber(b)){$("#available-true").hide();$("#available-false").hide();$("#invalid-pincode").show();$("#checkPIN").attr("disabled",false);return}if(!FKART.Location.loader){FKART.Location.loader=FKART.ui.Loader({type:"inline",renderTo:"#location-availability-form",size:"small"})}FKART.Location.loader.show();ajaxRequest("GET","/xhr/checkLocationAvailability",{id:c,pincode:b},{success:function(e){FKART.Location.loader.hide();$("#checkPIN").attr("disabled",false);var f="event15",d="event15";if(e){$("#available-false").hide();$("#invalid-pincode").hide();$("#available-true").show()}else{$("#available-true").hide();$("#invalid-pincode").hide();$("#available-false").show();f+=",event23";d+=",event23"}FKART.omnitureFireEvent({"track-vars":"eVar15,products,eVar22,events","track-events":f,products:";"+c+";;;;eVar22="+a,eVar15:b,events:d,name:"pincode check"})}})},checkserviceability:function(c,a){var b=$("#pincode").val();if(!b||b==""||isNaN(parseInt(b))||(b.length!=6)||!isValidNumber(b)||parseInt(b,10)<100000||parseInt(b,10)>999999){$("#available-true").hide();$("#available-false").hide();$("#invalid-pincode").show();return}if(!FKART.Location.loader){FKART.Location.loader=FKART.ui.Loader({type:"inline",renderTo:"#location-availability-form",size:"small"})}FKART.Location.loader.show();$.ajax({url:"/product-ajax/getTopSection?pid="+c+"&pincode="+b,success:function(d){$("#topsection").html(d.data.topSection);$("#keyFeatures").html(d.data.keyFeatures);$("#specifications").html(d.data.specification);$("#mplistingscontainer").html(d.data.mpListings);$("#pp-bundles-reco").html(d.data.bundlingReco);FKART.utils.runOnload();FKART.Location.loader.hide()},dataType:"json"})},showAvailablityChecker:function(){$("#location-avail-checker").show();$("#cod-available-true").hide();$("#pp-available-true").hide();$("#available-false").hide();$("#invalid-pincode").hide();$("#location-avail-res").hide()}};function myRecommendationSourcesPopupInit(){window.reco_popup=new FKART.ui.Popup({header:"Recommended Because",message:"aa",nearElement:""})}function myRecommendationSourcesPopup(b){window.reco_popup.hide();var a="feedback_response"+b;window.reco_popup.changeContent($("#"+b).html());window.reco_popup.changeNearElement($("#"+a));window.reco_popup.show()}DigitalLib={applyFilter:function(b,a){location.href="/account/"+a+"library?filter="+b+"&sort="+$("."+a+"-lib select.sort_option").val()}};ebookLib={sendToDevice:function(e){var a=$(e).closest(".gd-col").find(".device-dd");var c=$(".device-types:checked");if(c.length>0){var d=[];for(var b=0;b<c.length;b++){d.push({deviceId:c[b].getAttribute("deviceid"),osName:c[b].getAttribute("osname")})}var a=$(e).closest(".gd-col").find(".device-dd");$.post("/xhr/syncBookToDevices",{pid:a.attr("pid"),title:a.attr("title"),devices:JSON.stringify(d)},function(f){f=JSON.parse(f);if(f.status=="ok"){var g=f.data;if(g.android&&g.ios){FKART.digital.notify({text:'<span class="tick_icon"></span> "<div class="fk-inline-block"><span class="item_name">'+a.attr("title")+'</span>" will be downloaded on your device soon . &nbsp;</div>'})}else{new FKART.Alert({body:"Something went wrong, Please try agaim later.",width:500,destroy_on_close:true})}}})}},init:function(){$.get("/xhr/getDevices").done(function(a){a=JSON.parse(a);if(a.status="ok"){ebookLib.deviceData=a.data;if(ebookLib.deviceData&&ebookLib.deviceData.length>0){var d=$("#deviceList");for(var b=0;b<ebookLib.deviceData.length;b++){var c="<li  class='tpadding10'><nobr><input type='checkbox' class='device-types rmargin10' osname='"+ebookLib.deviceData[b].osName+"' deviceid='"+ebookLib.deviceData[b].deviceId+"'>"+ebookLib.deviceData[b].brand+" "+ebookLib.deviceData[b].model+"</nobr></li>";d.html(d.html()+c)}$(".send-button").removeClass("disabled").addClass("enabled");$("#noDeviceFound").addClass("fk-hidden");$(".device-list-container").removeClass("fk-hidden")}}}).fail();$(".send-button").live("click",function(){if(ebookLib.deviceData){$(".device-dd").addClass("fk-hidden");var c=$(this);var a=$(this).closest(".gd-col").find(".device-dd");if(!c.hasClass("clicked")){$(this).closest(".unit-container").find(".device-dd").removeClass("fk-hidden");$(".send-button").removeClass("clicked");$(this).addClass("clicked");var b=$("#devicePopUp");b.removeClass("fk-hidden").remove();a.append(b)}else{$(".send-button").removeClass("clicked")}}});$("input[name='checkType']").live("click",function(){if(this.getAttribute("value").toLowerCase()=="all"){$(this).closest(".device-list").find(".device-types").each(function(){this.checked=true})}else{$(this).closest(".device-list").find(".device-types").each(function(){this.checked=false})}});$(".ebooks-lib .filter a").click(function(a){var b=$(this);DigitalLib.applyFilter(b.attr("data-link"),b.attr("data-lib"));return false});$(".ebooks-lib select.sort_option").change(function(a){var b=$(".ebooks-lib .filter .selected");DigitalLib.applyFilter(b.attr("data-link"),b.attr("data-lib"))})}};MP3Lib={watchForDownloadStart:function(b,d){var c=100;var a=setInterval(function(){var e=$.cookie(b+"_started");if(e||c==0){clearInterval(a);$.cookie(b+"_started",null);if(d){d()}}c--},100)},init:function(){$("#floating-head").width($("#product-list").width());var b=[];$.each($("#product-list .thd .col"),function(c,d){b.push($(d).width())});b.reverse();$.each($("#floating-head table .thd .col"),function(c,d){$(d).width(b.pop())});$(window).scroll(function(){if($("#product-list").offset().top-45<=$(window).scrollTop()&&$("#product-list").offset().top+$("#product-list").height()-$("#floating-head").height()>$(window).scrollTop()){$("#floating-head").show()}else{$("#floating-head").hide()}});$("#expandAllAlbums").click(function(){$(".album").each(function(){if(!$(this).hasClass("expd")){MP3Lib.toggleShowAlbum($(this))}});MP3Lib.defaultAlbumView="expand"});$("#collapseAllAlbums").click(function(){$(".album").each(function(){if($(this).hasClass("expd")){MP3Lib.toggleShowAlbum($(this))}});MP3Lib.defaultAlbumView="collapse"});var a=new FKART.ui.HoverTooltip({nearElement:$(".dwnld-icn-enabled"),extraHoverArea:false,cssClass:"atw-tooltip",showCloseIcon:false,align:"right",destroyTimeout:0});$("#product-list").click(function(l){if($(l.target).hasClass("album-click")){MP3Lib.toggleShowAlbum($(l.target).parents(".level0"))}else{if($(l.target).filter(".mp3-lib .dwnld-icn-enabled").length){var g=$(l.target);var o=g.closest("li").find(".row-id").html();var f=g.closest("li").find(".track-id").html();var d=g.closest("li").find("select.bit-rate").val();var c=g.closest("li").find(".form-key").html();MP3Lib.download(o,f,d,c);g.hide().siblings(".loader").show();MP3Lib.watchForDownloadStart(o,function(){g.show().siblings(".loader").hide()})}else{if($(l.target).parent().hasClass("album")){var n=$(l.target).is(":checked");var m=$(l.target).parents(".album");if(!m.hasClass("expd")){MP3Lib.toggleShowAlbum(m)}if(n){m.find("input:checkbox").attr("checked","checked")}else{m.find("input:checkbox").removeAttr("checked")}}}}});$(".mp3-lib .filter a").click(function(c){var d=$(this);DigitalLib.applyFilter(d.attr("data-link"),d.attr("data-lib"));return false});$(".mp3-lib select.sort_option").change(function(d){var c=$(".mp3-lib .filter .selected");DigitalLib.applyFilter(c.attr("data-link"),c.attr("data-lib"))});$(".mp3-lib .download_selected_but").click(function(f){var d=[];var e=[];var c=[];$("#product-list .track input:checked").each(function(l,g){d.push($(g).parents("li").find(".row-id").html());e.push($(g).parents("li").find(".track-id").html());c.push($(g).parents("li").find("select.bit-rate").val())});if(d.length){MP3Lib.download(d.join(","),e.join(","),c.join(","))}else{new FKART.Alert({body:"<b>Please select songs to download</b>",width:500,destroy_on_close:true})}});$(".dwld-opt .selected").click(function(e){var f=$(".dwld-opt");f.toggleClass("opn");var d=false;var c=false;var g=function(l){if(d){d=false;return}if(!$(l.target).parents().is(".dwld-opt")){f.removeClass("opn");$(document).unbind("click",g);c=false}};if(f.hasClass("opn")){if(!c){$(document).bind("click",g);c=true}d=true}});$(".dwld-opt .itm").click(function(l){$(".dwld-opt .opt-hd").removeClass("sel");var c=$(l.currentTarget).find(".opt-hd");c.addClass("sel");var g=$(".download.col .chk-box").add(".album-checkbox");g.hide();$(".top-all-action-select").hide();$(".top-all-action-download").show();var f=$(".download.col .download-icn");f.hide();var d=$(".download_selected_but");d.hide();$(".dwld-opt .selected .txt").html($(c.find("span").get(1)).html());if(c.attr("id")=="browser-based"){$("#download-method").val("browser");f.show();MP3Lib.downloadMethod="direct"}else{if(c.attr("id")=="flyte-dwld-manager"){$(".top-all-action-select").show();$(".top-all-action-download").hide();g.show();d.show();$("#download-method").val("download_manager");MP3Lib.downloadMethod="dwnld_mgr"}}$(".dwld-opt").removeClass("opn")})},loadDefaultAlbumView:function(){if(MP3Lib.defaultAlbumView=="expand"){$(".album:not(.expd)").each(function(){if(!$(this).hasClass("expd")){MP3Lib.toggleShowAlbum($(this))}})}},toggleShowAlbum:function(a){a.find(".album-tracks").slideToggle("fast",function(){a.toggleClass("expd");if(a.hasClass("expd")){a.find(".num-of-tracks").text("Showing "+$(this).children().length+" Tracks")}else{a.find(".num-of-tracks").text($(this).children().length+" Tracks")}})},toggleDownloadMethod:function(){if(typeof MP3Lib.downloadMethod!="undefined"){var b=$(".download.col .download-icn");var a=$(".download_selected_but");var c=$(".download.col .chk-box").add(".album-checkbox");if(MP3Lib.downloadMethod=="direct"){a.hide();c.hide();b.show()}else{if(MP3Lib.downloadMethod=="dwnld_mgr"){b.hide();c.show();a.show()}}}},download:function(c,d,o,q){var f=d.split(",");var m=o.split(",");var n=[];for(var l in f){n.push(";"+f[l]+";;;event13=1;eVar22=DigitalMP3")}FKART.omnitureFireEvent({"track-vars":"events,products","track-events":"event14",products:n.join(","),events:"event14",name:"Library Download"});var b=document.createElement("form");b.setAttribute("method","POST");var a=$("#download-method").val();if(a&&a=="download_manager"){b.setAttribute("action","/download.fkdm")}else{b.setAttribute("action","/account/download")}var g={ids:c,bit_rate:o,__FK:q};for(var p in g){var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name",p);e.setAttribute("value",g[p]);b.appendChild(e)}document.body.appendChild(b);b.submit()},selectAllToggle:function(a){if($(a).is(":checked")){$("#product-list input").attr("checked","checked");$("#floating-head .download input").attr("checked","checked")}else{$("#product-list input").removeAttr("checked");$("#floating-head .download input").removeAttr("checked")}},changeFileSize:function(d,b){var c=d.target;var a=b[$(c).find("option:selected").val()];$(c).parents("span.bit-rate").find(".file-size").html(a)}};FKART.bindScrollableTrackListHeader=function(){var c=$(window);var b=$(".track-list #header-row");var a=$(".track-list .table.scroll");a.css({width:$(".track-list .table.content").outerWidth(),left:b.offset().left});c.scroll(function(){if(b.offset().top<=c.scrollTop()){a.show()}else{a.hide()}})};function updateUserPreferences(){FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_updateUserPreferences",$("#preferences_form").serializeObject(),{success:function(a){location.reload()},error:function(a,b){FKART.loader.hide()}});return true}var WalletHelpCarousal=function(a){this.list=$("#"+a.list+" ul");this.pagination=$("#"+a.pagination);this.totalPages=a.totalPages;this.next=$("#"+a.next);this.prev=$("#"+a.prev);this.curPage=1;this.goToPage=function(b){if(b>=1&&b<=this.totalPages){this.curPage=b;this.pagination.find("span").removeClass("sel");$(this.pagination.find("span").get(this.curPage-1)).addClass("sel");var c=$(this.list.find("li").get(this.curPage-1)).offset().left-this.list.offset().left;this.prev.removeClass("ena");this.next.removeClass("ena");if(b>1){this.prev.addClass("ena")}if(b<this.totalPages){this.next.addClass("ena")}this.list.animate({left:-c},500)}};this.init=function(){var b=this;this.next.bind("click",function(){b.goToPage(b.curPage+1)});this.prev.bind("click",function(){b.goToPage(b.curPage-1)});this.pagination.bind("click",function(d){var c=1;$(b.pagination.find("span")).each(function(e,f){if(d.target==f){b.goToPage(c)}c++})})};this.init()};FKART.enlargeDialog=function(d,e,f,b){var a=$(d).html();var c=new FKART.ui.Popup({message:a,header:false,nearElement:f,cssClass:b});$(e).bind("click",function(){c.show()})};FKART.XDR=function(d){d=d||{};var n,f,p=d.callback,o="";d.acceptDomain=d.acceptDomain||FKART.secureDomain;function a(){if(d.iframe){f=d.iframe;o=f.name}else{o="iframe_"+(new Date()).getTime();n=document;f=n.createElement("iframe");f.style.visibility="hidden";f.style.width="0";f.style.height="0";f.setAttribute("src","about:blank");n.body.appendChild(f);if(f.contentWindow){f.contentWindow.name=o}}}function c(){if(f.contentWindow&&f.contentWindow.name){var q=f.contentWindow.name;if(q&&q!=o){m(q);if(f&&f.contentWindow.name){f.contentWindow.name=o}}}}function g(q){if(q.origin==d.acceptDomain){m(q.data)}}function b(q){p=q||p;f.onload=c;f.onreadystatechange=function(){try{if(f.readyState=="complete"){c()}}catch(r){}};window.iframe_message=function(r){m(r)};addEvent(window,"message",g)}function e(){p=d.callback;f.onreadystatechange=null;f.onload=null;window.iframe_message=null;removeEvent(window,"message",g);if(d.iframe==null){$(f).remove()}}function m(r){r=$.parseJSON(r);if(d.hasNestedCb){var q=p;e();if(q){q(r)}}else{if(p){p(r)}e()}}function l(v,t,q){t.type=t.type||"get";a();t.data=t.data||{};t.data.__FK=__FK;if(t.type=="get"){var u=v+"?"+$.param(t.data);f.setAttribute("src",u)}else{var r=$(document.createElement("form"));r.attr("method","post").attr("action",v).attr("target",o);$.each(t.data,function(w,x){var y=$(document.createElement("input"));y.attr("type","hidden").attr("name",w).attr("value",x).appendTo(r)});r.appendTo(document.body).submit();r.remove()}b(q)}return{watch:function(q){a();b(q)},makeRequest:l,stop:e}};FKART.locationHash=(function(){var c={};var d=false;function n(){e();d=true}function l(o,p){c[o]=p;b()}function m(o){if(!d){n()}return c[o]}function g(o){if(!isNaN(o)){return Number(o)}if(o=="true"){return true}if(o=="false"){return false}return o}function e(){if((window.location.hash).indexOf("#")>-1){var q=window.location.hash.substring(1).split(";");for(var o in q){var p=q[o].split("=");if(p.length==2){c[unescape(p[0])]=g(unescape(p[1]))}}}}function b(){var p=[];for(var o in c){p.push(escape(o)+"="+escape(c[o]))}window.location.hash="#"+p.join(";")}function a(o){delete c[o];b()}function f(){var p={};for(var o in c){if(c.hasOwnProperty(o)){p[o]=c[o]}}return p}return{get:function(o){return m(o)},set:function(o,p){return l(o,p)},del:function(o){return a(o)},getAll:function(){return f()}}})();FKART.ui={};FKART.ui.goTop=(function(){var d=null,b=false;var g=false;function m(n){d=$(document.createElement("div")).addClass("fk-ui-goTop").addClass("fk-hidden").appendTo("body");if(n){d.addClass(n)}d.html($("#go-top").html());var o=throttle(a,100);$(window).scroll(o);d.click(e);$("body").bind("onScrolledToView",function(){b=false})}function e(){b=true;d.addClass("gtt-flytop");g=false;setTimeout(function(){$("body").scrollToView({scrollTo:0})},1)}function l(){if(!g){d.removeClass("gtt-flytop");d.fadeIn("medium");g=true}}function c(){}function a(){var n=$(window).height();var o=$(window).scrollTop();if(this.blocked){return}if(n<o){l()}}function f(){d.hide().remove();$(window).unbind("scroll",a)}return{init:m,show:l,hide:c,toTop:e,getHandle:function(){return d},destroy:f}}());FKART.ui.Tooltip=function(u){u.showCloseIcon=(typeof u.showCloseIcon=="undefined")?true:u.showCloseIcon;u.showCloseButton=(typeof u.showCloseButton=="undefined")?false:u.showCloseButton;u.extraHoverArea=u.extraHoverArea||false;u.message=u.message||$(u.nearElement).attr("data-tooltip-title");u.inside=u.inside||document.body;u.topGap=u.topGap||0;u.topGap=parseInt(u.topGap);u.fadeAnimation=(typeof u.fadeAnimation=="undefined")?true:u.fadeAnimation;u.closeOtherTT=(typeof u.closeOtherTT=="undefined")?true:u.closeOtherTT;var c=false;var a=true;var o=$(document.createElement("div")).addClass("fk-ui-tooltip");var w=$(u.inside);var t=this;var l;if(u.cssClass){o.addClass(u.cssClass)}u.align=u.align||"middle";o.addClass(u.align);if(u.ajaxUrl){u.message=u.message||"<div class='loader-cont'><span class='fk-ui-inline-loader'>Loading...</span></div>"}if(u.showCloseIcon){var m=$(document.createElement("span")).addClass("fk-ui-tooltip-close").appendTo(o);m.click(function(){o.hide()})}if(u.showCloseButton){o.addClass("bottom-close");var f=$(document.createElement("a")).addClass("fk-ui-tooltip-close-btn btn btn-mini btn-blue").text("Close").appendTo(o);f.click(function(){o.hide()})}var q=$(document.createElement("span")).addClass("fk-ui-tooltip-arrow").appendTo(o);if(u.extraHoverArea){var r=$($dc("hover-area")).appendTo(o)}var b;if(typeof u.message==="string"){b=$(document.createElement("div")).addClass("fk-ui-tooltip-content").html(u.message).appendTo(o)}else{$(u.message).data("parent",$(u.message).parent());b=$(u.message).remove().appendTo(o).addClass("fk-ui-tooltip-content");b.css("display","block")}o.appendTo(w);var n=$(u.nearElement);function e(y){if(!c){var x={type:u.reqType||"POST",url:u.ajaxUrl,dataType:u.dataType||"json",success:function(z,A){c=true;if(u.dataType=="html"){b[0].innerHTML=z}else{if(!z.status||z.status=="success"){b[0].innerHTML=z.html}}FKART.utils.runOnload();p();$(t).trigger("ajax_loaded",[z,A])},error:function(z){c=false;$(t).trigger("ajax_loaded",[z,"error"])}};c=true;a&&b.html(u.message);l=$.ajax($.extend(x,y))}return l}function p(J){if(typeof J!="undefined"&&J!=null){n=$(J)}var H={},G={},B,z=n.outerWidth(),C=n.outerHeight();H.top=n.offset().top-w.offset().top;H.left=n.offset().left-w.offset().left;G.left=$(".fk-content").offset().left;var A=$(o.find(".fk-ui-tooltip-arrow")[0]);switch(u.align){case"middle":case"b-middle":B=H.left+z/2-o.outerWidth()/2;o.css({left:B,top:H.top+C+7});break;case"left":case"b-left":o.css({left:H.left,top:H.top+C+5});break;case"right":case"b-right":A.css({right:n.outerWidth()/2-A.width()/2});o.css({right:w.outerWidth()-n.outerWidth()-H.left,top:H.top+C+5+u.topGap});break;case"l-middle":o.css({right:w.outerWidth()-H.left+5,top:H.top+C/2-o.outerHeight()/2+u.topGap});break;case"r-top":o.css({left:H.left+z+5,top:H.top});A.css({top:C/2-A.height()/2});break;case"top":o.css({left:H.left,top:H.top-C/2-o.outerHeight()/2-5});break;case"t-middle":o.css({left:H.left+z/2-o.outerWidth()/2,top:H.top-o.outerHeight()-3});break;case"t-left":o.css({left:H.left,top:H.top-o.outerHeight()-3});break;case"t-right":o.css({right:w.outerWidth()-n.outerWidth()-H.left,top:H.top-o.outerHeight()-3});break;case"r-middle":o.css({left:H.left+z+5,top:H.top+C/2-o.outerHeight()/2});break;case"auto":var I=$(window).width()-(H.left+z+o.outerWidth()+5);var F=H.top+C/2-o.outerHeight()/2;o.removeClass("r-middle");o.removeClass("l-middle");var D="r-middle";if(I<0){I=$(window).width()-(H.left)+5;D="l-middle"}var E="45%";if(F<$(window).scrollTop()){F=$(window).scrollTop();E=(C-$(window).scrollTop()+H.top)/2-14}else{if(F+o.outerHeight()>$(window).scrollTop()+$(window).height()){F=$(window).scrollTop()+$(window).height()-o.outerHeight();E=H.top-F+(F+o.outerHeight()-H.top)/2-14}}o.css({right:I,top:F});o.find(".fk-ui-tooltip-arrow").css({top:E});o.addClass(D);break;case"h-auto":$winHeight=$(window).height();$winWidth=$(window).width();$actualTop=$virtualTop=H.top+C/2-o.outerHeight()/2;$actualLeft=$virtualLeft=H.left+z+5;if($actualTop<(pageYOffset+u.topGap)){$virtualTop=pageYOffset+u.topGap+10}else{if((pageYOffset+$winHeight)<($actualTop+o.outerHeight())){$virtualTop=pageYOffset+$winHeight-o.outerHeight()-10}}if($winWidth<(H.left+z+o.outerWidth()+5)){$virtualLeft=H.left-o.outerWidth()-10;o.addClass("left-tooltip")}else{o.addClass("right-tooltip")}o.css({left:$virtualLeft,top:$virtualTop});A.css({top:H.top+C/2-$virtualTop-A.outerHeight()/2});r.css({top:H.top+C/2-$virtualTop-r.outerHeight()/2});break}if(u.positionTootipArrow){var x=A.height()/2;var y=o.height()/2;o.find(".fk-ui-tooltip-arrow").css({top:y-x})}}function g(x,y){$(t).bind(x,y)}function v(x,y){$(t).unbind(x,y)}var d={hide:function(){if(u.fadeAnimation){o.fadeOut(100)}else{o.hide()}n.removeClass("active");$(t).trigger("afterHide",[o])},show:function(z,x){if(u.closeOtherTT&&window.ttCollection){for(var y=0;y<window.ttCollection.length;y++){window.ttCollection[y].hide()}}p(z);if(u.fadeAnimation){o.fadeIn(100)}else{o.show()}if(u.ajaxUrl){c=(typeof x!="undefined")?false:c;a=(x&&typeof x.noLoader!="undefined")?!x.noLoader:a;e(x)}n.addClass("active");o.scrollToView({edge:30});$(t).trigger("afterShow",[o])},updateContent:function(x){b.html(x)},getContainer:function(){return o},destroy:function(){var x=o.find(".fk-ui-tooltip-content");if(x.data("parent")){x.remove().hide().data("parent").append(x)}o.remove()},bindEvent:g,unbindEvent:v};if(window.ttCollection){window.ttCollection.push(d)}else{window.ttCollection=[d]}return d};addOnload(function(){$("a[rel='tooltip']").each(function(){var c=$(this);var d=c.attr("data-msg");var a=c.attr("data-class");var b=new FKART.ui.Tooltip({message:d,nearElement:c,cssClass:a});c.click(function(){b.show()})})});FKART.ui.Popup=function(e){e.inside=e.inside||document.body;e.align=e.align||"center";var n=$(e.inside);var o=$(document.createElement("div")).addClass("fk-ui-popup");var d=$(document.createElement("div")).addClass("fk-ui-popup-container").appendTo(o);if(e.cssClass){o.addClass(e.cssClass)}var b;if(!e.hideHeader){b=$(document.createElement("div")).addClass("fk-ui-popup-header").html(e.header)}var f=e.hideHeader?d:b;var c=$(document.createElement("button")).addClass("fk-ui-popup-closebutton").appendTo(f);c.click(function(){a.hide()});if(!e.hideHeader){b.appendTo(d)}if(e.message){if(typeof(e.message)=="string"){$(document.createElement("div")).addClass("fk-ui-popup-message").html(e.message).appendTo(d)}else{$(e.message).data("parent",$(e.message).parent());$(e.message).remove().addClass("fk-ui-popup-message").appendTo(d).css({display:"block"})}}if(e.width){o.css("width",e.width)}o.appendTo(e.inside);var p=$(e.nearElement);function m(){var t={};t.top=p.offset().top-n.offset().top;t.left=p.offset().left-n.offset().left;var r=0;switch(e.align){case"left":r=o.outerWidth()-p.outerWidth()/2;break;case"right":r=p.outerWidth()/2;break;default:r=o.outerWidth()/2}var q={};q.left=t.left+p.outerWidth()/2-r;q.top=t.top+p.outerHeight()+5;o.css({left:q.left,top:q.top});if(e.repositionCallback){e.repositionCallback.call(o,q)}}function l(r){var q=$(r.target);if(!q.parents().is(".fk-ui-popup")&&!q.is(p)){a.hide()}}function g(q){if(q.keyCode==27){a.hide()}}var a={show:function(q){if(q){p=$(q)}m();o.show().scrollToView({edge:30});$(window).keydown(g);setTimeout(function(){$(document).click(l)},100)},changeContent:function(q){$(".fk-ui-popup-message",o).html(q)},changeNearElement:function(q){p=$(q);m()},repositionCallback:function(q){e.repositionCallback=q},hide:function(){o.hide();$(document).unbind("click",l);$(window).unbind("keydown",g)},getContainer:function(){return o}};return a};FKART.ui.Loader=function(c){if(this instanceof FKART.ui.Loader){var b=(c&&c.hasOwnProperty("msg"))?c.msg:null;var m=(c&&c.hasOwnProperty("modal"))?c.modal:false;var o=(c&&c.hasOwnProperty("size"))?c.size:"large";var f=(c&&c.hasOwnProperty("renderTo"))?$(c.renderTo):[];var a=(c&&c.hasOwnProperty("renderInside"))?$(c.renderInside):undefined;var d=(c&&c.hasOwnProperty("cssCls"))?c.cssCls:null;var g=(c&&c.hasOwnProperty("type"))?c.type:"positioned";var n=a||"body",l;this.count=0;if(g!="inline"||a){if(a){f=a}this.loaderObj=$(".loader:first").clone().appendTo(n);loaderBody=this.loaderObj.find(".loader-body");overlay=this.loaderObj.find(".loader-overlay");this.setMsg(b);if(o!="large"){loaderBody.addClass(o.toLowerCase())}overlay.toggleClass("loader-elem-overlay",(m&&f.length>0));overlay.toggle(m);if(f.length>0){this.alignLoader=function(){var r=f.offset();var q=parseInt(((f.outerHeight())/2)-((loaderBody.outerHeight())/2),10);var p=parseInt(((f.outerWidth())/2)-((loaderBody.outerWidth())/2),10);if(!a){q+=r.top;p+=r.left}loaderBody.css({position:"absolute",top:q,left:p});if(m){l={position:"absolute",height:f.outerHeight()+"px",width:f.outerWidth()+"px"};if(!a){l=$.extend(l,{top:r.top+"px",left:r.left+"px"})}overlay.css(l)}}}}else{var e;switch(o){case"small":e="/images/ajax-loader.gif";break;case"medium":e="/images/ajax-loader-transparent.gif";break;default:e="/images/ajax-loader_new.gif"}this.loaderObj=$(document.createElement("img")).attr("src",e).addClass("fk-ui-loader");if(f.length>0){this.loaderObj.appendTo(f)}}if(d!=null){this.loaderObj.addClass(d)}}else{return new FKART.ui.Loader(c)}};FKART.ui.Loader.prototype.show=function(a){this.count++;this.setMsg(a);this.loaderObj.show();if(typeof this.alignLoader!="undefined"){this.alignLoader()}};FKART.ui.Loader.prototype.hide=function(){if(this.count>0){this.count--}if(this.count==0){this.loaderObj.hide()}};FKART.ui.Loader.prototype.setMsg=function(a){if(typeof a=="string"){this.loaderObj.find(".msg").html(a)}};addOnload(function(){window.FKART.loader=new FKART.ui.Loader({modal:true,cssCls:"global-loader"})});FKART.ui.Alert=FKART.Alert=function(b){this.body=b.body;this.width=b.width;this.head=b.head?b.head:"";this.type=b.type?b.type:"error";this.buttons=b.buttons?b.buttons:null;this.destroyOnClose=b.destroy_on_close?b.destroy_on_close:false;this.id=b.id?b.id:"alert_"+(new Date).getTime();this.html;var c=null;var a=this;this.keyPress=function(f){var d=(f.keyCode?f.keyCode:f.which);if(d===27){a.close()}};this.show=function(){$(document).bind("keyup",this.keyPress);this.html.show();c.show()};this.close=function(){$(document).unbind("keyup",this.keyPress);if(this.destroyOnClose){this.html.remove()}else{this.html.hide()}c.hide()};this.init=function(){this.html='<div id="'+this.id+'" class="fk-alrt" style="width: '+this.width+'px;">';if(this.head){this.html+='<div class="hd">'+this.head+"</div>"}this.html+='<div class="bd '+this.type+'">'+this.body+"</div>";this.html+='<div class="fd">';if(this.buttons){for(var g in this.buttons){this.html+='<button class="btn btn-blue" id="'+g+'">'+this.buttons[g]+"</button>"}}this.html+='<button class="btn btn-gray cls lmargin10">Close</button>';this.html+="</div>";this.html+="</div>";this.html=$(this.html);$("body").append(this.html);var f=($(window).height()-this.html.height())/2+$(window).scrollTop();var e=($(window).width()-this.html.width())/2;this.html.css({top:f+"px",left:e+"px"});if(!$(".fk-shld").length){c=$('<div class="fk-shld"></div>');$("body").append(c)}else{c=$(".fk-shld");c.show()}var d=$("body").height();if(d<$(window).height()){d=$(window).height()}c.height(d);c.width($("body").width());c.one("click",function(){a.close()});$(".cls",this.html).click(function(){a.close()});this.show()};this.init();return this};FKART.ui.Dialog=function(w){w.width=w.width||"50%";w.height=w.height||"auto";w.showFooter=w.showFooter!=null?w.showFooter:true;w.showCloseIcon=w.showCloseIcon!=null?w.showCloseIcon:true;w.modal=w.modal!=null?w.modal:true;w.header=w.header||false;w.destroyOnHide=w.destroyOnHide||false;var a=false;var t=$(document.createElement("div")).addClass("fk-ui-dialog");if(w.cssClass){t.addClass(w.cssClass)}var n=$(document.createElement("div"));if(w.modal){var o=$(document.createElement("div"));o.addClass("shield").appendTo(t);if($.browser.msie&&$.browser.version=="6.0"){o.css("height",$(document).height()+"px")}o.bind("click",function(){r()})}n.addClass("window alpha30").appendTo(t);n.css({width:w.width,height:w.height});var e=$(document.createElement("div"));e.addClass("content").appendTo(n);if(w.header){var x=$($dc("dialog-header"));if(typeof w.header!="string"){$(w.header).remove().appendTo(x).css({display:"block"})}else{x.text(w.header)}x.appendTo(e)}var q=$($dc("dialog-body"));if(typeof w.body!="string"){$(w.body).remove().appendTo(q).css({display:"block"})}else{q.append(w.body)}q.appendTo(e);if(w.showFooter){var v=$(document.createElement("div")).addClass("dialog-footer line").appendTo(n);v.append($(document.createElement("div")).addClass("close-button close").text("Close window"));v.append($(document.createElement("div")).addClass("fclear"))}if(w.showCloseIcon){var p=$(document.createElement("span")).addClass("close-icon close");if(w.header){p.addClass("header-close-icon")}p.appendTo(n)}t.appendTo("body");function u(){var z=($(window).height()-n.outerHeight())/2;var y=($(window).width()-n.outerWidth())/2;z=z>0?z:5;y=y>0?y:5;if(n.outerHeight()>$(window).height()||n.outerWidth()>$(window).width()){n.addClass("window-absolute");z=z+$(window).scrollTop()}else{n.removeClass("window-absolute")}n.css({top:z+"px",left:y+"px"})}var l=throttle(u,100);t.on("click",".close",function(){r()});function f(z){var y=(z.keyCode?z.keyCode:z.which);if(y===27){r()}}function c(y){t.find(".dialog-header").html(y)}function b(y){n.css("width",y);u()}function d(y){n.css("height",y);u()}function m(){t.trigger("beforeShow");t.css({visibility:"hidden",display:"block"});u();t.css("visibility","visible");a=true;t.trigger("afterShow");$(document).bind("keyup",f);$(window).bind("resize",l)}function r(){t.trigger("beforeHide");t.css("display","none");a=false;t.trigger("afterHide");$(document).unbind("keyup",f);$(window).unbind("resize",l);if(w.destroyOnHide){t.remove()}}function g(y){t.find(".dialog-body").html(y);u()}return{show:m,hide:r,updateHeader:c,updateContent:g,setWidth:b,setHeight:d,bindEvent:function(y,z){t.bind(y,z)},unbindEvent:function(y,z){t.unbind(y,z)},isOpen:function(){return a},getContainer:function(){return t},getDialogBody:function(){return q},reposition:u,destroy:function(){r();t.remove()}}};(function(a){a.fn.delayedHover=function(e,b,c,d){c=c||200;d=d||0;return this.each(function(){var l=a(this),g=this;var f=null;l.bind("mouseenter",function(m){f=true;setTimeout(function(){if(f==true){e.call(g,m)}},c)});l.bind("mouseleave",function(m){f=false;setTimeout(function(){if(!f){b.call(g,m)}},d)})})}})(jQuery);(function(b){function a(f,e,c){var d=e.id;if(f!=null&&f.id!=e.id){b("#"+f.id+"-content").fadeOut(c);b(f).removeClass("selected")}b(e).addClass("selected");b("#"+e.id+"-content").fadeIn(c)}b.fn.tabs=function(c){return this.each(function(){var m=b(this);var l=b.extend({clickDisabled:true,fadeDuration:0},c);var g=null;if(m.find(".tab.selected").length>0){g=m.find(".tab.selected")[0]}var e=this;var d={changeTab:function(n){if(typeof n==="string"){n=document.getElementById(n)}f(n,l.fadeDuration)},getCurrentTab:function(){return g},getContainer:function(){return e}};m.data("tabs_instance",d);m.find(".tab").click(function(){f(this,l.fadeDuration);if(l.clickDisabled){return false}});function f(o,n){a(g,o,n);b(e).trigger("tabChange",[o]);g=o}})}})(jQuery);(function(a){a.fn.ajaxTabs=function(b){return this.each(function(){var d=a(this);d.tabs();var c=d.data("tabs_instance");d.bind("tabChange",function(g,m){var l=m.id;var f=a(m);var e=f.attr("data-ajax-url");if(e){var n=a.get(e);n.done(function(o){a("#"+l+"-content").html(o);FKART.utils.runOnload();FKART.linkTracking.parse();if(b.callback){b.callback()}f.removeAttr("data-ajax-url")});n.fail(function(p){var q=a("#"+l+"-content").html();var o=a($dc("fk-text-center")).append("Oops! Something went wrong. ");var r=a($dc("fk-underline","a")).append("retry").click(c.changeTab.curry(l)).click(function(){a("#"+l+"-content").html(q)});o.append(r);a("#"+l+"-content").empty().append(o)})}});if(typeof b.startIndex!="undefined"){c.changeTab(d.find(".tab")[b.startIndex].id)}})}})(jQuery);FKART.ui.HoverTooltip=function(d){var m,b,e,f=false;d.extraHoverArea=d.extraHoverArea==null?true:d.extraHoverArea;d.attachTo=d.attachTo||d.nearElement;d.destroyTimeout=d.destroyTimeout==null?5000:d.destroyTimeout;d.openDelay=d.openDelay||200;d.closeDelay=d.closeDelay||0;d.autoDestroy=d.autoDestroy||false;$(d.attachTo).delayedHover(function(n){if(e){clearTimeout(e)}if(!f&&m==null){a()}if(m){m.show(this)}if(typeof d.hoverCallback==="function"){d.hoverCallback.call()}},function(n){if(typeof d.hoverOutCallback==="function"){d.hoverOutCallback.call()}if(!d.autoDestroy&&$(n.relatedTarget).parents().filter(b).length==1){return}if(m){m.hide()}g()},d.openDelay,d.closeDelay);function l(){$(b).delayedHover(function(){if(m){m.show()}},function(n){if(!d.autoDestroy&&$(n.relatedTarget).parents().filter(d.attachTo).length==1){return}if(m){m.hide()}g()})}function g(){if(e){clearTimeout(e)}if(d.destroyTimeout>0){e=setTimeout(function(){if(m){m.destroy();m=null;if(d.autoDestroy){f=true}}},d.destroyTimeout)}}function a(){m=new FKART.ui.Tooltip(d);b=m.getContainer();l()}function c(){if(m===null){a()}return m}return{init:a,getInstance:c}};
/*!
 * jQuery serializeObject - v0.2 - 1/20/2010
 * http://benalman.com/projects/jquery-misc-plugins/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(a,b){a.fn.serializeObject=function(){var c={};a.each(this.serializeArray(),function(e,f){var g=f.name,d=f.value;c[g]=c[g]===b?d:a.isArray(c[g])?c[g].concat(d):[c[g],d]});return c}})(jQuery);(function(a){a.fn.collapser=function(f){var e={toggle:function b(l){a(l).toggleClass("collapsed");this.showHtml(l)},show:function c(l){if(a(l).is(".collapsed")){a(l).removeClass("collapsed")}this.showHtml(l)},hide:function d(l){if(!a(l).is(".collapsed")){a(l).addClass("collapsed")}this.showHtml(l)},showHtml:function(l){if(a(l).is(".collapsed")&&f.indicatorHtml){a(l).find(".fk-collapser").html("+")}else{if(!a(l).is(".collapsed")&&f.indicatorHtml){a(l).find(".fk-collapser").html("-")}}}};function g(m){var l=a(m).find(".fk-collapser");a(l).click(function(){e.toggle(m)})}return this.each(function(){var l=a(this);if(l.data("panel-binded")==null){g(this);l.data("panel-binded",true)}if(f.action!=null){e[f.action](l)}})}})(jQuery);(function(a){a.truncate=function(c,b){if(typeof c=="string"&&c.length>b){return c.substr(0,b)+"..."}return c}})(jQuery);FKART.ui.Placeholder=new function(){var a=("placeholder" in document.createElement("input"));this.init=function(b){if((!a||b)){$("input[placeholder],textarea[placeholder]").not(".placeholder-added").focus(function(){var c=$(this);if(c.val()==c.attr("placeholder")){c.val("");c.removeClass("placeholder")}}).blur(function(){var c=$(this);if(c.val()==""||c.val()==c.attr("placeholder")){c.addClass("placeholder");c.val(c.attr("placeholder"))}}).blur().addClass("placeholder-added").closest("form").submit(function(){$(this).find("input[placeholder],textarea[placeholder]").each(function(){if($(this).defaultVal()==""){var c=$(this).val("");setTimeout(function(){c.blur()},200)}})})}}};(function(a){a.fn.defaultVal=function(){var b=function(c){c=a(c);return(c.attr("placeholder")!=undefined&&(a.trim(c.val()).replace(/\r/g,"")==c.attr("placeholder").replace(/\r/g,"")))};return(b(this))?"":a(this).val()}})(jQuery);FKART.ui.Maxlength=function(){$("textarea[maxlength]").keyup(function(d){var c=$(this);var b=c.attr("maxlength");var f=c.val();var e=f.length;var a=$("#"+c.attr("for"));if(e>b){if(a.length>0){a.html("You cannot write more than "+b+" characters!")}c.val(f.substr(0,b));return false}else{if(a.length>0){a.html("You have "+(b-e)+" characters left.")}return true}}).keydown(function(c){var a=$(this).attr("maxlength");var b=c?c.which:window.event.keyCode;if(this.value.length>=a){if(b>46&&b<112||b>123&&b!=17){return false}}})};addOnload(function(){FKART.ui.Placeholder.init();FKART.ui.Maxlength()});FKART.ui.CarouselLoader=function(o){var m;var d=$.extend({productsPerScroll:1,noOfVisibleItems:1,itemsPerSlide:1,showLoader:false,typeOfRequest:"POST",containerCSS:""},o);var n=function(){if(d.showLoader){new FKART.ui.Loader({type:"inline",renderTo:d.carouselContainer,size:"large",cssCls:"recom-loader"}).show()}var p=$.extend({},d.requestParams,{itemsPerSlide:d.itemsPerSlide});$.ajax({url:d.url,type:d.typeOfRequest,data:p,cache:false,dataType:"html",success:g,error:e})};function e(){$(d.carouselContainer).hide();$(d.carouselContainer).trigger("response-failed")}function l(p){$(p).closest(".carousel-parent").show()}function a(){var p=$(d.carouselContainer);p.hide();p.trigger("response-failed")}function g(q){if(strip(q)!=""){var r=$(d.carouselContainer);if(d.containerCSS!=""){r.addClass(d.containerCSS)}var p=d.title||"";r.html(q);l(r);if(d.hideTitle){r.find(".carousel-title").remove()}else{r.find(".carousel-title").html(p)}b()}else{a()}}var b=function(){m=$(d.carouselContainer).find(".fk-carousel");d.carouselSize=parseInt(m.attr("data-carouselSize"));if(typeof($.jcarousel)=="undefined"){require_module.js("carousel",c)}else{c()}};function f(){if(d.carouselSize>d.noOfVisibleItems){return{buttonNextHTML:"<input type='button' />",buttonPrevHTML:"<input type='button' />"}}return}function c(){var p=f();var q=$.extend({scroll:d.productsPerScroll,visible:d.noOfVisibleItems,size:d.carouselSize},p);$(m).is(":visible")&&$(m).jcarousel(q)}return{initAjaxCall:n,initCarousel:b}};FKART.ui.AjaxModalDialog=function(q){var c,o,d=$.extend({},q);var m={url:d.url,dataType:d.dataType||"json",success:function(r){if(r.status=="ok"&&r.status!=null){var p=d.body;if(p){$(".response-body",p).empty();if(r.data&&r.data.html){$(p).prepend(r.data.html);c.getContainer().find(".dialog-body").html($(p))}}else{c.getContainer().find(".dialog-body").html(r.data.html)}FKART.utils.runWindowOnload();FKART.utils.runOnload()}else{e();new FKART.Alert({body:r.msg,destroy_on_close:true,width:500})}},error:e};var l=function(){c=new FKART.ui.Dialog(d);c.bindEvent("beforeShow",function(){n(c)})};l();function n(p){c.getContainer().find(".dialog-body").html(getLoader())}function a(p){o=$.ajax($.extend(m,p));return o}function e(){c.hide()}function g(p){c.show();return a(p)}var f=function(){};f.prototype=c;var b=new f();b.show=g;return b};FKART.HighlightSection=(function(){var u={width:0,height:0,y:0,x:null,onElement:null,windowHeight:0},c=$("body"),n=$(window),t,f,g,d,x;function r(y){t.css({height:y.y});f.css({height:y.height,width:y.x,top:y.y});g.css({height:y.windowHeight,width:y.width,left:y.x,top:y.y+y.height-y.windowHeight});d.css({width:$(window).width()-y.x-y.width,height:y.height,top:y.y});x.css({height:$(window).height()-y.y-y.height})}function m(y){t=$("<div>",{"class":"fk-ui-top-area fk-ui-wall"}).appendTo(c);f=$("<div>",{"class":"fk-ui-left-area fk-ui-wall"}).appendTo(c);g=$("<div>",{"class":"fk-ui-window-area"}).appendTo(c);d=$("<div>",{"class":"fk-ui-right-area fk-ui-wall"}).appendTo(c);x=$("<div>",{"class":"fk-ui-bottom-area fk-ui-wall"}).appendTo(c);r(q(y));a()}function a(){$(document).keyup(function(y){if(y.keyCode===27){$.event.trigger({type:"clicked-outside-hightlight"})}});t.click(function(){$.event.trigger({type:"clicked-outside-hightlight"})});f.click(function(){$.event.trigger({type:"clicked-outside-hightlight"})});d.click(function(){$.event.trigger({type:"clicked-outside-hightlight"})});x.click(function(){$.event.trigger({type:"clicked-outside-hightlight"})})}function v(){t.fadeIn("slow");f.fadeIn("slow");d.fadeIn("slow");x.fadeIn("slow");g.fadeIn("slow");c.addClass("block-scroll")}function p(y){r(q(y))}function l(){t.fadeOut("fast");f.fadeOut("fast");d.fadeOut("fast");x.fadeOut("fast");c.removeClass("block-scroll")}function w(){t.remove();f.remove();d.remove();x.remove();g.remove()}function o(z,y){c.find(".fk-ui-"+z+"-area").html(y)}function q(y){$.extend(u,y);if(u.onElement&&$(u.onElement).length==1){var z=$(u.onElement);$.extend(u,{height:z.outerHeight(),width:z.outerWidth(),x:z.offset().left-window.scrollX,y:z.offset().top-window.scrollY})}else{if(u.x==null){$.extend(u,{x:($(window).width()-u.width)/2})}}return u}function b(y){f.css({height:y});g.css({top:u.y+y-u.windowHeight});d.css({height:y});x.css({height:$(window).height()-u.y-y})}function e(){return g}return{create:m,show:v,hide:l,destroy:w,changeHeight:b,changePosition:p,getMainContainer:e,dumpHTML:o}})();FKART.shortList=(function(){var V=JSON.parse(localStorage.getItem("newShortlistedProducts")||'{"products":{},"selectedCategory":"all"}');var c=JSON.parse(localStorage.getItem("isUserEducated"))||false;var T=V.products;var w=$("#shortListDiv");var Z=$(".counter",w);var H=$(".filler",w);var g=$(".shortListButton",w);var Q=$(".mainContainer",w);var o=$(".errorContainer",w);var r=$(".clear-link",w);var x=$(".compare-link",w);var N=$("body");var v=[];var C=[];var ac=0;var P=7;var l=30;var f;var b=false;var ab=null;var U;function Y(ag,af){af=af.toString();if(T.hasOwnProperty(ag)){var ae=T[ag];if(typeof ae=="undefined"){T[ag]=[af];I(ag)}else{if(ae.hasOwnProperty(af)){var ad=ae.indexOf(af);if(ad==-1){ae.unshift(af);T[ag]=ae;y(ag)}else{return}}}}V.selectedCategory=ag;V.products=T;K();if(v.indexOf(af)==-1){v.unshift(af)}ac++;G(true);if(b){O()}}function M(ae){if(ac>=l){return true}if(T.hasOwnProperty(ae)){var ad=T[ae];if(typeof ad!="undefined"&&ad.length>=P){return true}else{return false}}else{return false}}function F(ad){if(!b){b=true;J(true);w.addClass("expanded")}V.selectedCategory=ad;K();if(v.length>0){O()}else{if(f.val()!=ad){B()}}}function m(){var ad="You can not shortlist more than "+P+" products in <strong><em>"+z(V.selectedCategory)+"</em></strong>. Please remove some products and try again.";if(ac>=l){ad="You can not shortlist more than "+l+" products. Please remove some products and try again. "}D(ad)}function J(ad){sessionStorage.setItem("do-not-remind",ad)}function d(){if(sessionStorage.getItem("do-not-remind")==null||sessionStorage.getItem("do-not-remind")=="false"){return true}else{return false}}function a(ad){V.selectedCategory=ad;var ae="You have already shortlisted a few products in <strong><em>"+z(V.selectedCategory)+"</em></strong><label class='fk-fontlight fk-display-block fk-pointer tmargin10'><input onchange='FKART.shortList.setReminderStatus(this.checked)' type='checkbox' class='rmargin5'>Don't remind me again.</label>";D(ae)}function D(ad){if(typeof U=="undefined"){U=new FKART.ui.Tooltip({message:ad,nearElement:g,align:"l-middle",inside:w,showCloseIcon:false,showCloseButton:true,cssClass:"fk-ui-tooltip-shortlist",topGap:50})}else{U.updateContent(ad)}U.show()}function B(){var ad=V.selectedCategory;f.val(ad);if(ad=="all"){Q.find(".product-thumb").slideDown(200)}else{Q.find(".product-thumb").show();if(T.hasOwnProperty(ad)){Q.find(".product-thumb:not([data-vertical='"+ad+"'])").slideUp(200)}}setTimeout(function(){L()},400)}function e(ah,ag){if(T.hasOwnProperty(ah)){var af=T[ah];if(typeof af!="undefined"&&af.hasOwnProperty(ag)){var ad=af.indexOf(ag);if(ad>-1){af.splice(ad,1);T[ah]=af;V.products=T;K();y(ah);var ae=v.indexOf(ag);if(ae>-1){v.splice(ae,1)}if(v.length==0){o.hide()}Q.find(".product-thumb[data-pid='"+ag+"']").slideUp(function(){$(this).remove();L()});ac--;G()}}}}function K(){localStorage.setItem("newShortlistedProducts",JSON.stringify(V))}function G(ad){Z.html(ac);H.css({width:(ac/l)*100+"%"})}function t(ae,ad){if(T.hasOwnProperty(ae)){var af=T[ae];if(typeof af!="undefined"){if(af.indexOf(ad)!=-1){return true}return false}}return false}function E(ad){if(T.hasOwnProperty(ad)){var ae=T[ad];if(typeof ae!="undefined"&&ae.length>0){return true}}return false}function L(){var ad=f.val();if(Q.find(".product-thumb:visible").length>0){!r.is(":visible")&&r.show()}else{r.hide()}if(Q.find(".product-thumb:visible").length>1&&C.indexOf(ad)!=-1){x.slideDown()}else{x.slideUp()}}function p(ah){var ag=[],af=Q.find(".product-list"),ad=af.data("disable-offers");$.each(ah,function(ak,al){var ai=v.indexOf(ak);if(ai>-1){var aj="na";if(typeof al.anltData!="undefined"&&typeof al.anltData.anlt_category!="undefined"){aj=al.anltData.anlt_category}if(al.isComparable&&C.indexOf(al.vertical)==-1){C.push(al.vertical)}ag.push('<div data-pid="'+ak+'" data-vertical="'+al.vertical+'" class="product-thumb">');ag.push('<a title="Remove" class="close" href="javascript:void(0);"></a>');ag.push('<a class="product-main" href="'+al.href+"&icmpid=Shortlist_"+aj+'">');if(!ad&&al.offerTag){ag.push(al.offerTag)}ag.push('<div class="image-block '+al.productState+'"><img src="'+al.imgSrc+'"/></div>');ag.push('<div class="product-info">');ag.push('<span class="title fk-font-11 fk-font-light">'+al.title+"</span>");if(al.productState=="obsolete"){ag.push('<span class="productState">Discontinued</span>')}else{ag.push('<span class="price fk-font-12 font-color-dark">Rs. '+al.price+"</span>")}ag.push("</div>");ag.push("</a>");ag.push("</div>");v.splice(ai,1)}});var ae=$("<div/>").html(ag.join("")).contents();af.prepend(ae);if(v.length>0){o.show()}else{o.hide()}B()}function z(ah){var ae=ah.split(/\s|_/);var ad=[];for(var ag=0,af=ae.length;ag<af;ag++){if(ae[ag].toLowerCase()!="new"){ad.push(ae[ag].substr(0,1).toUpperCase()+ae[ag].substr(1).toLowerCase())}}return ad.join(" ")}function R(){return ac}function W(){ab.abort();ab=null}function O(){if(ab){W()}ab=$.ajax({type:"GET",url:"/xhr/getDataForShortlistProducts",data:{pids:JSON.stringify(v)},success:function(ad){p(JSON.parse(ad)["data"])}})}function I(ad){f.append('<option value="'+ad+'">'+z(ad)+" ("+T[ad].length+")</option>")}function y(ad){var ae=z(ad)+" ("+T[ad].length+")";$('option[value="'+ad+'"]',f).text(ae)}function n(){f=$("<select></select>").attr("id","category-dropdown").attr("name","category-filter");f.append('<option selected="selected" value="all">All</option>');Q.find(".categoryContainer").append(f)}function A(){o.hide();if(v.length>0){O()}}function q(){$.each(T,function(ae,ad){if(ad.length==0){delete T[ae];if(ae==V.selectedCategory){V.selectedCategory="all"}}else{$.each(ad,function(af,ag){ag=ag.toString();v.push(ag);ac++});I(ae)}});V.products=T;K()}function u(){var ag=document.createElement("div");ag.style.visibility="hidden";ag.style.width="100px";ag.style.msOverflowStyle="scrollbar";document.body.appendChild(ag);var ae=ag.offsetWidth;ag.style.overflow="scroll";var ad=document.createElement("div");ad.style.width="100%";ag.appendChild(ad);var af=ad.offsetWidth;ag.parentNode.removeChild(ag);var ah=ae-af;if((ah)>0){Q.css({width:Q.innerWidth()+ah});w.css({right:parseInt(w.css("right"))-ah})}}function X(){u();n();q();G();aa();if(N.hasClass("showIntroScreen")&&!c&&ac==0){S()}else{N.removeClass("showIntroScreen")}}function S(){if($(window).scrollTop()!=0){window.scrollTo(0,0)}var ad=$(".browse-product",$(".browse-grid-row")[0]).first();ad.addClass("selected");FKART.HighlightSection.create({onElement:ad});FKART.HighlightSection.dumpHTML("right",'<div class="lpadding25"><span class="left-moving-arrow fllt">Click here to shortlist a product</span></div>');FKART.HighlightSection.dumpHTML("top",'<div class="rpadding55"><span class="right-moving-arrow flrt">Click here to see all shortlisted products</span></div>');FKART.HighlightSection.show();$(document).on("clicked-outside-hightlight",function(){c=true;localStorage.setItem("isUserEducated",JSON.stringify(c));ad.removeClass("selected");FKART.HighlightSection.hide();setTimeout(function(){FKART.HighlightSection.destroy();N.removeClass("showIntroScreen")},2000)})}function aa(){g.click(function(){if(b){b=false;w.removeClass("expanded");o.hide()}else{b=true;J(true);w.addClass("expanded");FKART.omni.customEvent("Shortlist opened",{prop5:"ShortlistPopup_open"});if(v.length>0){O()}}});f.change(function(){var ad=$(this).val();V.selectedCategory=ad;K();B();r.hide();setTimeout(function(){if(Q.find(".product-thumb:visible").length>1&&!r.is(":visible")){r.fadeIn()}},400);FKART.omni.customEvent("Shortlist Category Change",{prop5:ad+"_ChangeCategory"})});w.delegate(".close","click",function(af){af.stopPropagation();var ae=$(this).parents(".product-thumb");var ad=ae.data("pid").toString();EventBus.publish("shortlist.deleted",[ad]);e(ae.data("vertical"),ad);FKART.omni.customEvent(ad,{events:"event14",prop5:"ShortlistPopup"})});x.click(function(){var ad=f.val();fk_compare.goToCompare(null,f.val(),"shortlisted",T[ad])});r.click(function(){var ae=f.val();var ad;if(ae=="all"){$.each(T,function(ag,af){af=T[ag].slice();EventBus.publish("shortlist.deleted",af);$.each(af,function(ah,ai){e(ag,ai)})})}else{ad=T[ae].slice();EventBus.publish("shortlist.deleted",ad);$.each(ad,function(af,ag){e(ae,ag)})}FKART.omni.customEvent("Shortlist cleared",{prop5:"ShortlistPopup_clear_"+ae})})}if(w.length){setTimeout(function(){X()},1000)}return{addItem:Y,deleteItem:e,getCount:R,hasItem:t,retry:A,hasLimitReached:M,showLimitReachedError:m,open:F,showIntroductionScreen:S,hasItemsInVertical:E,alreadyHaveInfo:a,setReminderStatus:J,getReminderStatus:d}})();(function(){var b=function(){this.players=[];this.initialized=false;this.init=function(){var c=document.createElement("script");c.src="http://www.youtube.com/player_api";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)};this.render=function(e,f){var d=$("#"+e);var o=f.height;var c=f.width;var m=f.videoId;var l=f.callbacks;var n;if(this.initialized){n=new YT.Player(e,{height:o,width:c,videoId:m});d.data("player",n);for(var g in l){n.addEventListener(l[g].event,l[g].action)}}else{this.players.push({elemId:e,params:f})}};this.processPlayers=function(){var c=this;$(this.players).each(function(d,e){c.render(e.elemId,e.params)})}},a;FKART.ui.youtubeWidget=function(){if(!a){a=new b()}return a}}());(function(l,n){l.FKART=l.FKART||{};var f=window.document,d=f.createElement("iframe"),a=false,e=[],o=false,g=null;d.style.position="absolute";d.style.top="-5000px";d.style.width="0";d.style.height="0";d.style.margin="0";d.style.display="none";function m(){b()}function c(){if(!o){b()}}function b(){if(!a){f.body.appendChild(d);a=true}clearTimeout(g);if(!e.length){o=false;return}var p=e.shift();d.src=p.url;d.onload=function(){p.callback(undefined,p);m()};o=true;g=setTimeout(function(){p.callback({error:"Time out",type:"timeout"},p);b()},p.timeout*1000)}n.prefetch=function(q,r){var p={timeout:3,callback:function(){}};if($.isPlainObject(q)){$.extend(p,q)}else{$.extend(p,{url:q,callback:r})}e.push(p);c()}})(this,FKART);FKART.login={initialized:false,newLoginPopupInitialized:false,newSignupPopupInitialized:false,redirect:true,referrer:window.location.href,isNewLoginFlow:function(){return($("#loginWithOtpFlow").length>0)?true:false}(),isUserLoggedIn:function(){if(FKART.LOGGEDIN){return true}else{return false}},sendIframeRequest:function(l,c,f,g){var b=document.getElementById("new-login-signup-iframe"),e=$(b).data("secureurl");function d(m){if(m){if(m.status=="ok"){if(typeof(g.success)=="function"){g.success(m.data)}}else{if(typeof(g.error)=="function"){g.error(m.msg,m.data)}}return}else{if(typeof(g.error)=="function"){g.error()}}}var a=new FKART.XDR({iframe:b,hasNestedCb:true});a.makeRequest(e+""+c,{type:l,data:f},d)},reset:function(){$("#login_tiny_help_message, #login_tiny_help_message2, #frgt_passwd_suc, #frgt_passwd_div").hide();$('#login_email_id[type="text"], #frgt_paswd_email_id, #login_password').val("");FKART.login.loader.hide()},showPopup:function(f,a,e,m,d){FKART.login.referrer=f==null?document.URL:f;FKART.login.redirect=a==null?true:a;FKART.login.type=e;if(!FKART.login.isNewLoginFlow){FKART.omni.customEvent("Login Attempt",{events:"event12"});if(!FKART.login.initialized){FKART.login.init(f,a)}FKART.login.reset();if($(".from-header").length>0){$("#fromHeader").attr("value",true)}$("#signup-dialog").hide();$("#login-dialog").show();m&&$("#login-message").show().html(m);FKART.login.dialog.show();$("#login_email_id").focus()}else{FKART.omni.customEvent("Verification Flow",{prop21:"show_login_popup"});var g=$("#login-signup-newDialog"),b=g.find(".new-login-dialog-wrap"),c=g.find(".new-signup-dialog-wrap");if(!FKART.login.newDialog){var l=FKART.login.isUserLoggedIn()?"dialogNewLoginSignup loggedin":"dialogNewLoginSignup";FKART.login.newDialog=new FKART.ui.Dialog({body:g,width:845,cssClass:l,showFooter:false})}b.show();c.hide();if(!FKART.login.newLoginPopupInitialized){FKART.login.newLogin=FKART.login.initNewloginpageEvents(b);FKART.login.newLoginPopupInitialized=true}if(!d){FKART.login.newDialog.show()}FKART.login.newLogin.getInitial(d)}$(".fk-button-social").each(function(){$(this).attr("href",updateQueryStringParameter($(this).attr("href"),"rd",FKART.login.referrer))});return false},initNewloginpageEvents:function(o){var N=o,W=N.find(".login-wrap"),f=W.find(".err_text"),d=W.find(".succ_text"),E=W.find(".info_text"),F=W.find(".new-login-form"),u=F.find(".user-email"),U=F.find(".user-mobile"),G=F.find(".user-otp"),x=F.find(".user-pwd"),p=F.find(".user-set-pwd"),aa=F.find(".show-setpwd"),Y=F.find(".show-enterpwd"),C=F.find(".frgt-pswd"),L=F.find(".login-resend-otp"),A=F.find(".login-change-email"),J=W.find(".login-form-input"),M=F.find(".login-btn"),b=F.find(".login-submit-btn"),z=F.find(".login-social-wrap"),O=z.find(".social_fb"),t=z.find(".social_google"),V=F.find("input.num-six"),H=F.find("input.num-ten"),B=new FKART.ui.Loader({type:"modal",renderTo:".login-wrap",size:"medium"}),T=new FKART.ui.Loader({modal:true,cssCls:"global-loader"}),m,X="",r="",K="",ab=false;V.on("keydown",function(ae){var ac=$(this).val().length;ae=ae||window.event;var ad=ae.keyCode||ae.which;if((((ad>=48&&ad<=57)||(ad>=96&&ad<=105))&&(ac<6))||(ad==8)||(ad==46)||(ad==37)||(ad==39)||((ae.ctrlKey||ae.metaKey)&&(ad==118||ad==86))){return true}return false});H.on("keypress",function(ae){var ac=$(this).val().length,ad=ae.keyCode||ae.which;ae=ae||window.event;if(((ad>=48&&ad<=57)&&(ac<10))||(ad==8)||(ad==46)){return true}return false});H.on("keyup",function(ad){var ac=$(this).val().length;if(ac>=1){$(this).parent().addClass("mno-input")}else{$(this).parent().removeClass("mno-input")}});u.on("keyup",function(ad){var ae=$(this).val(),ac=ae.length;if((/^\d+$/.test(ae)&&(ac>=1)&&(ac<=10))){$(this).parent().addClass("mno-input")}else{$(this).parent().removeClass("mno-input")}if((ac>0)||(code!=37)||(code=!39)){M.attr("disabled",false)}else{M.attr("disabled",true)}});x.on("keypress",function(ad){ad=ad||window.event;var ac=ad.keyCode||ad.which;if(ac==13){M.trigger("click")}});p.on("keypress",function(ad){ad=ad||window.event;var ac=ad.keyCode||ad.which;if(ac==13){b.trigger("click")}});U.on("keypress",function(ad){ad=ad||window.event;var ac=ad.keyCode||ad.which;if(ac==13){M.trigger("click")}});C.on("click",function(){var ag=u.val(),ah="",ae="",af=false,ad=false;var ac={email:true};B.show();v();if(!c(ac)){B.hide();return}m=ag;FKART.login.sendIframeRequest("POST","/account/getRegistrationStatus",{contact_id:m},{success:function(ai){B.hide();af=ai&&ai.exist;ae=ai&&ai.accType;if(ae=="CHURNED"){FKART.omni.customEvent("Verification Flow",{events:"et102"});S("Your phone number seems to have changed.<br/>Please contact customer support to update it.")}else{if(ae=="INACTIVE"){K="FKINA";x.parent().hide();C.hide();M.val("Continue");u.attr("disabled",true);A.show();S("Account is currently inactive. Click continue to reactivate");M.off().on("click.reactivateLogin",function(){v();ah=ai.state;e(ah);G.val("");aa.hide();FKART.omni.customEvent("Verification Flow",{prop21:K+"_continue_reactivate"});q(m,Q,function(){})})}else{if(af){ah=ai.state;ad=ai.isSociaId;e(ah);FKART.omni.customEvent("Verification Flow",{prop21:K+"_frgtPwdLink_clicked"});if((ah=="SOCIAL_GOOGLE"||ah=="SOCIAL_FB")&&ad){var aj={email:m};l(aj);M.attr("disabled",false)}else{G.val("");aa.hide();q(m,Q,function(){})}}else{S("You are not registered with us. Please sign up to create an account.")}}}},error:function(aj,ai){S(aj,null,null,null);B.hide()}})});aa.on("click",function(){var ad="";if($(this).text()==="show"){$(this).text("hide");ad="text"}else{$(this).text("show");ad="password"}var ac=$("<input type='"+ad+"' />").attr("class",p.attr("class")).attr("placeholder",p.attr("placeholder")).val(p.val()).insertBefore(p);p.remove();p=ac;p.on("keyup",function(){y($(this).val())});p.on("keypress",function(af){af=af||window.event;var ae=af.keyCode||af.which;if(ae==13){w()}})});Y.on("click",function(){var ad="";if($(this).text()==="show"){$(this).text("hide");ad="text"}else{$(this).text("show");ad="password"}var ac=$("<input type='"+ad+"' />").attr("class",x.attr("class")).attr("placeholder",x.attr("placeholder")).val(x.val()).insertBefore(x);x.remove();x=ac;x.on("keyup",function(){a($(this).val())});x.on("keypress",function(af){af=af||window.event;var ae=af.keyCode||af.which;if(ae==13){M.trigger("click")}})});L.on("click",function(){B.show();v();FKART.omni.customEvent("Verification Flow",{prop21:K+"_resendOtpLink_clicked"});q(m,function(){})});A.on("click",function(){n()});p.on("keyup",function(){y($(this).val())});x.on("keyup",function(){a($(this).val())});G.on("paste",function(){setTimeout(function(){R()},0)});G.on("keyup",function(){R()});M.on("click.loginWithoutOtp",function(){P()});b.off().on("click.resetPwd",function(){w()});O.on("click",function(){B.show();FKART.omni.customEvent("Verification Flow",{prop21:"social_fb_clicked"})});t.on("click",function(){B.show();FKART.omni.customEvent("Verification Flow",{prop21:"social_google_clicked"})});var n=function(ac){v();m="";X="";K="";ab=false;G.val("").parent().hide();U.val("").parent().hide();p.val("").parent().hide();u.val("").removeAttr("disabled");u.parent().removeClass("mno-input");G.val("").removeAttr("disabled");x.val("").removeAttr("disabled");x.parent().show();L.parent().removeClass("wrong-otp correct-otp");u.focus();A.hide();C.show();z.show();M.val("Login");M.parent().show();b.parent().hide();b.off().on("click.resetPwd",function(){w()});if(ac&&ac.email&&ac.msg){T.show();l(ac);M.attr("disabled",false)}else{M.off().on("click.loginWithoutOtp",function(){P()});M.attr("disabled",true)}};var w=function(){b.attr("disabled",true);var ae=p.val(),ad=G.val();B.show();v();var ac={otp:true,setPwd:true};if(!c(ac)){b.attr("disabled",false);B.hide();return}FKART.login.sendIframeRequest("POST","/account/resetPasswordOtp",{contact_id:m,password:ae,otp_key:X,otp:ad},{success:function(af){FKART.login.loginUser(m,FKART.login.referrer,function(){B.hide();b.attr("disabled",false);FKART.omni.customEvent("Verification Flow",{prop21:K+"_resetPwd_login_success"})})},error:function(ah,af){var ag;B.hide();b.attr("disabled",false);if(af&&af.field){if(af.field=="otp"){ag=G}else{if(af.field=="password"){ag=x}}S(ah,null,null,ag)}else{S(ah);FKART.omni.customEvent("Verification Flow",{prop21:K+"_resetPwd_login_failed"})}}})};var R=function(){var ad=G.val();if(ad.length<6){M.attr("disabled",true);L.parent().removeClass("wrong-otp correct-otp");return}var ac={otp:true};B.hide();B.show();v();if(!c(ac)){B.hide();return}G.off("keyup paste");FKART.login.sendIframeRequest("POST","/account/validateOtp",{contact_id:m,otp:ad,otp_key:X},{success:function(ae){r=ad;if(ab){p.attr("disabled",false);b.attr("disabled",false)}else{M.attr("disabled",false)}B.hide();L.parent().removeClass("wrong-otp").addClass("correct-otp");G.attr("disabled",true);G.on("paste",function(){setTimeout(function(){R()},0)});G.on("keyup",function(){R()})},error:function(ae){B.hide();S(ae);L.parent().removeClass("correct-otp").addClass("wrong-otp");FKART.omni.customEvent("Verification Flow",{prop21:K+"_OTP_Verification_Failed"});G.on("paste",function(){setTimeout(function(){R()},0)});G.on("keyup",function(){R()})}})};var y=function(ac){if(ac.length>0){aa.show()}else{aa.hide()}};var a=function(ac){if(ac.length>0){Y.show()}else{Y.hide()}};var P=function(){var ae,ag,ad={},af="";M.attr("disabled",true);ae=u.val();ag=x.val();B.show();v();var ac={email:true,pwd:true};if(!c(ac)){B.hide();M.attr("disabled",false);return}m=ae;v();FKART.login.sendIframeRequest("POST","/account/loginWithoutOtp",{contact_id:m,password:ag},{success:function(ah){af=ah.state&&ah.state.toUpperCase();if(af=="LOGIN_INACTIVE"){B.hide();S("Account is currently inactive. Click continue to reactivate.");M.attr("disabled",false);M.val("Continue");u.attr("disabled",true);x.attr("disabled",true);C.hide();Y.hide();A.show();M.off().on("click.reactivateLogin",function(){Z()});FKART.omni.customEvent("Verification Flow",{prop21:"inactive_account"})}else{e(af);if(af=="VERIFIED"){FKART.login.loginUser(m,FKART.login.referrer,function(){B.hide();M.attr("disabled",false);FKART.omni.customEvent("Verification Flow",{prop21:K+"_login_success"})})}else{M.off().on("click.loginWithOtp",function(){I()});q(ae);FKART.omni.customEvent("Verification Flow",{prop21:K+"_login_sendotp"})}}},error:function(ai,ah){B.hide();M.attr("disabled",false);S(ai);if(ah&&ah.isChurned){FKART.omni.customEvent("Verification Flow",{events:"et102"})}else{FKART.omni.customEvent("Verification Flow",{prop21:K+"_login_failed"})}}})};var I=function(){var ad,ae;M.attr("disabled",true);ad=u.val();ae=x.val();B.show();v();var ac={email:true,pwd:true,otp:true};if(!c(ac)){B.hide();M.attr("disabled",false);return}m=ad;v();FKART.login.sendIframeRequest("POST","/account/loginWithOtp",{contact_id:m,password:ae,otp_key:X,otp:r},{success:function(af){FKART.login.loginUser(m,FKART.login.referrer,function(){B.hide();M.attr("disabled",false);FKART.omni.customEvent("Verification Flow",{prop21:K+"_login_success"})})},error:function(af){B.hide();M.attr("disabled",false);S(af);FKART.omni.customEvent("Verification Flow",{prop21:K+"_login_failed"})}})};var g=function(ae,ad){var ag,af;M.attr("disabled",true);af=G.val();ag=p.val();B.show();v();var ac={email:true,setPwd:true,mobileNumber:true,otp:true};if(!c(ac)){B.hide();M.attr("disabled",false);return}m=ae;v();FKART.login.sendIframeRequest("POST","/account/loginWithSocial",{email:m,password:ag,mobileNumber:ad,otp:af,otp_key:X},{success:function(ah){FKART.login.loginUser(m,FKART.login.referrer,function(){B.hide();M.attr("disabled",false);FKART.omni.customEvent("Verification Flow",{prop21:K+"_login_success"})})},error:function(ah){B.hide();M.attr("disabled",false);S(ah);FKART.omni.customEvent("Verification Flow",{prop21:K+"_login_failed"})}})};var Z=function(){var ad,ae;M.attr("disabled",true);ad=u.val();ae=x.val();B.show();v();var ac={email:true,pwd:true};if(!c(ac)){B.hide();M.attr("disabled",false);return}m=ad;FKART.login.sendIframeRequest("POST","/account/reactivateAccount",{contact_id:m,password:ae},{success:function(af){q(ad);M.val("Login");M.off().on("click.loginWithOtp",function(){I()})},error:function(af){B.hide();M.attr("disabled",false);S(af);FKART.omni.customEvent("Verification Flow",{prop21:K+"_login_failed"})}})};var v=function(){f.parent().hide();d.parent().hide();E.parent().hide();J.removeClass("inp-err")};var l=function(ag){var ad=ag.email,ac=false,ae="",af="";m=ad;u.val(ad);u.attr("disabled",true);A.show();z.hide();FKART.login.sendIframeRequest("POST","/account/getLinkedInfo",{},{success:function(ah){ac=ah.hasLinkedMobile;if(!ac){U.parent().show();M.off().on("click.linkMobileNum",function(){D()});x.parent().hide();C.hide();ae="Facebook/Google+ Login Discontinued.<br/><div class='unboldtext'>Please verify your mobile number to access your account.</div>";S(null,null,ae,null)}else{af=ah.linkedMobile;u.val(af);m=af;M.off().on("click.loginWithoutOtp",function(){P()});ae="Facebook/Google+ Login Discontinued.<br/><div class='unboldtext'>Please login with your linked mobile number.</div>";S(null,null,ae,null)}_.delay(function(){T.hide();if(FKART.login.newDialog){FKART.login.newDialog.show()}},1000)},error:function(ai,ah){S(ai,null,null,null);_.delay(function(){T.hide();if(FKART.login.newDialog){FKART.login.newDialog.show()}},1000)}});FKART.omni.customEvent("Verification Flow",{prop21:"fetched_social_email"})};var q=function(af,ae,ac){var ag="Verification Code sent to "+af,ad="";FKART.login.sendIframeRequest("POST","/account/generateOTP",{contact_id:af},{success:function(ah){if(!ab){M.attr("disabled",true)}B.hide();u.attr("disabled",true);x.attr("disabled",true);C.hide();Y.hide();A.show();G.parent().show();z.hide();if(ah.error_code){if(ah.error_code=="INTERNAL_ERROR"){ad="Could not generate a validation code at the moment, please try again later."}else{ad=ah.error_message}M.attr("disabled",false);S(ad);FKART.omni.customEvent("Verification Flow",{prop21:K+"_OTP_Send_Failed"})}else{FKART.omni.customEvent("Verification Flow",{prop21:K+"_OTP_Sent"});S(null,ag);G.focus();X=ah.otp_key}if(ae&&(typeof ae=="function")){ae(ah)}},error:function(ai,ah){B.hide();S(ai);M.attr("disabled",false);FKART.omni.customEvent("Verification Flow",{prop21:K+"_OTP_Send_Failed"});if(ac&&(typeof ac=="function")){ac(ai,ah);return}G.parent().show();x.attr("disabled",true)}})};var D=function(){var ae=U.val(),ad=m;M.attr("disabled",true);v();var ac={mobileNumber:true};if(!c(ac)){B.hide();M.attr("disabled",false);return}m=ae;q(ae,function(){u.val(m);U.parent().hide();Q();b.off().on("click.loginWithSocial",function(){g(ad,ae)})})};var S=function(ae,ad,af,ac){ae&&f.html(ae).parent().show();ad&&d.text(ad).parent().show();af&&E.html(af).parent().show();ac&&ac.addClass("inp-err")&&ac.focus()};var c=function(aj){var ai={email:false,pwd:false,setPwd:false,otp:false,mobileNumber:false};var ac=$.extend({},ai,aj);if(ac.email){var ae=u.val().trim();if(ae.length<1){FKART.omni.customEvent("Verification Flow",{prop21:K+"_empty_loginId"});S("Please enter email/mobile",null,null,u);return false}else{if(!isEmailMobileNoValid(ae)){FKART.omni.customEvent("Verification Flow",{prop21:K+"_incorrect_loginId"});S("Please enter a valid email/mobile",null,null,u);return false}}}if(ac.pwd){var ah=x.val();if(ah==""){FKART.omni.customEvent("Verification Flow",{prop21:K+"_empty_pwd"});S("Please enter Password",null,null,x);return false}}if(ac.otp){var ad=G.val();if(ad.length==0){FKART.omni.customEvent("Verification Flow",{prop21:K+"_empty_otp"});S("Please enter Verification Code",null,null,G);return false}else{if(ad.length!=6){FKART.omni.customEvent("Verification Flow",{prop21:K+"_incorrect_otp"});S("Incorrect Verification Code",null,null,G);return false}}}if(ac.setPwd){var ag=p.val();if(ag==""){FKART.omni.customEvent("Verification Flow",{prop21:K+"_empty_set_pwd"});S("Please enter Password.",null,null,p);return false}else{if(ag.length<4){FKART.omni.customEvent("Verification Flow",{prop21:K+"_short_set_pwd"});S("Password should be minimum 4 characters long.",null,null,p);return false}}}if(ac.mobileNumber){var af=U.val();if(af.length<1){FKART.omni.customEvent("Verification Flow",{prop21:K+"_empty_mno"});S("Please enter mobile number",null,null,p);return false}else{if(!isValidMobileNumber(af)){FKART.omni.customEvent("Verification Flow",{prop21:K+"_invalid_mno"});S("Please enter a valid mobile number",null,null,p);return false}}}return true};var Q=function(){ab=true;x.val("").parent().hide();C.hide();p.parent().show();p.attr("disabled",true);M.parent().hide();b.parent().show();b.attr("disabled",true)};var e=function(ac){switch(ac){case"VERIFIED":K="FKV";break;case"NOT_VERIFIED":K="FKNV";break;case"SOCIAL_FB":K="SFB";break;case"SOCIAL_GOOGLE":K="SG";break;case"GUEST":K="Guest";break;default:K="NEW"}};return{getInitial:n}},initNewSignuppageEvents:function(H){var w=H,b=w.find(".signup-wrap"),f=b.find(".err_text"),A=b.find(".succ_text"),t=b.find(".info_text"),J=b.find(".new-signup-form"),G=J.find(".user-email"),n=J.find(".user-otp"),m=J.find(".user-set-pwd"),g=b.find(".signup-form-input"),e=J.find(".show-pwd"),B=J.find(".signup-resend-otp"),E=J.find(".signup-change-email"),x=J.find(".continue-signup"),z=J.find(".signup-btn"),u=new FKART.ui.Loader({type:"modal",renderTo:".signup-wrap",size:"medium"}),M=J.find("input.num-six"),r=J.find("input.num-ten"),d,q="",p="";M.on("keydown",function(P){var N=$(this).val().length;P=P||window.event;var O=P.keyCode||P.which;if((((O>=48&&O<=57)||(O>=96&&O<=105))&&(N<6))||(O==8)||(O==46)||(O==37)||(O==39)||((P.ctrlKey||P.metaKey)&&(O==118||O==86))){return true}return false});r.on("keyup",function(P){var N=$(this).val().length;P=P||window.event;var O=P.keyCode||P.which;if((N>=1)||(O==37)||(O==39)){$(this).parent().addClass("mno-input");if(O!=13){x.attr("disabled",false)}}else{$(this).parent().removeClass("mno-input");x.attr("disabled",true)}});G.on("keypress",function(P){P=P||window.event;var O=P.keyCode||P.which,N=$(this).val().length;if(O==13||(O==37)||(O==39)){l()}if(((O>=48&&O<=57)&&(N<10))||(O==8)||(O==46)){return true}return false});m.on("keypress",function(O){O=O||window.event;var N=O.keyCode||O.which;if(N==13){D()}});x.on("click",function(){l()});e.on("click",function(){var O="";if($(this).text()==="show"){$(this).text("hide");O="text"}else{$(this).text("show");O="password"}var N=$("<input type='"+O+"' />").attr("class",m.attr("class")).val(m.val()).insertBefore(m);m.remove();m=N;m.on("keyup",function(){o($(this).val())});m.on("keypress",function(Q){Q=Q||window.event;var P=Q.keyCode||Q.which;if(P==13){D()}})});B.on("click",function(){u.show();y();a(d);FKART.omni.customEvent("Verification Flow",{prop21:p+"_resendotplink_clicked"})});E.on("click",function(){c()});m.on("keyup",function(){o($(this).val())});n.on("keyup",function(){L()});n.on("paste",function(){setTimeout(function(){L()},0)});z.on("click",function(){D()});var l=function(){x.attr("disabled",true);var O=G.val();u.show();y();var N=C(O);if(N!=""){K(N,null,null,G);u.hide();x.attr("disabled",false);return}d=O;F(O)};var L=function(){var N=n.val();if(N.length<6){B.parent().removeClass("wrong-otp correct-otp");return}u.hide();u.show();y();n.off("keyup paste");FKART.login.sendIframeRequest("POST","/account/validateOtp",{contact_id:d,otp:N,otp_key:q},{success:function(O){u.hide();B.parent().removeClass("wrong-otp").addClass("correct-otp");n.attr("disabled",true);z.attr("disabled",false);m.attr("disabled",false);n.on("keyup",function(){L()});n.on("paste",function(){setTimeout(function(){L()},0)})},error:function(O){u.hide();K(O);B.parent().removeClass("correct-otp").addClass("wrong-otp");FKART.omni.customEvent("Verification Flow",{prop21:p+"_OTP_Verification_Failed"});n.on("keyup",function(){L()});n.on("paste",function(){setTimeout(function(){L()},0)})}})};var D=function(){z.attr("disabled",true);var O=n.val(),P=m.val();u.show();y();var N=v(O,P);if(N.errorMsg!=""){K(N.errorMsg,null,null,N.errorElem);u.hide();z.attr("disabled",false);return}FKART.login.sendIframeRequest("POST","/account/signupWithOtp",{contact_id:d,password:P,otp_key:q,otp:O},{success:function(Q){FKART.login.loginUser(d,FKART.login.referrer,function(){u.hide();z.attr("disabled",false);FKART.omni.customEvent("Verification Flow",{prop21:p+"_signup_success"})})},error:function(S,Q){u.hide();var R;z.attr("disabled",false);if(Q&&Q.field){if(Q.field=="otp"){R=n}else{if(Q.field=="password"){R=m}}K(S,null,null,R)}K(S);FKART.omni.customEvent("Verification Flow",{prop21:p+"_signup_failed"})}})};var o=function(N){if(N.length>0){e.show()}else{e.hide()}};var y=function(){f.parent().hide();A.parent().hide();t.parent().hide();g.removeClass("inp-err")};var C=function(O){var N="";if(O.length<1){N="Please enter mobile number"}else{if(!isValidMobileNumber(O)){N="Please enter a valid mobile number"}}return N};var v=function(O,R){var N={},P="",Q;if(O.length<1){P="Please enter Verification Code";Q=n;FKART.omni.customEvent("Verification Flow",{prop21:p+"_empty_otp"})}else{if(R==""){P="Please enter Password.";Q=m;FKART.omni.customEvent("Verification Flow",{prop21:p+"_empty_pwd"})}else{if(R.length<4){P="Password should be minimum 4 characters long.";Q=m;FKART.omni.customEvent("Verification Flow",{prop21:p+"_short_pwd"})}}}N={errorElem:Q,errorMsg:P};return N};var c=function(){y();d="";p="";q="";m.val("").parent().hide();n.val("").attr("disabled",false).parent().hide();B.parent().removeClass("wrong-otp correct-otp");G.val("").attr("disabled",false);G.parent().removeClass("mno-input");G.focus();E.hide();x.parent().show();x.attr("disabled",true);z.parent().hide();z.attr("disabled",true);m.attr("disabled",true)};var K=function(P,O,Q,N){P&&f.text(P).parent().show();O&&A.text(O).parent().show();Q&&t.html(Q).parent().show();N&&N.addClass("inp-err")&&N.focus()};var F=function(P){var R="",O=false,Q="",N="";FKART.login.sendIframeRequest("POST","/account/getRegistrationStatus",{contact_id:P},{success:function(S){R=S.state&&S.state.toUpperCase();N=S.accType;I(R);if(N=="INACTIVE"){u.hide();K("Account is currently inactive. Please login to reactivate");FKART.omni.customEvent("Verification Flow",{prop21:p+"_inactive_account"})}else{if((N=="NEW")||((N=="ACTIVE")&&(R!="VERIFIED")&&(R!="NOT_VERIFIED"))){a(P);FKART.omni.customEvent("Verification Flow",{prop21:p+"_signup_continue"})}else{p=(R=="VERIFIED")?"FKV":"FKNV";u.hide();K("You are already registered. Please login.");FKART.omni.customEvent("Verification Flow",{prop21:p+"_already_Registered"})}}},error:function(T,S){K(T,null,null,null);u.hide();x.attr("disabled",false)}})};var a=function(O){var P="Verification Code sent to "+O,N="";FKART.login.sendIframeRequest("POST","/account/generateOTP",{contact_id:O},{success:function(Q){u.hide();n.parent().show();m.parent().show();x.attr("disabled",false);if(Q.error_code){if(Q.error_code=="INTERNAL_ERROR"){N="Could not generate a validation code at the moment, please try again later."}else{N=Q.error_message}K(N);FKART.omni.customEvent("Verification Flow",{prop21:p+"_otp_send_failed"})}else{FKART.omni.customEvent("Verification Flow",{prop21:p+"_otp_sent"});K(null,P,null,null);G.attr("disabled",true);E.show();n.focus();q=Q.otp_key;x.parent().hide();z.parent().show()}},error:function(R,Q){n.parent().show();x.attr("disabled",false);m.parent().show();u.hide();K(Q.error_message,null,null,null);FKART.omni.customEvent("Verification Flow",{prop21:p+"_otp_send_failed"})}})};var I=function(N){switch(N){case"VERIFIED":p="FKV";break;case"NOT_VERIFIED":p="FKNV";break;case"SOCIAL_FB":p="SFB";break;case"SOCIAL_GOOGLE":p="SG";break;case"GUEST":p="GUEST";break;default:p="NEW"}};return{getInitial:c}},hidePopup:function(){FKART.login.dialog.hide()},keyEventForgetPass:function(b){b=b||window.event;var a=b.keyCode||b.which;if(a==13){FKART.login.forgotPassword()}},validateFields:function(){if(!isEmailValid($("#login_email_id").val())){$("#login_tiny_help_message").text("Please enter a valid email id.").show();return false}if($("#login_password").val()==""){$("#login_tiny_help_message").text("Please enter a password.").show();return false}return true},init:function(c,e){if(!c){c=document.URL}e=e==null?true:e;FKART.login.referrer=c;var b=FKART.login,d=FKART.login.signup;b.redirect=e;var a=FKART.login.isUserLoggedIn()?"dialog-login-signup loggedin":"dialog-login-signup";b.dialog=new FKART.ui.Dialog({body:$("#login-signup-dialog"),width:600,cssClass:a});b.initialized=true;b.loader=new FKART.ui.Loader({type:"inline",renderTo:"#login-loader",size:"small"});b.signup.loader=new FKART.ui.Loader({type:"inline",renderTo:"#signup-loader",size:"small"});b.loginXDR=new FKART.XDR({iframe:document.getElementById("login-signup-iframe")});$(".login-button").click(function(){b.showPopup(FKART.login.referrer,FKART.login.redirect,FKART.login.type)});$(".signup-button").click(function(){d.showPopup(FKART.login.referrer,FKART.login.redirect,FKART.login.type)});$("#login-form").bind("submit",function(f){if(!b.validateFields()){f.preventDefault();return false}$("#login_tiny_help_message").hide();b.loader.show();b.loginXDR.watch(function(g){if(g.status==="ok"){FKART.omni.customEvent("Login Success",{events:"event5"});FKART.login.loginUser(g.email_id,FKART.login.referrer)}else{b.loader.hide();$("#login_tiny_help_message").text(g.error_msg).show();if(g.showForgotPasswordPopup){FKART.login.showForgotPassword()}}})});$("#login-dialog .frgt-pswd").click(FKART.login.showForgotPassword);$("#signup-form").bind("submit",d.onFormSubmit);$(document).trigger("login-initialized");b.dialog.bindEvent("beforeHide",function(){FKART.login.loader.hide();$("#login-message").html("").hide()})},loginUser:function(c,b,a){$(document).trigger("user_loggedin",[c]);if(FKART.login.redirect&&FKART.LOGGEDIN!=true){window.top.location=b.replace(/[#].*/,"")}else{FKART.login.hidePopup()}if(typeof a=="function"){a()}FKART.LOGGEDIN=true},showForgotPassword:function(){$("#frgt_paswd_email_id").val($("#login_email_id").val()).focus();$("#frgt_passwd_suc, #login_tiny_help_message2").hide();$("#frgt_passwd_div").toggle("slow",function(){FKART.login.dialog.reposition()})},forgotPassword:function(){var a=$("#frgt_paswd_email_id").val();if(!a||!isEmailValid(a)){$("#login_tiny_help_message2").text("Please enter a valid Email Address.").show();return}ajaxRequest("POST","/account/a_forgotPassword",{email:a},{success:function(b){if(b.isRegistered==1){$("#frgt_passwd_div").toggle("slow",function(){$("#frgt_passwd_suc").text("An email is sent to "+a+". Please check your email.").addClass("fk-suc-msg").show()})}else{if(b.isRegistered==2){$("#frgt_passwd_div").toggle("slow",function(){$("#frgt_passwd_suc").text("We have sent an email to your new email Id "+b.emailId+". Please check your email.").addClass("fk-suc-msg").show()})}else{$("#login_tiny_help_message2").text("No account found with that email address. Please try again.").show()}}},failure:function(c,b){$("#login_tiny_help_message2").text(c).show()}})},signup:{validateFields:function(){if(!isEmailValid($("#signup-email").val())){$("#signup-email").addClass("inp-err");$("#signup_tiny_help_message").text("Please enter a valid email id.").show();return false}if($("#signup-password").val()==""){$("#signup-password").addClass("inp-err");$("#signup_tiny_help_message").text("Please enter a Password.").show();return false}if($("#signup-password").val().length<4){$("#signup-password").addClass("inp-err");$("#signup_tiny_help_message").text("Password should be minimum 4 characters long.").show();return false}if($("#signup-repeat-password").val()==""){$("#signup-repeat-password").addClass("inp-err");$("#signup_tiny_help_message").text("Please repeat the Password").show();return false}if($("#signup-repeat-password").val()!=$("#signup-password").val()){$("#signup-repeat-password").addClass("inp-err");$("#signup_tiny_help_message").text("Passwords don't match").show();return false}return true},reset:function(){$("#signup-email, #signup-password, #signup-repeat-password").val("");$("#signup_tiny_help_message").text("").hide()},onFormSubmit:function(a){var b=FKART.login.signup;if(!b.validateFields()){a.preventDefault();return false}FKART.login.loader.hide();b.loader.show();$("#signup_tiny_help_message").hide();FKART.login.loginXDR.watch(function(c){if(c.status==="ok"){FKART.omni.customEvent("Signup Success",{events:"event4"});$(document).trigger("user_signedup",[c]);FKART.login.loginUser(c.email_id,FKART.login.referrer)}else{b.loader.hide();$("#signup_tiny_help_message").text(c.msg).show()}})},showPopup:function(e){if(!FKART.login.isNewLoginFlow){FKART.omni.customEvent("Signup Attempt",{events:"event3"});if(!FKART.login.initialized){FKART.login.init(e)}FKART.login.signup.reset();$("#login-dialog").hide();$("#signup-dialog").show();FKART.login.dialog.show();$("#signup-email").focus()}else{FKART.omni.customEvent("Verification Flow",{prop21:"show_signup_popup"});var d=$("#login-signup-newDialog"),a=d.find(".new-login-dialog-wrap"),c=d.find(".new-signup-dialog-wrap");if(!FKART.login.newDialog){var b=FKART.login.isUserLoggedIn()?"dialogNewLoginSignup loggedin":"dialogNewLoginSignup";FKART.login.newDialog=new FKART.ui.Dialog({body:d,width:845,cssClass:b,showFooter:false})}a.hide();c.show();FKART.login.newDialog.show();if(!FKART.login.newSignupPopupInitialized){FKART.login.newSignup=FKART.login.initNewSignuppageEvents(c);FKART.login.newSignupPopupInitialized=true}FKART.login.newSignup.getInitial()}}}};addOnload(function(){$(".login-required").live("click",function(l){if(FKART.login.isUserLoggedIn()){return true}var f=$(this).attr("href"),m=$(this).attr("redirect"),g=$(this).attr("data-login-type");m=(typeof m!="undefined"&&m=="false")?false:true;if($(this).hasClass("inside-iframe")){if(f&&!f.match(/^(javascript)|(#)|(\/account\/login)/)){window.parent.FKART.login.showPopup(f,m,g)}else{window.parent.FKART.login.showPopup(null,m,g)}}else{if(f&&!f.match(/^(javascript)|(#)|(\/account\/login)/)){FKART.login.showPopup(f,m,g)}else{FKART.login.showPopup(null,m,g)}}l.stopPropagation();return false});$(".signup-link").live("click",function(){if(FKART.login.isUserLoggedIn()){return true}FKART.login.signup.showPopup();return false});var b=$("#loginWithOtpFlow");var c=(b)?b.data("socialid"):"";var a=(b)?b.data("showpopup"):0;if(a==1&&c&&c!=""){var d={email:c,msg:"Social Login is discontinued"};if(FKART.login.isUserLoggedIn()){return true}if(!window.location.pathname.match(/^(javascript)|(#)|(\/account\/login)/)){FKART.login.showPopup(null,null,null,null,d)}}});addOnload(function(){$(document).bind("login-initialized",function(){var a=FKART.login.dialog;$("#fk-wallet-login-message").remove().prependTo($("#login-signup-dialog"));$("#fk-review-login-message").remove().prependTo($("#login-signup-dialog"));a.bindEvent("beforeShow",function(){if(FKART.login.referrer.match(/\/account\/wallet/)||FKART.login.type==="wallet"){$("#fk-wallet-login-message").show();if(typeof FKART.omnitureFireEvent!="undefined"){FKART.omnitureFireEvent({"track-events":"event12",events:"event12",name:"login popup"})}}else{if(FKART.login.type==="review"){$("#fk-review-login-message").show()}else{$("#fk-wallet-login-message").hide()}}})})});function forgotPasswordFul(b){var a=b?b:"";if(a==""){a=document.getElementById("frgt_paswd_ful_email_id").value}$("#frgt_paswd_ful_help_message").hide();if(!a||!isEmailValid(a)){$("#frgt_paswd_ful_help_message").show();return}ajaxRequest("POST","/account/a_forgotPassword",{email:a},{success:function(c){_l(c);if(c.isRegistered==1){$("#frgt_passwd_ful_div").toggle("slow",function(){document.getElementById("frgt_passwd_ful_suc").innerHTML="An email is sent to "+a+". Please check your email.";$("#frgt_passwd_ful_suc").removeClass("fk-hidden");$("#frgt_passwd_ful_suc").addClass("fk-suc-msg")})}else{if(c.isRegistered==2){$("#frgt_passwd_ful_div").toggle("slow",function(){document.getElementById("frgt_passwd_ful_suc").innerHTML="We have sent an email to your new email ID "+c.emailId+". Please check your email.";$("#frgt_passwd_ful_suc").removeClass("fk-hidden");$("#frgt_passwd_ful_suc").addClass("fk-suc-msg")})}else{document.getElementById("frgt_paswd_ful_help_message").innerHTML="No account found with that email address. Please try again.";$("#frgt_paswd_ful_help_message").removeClass("fk-hidden")}}},failure:function(d,c){document.getElementById("frgt_paswd_ful_help_message").innerHTML=d;$("#frgt_paswd_ful_help_message").removeClass("fk-hidden")}})}function forgotPassword(b){var a=b?b:"";if(a==""){a=document.getElementById("frgt_paswd_email_id").value}$("#login_tiny_help_message2").addClass("fk-hidden");$("#login_tiny_help_message").addClass("fk-hidden");if(!a||!isEmailValid(a)){document.getElementById("login_tiny_help_message2").innerHTML="Please enter a valid Email Address.";$("#login_tiny_help_message2").removeClass("fk-hidden");return}ajaxRequest("POST","/account/a_forgotPassword",{email:a},{success:function(c){if(c.isRegistered==1){$("#frgt_passwd_div").toggle("slow",function(){document.getElementById("frgt_passwd_suc").innerHTML="An email is sent to "+a+". Please check your email.";$("#frgt_passwd_suc").removeClass("fk-hidden");$("#frgt_passwd_suc").addClass("fk-suc-msg")})}else{if(c.isRegistered==2){$("#frgt_passwd_div").toggle("slow",function(){document.getElementById("frgt_passwd_suc").innerHTML="We have sent an email to "+c.emailId+". Please check your email.";$("#frgt_passwd_suc").removeClass("fk-hidden");$("#frgt_passwd_suc").addClass("fk-suc-msg")})}else{document.getElementById("login_tiny_help_message2").innerHTML="No account found with that email address. Please try again.";$("#login_tiny_help_message2").removeClass("fk-hidden")}}},failure:function(d,c){document.getElementById("login_tiny_help_message2").innerHTML=d;$("#login_tiny_help_message2").removeClass("fk-hidden")}})}function do_login(){$("#login_tiny_help_message").addClass("fk-hidden");var b=strip(document.getElementById("login_email_id").value);var a=document.getElementById("login_password").value;if(b==""||!isEmailValid(b)){document.getElementById("login_tiny_help_message").innerHTML="Please specify a <b>valid</b> Email Address";$("#login_tiny_help_message").removeClass("fk-hidden");document.getElementById("login_email_id").focus();return false}if(a==""){document.getElementById("login_tiny_help_message").innerHTML="Please specify a Password";$("#login_tiny_help_message").removeClass("fk-hidden");document.getElementById("login_password").focus();return false}b=escape(b);ajaxRequest("POST","/account/a_login",{email:b,password:a},{success:function(c){$("#login-form").removeAttr("onsubmit");$("#login-form :submit").click()},error:function(d,c){document.getElementById("login_tiny_help_message").innerHTML=d;$("#login_tiny_help_message").removeClass("fk-hidden")}});return false}function do_login_ful_keyevent(c,a){c=c||window.event;var b=c.keyCode||c.which;if(b==13){do_login_ful(a)}}function do_login_ful(d){if(!d){d=document.URL}var a=$("#login-cta[from-header]");$("#login_tiny_help_message1").addClass("fk-hidden");var c=strip(document.getElementById("login_email_id1").value);var b=document.getElementById("login_password1").value;if(c==""||!isEmailValid(c)){document.getElementById("login_tiny_help_message1").innerHTML="Please specify a <b>valid</b> Email Address";$("#login_tiny_help_message1").removeClass("fk-hidden");document.getElementById("login_email_id1").focus();return false}if(b==""){document.getElementById("login_tiny_help_message1").innerHTML="Please specify a Password";$("#login_tiny_help_message1").removeClass("fk-hidden");document.getElementById("login_password1").focus();return false}c=escape(c);FKART.loader.show();ajaxRequest("POST","/account/a_login",{email:c,password:b},{success:function(e){FKART.loader.hide();window.location.href=unescape(d);a.length>0&&FKART.omni.customEvent("login success",{events:"event5"})},error:function(f,e){FKART.loader.hide();document.getElementById("login_tiny_help_message1").innerHTML=f;$("#login_tiny_help_message1").removeClass("fk-hidden")}});return false}function do_signup_keyevent(c,a){c=c||window.event;var b=c.keyCode||c.which;if(b==13){do_signup(a)}}function do_signup(c){if(typeof c==""){c="http://www.flipkart.com"}document.getElementById("signup_tiny_help_message").innerHTML="";document.getElementById("signup_email_err").innerHTML="";document.getElementById("signup_password_err").innerHTML="";document.getElementById("signup_password_repeat_err").innerHTML="";$("#signup_email_id").removeClass("inp-err");$("#signup_password").removeClass("inp-err");$("#signup_password_repeat").removeClass("inp-err");$("#signup_tiny_help_message").addClass("fk-hidden");var b=strip(document.getElementById("signup_email_id").value);var a=document.getElementById("signup_password").value;var d=document.getElementById("signup_password_repeat").value;if(b==""||!isEmailValid(b)){document.getElementById("signup_email_err").innerHTML="Please enter a valid email address";$("#signup_email_id").addClass("inp-err");document.getElementById("signup_email_id").focus();return false}b=escape(b);if(a==""){document.getElementById("signup_password_err").innerHTML="Please enter a New Password";$("#signup_password").addClass("inp-err");document.getElementById("signup_password").focus();return false}if(a.length<4){document.getElementById("signup_password_err").innerHTML="Password should be minimum 4 characters long.";$("#signup_password").addClass("inp-err");document.getElementById("signup_password").focus();return false}if(d==""){document.getElementById("signup_password_repeat_err").innerHTML="Please repeat the Password";$("#signup_password_repeat").addClass("inp-err");document.getElementById("signup_password_repeat").focus();return false}if(a!=d){document.getElementById("signup_password_repeat_err").innerHTML="Passwords don't match";$("#signup_password_repeat").addClass("inp-err");return false}FKART.loader.show();ajaxRequest("POST","/account/a_signup",{email:b,password:a,password_repeat:d},{success:function(e){FKART.loader.hide();FKART.omnitureFireEvent({"track-vars":"events","track-events":"event4",events:"event4",name:"registration success"});window.location.href=unescape(c)},error:function(f,e){FKART.loader.hide();document.getElementById("signup_tiny_help_message").innerHTML=f;$("#signup_tiny_help_message").removeClass("fk-hidden")}});return false}function do_promo_enter(){var a=strip(document.getElementById("signup_email_id").value);$("#signup_tiny_help_message").addClass("fk-hidden");$("#succ-msg").addClass("fk-hidden");if(a==""||!isEmailValid(a)){document.getElementById("signup_tiny_help_message").innerHTML="Please enter a valid email address. e.g. example@example.com";$("#signup_tiny_help_message").removeClass("fk-hidden");document.getElementById("signup_email_id").focus();return false}a=escape(a);var d=document.frm.elements.length;var b=0;var f="";var c="";for(b=0;b<d;b++){if(document.frm.elements[b].name=="option"&&document.frm.elements[b].checked){if(f!=""){f+=","}f+=document.frm.elements[b].value}else{if(document.frm.elements[b].name=="campaignRef"){c=document.frm.elements[b].value}}}ajaxRequest("POST","/account/promo_signup",{email:a,verticallist:f,campaignRef:c},{success:function(e){document.getElementById("form-fields").innerHTML="";$("#succ-msg").removeClass("fk-hidden")},error:function(g,e){document.getElementById("signup_tiny_help_message").innerHTML=g;$("#signup_tiny_help_message").removeClass("fk-hidden")}});return false}function enable_account_info(){enableTextbox(document.getElementById("first_name"));enableTextbox(document.getElementById("last_name"));enableTextbox(document.getElementById("mobile"));enableTextbox(document.getElementById("landline"));enableTextbox(document.getElementById("gender"));document.getElementById("edit_change_button").innerHTML="Save Changes";document.getElementById("edit_change_button").onclick=saveChangesInAccountInfo;document.getElementById("tiny_help_message").innerHTML='Click on "Save Changes" after making any changes'}function enable_pass_info(){enableTextbox(document.getElementById("old_password"));enableTextbox(document.getElementById("new_password"));enableTextbox(document.getElementById("new_password_repeat"));document.getElementById("edit_pass_button").innerHTML="Save Changes";document.getElementById("edit_pass_button").onclick=saveChangesInPass;document.getElementById("tiny_help_message_emailpass").innerHTML='Click on "Save New Password" after making any changes'}function updatePhoneNumberFromIframe(f){var d=$(f.target).parents(".section");var b=$(".update-block input",d).val();$(".per-info-error",d).addClass("fk-hidden");$(".per-info-suc",d).addClass("fk-hidden");FKART.loader.show("Saving...");var a=new FKART.XDR();var c=window.location.hostname;a.makeRequest("https://"+c+"/account/a_updatePhoneNumber",{type:"post",data:{mobile:b,iFrame:true}},function(e){FKART.loader.hide();if(e.status=="ok"){$(".per-info-suc",d).html("Phone number updated successfully.").removeClass("fk-hidden");if($(".main-block",d).length){$(".update-block",d).addClass("fk-hidden");$(".main-block",d).removeClass("fk-hidden");$(".main-block .text",d).html(b)}else{$(".update-block button",d).addClass("fk-hidden");$(".update-block input",d).blur();$("input.hasData","#mobile-section").val(b);ffCallback()}setTimeout(function(){$(".per-info-suc",d).addClass("fk-hidden")},2500)}else{$(".per-info-error",d).html(e.msg).removeClass("fk-hidden")}})}function updatePhoneNumber(c){var b=$(c.target).parents(".section");var a=$(".update-block input",b).val();$(".per-info-error",b).addClass("fk-hidden");$(".per-info-suc",b).addClass("fk-hidden");FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_updatePhoneNumber",{mobile:a},{success:function(d){FKART.loader.hide();$(".per-info-suc",b).html("Phone number updated successfully.").removeClass("fk-hidden");if($(".main-block",b).length){$(".update-block",b).addClass("fk-hidden");$(".main-block",b).removeClass("fk-hidden");$(".main-block .text",b).html(a)}else{$(".update-block button",b).addClass("fk-hidden");$(".update-block input",b).blur();$("input.hasData","#mobile-section").val(a);ffCallback()}setTimeout(function(){$(".per-info-suc",b).addClass("fk-hidden")},2500)},error:function(e,d){FKART.loader.hide();$(".per-info-error",b).html(e).removeClass("fk-hidden")}})}function ffCallback(){var b=$(".hasData","#mobile-section");var c=$(".hasData","#pincode-section");var a=$(".hasData","#email-section");if(b.val().length!=0&&c.val().length!=0&&a.val().length!=0){$("#complete-form").find("button[type=submit]").removeAttr("disabled")}}function updatePinCode(b){FKART.loader.show("Checking...");var a=$(b.target).parents(".section");var c=$(".update-block input",a).val();$(".per-info-error",a).addClass("fk-hidden");$("#benefits-section").addClass("fk-hidden");$(".sdd-service","#benefits-section").removeClass("fk-hidden");$(".iad-service","#benefits-section").removeClass("fk-hidden");$(".std-service","#benefits-section").removeClass("fk-hidden");$(".applicable-block","#benefits-section").removeClass("fk-hidden");$(".not-applicable-block","#benefits-section").removeClass("fk-hidden");ajaxRequestSimple("GET","/xhr/getNDDServiceability",{pincode:c},{success:function(d){FKART.loader.hide();if(typeof d=="string"){d=JSON.parse(d)}if(d.status=="error"){$(".per-info-error",a).html(d.msg).removeClass("fk-hidden");$("#complete-form").find("button[type=submit]").attr("disabled",true)}else{if($(".main-block",a).length){$(".main-block .text",a).html(c);$(".update-block",a).addClass("fk-hidden");$(".main-block",a).removeClass("fk-hidden")}else{$("#pincode-section").removeClass("size1of2").addClass("width516");$("#input-section").removeClass("size1of1").addClass("size1of2");$("input.hasData","#pincode-section").val(c);ffCallback()}if(d.standard_service==false){$(".applicable-block",a).addClass("fk-hidden");FKART.omni.customEvent("serviceCheck",{prop34:c+":All_Service_Unavailable"})}else{$(".not-applicable-block .std-service",a).addClass("fk-hidden");if(d.premium_serviceable.PREMIUM===true){$(".not-applicable-block .sdd-service",a).addClass("fk-hidden")}else{$(".applicable-block .sdd-service",a).addClass("fk-hidden")}if(d.premium_serviceable.EXPRESS===true){$(".not-applicable-block .iad-service",a).addClass("fk-hidden")}else{$(".applicable-block .iad-service",a).addClass("fk-hidden")}if(d.premium_serviceable.EXPRESS===true&&d.premium_serviceable.PREMIUM===true){FKART.omni.customEvent("serviceCheck",{prop34:c+":All_Service_Available"})}else{if(d.premium_serviceable.EXPRESS===true&&d.premium_serviceable.PREMIUM!==true){FKART.omni.customEvent("serviceCheck",{prop34:c+":SDD_Unavailable"})}else{FKART.omni.customEvent("serviceCheck",{prop34:c+":NDD_SDD_Unavailable"})}}if($(".not-applicable-block",a).find(".fk-hidden").length==3){$(".not-applicable-block",a).addClass("fk-hidden")}}if($("#pincode-section").length){$("#pincode-section").removeClass("size1of2").addClass("width516");$("#input-section").removeClass("size1of1").addClass("size1of2")}$("#benefits-section").removeClass("fk-hidden")}},error:function(e,d){FKART.loader.hide()}})}function saveChangesInAccountInfo(){var b=document.getElementById("first_name").value;var a=document.getElementById("last_name").value;var c=document.getElementById("gender").value;console.log("Clicked for changes");if(b==""||c==null){$("#per-info-error").html("Please enter all fields ");$("#per-info-error").removeClass("fk-hidden");return false}else{$("#per-info-error").addClass("fk-hidden");$("#per-info-suc").addClass("fk-hidden");FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_updateAccount",{first_name:b,last_name:a,gender:c},{success:function(d){FKART.loader.hide();$("#per-info-suc").html("Your changes have been saved successfully.");$("#per-info-suc").removeClass("fk-hidden")},error:function(d){FKART.loader.hide();$("#per-info-error").html(d);$("#per-info-error").removeClass("fk-hidden")}})}}function dismissPasswordStrengthWarning(a){$.get("/account/a_ignorePasswordStrength");$(a).parent().hide()}function keyEvent(b){b=b||window.event;var a=b.keyCode||b.which;if(a==13){RecoverPassword()}}function RecoverPassword(){var c=document.getElementById("new_password").value;var a=document.getElementById("new_password_repeat").value;var b=(document.getElementById("id").value);$("#tiny_help_message_emailpass").addClass("fk-hidden");if(c==""){document.getElementById("tiny_help_message_emailpass").innerHTML="Please fill New Password.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}if(a==""){document.getElementById("tiny_help_message_emailpass").innerHTML="Please retype New Password.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password_repeat").focus();return false}if(c!=a){document.getElementById("tiny_help_message_emailpass").innerHTML="Passwords don't match. Please correct.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}ajaxRequest("POST","/account/a_recoverPassword",{new_pass:c,new_pass_repeat:a,id:b},{success:function(e){var d=e.msg;if(d=="ok"){document.getElementById("success-msg").innerHTML='Your password has been changed successfully. <br> <a href="/">Click here to goto Flipkart home.</a>';$("#success-msg").removeClass("fk-hidden");$("#success-extra").removeClass("fk-hidden");document.getElementById("change-but").onclick=""}else{document.getElementById("tiny_help_message_emailpass").innerHTML="There was a problem logging you in. Please login manually.";$("#tiny_help_message_emailpass").removeClass("fk-hidden")}},error:function(e,d){document.getElementById("tiny_help_message_emailpass").innerHTML=e;$("#tiny_help_message_emailpass").removeClass("fk-hidden")}})}function RecoverPasswordWithOTP(){var d=document.getElementById("new_password").value;var a=document.getElementById("new_password_repeat").value;var c=(document.getElementById("otp").value);var b=(document.getElementById("new_email_id").value);$("#tiny_help_message_emailpassotp").addClass("fk-hidden");if(b==""){document.getElementById("tiny_help_message_emailpassotp").innerHTML="Please fill Email Id.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}if(c==""){document.getElementById("tiny_help_message_emailpassotp").innerHTML="Please fill OTP.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}if(a==""){document.getElementById("tiny_help_message_emailpassotp").innerHTML="Please retype New Password.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password_repeat").focus();return false}if(d!=a){document.getElementById("tiny_help_message_emailpassotp").innerHTML="Passwords don't match. Please correct.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}ajaxRequest("POST","/account/a_recoverPasswordWithOTP",{new_pass:d,new_pass_repeat:a,otp:c,emailId:b},{success:function(f){var e=f.msg;if(e=="ok"){document.getElementById("success-msg").innerHTML='Your password has been changed successfully. <br> <a href="/">Click here to goto Flipkart home.</a>';$("#success-msg").removeClass("fk-hidden");$("#success-extra").removeClass("fk-hidden");document.getElementById("change-but").onclick=""}else{document.getElementById("tiny_help_message_emailpassotp").innerHTML="There was a problem logging you in. Please login manually.";$("#tiny_help_message_emailpassotp").removeClass("fk-hidden")}},error:function(f,e){document.getElementById("tiny_help_message_emailpassotp").innerHTML=f;$("#tiny_help_message_emailpassotp").removeClass("fk-hidden")}})}function UpdatePasswordOnGuestAccountCreate(){var c=document.getElementById("new_password").value;var a=document.getElementById("new_password_repeat").value;var b=(document.getElementById("id").value);$("#tiny_help_message_emailpass").addClass("fk-hidden");if(c==""){document.getElementById("tiny_help_message_emailpass").innerHTML="Please fill New Password.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}if(a==""){document.getElementById("tiny_help_message_emailpass").innerHTML="Please retype New Password.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password_repeat").focus();return false}if(c!=a){document.getElementById("tiny_help_message_emailpass").innerHTML="Passwords don't match. Please correct.";$("#tiny_help_message_emailpass").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}ajaxRequest("POST","/account/a_guestAccountSignup",{new_pass:c,new_pass_repeat:a,id:b},{success:function(e){var d=e.msg;if(d=="ok"){document.getElementById("success-msg").innerHTML='Your password has been changed successfully. <br> <a href="/">Click here to goto Flipkart home.</a>';$("#success-msg").removeClass("fk-hidden");$("#success-extra").removeClass("fk-hidden");document.getElementById("change-but").onclick=""}else{document.getElementById("tiny_help_message_emailpass").innerHTML="There was a problem logging you in. Please login manually.";$("#tiny_help_message_emailpass").removeClass("fk-hidden")}},error:function(e,d){document.getElementById("tiny_help_message_emailpass").innerHTML=e;$("#tiny_help_message_emailpass").removeClass("fk-hidden")}})}function accountMerge(){var f=document.getElementById("new_password").value;var b=document.getElementById("new_password_repeat").value;var a=document.getElementById("old_account_password").value;var e=(document.getElementById("id").value);var d=(document.getElementById("oldId").value);var c=(document.getElementById("token").value);$("#upd-email-error").addClass("fk-hidden");$("#upd-email-suc").addClass("fk-hidden");if(a==""){$("#upd-email-error").html("Please fill old Account Password.");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("old_password").focus();return false}if(f==""){$("#upd-email-error").html("Please fill New Password.");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}if(b==""){$("#upd-email-error").html("Please retype New Password.");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("new_password_repeat").focus();return false}if(f!=b){$("#upd-email-error").html("Passwords don't match. Please correct.");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("new_password").focus();return false}FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_accountMerge",{new_pass:f,new_pass_repeat:b,id:e,old_password:a,old_email_id:d,token:c},{success:function(g){FKART.loader.hide();$("#upd-email-suc").html('Your email id  has been updated successfully. <br> <a href="/">Click here to goto Flipkart home.</a>');$("#upd-email-suc").removeClass("fk-hidden");$("#success-extra").removeClass("fk-hidden");document.getElementById("change-but").onclick=""},error:function(l,g){FKART.loader.hide();$("#upd-email-error").html(l);$("#upd-email-error").removeClass("fk-hidden")}})}function updateEmail(){var a=strip(document.getElementById("new_email_id").value);var b=(document.getElementById("id").value);$("#upd-email-error").addClass("fk-hidden");$("#upd-email-suc").addClass("fk-hidden");if(a==""||!isEmailValid(a)){$("#upd-email-error").html("Please specify a <b>valid</b> Email Address");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("new_email_id").focus();return false}if(b==a){$("#upd-email-error").html("Old and new emails are same. Please enter different email id");$("#upd-email-error").removeClass("fk-hidden");document.getElementById("new_email_id").focus();return false}var a=escape(a);ajaxRequest("POST","/account/a_updateEmail",{new_email_id:a,id:b},{success:function(c){FKART.loader.hide();$("#upd-email-suc").html("We have sent a mail to your new email id for re-confirmation.");$("#upd-email-suc").removeClass("fk-hidden")},error:function(d,c){FKART.loader.hide();$("#upd-email-error").html(d);$("#upd-email-error").removeClass("fk-hidden")}})}function deactivateAccount(c,e){var a=(document.getElementById("email_id").value);var b=document.getElementById("password").value;var d=document.getElementById("mobile_num").value;if(b==""){$("#deactv-acc-error").html("Please fill  Account Password.");$("#deactv-acc-error").removeClass("fk-hidden");document.getElementById("password").focus();return false}$("#deactv-acc-suc").addClass("fk-hidden");$("#deactv-acc-error").addClass("fk-hidden");FKART.loader.show("Authenticating...");ajaxRequest("POST","/account/a_deactivateAccount",{email_id:a,mobile_num:d,password:b},{success:function(f){FKART.loader.hide();$("#deactv-acc-error").html("Logging out...");$("#deactv-acc-suc").removeClass("fk-hidden");redir(c+"/account/logout?__FK="+e)},error:function(g,f){FKART.loader.hide();$("#deactv-acc-error").html(g);$("#deactv-acc-error").removeClass("fk-hidden")}})}function saveChangesInPass(){var b=document.getElementById("old_password").value;var c=document.getElementById("new_password").value;var a=document.getElementById("new_password_repeat").value;document.getElementById("old_password").value="";document.getElementById("new_password").value="";document.getElementById("new_password_repeat").value="";$("#chg-paswd-error").addClass("fk-hidden");$("#chg-paswd-suc").addClass("fk-hidden");if(c==""){$("#chg-paswd-error").html("Password cannot be left empty");$("#chg-paswd-error").removeClass("fk-hidden");return false}if(c!=a){$("#chg-paswd-error").html("Password change failed. New Passwords do not match");$("#chg-paswd-error").removeClass("fk-hidden");return false}if(c==b){$("#chg-paswd-error").html("Password change failed. New Password same as the old password");$("#chg-paswd-error").removeClass("fk-hidden");return false}FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_changePassword",{old_pass:b,new_pass:c,new_pass_repeat:a},{success:function(d){FKART.loader.hide();$("#chg-paswd-suc").html("Your password has been changed successfully.");$("#chg-paswd-suc").removeClass("fk-hidden")},error:function(e,d){FKART.loader.hide();$("#chg-paswd-error").html(e);$("#chg-paswd-error").removeClass("fk-hidden")}})}function deleteAddress(a){$("#address_"+a).append('<div class="sh">Deleting...</div>');$("#address_"+a+" .sh").height($("#address_"+a).height()-35);ajaxRequest("POST","/account/a_deleteAddress",{address_id:a},{success:function(b){$("#address_"+a).remove();if($("#address_infos .account_page_address_info").length==0){$("#address_infos").addClass("fk-hidden")}},error:function(c,b){$("#address_"+a+" .sh").hide()}})}function changeSubscriptionSettings(){FKART.loader.show("Saving...");$.ajax({type:"POST",url:"/account/a_manageSubscriptions",data:$("#"+formId).serialize(),success:function(a){FKART.loader.hide();$("#unsub-suc").html("Your changes have been saved successfully");$("#unsub-suc").removeClass("fk-hidden")},error:function(b,a){FKART.loader.hide();$("#unsub-error").html(b);$("#unsub-error").removeClass("fk-hidden")}});return false}function addAddress(){$(".input-error").removeClass("input-error");var l=$("#add-error");var b=(document.getElementById("account_page_new_address_name").value);var e=(document.getElementById("account_page_new_address_line1").value);var p=(document.getElementById("account_page_new_address_landmark").value);var f=(document.getElementById("account_page_new_address_city").value);var a=(document.getElementById("account_page_new_address_state").value);var g=(document.getElementById("account_page_new_address_pincode").value);var m=(document.getElementById("account_page_new_address_phone").value);var d=/^[A-Za-z0-9'.,-]+[\ +[A-Za-z0-9'.,-]+]*$/;var o=/^[A-Za-z]+[\ +[A-Za-z]+]*$/;function n(r){$("#"+r).addClass("input-error")}l.addClass("fk-hidden");$("#add-suc").addClass("fk-hidden");if(b==""||e==""||f==""||a==""||g==""||m==""){l.removeClass("fk-hidden").html("Please Provide all details.");return false}else{if(!d.test(unescape(b))){l.removeClass("fk-hidden").html("Incorrect Name.");n("account_page_new_address_name");return false}else{if(b.length<3){l.removeClass("fk-hidden").html("Name is shorter than 3 characters.");n("account_page_new_address_name");return false}else{if(!o.test(unescape(f))){l.removeClass("fk-hidden").html("Incorrect City Name.");n("account_page_new_address_city");return false}else{if(e.length<10){l.removeClass("fk-hidden").html("Address is shorter than 10 characters");n("account_page_new_address_line1");return false}else{if(e.length>216){l.removeClass("fk-hidden").html("Address is longer than 216 characters");n("account_page_new_address_line1");return false}else{if(p.length>60){l.removeClass("fk-hidden").html("Landmark is longer than 60 characters");n("account_page_new_address_landmark");return false}}}}}}}var q=FKART.utils.validate.pincode($("#account_page_new_address_pincode"),g);if(typeof q=="string"){n("account_page_new_address_pincode");l.removeClass("fk-hidden").html(q);return false}var c=FKART.utils.validate.phoneNumber($("#account_page_new_address_phone"),m);if(typeof c=="string"){n("account_page_new_address_phone");l.removeClass("fk-hidden").html(c);return false}FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_addAddress",{name:b,address_line_1:e,address_line_2:p,city:f,state:a,pincode:g,phone:m},{success:function(r){FKART.loader.hide();$("#add-suc").html("Address added successfully.");$("#add-suc").removeClass("fk-hidden");$("#address_infos").removeClass("fk-hidden");var t=$(r);t.css("float","none");$("#address_infos").append(t);t.css("float","left")},error:function(t,r){FKART.loader.hide();l.removeClass("fk-hidden").html(t)}})}function enableTextbox(a){a.disabled=false;a.style.color="darkred";a.style.border="1px solid black"}function enable_profile_info(){if(document.getElementById("is_profile_name_modified").value=="0"){enableTextbox(document.getElementById("profile_name"))}enableTextbox(document.getElementById("isWishListPublic"));document.getElementById("edit_profile_button").innerHTML="Save Changes";document.getElementById("edit_profile_button").onclick=saveChangesInUserProfile;document.getElementById("tiny_help_message_profile").innerHTML='Click on "Save Changes" after making any changes'}function saveChangesInUserProfile(){$("#pro-set-suc").addClass("fk-hidden");$("#pro-set-error").addClass("fk-hidden");var b="";if($("#isWishListPublicNo").is(":checked")){b=$("#isWishListPublicNo").val()}else{if($("#isWishListPublicYes").is(":checked")){b=$("#isWishListPublicYes").val()}}var a="";if($("#profile_name input").length){a=escape($("#profile_name input").val());if(!a){$("#pro-set-error").html("Profile name cannot be empty.");$("#pro-set-error").removeClass("fk-hidden");return false}if(a.match(/[^a-zA-Z0-9_\-\.]+/)){$("#pro-set-error").html("No spaces or special characters allowed in profile name.");$("#pro-set-error").removeClass("fk-hidden");return false}if(!a.match(/[a-zA-Z]+/)){$("#pro-set-error").html("Profile name should have atlease one character.");$("#pro-set-error").removeClass("fk-hidden");return false}}else{a=escape($("#profile_name span").html())}FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_saveProfile",{profile_name:a,isWishListPublic:b},{success:function(c){FKART.loader.hide();$("#pro-set-suc").html("Your profile changes have been saved successfully.");$("#pro-set-suc").removeClass("fk-hidden");document.getElementById("publicwishlisturl").innerHTML="www.flipkart.com/wishlist/"+a;document.getElementById("publicwishlisturl").href="/wishlist/"+a;$("#profile_name").html("<span>"+a+"</span>");$("#pro-set-alert").remove()},error:function(d,c){FKART.loader.hide();$("#pro-set-error").html(d);$("#pro-set-error").removeClass("fk-hidden")}})}function enableWishlistRequestForm(){document.getElementById("request_table").style.display=""}function requestUserToMakeWishlistPublic(){var c=escape(document.getElementById("profileuserccountid").value);var b=escape(document.getElementById("Requester_email").value);var d=escape(document.getElementById("message").value);var a=escape(document.getElementById("Requester_Name").value);if(a==""){document.getElementById("tiny_help_message").innerHTML="Please enter your Name.";document.getElementById("Requester_Name").focus();return}if(!isEmailValid(b)){document.getElementById("tiny_help_message").innerHTML="Please enter a valid Email Address.";document.getElementById("Requester_email").focus();return}if(d==""){document.getElementById("tiny_help_message").innerHTML="Please enter a Message.";document.getElementById("message").focus();return}document.getElementById("Requester_email").disabled="disabled";document.getElementById("message").disabled="disabled";document.getElementById("Requester_Name").disabled="disabled";document.getElementById("send_email_button").innerHTML="Sending Email ...";document.getElementById("tiny_help_message").innerHTML="Please wait while we send your resquest as email";document.getElementById("send_email_button").onclick=null;ajaxRequest("POST","/kenny.php",{action:"WISHLISTREQUESTEMAIL",fromemail:b,account_id:c,message:d,name:a},{success:function(e){document.getElementById("send_email_button").innerHTML="Sent Email";document.getElementById("tiny_help_message").innerHTML="An email requesting the user to make his profile public has been sent with your message."},error:function(f,e){document.getElementById("send_email_button").innerHTML="Error Sending Mail";document.getElementById("tiny_help_message").innerHTML=f}})}function makewishlistpublic(a){var b=(document.getElementById("profile_name").value);var c="Yes";if(typeof a=="undefined"){a="http://www.flipkart.com"}ajaxRequest("POST","/account/a_saveProfile",{profile_name:b,isWishListPublic:c},{success:function(e){var d=setSessionCooke(e.sid);if(d===true){document.getElementById("make_wishlist_public").innerHTML="Your Wishlist is made public successfully.";window.location.href=unescape(a)}else{window.location.href=unescape(a)}},error:function(e,d){document.getElementById("make_wishlist_public").innerHTML=e}})}function setDefaultAddress(a){ajaxRequest("POST","/account/a_setDefaultAddress",{addr_id:a},{success:function(b){$(".account_page_address_info.sel").removeClass("sel");$("#address_"+a).addClass("sel")},error:function(c,b){}})}function getSubscriptionPageReady(){$(".subscriptionForm #sub_categories").delegate("input.child","change",function(){var a=$(this).parents(".categoryName");if($("input.child:checked",a).length==$("input.child",a).length){$("input.parent",a).attr("checked","checked")}else{$("input.parent",a).removeAttr("checked")}}).delegate("input.parent","change",function(){var a=$(this).parents(".categoryName");if(this.checked){$("input.child",a).prop("checked",true)}else{$("input.child",a).prop("checked",false)}});if(!($("input[type='radio']",".subscriptionForm #sub_frequencies").is(":checked"))){$("input[value='weekly_one']",".subscriptionForm #sub_frequencies").attr("checked","checked")}$(".categoryName",".subscriptionForm #sub_categories").each(function(){$($("input.child",this)[0]).click().click()})}function emptyFormAndSubscribe(a){$("input",'form[name="subscriptionForm"]').not(":radio, :button, :submit, :reset").val("").removeAttr("checked").removeAttr("selected");changeSubscriptionStatus(a)}function changeSubscriptionStatus(a){$(".fk-err-all,.fk-suc-msg").addClass("fk-hidden");var c=false;$("input",".subscriptionForm #sub_types").each(function(){if(this.checked){c=true}});var b=false;$("input.child",".subscriptionForm #sub_categories").each(function(){if(this.checked){b=true}});if(c&&!b){$(".fk-err-all",".subscriptionForm #sub_categories").removeClass("fk-hidden");return false}else{if(!c&&b){$(".fk-err-all",".subscriptionForm #sub_types").removeClass("fk-hidden");return false}}FKART.loader.show("Saving...");ajaxRequest("POST","/account/a_manageSubscriptions",$("form[name='subscriptionForm']").serialize()+"&ref_id="+a+"&__FK="+encodeURIComponent(window.__FK),{success:function(d){FKART.loader.hide();$("#unsub-suc").html("Your changes have been saved successfully");$("#unsub-suc").removeClass("fk-hidden")},error:function(e,d){FKART.loader.hide();$("#unsub-error").html(e);$("#unsub-error").removeClass("fk-hidden")}});return false}function addItemtoCartFromWishlist(a){console.log(a);ajaxRequest("POST","/xhr/addItemToCart",{edition_id:a},{success:function(b){FKART.omni.customEvent("Wishlist addtocart",{prop45:"Add to Cart"});window.location.href=unescape("/viewcart")},error:function(c,b){console.log("Wishlist_addtoCart_failure")}})}(function(){$(".update-link").click(function(){var a=$(this).parents(".section");$(".main-block",a).addClass("fk-hidden");$(".update-block",a).removeClass("fk-hidden");$(".update-block input",a).focus();$("#benefits-section",a).addClass("fk-hidden")});$(".update-block input").focus(function(){$(this).next().removeClass("fk-hidden")});$(".login-ff").live("click",function(a){if(FKART.login.isUserLoggedIn()){return true}var b=$(this).attr("redirect");FKART.login.showPopup(b,true,null);a.stopPropagation();return false})})();addOnload(function(){var g=$(".new-login-page"),c=$(".new-signup-page");if(window.location.pathname.match(/^(javascript)|(#)|(\/account\/login)/)){var b=$("#loginWithOtpFlow"),d=(b)?b.data("socialid"):"",a=(b)?b.data("showpopup"):0,e=FKART.login.initNewloginpageEvents(g);if(a==1&&d&&d!=""){var f={email:d,msg:"Social Login is discontinued"};if(FKART.login.isUserLoggedIn()){return true}e.getInitial(f)}else{e.getInitial()}}else{if(window.location.pathname.match(/^(javascript)|(#)|(\/account\/signup)/)){FKART.login.initNewSignuppageEvents(c).getInitial()}}});FKART.widgets=FKART.widgets||{};FKART.widgets.PinCodeChecker=FKART.widgets.PinCodeChecker||function(a){var b=this,c,d;d=$(a.container);c=d.find(".pincode-checker");b.pinCodeTBEl=c.find(".pincode-textbox");b.pinCodeErrorContainerEl=c.find(".pincode-errorMsg");b.pinCodeCheckerForm=c.find(".pincode-checker-form");b.pinCodeChangeEl=c.find(".pincodeChangeBtn");b.pinCodeTextEl=c.find(".pincode-text");b.pinCodePanelForm=c.find(".panel-form");b.pinCodePanelStaticEl=c.find(".panel-static");b.callback=a.callback;b.callbackParams=[];b.tooltip=null;b.hasPinCodeChecked=false;b.defaultTooltipMessage="Check delivery information";b.containerEl=d;b.pinCodeCheckerEl=c;b.disableTooltip=!!a.disableTooltip;b.config=a;b.init()};FKART.widgets.PinCodeChecker.prototype={constructor:FKART.widgets.PinCodeChecker,init:function(){var c=this,b=c.config,d={nearElement:c.pinCodeTBEl,cssClass:"pincode-checker yellow",message:c.defaultTooltipMessage,align:"t-middle",showCloseIcon:false},a=$.extend({},d,b.tooltipConfig);c.tooltip=new FKART.ui.Tooltip(a);c.pinCodeCheckerForm.submit(function(){c.checkAndSubmitForm()});c.pinCodeTBEl.focus(function(){if(!b.disableTooltip){c.tooltip.show()}}).change(function(){c.hasPinCodeChecked=false}).blur(function(){if(!b.disableTooltip){c.tooltip.hide()}})},checkAndSubmitForm:function(){var a=this;if(!a.isValid()){a.pinCodeErrorContainerEl.html("Please enter a valid pincode.");a.hasPinCodeChecked=false}else{a.sendPinCode();a.tooltip.hide();a.hasPinCodeChecked=true}return false},disableTooltip:function(b){var c=this,a=c.config;a.disableTooltip=b||false},isValid:function(){var a=this,b=a.pinCodeTBEl.val();return/[1-9][0-9]{5}/.test(b)},sendPinCode:function(){var a=this,b=a.pinCodeTBEl.val();a.showStaticPanel(b);a.callbackParams.unshift(b);a.callback&&a.callback.apply(this,a.callbackParams)},showStaticPanel:function(b){var a=this;a.pinCodeTextEl.text(b);a.pinCodePanelForm.hide();a.pinCodePanelStaticEl.show()},showFormPanel:function(){var a=this;a.pinCodePanelForm.show();a.pinCodePanelStaticEl.hide()},setCallBack:function(b){var a=this;a.callback=b},setCallBackParams:function(b){var a=this;a.callbackParams=b},getCallBackParams:function(){var a=this;return a.callbackParams},getPinCode:function(){var a=this;return a.pinCodeTBEl.val()},focus:function(){var b=this,a=b.config;b.showFormPanel();b.tooltip.updateContent(b.defaultTooltipMessage);b.pinCodeCheckerEl.find(".pincode-textbox").focus();if(!a.disableTooltip){b.tooltip.show()}},blur:function(){var a=this;a.pinCodeTBEl.blur()},destroy:function(){var a=this;a.tooltip.destroy()},getPinCodeCheckStatus:function(){var a=this;return a.hasPinCodeChecked}};FKART.widgets.QuickView=function(d){var n={errorMessage:"Something went wrong! Please reload the page.",url:"/lc/quickView",dialogWidth:1204,dialogHeight:620};var B,m,x,a,w,z,r,t;function b(C){return m.indexOf(C)}function v(E){var G=E.contents(),D=$("a[data-quickview-pid]",G),C,F;_.forEach(D,function(H){H=$(H);F=$.extend(true,{pid:C},FKART.urlParser(H.attr("href")).get());C=H.data("quickview-pid");if(C){H.attr("href",(B.url+"?"+$.param(F)))}})}var p=function(){var C=new FKART.ui.Dialog({width:930,height:555,showFooter:false,cssClass:"quickview-dialog"})};function g(C){var D=C.contents(),E=D.find("body").outerHeight(true);if(E<B.dialogHeight){r.setHeight(E+20)}}function l(C){var D=C.contents();D.keyup(_.throttle(function(E){switch(E.which){case 37:q();break;case 39:c();break}},500))}function A(D,F){var C,E;E=B.url+"?"+$.param({pid:D});a.empty();r.show();t.show();$("<iframe></iframe>").addClass("quickViewFrame").attr("src",E).appendTo(r.getDialogBody()).load(function(){var G=$(this);v(G);g(G);l(G);B.onLoad&&B.onLoad(D);F&&F(D,G);G.focus();t.hide()}).error(function(){B.onError&&B.onError(D);new FKART.Alert({body:B.errorMessage,width:480,destroy_on_close:true});o()});C=b(D);if(C>=0){x=C}}function o(){r.hide();t.hide()}function q(C){if(!C){if(x===0){x=(m.length-1)}else{x--}C=m[x]}A(C,function(){B.onPreviousLoad&&B.onPreviousLoad(C)})}function c(C){if(!C){if(x===(m.length-1)){x=0}else{x++}C=m[x]}A(C,function(){B.onNextLoad&&B.onNextLoad(C)})}function f(){m.length=0;x=-1}function y(){return m}function e(C){!Array.isArray(C)&&(C=[C]);m=m.concat(C)}function u(){B=$.extend({pids:[],cssClass:"quickViewDialog"},n,d);m=B.pids||[];x=-1;r=new FKART.ui.Dialog({width:B.dialogWidth,height:B.dialogHeight,cssClass:B.cssClass,showFooter:false});t=new FKART.ui.Loader({msg:"Loading...",size:"medium",modal:true});r.getContainer().on("beforeHide",function(){t.hide()});w=$("<a></a>",{"class":"prev-listing-btn",click:function(){q()}});z=$("<a></a>",{"class":"next-listing-btn",click:function(){c()}});a=r.getDialogBody();a.parent().prepend(w).append(z)}u();return{show:A,hide:o,showPrevious:q,showNext:c,addPids:e,clearPids:f,getPids:y}};FKART.widgets.ExpandedView=function(t){var b=$.extend({id:t.linkClass+"-ev",animate:true,expandCollapse:true,selectorClass:"v-selected",loaderConfig:{}},t);var q,p,r,g,o={url:b.url,dataType:"json",data:b.params,complete:function(v,u){if(u=="abort"){p&&p.hide()}},success:function(u){p&&p.hide();if(u.status=="ok"&&u.status!=null){q[0].innerHTML=u.data.html;FKART.utils.runWindowOnload();FKART.utils.runOnload()}else{c();new FKART.Alert({body:u.msg,destroy_on_close:true,width:500})}},error:c};var e=function(u){if(typeof u.attr("data-params")=="undefined"||u.attr("data-params")==""){return}var v=$.parseJSON(u.attr("data-params"));b.params=$.extend(b.params,v)};var d=function(){$("."+b.linkClass).each(function(){$(this).click(function(){r&&r.abort();var u=$(this);e(u);if(!u.hasClass(b.selectorClass)){$("."+b.selectorClass).removeClass(b.selectorClass);f(u)}else{if(b.expandCollapse){u.removeClass(b.selectorClass);c()}}});$(this).removeClass(b.linkClass)})};var l=function(){q=$("<div />").addClass("ev-body hidden").attr("id",b.id);b.bodySelector&&q.html($(b.bodySelector));if(typeof b.url!="undefined"){var u=$.extend({renderTo:q,msg:"Loading...",cssCls:"ev-loader"},b.loaderConfig);p=new FKART.ui.Loader(u)}d()};var a=function(u){return u.hide().slideDown(500,function(){q.scrollToView();g&&r.readyState!="4"&&p&&p.show()})};var m=function(){q.show();p&&p.show();q.scrollToView()};var n=function(){q.html("");g=true;r=$.ajax(o).done(function(){g=false})};function c(){$("."+b.selectorClass).removeClass(b.selectorClass);p&&p.hide();q.hide();q.trigger("afterHide")}function f(u){u.addClass(b.selectorClass).after(q);(b.animate)?a(q):m();b.url&&n();q.trigger("afterShow")}return{init:l,getContainer:function(){return q},updateBody:function(u){q.html($(u))},hide:c}};FKART.widgets.UpdateWithOtp=function(L){var p=L.container,x=new FKART.ui.Loader({type:"modal",renderTo:p,size:"medium"}),y=L.loginIdentifier,G=p.find(".update-input"),J=p.find(".update-identifier-wrap"),e=J.find(".err_text"),c=J.find(".succ_text"),K=J.find(".done_text"),S=J.find(".input-contactId"),C=J.find(".otp-wrap"),o=C.find(".input-otp"),w=C.find(".input-password"),D=J.find(".add-link"),H=J.find(".edit-link"),O=H.parent(".edit-wrap"),m=O.siblings(".add-wrap"),g=O.find(".saved-contactId"),F=O.find("input.hasData"),q=J.find(".change-link"),u=J.find(".cancel-link"),I=C.find(".resend-otp"),t="",P="",R="",z="",B=false,r=false,f=J.find(".save-btn");var A=function(){var T=g.html();S.val(T).attr("disabled",false).focus();o.val("").attr("disabled",false);q.hide();D.show().addClass("disable-link").off("click");r=false;C.hide();t="";P="";R="";z="";B=false;I.parent().removeClass("wrong-otp correct-otp");if(T&&T.length>0){if(y=="mobile"){S.parent().addClass("mno-input")}u.removeClass("invisible")}else{if(y=="mobile"){S.parent().removeClass("mno-input")}u.addClass("invisible")}v();if(f&&f.length>0){f.attr("disabled",true)}};if(y=="mobile"){S.on("keypress",function(V){var T=$(this).val().length,U=V.keyCode||V.which;V=V||window.event;if(((U>=48&&U<=57)&&(T<10))||(U==8)||(U==46)||(U==37)||(U==39)){return true}return false})}S.on("keyup",function(W){var T=$(this).val(),W=W||window.event,V=W.keyCode||W.which,U=g.html();if(T.length>0){if(!r){D.removeClass("disable-link").on("click",function(){N()});u.removeClass("invisible");if(y=="mobile"){$(this).parent().addClass("mno-input")}r=true}if(V==13){D.trigger("click")}}else{D.addClass("disable-link").off("click");r=false;$(this).parent().removeClass("mno-input");if(U&&U.length==0){u.addClass("invisible")}}});D.on("click",function(){N()});H.on("click",function(){A();O.hide();m.show();S.focus()});o.on("keydown",function(V){var T=$(this).val().length;V=V||window.event;var U=V.keyCode||V.which;if((((U>=48&&U<=57)||(U>=96&&U<=105))&&(T<6))||(U==8)||(U==46)||(U==37)||(U==39)||((V.ctrlKey||V.metaKey)&&(U==118||U==86))){return true}return false});q.on("click",function(){A()});u.on("click",function(){E()});I.on("click",function(){v();x.show();l(t,function(T){x.hide();R=T.otp_key;Q(null,"Verification Code sent to "+t);o.val("").focus()})});o.on("keyup",function(){n()});o.on("paste",function(){setTimeout(function(){n()},0)});f.on("click",function(){if(!B){Q("Please update the fields");return true}var T,U;if(y=="mobile"){T="mobile_no";U="Henceforth, use this number to login."}else{T="email_id";U="Henceforth, use this email id to login."}P=w.val();a({contact_id:t,identifier:T,otp_key:R,otp:z,password:P,is_ff:true},function(V){x.hide();g.text(V.updated_id);F.val(V.updated_id);d(U);O.show();m.hide();f.attr("disabled",true);B=false;if(L.successCb&&typeof L.successCb=="function"){L.successCb()}})});var N=function(){var U=S.val();x.show();var T=(y=="mobile")?{mobileNumber:true}:{email:true};v();if(!b(T)){x.hide();return}l(U,function V(W){x.hide();t=U;R=W.otp_key;S.attr("disabled",true);q.show();D.hide();Q(null,"Verification Code sent to "+U);C.show();o.focus()})};var n=function(){var U=o.val();if(U.length<6){I.parent().removeClass("wrong-otp correct-otp");return}var T={otp:true};x.hide();x.show();v();if(!b(T)){x.hide();return}o.off("keyup paste");M(t,U,R,function W(X){x.hide();I.parent().removeClass("wrong-otp").addClass("correct-otp");o.attr("disabled",true);z=U;f.attr("disabled",false);B=true;o.on("keyup",function(){n()});o.on("paste",function(){setTimeout(function(){n()},0)})},function V(Y,X){x.hide();Q(Y);I.parent().removeClass("correct-otp").addClass("wrong-otp");o.on("keyup",function(){n()});o.on("paste",function(){setTimeout(function(){n()},0)})})};function E(){var T=g.html();I.parent().removeClass("wrong-otp correct-otp");if(T&&T.length>0){m.hide();O.show();v()}else{A()}}function a(V,U,T){FKART.login.sendIframeRequest("POST","/account/updateLinkedAccounts",{contact_id:V.contact_id,identifier:V.identifier,otp_key:V.otp_key,otp:V.otp,password:V.password,is_ff:V.is_ff},{success:function(W){if(U&&(typeof U=="function")){U(W)}},error:function(X,W){x.hide();Q(X);if(T&&(typeof T=="function")){T(X,W)}}})}function l(V,U,T){FKART.login.sendIframeRequest("POST","/account/generateOTP",{contact_id:V},{success:function(X){var W="";if(X.error_code){x.hide();if(X.error_code=="INTERNAL_ERROR"){W="Could not generate a validation code at the moment, please try again later."}else{W=X.error_message}Q(W)}else{if(U&&(typeof U=="function")){U(X)}}},error:function(X,W){x.hide();Q(X);if(T&&(typeof T=="function")){T(X,W)}}})}function M(W,U,X,V,T){FKART.login.sendIframeRequest("POST","/account/validateOtp",{contact_id:W,otp:U,otp_key:X},{success:function(Y){if(V&&(typeof V=="function")){V(Y)}},error:function(Z,Y){if(T&&(typeof T=="function")){T(Z,Y)}}})}function b(Y){var X={email:false,otp:false,mobileNumber:false};var T=$.extend({},X,Y);if(T.email){var V=S.val();if(!isEmailValid(V)){Q("Please enter a valid email",null,S);return false}else{if(g.html().toLowerCase()==V.toLowerCase()){Q("New email is same as existing email",null,S);return false}}}if(T.otp){var U=o.val();if(U.length==0){Q("Please enter Verification Code",null,o);return false}else{if(U.length!=6){Q("Incorrect Verification Code",null,o);return false}}}if(T.mobileNumber){var W=S.val();if(!isValidMobileNumber(W)){Q("Please enter a valid mobile number",null,S);return false}else{if(g.html().toLowerCase()==W.toLowerCase()){Q("New mobile is same as existing mobile",null,S);return false}}}return true}function Q(V,U,T){V&&e.text(V).parent().show();U&&c.text(U).parent().show();T&&T.addClass("inp-err")&&T.focus()}function d(T){K.text(T).parent().show();H.hide();_.delay(function(){K.parent().hide();H.show()},5000)}function v(){e.parent().hide();c.parent().hide();K.parent().hide();G.removeClass("inp-err")}return{init:A}};FKART.ensureLogin=function(a){return function(){if(FKART.isUserLoggedIn()){a.apply(this,arguments)}}};FKART.isUserLoggedIn=function(){return FKART.LOGGEDIN||FKART.USER_LOGGED_IN};FKART.ugc={};FKART.ugc.review={};FKART.ugc.sellerReview={};FKART.ugc.sellerReview.reportAbuse=function(a,e,c,d,b){$.post("/ugc-ajax/reportAbuseSellerReview",{review_id:a,reason:c,source:e},function(f){if(f.status=="ok"&&d){d(f)}else{if(b){b(f)}}},"json")};FKART.ugc.review.reportAbuse=function(a,d,c,b){$.post("/ugc-ajax/reportAbuseReview",{review_id:a,source:d},function(e){if(e.status=="ok"&&c){c(e)}else{if(b){b(e)}}},"json")};FKART.ugc.review.deleteReview=function(a,d,c,b){$.post("/ugc-ajax/deleteReview",{review_id:a,source:d},function(e){if(e.status=="ok"){if(c){c(e)}}else{if(b){b(e)}}},"json")};FKART.ugc.review.deleteSellerReview=function(a,d,c,b){$.post("/ugc-ajax/deleteSellerReview",{review_id:a,source:d},function(e){console.log(e);if(e.status=="ok"){if(c){c(e)}}else{if(b){b(e)}}},"json")};FKART.ugc.review.updateCertifiedBuyerBadge=function(b,a,d,e,c){$.post("/ugc-ajax/updateCertifiedBuyerBadge",{review_id:b,property_id:a,showCertifiedBuyer:d?1:0},function(f){if(f.status=="ok"){if(e){e(f)}}else{if(c){c(f)}}},"json")};FKART.ugc.review.rateReview=function(b,a,e,d,c){$.post("/ugc-ajax/rateReview",{review_id:b,rating:a,source:e},function(f){if(f.status=="ok"&&d){d(f)}else{if(c){c(f)}}},"json")};FKART.ugc.rating={};FKART.ugc.getUserWidget=function(b,c,a){$.getJSON("/ugc-ajax/getUserWidget",{profile_name:b},function(d){if(d.status=="ok"&&c){c(d)}else{if(a){a(d)}}})};FKART.ugc.rating.submitRating=function(a,b,d,c){$.post("/ugc-ajax/submitRating",{property_id:a,rating:b},function(e){if(e.status=="ok"&&d){d(e)}else{if(c){c(e)}}},"json")};FKART.ugc.updateOmnitureFirstTime=function(c,a,b){if(c==0){FKART.omni.customEvent(a,{events:b})}};FKART.ugc.ui={};FKART.ugc.ui.writeReviewPageInit=function(a){$(".fk-give-star a").click(function(){var b=parseInt($(this).text());b=b>5?5:b;b=b<1?1:b;$("#review_rating_error_message").hide();var c=$(this).closest(".fk-give-star");c.children(".user-rating").animate({width:(b*20)+"%"},"fast");c.children(".rating").val(b)})};FKART.ugc.ui.editableRatingsInit=function(a){var c=false;$(".fk-give-star a").live("click",FKART.ensureLogin(function(){var d=parseInt($(this).text()),g,m;d=d>5?5:d;d=d<1?1:d;var e=$(this);var f=e.closest(".digital-item");var l=e.closest(".fk-give-star").attr("data-ratings-location");if(f.length!=0){c=true;g=f.attr("data-pid");m=f.attr("data-item-name")}if(typeof g=="undefined"&&typeof a!="undefined"){g=a}FKART.ugc.rating.submitRating(g,d,function(o){$(".fk-user-rating .message").text("You have rated this product");$(".fk-give-star").attr("stars",d);if(c){b(m,d);$(".digital-item[data-pid="+g+"] .user-rating").css("width",(d*20)+"%").addClass("user-rated");e.closest(".fk-give-star").find(".user-rating").animate({width:(d*20)+"%"},"fast").addClass("user-rated")}else{$(".fk-user-rating .fk-give-star .user-rating").animate({width:(d*20)+"%"},"fast")}var n=s_gi(s_account);n.linkTrackVars="products,eVar22,events"+(l?",prop46":"");n.linkTrackEvents="event34";n.products=";"+g+";;;;eVar22="+o.vertical;if(l){n.prop46=l}n.events="event34";n.tl(this,"o","Rating added");FKART.ugc.updateOmnitureFirstTime(parseInt(e.closest(".fk-give-star").attr("data-rating-count"),10),"First Rating Added","event50")})}));function b(e,d){FKART.digital.notify({text:'<span class="tick_icon"></span><p class="fk-inline-block tmargin5 lmargin10 rmargin10"> You have rated "'+e+'"</p><div class="fk-stars-small" title ="'+d+' stars"><div class="rating" style="width:'+(d*13)+'px;"></div></div>'})}};FKART.ugc.ui.init=function(a,b){b=b||false;FKART.ugc.ui.editableRatingsInit(a);$(".fk-ugc-review-rate").click(FKART.ensureLogin(function(){var g=$(this);var e=$(this).closest(".fk-review").attr("review-id");var f=$(this).closest(".fk-review").attr("ugc_source");var d=parseInt($(this).attr("rate"));d=d>0?1:0;var c=this;FKART.ugc.review.rateReview(e,d,f,function(){g.addClass("selected");$(c).parent().after("<span class='fk-msg-thanks'> Thanks for your vote! </span>");$(c).parents(".show-on-hover").removeClass("show-on-hover");var l=s_gi(s_account);if(d==1){FKART.omni.customEvent("productpage review rating",{prop15:"yes_"+l.pageName})}else{FKART.omni.customEvent("productpage review rating",{prop15:"no_"+l.pageName})}})}));$(".fk-ugc-review-reportAbuse").click(FKART.ensureLogin(function(){if(!confirm("Are you sure you want to report this review as abusive?")){return}var d=$(this).parentsUntil(".fk-review").parent().attr("review-id");var e=$(this).parentsUntil(".fk-review").parent().attr("ugc_source");var c=this;FKART.ugc.review.reportAbuse(d,e,function(){$(c).hide().removeClass("show-on-hover").after("<span class='unitExt fk-msg-thanks'>Thanks for reporting!</span>")})}));$(".fk-ugc-review-updateCertifiedBuyerBadge").click(FKART.ensureLogin(function(){var f=$(this).parentsUntil(".fk-review").parent().attr("review-id");var c=$(this).parentsUntil(".fk-review").parent().attr("property-id");var e=this;var d=e.checked;FKART.ugc.review.updateCertifiedBuyerBadge(f,c,d,function(g){d?$(e).parents(".review").find(".imgCertifiedBuyer").show():$(e).parents(".review").find(".imgCertifiedBuyer").hide()},function(g){alert("Error updating badge, please try after sometime")})}));$(".fk-ugc-review-delete").click(FKART.ensureLogin(function(){if(!confirm("Are you sure you want to delete this review?")){return}var d=$(this).parentsUntil(".fk-review").parent().attr("review-id");var e=$(this).parentsUntil(".fk-review").parent().attr("ugc_source");var c=this;$(this).parents(".review,.fk-review").prepend("<div id='blockedDiv' class='blocked'><div style='margin: 150px;'>Deleting this review.</div></div>");FKART.ugc.review.deleteReview(d,e,function(){$(c).parents(".review,.fk-review").slideUp(500,function(){if(window.location.pathname.match("/reviews/")){window.location="/profile"}else{window.location.reload()}})},function(f){$(".blocked").hide();alert("Your review could not be deleted, please try after sometime")})}));$(".js-seller-review-delete").click(FKART.ensureLogin(function(){if(!confirm("Are you sure you want to delete this review?")){return}var d=$(this).parent().find(".hidden-review-id").val();var e=$(this).parent().find(".hidden-ugc_source").val();var c=this;$(this).parents(".seller-review-min").prepend("<div id='blockedDiv' class='blocked'><div style='margin-top:40px;'>Deleting this review.</div></div>");FKART.ugc.review.deleteSellerReview(d,e,function(){$(c).parents(".seller-review-min").slideUp(500,function(){window.location.href=updateQueryStringParameter(window.location.href,"tab","seller-reviews")})},function(f){$(".blocked").hide();alert("Your review could not be deleted, please try after sometime.")})}));if(!b){$(".fk-review").delayedHover(function(){$(this).find(".show-on-hover").fadeTo(200,1)},function(c){if($(c.relatedTarget).parents(".user-widget-tooltip").length>0){return}$(this).find(".show-on-hover").fadeTo(200,0.001)})}$(".load-user-widget").each(function(){var c="<img src='/images/ajax-loader.gif' alt='' class='user-widget-loader' /> Loading..";var d=new FKART.ui.Tooltip({message:c,nearElement:this,cssClass:"user-widget-tooltip",align:"left",extraHoverArea:true});$(this).data("tooltip",d)});$(".load-user-widget").delayedHover(function(){var e=$(this).data("tooltip");e.show();if($(this).attr("profile_name")!=""){var d=$(this).attr("profile_name");var c=this;FKART.ugc.getUserWidget(d,function(f){e.updateContent(f.html);$(c).attr("profile_name","")})}},function(d){if($(d.relatedTarget).parents(".user-widget-tooltip").length>0||$(d.relatedTarget).is(".date")){return}var c=$(this).data("tooltip");c.hide()});$(".user-widget-tooltip").hover(function(){$(this).show()},function(c){if($(c.relatedTarget).is(".load-user-widget")){return}$(this).hide()});$(".badge-certified-buyer").each(function(){var c=new FKART.ui.Tooltip({message:$(".tooltip-text",this),nearElement:$(".img",this),cssClass:"badge-tooltip",extraHoverArea:true,align:"left",showCloseIcon:false});$(this).data("tooltip",c)});$(".badge-certified-buyer").delayedHover(function(){$(this).data("tooltip").show()},function(c){if($(c.relatedTarget).parents(".badge-tooltip").length>0){return}$(this).data("tooltip").hide()});$(".badge-tooltip").hover(function(){$(this).show()},function(c){if($(c.relatedTarget).is(".badge-certified-buyer")){return}$(this).hide()})};function expandReview(b){var a=b.closest(".fk-review");a.find(".review-text").html(a.find(".hidden-review-full-text").html());b.removeClass("collapsed").addClass("expanded").text("Collapse")}function collapseReview(b){var a=b.closest(".fk-review");a.find(".review-text").html(a.find(".hidden-review-compact-text").html());b.removeClass("expanded").addClass("collapsed").text("Expand")}$(".expand-collapse-review").click(function(){var a=$(this);if(a.hasClass("collapsed")){expandReview(a)}else{collapseReview(a)}});$(".expand-collapse-all-reviews").click(function(){var a=$(this);if(a.hasClass("collapsed")){a.removeClass("collapsed").addClass("expanded").text("Collapse all the Reviews");$(".expand-collapse-review").each(function(){expandReview($(this))})}else{a.removeClass("expanded").addClass("collapsed").text("Expand all the Reviews");$(".expand-collapse-review").each(function(){collapseReview($(this))})}});$("body").on("click",".ugcf-tt-container .ans",function(){var a,d,c,f=$(this),l=f.closest(".ugcf-tt-container"),g=l.find(".comment-block"),b=l.attr("data-origin");l.find(".ack").text("Thanks for your vote!").show();l.find(".selected").removeClass("selected");var e=f.addClass("selected").attr("data-item-id");ugcFeedbackTooltip.updateContent(g.html());ugcFeedbackTooltip.show(f);if(e&&e.split){a=e.split("#");d=a[0];c=a[1];ugcFeedbackTooltip.item_id=d;ugcFeedbackTooltip.response=c;ugcFeedbackTooltip.origin=b;ugcFeedbackTooltip.context=f;$(".ugc-feedback-tooltip").find(".text").val("").attr("placeholder",(c=="yes")?"What did you like about this feature?":"What did you not like about this feature?");$.post("/ugc-ajax/sumbitUGCFeedback",{item_id:d,origin:b,response:c})}});$("body").on("click",".ugc-feedback-tooltip .skip",function(){var a=$(this).parent();a.find(".text").val("");a.find(".err").hide();ugcFeedbackTooltip.hide()});$("body").on("click",".ugc-feedback-tooltip .save",function(){var g=$(this),f=g.closest(".ugc-feedback-tooltip"),e=f.find(".text"),d=e.val(),l=ugcFeedbackTooltip.item_id,c=ugcFeedbackTooltip.response;var b=ugcFeedbackTooltip.origin;var a=ugcFeedbackTooltip.context;if(l){if(d==""){f.find(".err").show()}else{$.post("/ugc-ajax/sumbitUGCFeedback",{item_id:l,origin:b,response:c,metadata:JSON.stringify({comment:d})}).done(function(m){a.parents(".ugcf-tt-container").find(".ack").text("Thanks for your comment!").show();e.val("");ugcFeedbackTooltip.hide()})}}});$("body").on("click",".ugc-feedback-tooltip .text",function(){$(this).attr("placeholder","")});FKART.ui.InfiniteScroll=function(A){var A=A,x=false,g=true,f,b,n,r,z,y,p,a,q,w;this.setUpScroll=function(){f=A.startFrom||(o()+A.page_size);b=A.baseUrl||v();u=A.fetchResults||u;n=A.totalResults;r=f;q=Math.ceil(f/A.page_size)>0?Math.ceil(f/A.page_size):1;y=q;if(typeof A.autoLoad!="undefined"){g=A.autoLoad}c();l();m();if(FKART.locationHash.get("pageno")&&FKART.locationHash.get("scrollTo")){z=FKART.locationHash.get("pageno");if(z>q){e(z,function(){$(window).scrollTop(FKART.locationHash.get("scrollTo"))})}}};this.destroy=function(){g=false;p.parent().remove();w.unbind()};function c(){A.showMoreText=A.showMoreText||"Show more results";A.loadingText=A.loadingText||"Loading more results";A.startParamName=A.startParamName||"start";A.noMoreResultsText=A.noMoreResultsText||"No more results to display.";A.bottomHeight=A.bottomHeight||(160+150*3);if(typeof A.autoLoadNo=="undefined"){A.autoLoadNo=3}A.appendAfter=A.appendAfter||A.container+" .fk-inf-scroll-item:last";if(typeof A.changeLocationHash=="undefined"){A.changeLocationHash=true}}function e(E,D){function C(G,F){if(F<E){B()}else{if(F==E){$(A.container).unbind("page_loaded",C);if(D){D()}}}}$(A.container).bind("page_loaded",C);B()}function l(){var D=document.createElement("div");$(D).addClass("line").css("clear","both");var C=document.createElement("div");var E=document.createElement("div");$(C).addClass("fk-inf-load-more hidden").text(A.showMoreText);$(E).addClass("fk-inf-scroll-loader hidden").html('<img src="/images/ajax-loader-transparent.gif" /> '+A.loadingText);$(A.container).append(D);$(D).append(C).append(E);a=$(".fk-inf-load-more",A.container);p=$(".fk-inf-scroll-loader",A.container);a.show()}function m(){if(typeof A.scrollArea=="undefined"){FKART.ui.goTop.init()}w=$(A.container||document.body).bottomOfElement(t,A.bottomHeight,A.scrollArea);a.click(function(){$(this).hide();B();$(A.appendAfter).removeAttr("style")});a.hover(function(){$(this).css("border","1px solid #aaaaaa")},function(){$(this).css("border","1px solid #cccccc")});if(A.changeLocationHash){$("a").live("click",function(){FKART.locationHash.set("scrollTo",$(window).scrollTop());FKART.locationHash.set("pageno",y)})}}function B(){$(A.appendAfter).css("border-bottom","0");if(!x){x=true;p.show();a.hide();u(function(C){x=false;p.hide();if(C){f=f+A.page_size;d(C)}},function(){p.hide();x=false;a.show()})}}function d(C){if(C.count!=0){$(A.appendAfter).after(stripslashes(C.html));$(A.appendAfter).css("border-bottom","0");if((C.pageno-q)>=A.autoLoadNo){g=false;w.unbind()}if(!p.is(":visible")){a.show()}$(A.counterSelector).text(r+C.count);$(A.container).trigger("page_loaded",[C.pageno,C])}if(A.changeLocationHash&&FKART.locationHash.get("pageno")){if(FKART.locationHash.get("pageno")<C.pageno){FKART.locationHash.set("pageno",C.pageno)}}y=C.pageno;r+=parseInt(C.count);if(C.count==0||r>=n||r>=5000){g=false;p.show().text("No more results to display.");a.hide();$(A.appendAfter).removeAttr("style");w.unbind()}}function t(){if(!x&&g){B();$(A.appendAfter).removeAttr("style")}}function u(E,C){var D={};D[A.startParamName]=f;$(A.container).trigger("inf_scroll_params",[D]);$.ajax({type:"GET",url:b,data:D,dataType:"json",cache:true,success:function(F){if(F){if(E){E(F)}}else{if(C){C()}}},error:function(){if(C){C()}},complete:function(F,G){}})}function o(){var C=/start[=]([0-9]+)/.exec(window.top.location);if(C){return parseInt(C[1])}else{return 0}}function v(){var C=""+window.top.location;if(C.indexOf("#")>-1){C=C.substring(0,C.indexOf("#"))}C=C.replace(/[&]?start[=][0-9]+/,"");return updateQueryStringParameter(C,"response-type","json")}};(function(b){var c=b(window);function a(m,n,e){var l=m.position().top,g=m.outerHeight(),f=c.scrollTop()+c.height();d(f,l+g,e)&&n&&n()}function d(f,l,e){var g=l-e;return f>g}b.fn.bottomOfElement=function(o,e,l){if(typeof l!="undefined"&&b(l).length){c=b(l)}var m,f=false;function n(){m&&!f&&c.scroll(m)&&(f=true)}function g(){c.unbind("scroll",m);f=false}this.each(function(){e=e||0;var p=b(this);m=throttle(a.curry(p,o,e),100);n()});return{bind:n,unbind:g}}})(jQuery);(function(d){function c(f,e){var g=null;return function(){var m=this,l=arguments;clearTimeout(g);g=setTimeout(function(){f.apply(m,l)},e)}}function b(f,e,l){var g;g=(typeof XMLHttpRequest!=="undefined")?new XMLHttpRequest():null;g=(typeof ActiveXObject!=="undefined")?new ActiveXObject("Msxml2.XMLHTTP"):g;if(!g&&!f){return}g.onreadystatechange=function(){if(g.readyState===4){l&&l()}};g.open("POST",f,true);g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.send(e)}d.Logger=function(m,l){l=l||{};var o=false;throttle_timeout=l.throttle_timeout||3000;_q=[];function n(q,r){if(_q.length==0){return}q&&e(r);!q&&p()}var e=function(u){if(_q.length==0||typeof JSON=="undefined"){return}var r=_q,t=JSON.stringify(r);_q=[];var q="params="+encodeURIComponent(t)};var p=c(e,throttle_timeout);function g(q){if(!q){return}var r=new Date();q.timestamp=r+": Time: "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds();q=[].concat(q);_q.push.apply(_q,q);n()}function f(){n(true)}return{send:function(){n(true)},push:g,size:function(){return _q.length},destroy:f}};var a=new Logger("/ajaxlog/logJs");d._L&&d._L.length&&a.push(d._L);d._L=a})(window);(function(a){a.Profiler=klass({start:function(c){var b={};var d=new Date().getTime();b.tag=c;return function(){var f=new Date().getTime();var e=f-d;b.timeTaken=e;b.date=getDate();return b}}})})(window);FKART.cart=function(){var n,p,a;var c=function(r){var q=$(r.target);if(!q.parents().is(".cart-btn-cont")&&!q.hasClass("btn-orange")){g()}};var e=function(){p.bindEvent("ajax_loaded",function(r,q,t){if(q.readyState===0){return}d();cart_updateCount(q.item_count,q.digital_item_count);if(t=="error"||q.status=="error"||q.status=="err"){cart_onerror(q.msg,q)}setTimeout(function(){$(document).bind("click.cv",c)},100)});p.bindEvent("ajax_loaded.cv",function(r,q,t){cart.triggerCartViewOmniture()});p.bindEvent("afterShow",function(){d()});p.getContainer().bind("mouseover",function(){a&&clearTimeout(a)})};var o=function(t){t=t||"/xhr/createDetailPopup";var r=$(".cart-btn-cont");var q=new FKART.ui.HoverTooltip({nearElement:r,cssClass:"cart-tooltip",destroyTimeout:0,align:"right",showCloseIcon:false,ajaxUrl:t,extraHoverArea:true,inside:".cart-btn-cont"});q.init();p=window.cart_tooltip=q.getInstance();n=$(p.getContainer());e()};var b=function(){if(!p){return}p.unbindEvent("ajax_loaded.cv");p.unbindEvent("ajax_loaded.ca")};function d(){var x=$(window).height(),w,u=$(window).scrollTop(),q=n.find(".cart-body-cont"),r=0,t="scroll",v=$(".cart-btn-cont");w=x-v.outerHeight()-v.offset().top-n.find(".cart-header").outerHeight()-n.find(".fixed-footer").outerHeight()-25;q.find(".seller-products, .msgs").each(function(){r+=$(this).height()});if(u!=0||u<v.offset().top){w+=$(window).scrollTop()}if(w>r&&r!=0){w=r;t="hidden"}q.css("height",w+"px").css("overflow-y",t)}function m(t,r,q){if(a){clearTimeout(a)}t&&(a=setTimeout(p.hide,t));p.show(r,q)}function l(q){g();p.destroy();p=null;o(q)}function g(){$(document).unbind("click.cv",c);p.hide()}function f(r){var q="<div class='error'>"+r+"</div>";return q}return{init:o,show:m,hide:g,destroy:l,errorMsg:f,unbindEvents:b}}();var cart={selected_tab:"cart-tab",tab_instance:null,extra_tracking:{},bindAjaxTabEv:function(d){$("#cart-tab").removeAttr("content-loaded loading");$("#digital-cart-tab").removeAttr("content-loaded loading");$("#"+d).attr("content-loaded","1");if(d=="digital-cart-tab"){$("#cart-tab-content").hide();$("#digital-cart-tab-content").show()}else{$("#digital-cart-tab-content").hide();$("#cart-tab-content").show()}var b=(d=="cart-tab")?"digital":"physical",a=(b=="digital")?"#digital-cart-tab":"#cart-tab",c=(b=="digital")?"#digital-cart-tab-content":"#cart-tab-content";$(a).on("click",function(){var e=$(a),f=$(c);if(parseInt(e.attr("content-loaded"))||e.attr("loading")){return}e.attr("loading",1);f.html(getLoader());ajaxRequest("POST","/xhr/getCartDetailPopup",{cart_domain:b},{success:function(g){e.attr("content-loaded",1);f.html(g.html);FKART.utils.runOnload();cart_updateCount(g.item_count,g.digital_item_count);$(window.cart).trigger("loaded")},error:function(l,g){e.removeAttr("loading");cart.dialog.hide();l||(l="Internal server error. Please reload the page and try again later.");new FKART.Alert({body:l,destroy_on_close:true,width:500})}})})},success:function(b,a){this.getTab(a).attr("content-loaded",1);this.getCartContainer(a).html(b.html);this.response.success(b);FKART.utils.runOnload();$(window.cart).trigger("loaded")},showLoader:function(a){this.getTab(a).attr("loading",1);this.getCartContainer(a).html(getLoader())},getTab:function(a){return $((a==="digital")?"#digital-cart-tab":"#cart-tab")},getCartContainer:function(a){return $((a==="digital")?"#digital-cart-tab-content":"#cart-tab-content")},togglePromoInfo:function(){$(".promo-btn").click(function(){var a=$(this);a.parent().prev(".promo-info-div").slideToggle(function(){if($(this).is(":visible")){a.find("span").html(" &#x25B2;")}else{a.find("span").html(" &#x25BC;")}})})},createDialog:function(d){var c=d&&d.width||850;var b=d&&d.css||"cart-dialog";var a=d&&d.height||468;cart.dialog=window.cart_dialog=new FKART.ui.Dialog({width:c,height:a,body:$("#panelsh"),header:$("#shopping-cart-header"),showFooter:false,cssClass:b})},createToolTip:function(a){cart.tooltip=new FKART.ui.Tooltip({showCloseIcon:true,message:"Loading..",cssClass:"cart-tooltip",nearElement:$(".btn-cart"),inside:$(".cartContainer"),align:"b-right",topGap:"4px",fadeAnimation:0})},init:function(){cart.createDialog(window.cartOptions);cart.createToolTip();$(".cart-tabs").tabs();cart.tab_instance=$(".cart-tabs").data("tabs_instance");if((typeof cartThrottleOptions!="undefined")&&(typeof cartThrottleOptions.enable!="undefined")&&cartThrottleOptions.enable){cart.loader=new FKART.ui.Loader({modal:true,cssCls:"cart-loader",msg:"<strong>We are processing your request</strong><br><span>Please do not refresh or go back</span>"})}else{cart.loader=new FKART.ui.Loader({modal:true})}window.LOADER=cart.loader;cart.togglePromoInfo()},bindEvents:function(){var a=document.getElementById("panelsh");cart_bind_qty_events(a,cart_qty_save);$(a).on("click",".cart-remove-item",function(){deleteFromDetailPopup($(this).attr("data-listing_id"),$(this).attr("data-cart_domain"))});$(a).on("click",".cart-wishlist-add",function(){moveToWishListDetail($(this).attr("data-listing_id"))})},triggerCartViewOmniture:function(){FKART.omnitureFireEvent({"track-vars":"scView,events","track-events":"scView",events:"scView",name:"view cart","set-evar33":true,"set-evar3":"Cart","set-prop3":"Cart",omni_data:cart.extra_tracking})},bindEvent:function(a,b){$(cart).bind(a,b)},unbindEvent:function(a,b){$(cart).unbind(a,b)},response:{success:cart_onsuccess,error:cart_onerror,failure:cart_onfailure}};$(document).ready(cart.init);function show_cart_status(c,e,d){cart.selected_tab=e||cart.selected_tab;var b=(cart.selected_tab=="digital-cart-tab")?"digital-cart-tab-content":"cart-tab-content",a=document.getElementById(b);a.innerHTML=c;cart.tab_instance.changeTab(cart.selected_tab);cart.bindEvents();if(!(typeof d!="undefined"&&d)){cart.bindAjaxTabEv(cart.selected_tab)}cart.togglePromoInfo();FKART.utils.runOnload();FKART.utils.runWindowOnload();$(".cart-dialog .fk-panel").collapser({action:"hide",indicatorHtml:true});$(window.cart).trigger("loaded")}function getItemReferral(){var e=s.getQueryParam("icmpid");var d=s.getQueryParam("srno");var c=s.getQueryParam("pid");var f=s.getQueryParam("otracker");var b="NA";var a=(FKART.omni&&FKART.omni.getProperty("previous_page_name"))||"";if((typeof d!="undefined"&&$.trim(d)!="")||s.pageName.match(/^search*/gi)||(typeof f!="undefined"&&($.trim(f)=="from-search"||$.trim(f)=="from-multi"||$.trim(f)=="start"))){b="SEARCH"}else{if(s.pageName.match(/^wishlist*/gi)){b="WISHLIST"}else{if(s.pageName.match(/^ozone*/gi)||(typeof f!="undefined"&&f.substr(0,3)=="oz_")){b="Ozone"}else{if(s.pageName.match(/^thematicstore:women*/gi)||(typeof f!="undefined"&&f.substr(0,5)=="ts_ws")){b="Thematic Store Women"}else{if(s.pageName.match(/^thematicstore:disney*/gi)||(typeof f!="undefined"&&f.substr(0,5)=="ts_ds")){b="Thematic Store Disney"}else{if(s.prop25=="Compare"){b="Compare"}else{if(typeof e!="undefined"&&$.trim(e)!=""){b=(e.match(/^reco_*/gi)||e.match(/^scombo_*/gi))?"RECOMMENDATION":e.match(/^banner_*/gi)?"BANNER":"NA"}else{if($.trim(s.prop25)=="Browse"||$.trim(s.prop25)=="Store Browse"||$.trim(a)=="Browse"||$.trim(a)=="Store Browse"){b="Store/Browse"}else{if(a=="Category Homepage"){b="Merchandising"}else{if(a=="Homepage"){b="Homepage Merchandising"}else{if(a=="no value"){b="Landing"}}}}}}}}}}}return b}function updateOmniture(f,b,d,t){var p,r;if(b<2){p="scAdd,scOpen,event24,scView";r="scAdd,scOpen,event24,scView"}else{p="scAdd,event24,scView";r="scAdd,event24,scView"}var c=s.getQueryParam("icmpid");var l=s.getQueryParam("srno");var g=s.getQueryParam("pid");var q=s.getQueryParam("otracker");var m="NA";var n="NA";var o=(FKART.omni&&FKART.omni.getProperty("previous_page_name"))||"";if(typeof d!="undefined"){q=(typeof d.otracker!="undefined")?d.otracker:q;l=(typeof d.srnoValue!="undefined")?d.srnoValue:l;if(typeof d.icmpid!="undefined"){c=d.icmpid;if(!d.hasOwnProperty("eVar30")){d.eVar30=c}}}if(q!="undefined"){n=q}q=q.toLowerCase();if(typeof q!="undefined"){if(q.startsWith("nmenu")||q.startsWith("hp_header_nmenu")||q.startsWith("hp_nmenu")){m="Menu"}else{if(q.indexOf("start")>=0||q.indexOf("from-multi")>=0||q.indexOf("from-search")>=0){m="Search"}else{if(q.startsWith("hp_banner")){m="HP Banner"}else{if(q.startsWith("hp_sidebar")){m="HP RHS"}else{if(q.startsWith("ch")||q.startsWith("clp")){m="CLP"}else{if(q.startsWith("ts")){m="Thematic Store"}else{if(q.startsWith("nf")){m="Notifications"}else{if(q.startsWith("wishlist")){m="Wishlist"}else{if(q.startsWith("foz")){m="FOZ"}else{if(q.indexOf("deals of the day")>=0){m="Deals of the Day"}else{if(q.indexOf("omu")>=0){m="OMU"}else{if(q.indexOf("recently viewed")>=0||q.indexOf("historyfooter")>=0){m="Recently Viewed"}else{if(q.indexOf("pmu")>=0){m="PMU"}else{if(q.indexOf("smu")>=0){m="SMU"}else{if(q.indexOf("reco")>=0||q.indexOf("scombo")>=0){m="Recommendation"}}}}}}}}}}}}}}}}else{if((typeof l!="undefined"&&$.trim(l)!="")||s.pageName.match(/^search*/gi)||(typeof q!="undefined"&&($.trim(q)=="from-search"||$.trim(q)=="from-multi"||$.trim(q)=="start"))){m="Search";if(!(typeof g!="undefined"&&$.trim(g)!="")){p+=",event44,event48";r+=",event44,event48"}}else{if(s.pageName.match(/^wishlist*/gi)){m="WISHLIST"}else{if(s.pageName.match(/^ozone*/gi)||(typeof q!="undefined"&&q.substr(0,3)=="oz_")){m="Ozone"}else{if(s.pageName.match(/^thematicstore:women*/gi)||(typeof q!="undefined"&&q.substr(0,5)=="ts_ws")){m="Thematic Store Women"}else{if(s.pageName.match(/^thematicstore:disney*/gi)||(typeof q!="undefined"&&q.substr(0,5)=="ts_ds")){m="Thematic Store Disney"}else{if(s.prop25=="Compare"){m="Compare"}else{if(typeof c!="undefined"&&$.trim(c)!=""){m=(c.match(/^reco_*/gi)||c.match(/^scombo_*/gi))?"RECOMMENDATION":c.match(/^banner_*/gi)?"BANNER":"NA"}else{if($.trim(s.prop25)=="Browse"||$.trim(s.prop25)=="Store Browse"||$.trim(o)=="Browse"||$.trim(o)=="Store Browse"){m="Store/Browse"}else{if(o=="Category Homepage"){m="Merchandising"}else{if(o=="Homepage"){m="Homepage Merchandising"}else{if(o=="no value"){m="Landing"}}}}}}}}}}}}d=d||{};var e=d.buyTrendInfo&&d.buyTrendInfo[0];if(e){f+="|eVar9="+e}var a="add to cart";if(typeof t!="undefined"){a=t}$.extend(d,cart.extra_tracking);FKART.omnitureFireEvent({"track-vars":"products,eVar22,events,eVar30","track-events":p,products:f+"|eVar61="+m+"|eVar51="+n,events:r,"set-evar30":true,"set-evar33":true,"set-evar61":m,"set-evar51":n,"set-evar42":true,"set-evar44":true,"set-evar12":true,"set-evar18":true,"set-evar45":true,"set-list1":s.list1,"set-prop12":(FKART.LOGGEDIN?"Login":"Logout")+":CartAddition",name:a,omni_data:d});if(d&&d.resetPageName){FKART.omni.customEvent(d.eventName,{pageName:d.resetPageName})}}function criteoImplementation(a,d){if(a&&d){if(typeof(criteo_q)!=="object"){try{var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src="//static.criteo.net/js/ld/ld.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(e,c);window.criteo_q=window.criteo_q||[]}catch(b){}}else{console.log("Criteo available")}try{window.criteo_q.push({event:"setAccount",account:13746},{event:"setSiteType",type:"d"},{event:"viewBasket",item:[{id:a,price:d,quantity:1}]})}catch(b){}}}function checkout_item(g){var f={};var b="";var d=0;var a=0;var c=s.getQueryParam("pid");var e=s.eVar48;criteoImplementation(c,e);if((typeof cartThrottleOptions!="undefined")&&(typeof cartThrottleOptions.enable!="undefined")&&cartThrottleOptions.enable){cart.loader.show();var a=Math.floor(Math.random()*(window.cartThrottleOptions.maxTime-window.cartThrottleOptions.minTime+1)+window.cartThrottleOptions.minTime)*1000;setTimeout(function(){g.parent("form[name='express-checkout-form']").submit()},a)}else{g.parent("form[name='express-checkout-form']").submit()}}function cart_addItem(m,g,t,e,c,r,d){var o=s.getQueryParam("pid");var q=s.eVar48;if(!(d!==null&&typeof d==="object")){d={}}if(!(d.hasOwnProperty("silentOperation")&&typeof d.silentOperation==="boolean")){d.silentOperation=false}var u=$("input[data-buy-listing-id='"+m+"']").first();var b=u.data("vertical");e=e||{};if(u&&u.attr){var n=u.attr("data-listing-position");if(typeof n!="undefined"){e.listingPosition=n}var v=u.attr("data-lst-buytrend");if(v&&v.split){v=v.split("##");e.buyTrendInfo=v}}if(r===true){e.exchangeOffer="WithExchange"}else{if(r===false){e.exchangeOffer="WithoutExchange"}else{e.exchangeOffer="ExchangeUnavailable"}}function x(A){$(".first-row",".cart-container").addClass("highlight-row");setTimeout(function(){$(".highlight-row").removeClass("highlight-row")},12000);cart_updateCount(A.item_count,A.digital_item_count);eids=m.split(",");var D,z=eids.length;for(var y=0;y<z;y++){var C=$(c).data("omniture");if(typeof C!="undefined"&&C!=""&&C!=null&&typeof C[eids[y]]!="undefined"){e.icmpid=C[eids[y]].icmpid;e.otracker="";e.srnoValue=""}D=A&&A.omnitureData&&A.omnitureData[eids[y]]&&A.omnitureData[eids[y]].omn_param;e.listingSeller=A&&A.omnitureData&&A.omnitureData[eids[y]]&&A.omnitureData[eids[y]].omn_listing_info&&A.omnitureData[eids[y]].omn_listing_info.sellerDisplayName;e.listingMetrics=A&&A.omnitureData&&A.omnitureData[eids[y]]&&A.omnitureData[eids[y]].listingMetrics;try{console.log("1."+o+"/"+q);criteoImplementation(o,q);updateOmniture(D,(A.tab=="digital-cart-tab")?A.digital_item_count:A.item_count,e)}catch(B){}e={}}}function a(A){cart_updateCount(A.item_count,A.digital_item_count);if(typeof A.omnitureData!="undefined"){eids=m.split(",");var D,z=eids.length;for(var y=0;y<z;y++){var C=$(c).data("omniture");if(typeof C!="undefined"&&C!=""&&C!=null&&typeof C[eids[y]]!="undefined"){e.icmpid=C[eids[y]].icmpid;e.otracker="";e.srnoValue=""}D=A&&A.omnitureData&&A.omnitureData[eids[y]]&&A.omnitureData[eids[y]].omn_param;e.listingSeller=A&&A.omnitureData&&A.omnitureData[eids[y]]&&A.omnitureData[eids[y]].omn_listing_info&&A.omnitureData[eids[y]].omn_listing_info.sellerDisplayName;e.listingMetrics=A&&A.omnitureData&&A.omnitureData[eids[y]]&&A.omnitureData[eids[y]].listingMetrics;try{console.log("2."+o+"/"+q);criteoImplementation(o,q);updateOmniture(D,(A.tab=="digital-cart-tab")?A.digital_item_count:A.item_count,e)}catch(B){}e={}}}}var w={edition_id:m},f="/xhr/addItemToCart";g&&$.extend(w,{query:g});t&&$.extend(w,{rank:t});$.extend(w,{referral:getItemReferral()});var p=false;if((typeof u.attr("data-disable-cart")!="undefined")&&(u.attr("data-disable-cart")==="true")){p=true;$.extend(w,{disable_cart_popup:true})}if(d.silentOperation===true||(d.hasOwnProperty("disable_cart_popup")&&d.disable_cart_popup===true)){p=true;$.extend(w,{disable_cart_popup:true})}if($(".cart-btn-cont").data("dd")&&!$("body").hasClass("digital")){$(".quickview-dialog").hide();$(cart).trigger("request_start",[f,w]);FKART.cart.show(10000,null,{url:f,data:w,noLoader:false});FKART.cart.unbindEvents();window.cart_tooltip.bindEvent("ajax_loaded.ca",function(z,y,A){if(y.status=="success"){if(y.already_bought){new FKART.Alert({body:y.html,destroy_on_close:true,width:500});return}x(y)}})}else{cart.loader.show();$(".quickview-dialog").hide();$(cart).trigger("request_start",[f,w]);var l=0;if((typeof cartThrottleOptions!="undefined")&&(typeof cartThrottleOptions.enable!="undefined")&&cartThrottleOptions.enable){var l=Math.floor(Math.random()*(window.cartThrottleOptions.maxTime-window.cartThrottleOptions.minTime+1)+window.cartThrottleOptions.minTime)*1000}setTimeout(function(){ajaxRequestNew("POST",f,w,{success:function(y){$(document).trigger("onAddCartItem",{listingId:m});if(y.already_bought){cart.loader.hide();cart_dialog.hide();new FKART.Alert({body:y.html,destroy_on_close:true,width:500});return}if(d.silentOperation===true){cart.loader.hide();x(y);return}if(p){cart.loader.hide();cart.tooltip.updateContent(y.html);cart.tooltip.show();a(y);$(cart).trigger("request_end",[b]);return}cart.loader.hide();cart_dialog.show();show_cart_status(y.html,y.tab);x(y)},error:cart_onerror,failure:cart_onfailure})},l)}}function get_cart_banner_popup_internal(a,d,e,c,b){cart_addItem(a,d,e,c,b)}function get_cart_banner_pop(a,b,c,d){cart_addItem(a,c,d)}function get_cart_banner_with_icmpid(b,a){cart_addItem(b,null,null,{icmpid:a},null)}function cart_view(a){var d=new Profiler();var c=d.start("CartView");show_cart_status(getLoader(),a,true);if(!a){$("#cart-tab-content").html(getLoader());$("#digital-cart-tab-content").html(getLoader())}var e={tab:a?a:""},b="/xhr/createDetailPopup";cart_dialog.show();$(cart).trigger("request_start",[b,e]);ajaxRequestNew("POST",b,e,{success:function(g){show_cart_status(g.html,a?a:g.tab);cart_updateCount(g.item_count,g.digital_item_count);cart.triggerCartViewOmniture();var f=c();_L.push({type:"profiling",data:f})},error:cart_onerror,failure:cart_onfailure})}function cart_onerror(b,a){cart.loader.hide();window.cart_tooltip&&FKART.cart.destroy();b||(b="Internal server error. Please reload the page and try again later.");new FKART.Alert({body:b,destroy_on_close:true,width:500});remove_cart_banner()}function cart_onfailure(){cart.loader.hide();remove_cart_banner()}function cart_onsuccess(a){cart.loader.hide();cart_updateCount(a.item_count,a.digital_item_count);show_cart_status(a.html,a.tab,true)}function get_detail_banner_pop(b,a){cart_view(a)}function cart_updateCount(a,b){$(".to-fade").delay(12000).slideUp("slow");$("#count-cart").text((typeof a!="undefined"&&a!=null)?"("+a+")":"");$("#count-digital-cart").text((typeof b!="undefined"&&b!=null)?"("+b+")":"");if(typeof a!="undefined"&&a!=null&&typeof b!="undefined"&&b!=null){$("#item_count_in_cart_top_displayed").text(a+b)}if(typeof b!="undefined"&&b!=null){$(".digital-cart-count").text(b)}}function getLoader(){var a="";a+="<div class='loader-body'>";a+="<div class='line panel-loader'>";a+="<div class='unit loader-image'><img src='/images/ajax-loader_new.gif'/></div>";a+="<div class='loader-text lpadding10 lastUnit'>Loading...</div>";a+="</div>";a+="</div>";return a}var cart_bind_qty_events=function(b,a){$(b).off().on("click",".cart-qty-change",function(){$(this).closest(".carty-changeQuantity").find(".cart-qty-panel-read").hide().end().find(".cart-qty-panel-write").show().end().find(".cart-qty-textbox").focus()});$(b).off().on("submit",".cart-qty-form",function(){var e=$(this).removeClass("change").closest(".carty-changeQuantity");var f=e.find(".cart-qty-panel-read").show().end().find(".cart-qty-panel-write").hide().end().find(".cart-qty-textbox").val();f=parseInt($.trim(f),10);var c=e.find(".carty-qty").text();c=parseInt($.trim(c),10);var d=$(this).attr("data-listing_id");!isNaN(f)&&f>0&&f!=c&&e.find(".carty-qty").text(f)&&a({listing_id:d,quantity:f});return false})};function cart_qty_save(a){cart.loader.show();ajaxRequestNew("POST","/xhr/changeDetailQuantity",{eid:a.listing_id,count:a.quantity},cart.response)}function deleteFromDetailPopup(b,c){var a;cart.loader.show();a=ajaxRequestNew("POST","/xhr/deleteFromDetailPopup",{eid:b,cart_domain:c},cart.response);a.done(function(){$(document).trigger("onDeleteCartItem",{listingId:b});update_button_status(b)})}function update_button_status(a){var b=$(".btn-buy-now[data-buy-listing-id='"+a+"']");if(b.length>0){b.removeClass("disabled").find("span").html("Add to cart")}}function deleteAllFromDetailPopup(){var a;cart.loader.show();a=ajaxRequestNew("POST","/xhr/deleteAllFromDetailPopup",{},cart.response);a.done(function(){$(document).trigger("onDeleteCartItem",{listingId:""})})}function moveToWishListDetail(b){var a;cart.loader.show();a=ajaxRequestNew("POST","/xhr/moveToWishListDetail",{eid:b,__FK_ID:__FK},cart.response);a.done(function(){$(document).trigger("onDeleteCartItem",{listingId:b})})}function remove_cart_banner(){cart.loader.hide();if(cart_dialog.isOpen()){cart_dialog.hide()}}function gotoCheckoutPage(a){cart.loader.show();window.self.location.href=a}addOnload(function(){$(window.cart).bind("loaded",function(){cart.pincode_checker&&cart.pincode_checker.destroy();if($(".cart-pincode-checker",".cart-dialog").length){cart.pincode_checker=new FKART.widgets.PinCodeChecker({container:$(".cart-pincode-checker",".cart-dialog"),tooltipConfig:{cssClass:"yellow",inside:cart.dialog.getContainer().find(".cart-footer")}});cart.pincode_checker.setCallBack(function(a){$(window.cart).one("request_start",function(c,b,d){d.pincode=a});cart_view("cart-tab")});if(cart.nonWSRSellerPresent){cart.selected_tab=="cart-tab"&&cart.pincode_checker.getPinCode()==""&&cart.pincode_checker.focus()}}})});function toggle_cart_recommendations(){var a=$("#shopping-cart-recos");if(a.css("visibility")=="hidden"){show_cart_recommendations()}else{hide_cart_recommendations()}}function show_cart_recommendations(){var a=$("#shopping-cart-recos");if(a.css("display")=="none"){return}a.css("visibility","visible");a.css("position","static");$(".cart-reco-triangle").css("background-position","0 5px");$("#reco-cart-body").css({height:"154px"});$(".cartreco-icon-chevron").addClass("down")}function hide_cart_recommendations(){var a=$("#shopping-cart-recos");a.css("visibility","hidden");a.css("position","absolute");$(".cart-reco-triangle").css("background-position","0 -55px");$("#reco-cart-body").css({height:"256px"});$(".cartreco-icon-chevron").removeClass("down")}addOnload(function(){cart.recos_expanded=false;window.cart_dialog.bindEvent("afterHide",function(){cart.recos_expanded=false;cart.extra_tracking={}})});FKART.digital={};FKART.digital.bindTooltips=function(){$(".album-tooltip-required").each(function(){var c=$(this);var a=c.attr("data-pid");var d=c.find(".thumbnail,.title");var b=new FKART.ui.HoverTooltip({cssClass:"digital album-tooltip drop-box-shadow",destroyTimeout:10000,showCloseIcon:false,ajaxUrl:"/ajax/digital/getAlbumTooltip?album_id="+a,align:"auto",nearElement:c.find(".thumbnail"),attachTo:d});d.each(function(){$(this).click(function(){$(this).trigger("mouseleave")})});$(this).data("tooltip",b);$(this).removeClass("album-tooltip-required")});$(".track-row.track-tooltip-required,.track-row.tooltip-required").each(function(){var b=$(this);var a=new FKART.ui.HoverTooltip({cssClass:"digital track-tooltip drop-box-shadow",align:"l-middle",message:b.find(".track-tooltip"),showCloseIcon:false,nearElement:b.find(".product-image"),attachTo:b});b.data("tooltip",a);b.removeClass("tooltip-required");b.removeClass("track-tooltip-required")});$(".digital-menu .digital-button.library.tooltip-required, .browse-menu .digital-button.library a").each(function(){var b=$(this);var a=new FKART.ui.HoverTooltip({cssClass:"digital sub-menu-tooltip drop-box-shadow",align:"b-right",message:$(".mp3-lib-btn-tooltip"),showCloseIcon:false,nearElement:b});b.data("tooltip",a);b.removeClass("tooltip-required")});$(".digital-menu .digital-button.cart.tooltip-required, .browse-menu .digital-button.cart a").each(function(){var b=$(this);var a=new FKART.ui.HoverTooltip({cssClass:"digital sub-menu-tooltip drop-box-shadow",align:"b-right",message:$(".digi-cart-btn-tooltip"),showCloseIcon:false,nearElement:b});b.data("tooltip",a);b.removeClass("tooltip-required")});$(".ebook-tooltip-required").each(function(){var c=$(this);var a=c.attr("data-pid");var b=new FKART.ui.HoverTooltip({cssClass:"digital ebook-tooltip drop-box-shadow",destroyTimeout:10000,showCloseIcon:false,ajaxUrl:"/ajax/browse/getProductToolTip?id="+a,align:"auto",nearElement:c.find(".thumbnail"),attachTo:c.find(".thumbnail,.title")});$(this).data("tooltip",b);$(this).removeClass("ebook-tooltip-required")})};FKART.digital.bindPopularListTooltips=function(){$(".album-left-tooltip-required").each(function(){var c=$(this);var a=c.attr("data-pid");var b=new FKART.ui.HoverTooltip({cssClass:"digital album-tooltip drop-box-shadow",destroyTimeout:10000,showCloseIcon:false,ajaxUrl:"/ajax/digital/getAlbumTooltip?album_id="+a,align:"auto",nearElement:c});$(this).data("tooltip",b);$(this).removeClass("album-left-tooltip-required")});$(".track-tooltip-required").each(function(){var b=$(this);var a=new FKART.ui.HoverTooltip({cssClass:"digital track-tooltip drop-box-shadow",align:"l-middle",message:b.find(".track-tooltip"),showCloseIcon:false,nearElement:b.find(".thumbnail"),attachTo:b});b.data("tooltip",a);b.removeClass("track-tooltip-required")})};FKART.digital.notify=function(a){var c=function(g){var n={stayTime:7000,text:"",stay:false};var g,d,f,e,l,m;g=$.extend({},n,g);if($(".digital-notifier").length){b($("digital-notifier"))}d=(!$(".digital-notifier").length)?$("<div></div>").addClass("digital-notifier box-shadow").appendTo("body").hide():$(".digital-notifier").hide();f=(!$(".notifier-text").length)?$("<span></span>").addClass("notifier-text ").appendTo(d).html(g.text):$(".notifier-text").html(g.text);e=$("<span></span>").addClass("notifier-close-btn").prependTo(d).click(function(){b(d)});d.slideDown("slow");if(!g.stay){FKART.dig_notifier_timer=setTimeout(function(){b(d)},g.stayTime)}l=function(){clearTimeout(FKART.dig_notifier_timer)};m=function(){if(!g.stay){FKART.dig_notifier_timer=setTimeout(function(){b(d)},g.stayTime)}};d.hover(l,m)};var b=function(d){d.slideUp("slow");clearTimeout(FKART.dig_notifier_timer)};c(a)};FKART.digital.previewBuyNow=function(b){window.samplePreviewDialog.hide();var a=s.pageName;FKART.omni.customEvent("Preview Cart Addition Update PageName",{pageName:s.pageName+"|ReadSample"});cart_addItem(b,undefined,undefined,{resetPageName:a,eventName:"Preview Cart Addition Restore PageName"})};FKART.digital.addToLibrary=function(b,c){var e,a,f,d="";if(typeof c!="undefined"&&c=="digital_ebook"){e="/account/ebookslibrary";a="eBook Library";d=" tmargin5";f=""}else{e="/account/mp3library";a="MP3 Library";f='<a href="'+e+'" class="fk-button blue">Download from '+a+"</a>"}ajaxRequestNew("POST","/xhr/addFreeProductToLibrary",{pid:b},{success:function(n){var m=$(".edition_"+b);var g=$(m[0]).attr("data-item-name");FKART.digital.notify({text:'<span class="tick_icon"></span> "<div class="fk-inline-block '+d+'"><span class="item_name">'+g+'</span>" has been successfully added to your <a href="'+e+'">'+a+"</a>. &nbsp;"+f+"</div>"});var r='<div class="exp_co_item_added sml_msg"><span class="tick_icon"></span> Added to <a href="'+e+'">Library</a></div>';var l='<div class="exp_co_item_added"><span class="tick_icon"></span> Successfully added to your <a href="'+e+'">'+a+'</a> <div class="tmargin5">'+f+"</div></div>";for(var t=0;t<m.length;t++){var o=$(m[t]);if(o.parents(".track-list.prod_page").length){o.find("td.buy-options-col").remove();var p=o.find("td.price");p.attr("colspan",2).addClass("item-added").removeClass("price").html(r)}else{if(o.parents(".track-list").length){o.find("td.buy-options-col").remove();o.find("td.price").remove();var p=o.find("td.bitrate");p.attr("colspan",3).addClass("item-added").removeClass("price").html('<div class="exp_co_item_added"><span class="tick_icon"></span> Added<br/><a href="'+e+'" class="lib-link">Download from '+a+"</a></div>")}else{var q=$("<div>");if(o.hasClass("long_msg")){q.html(l)}else{o.removeClass("buy-options");q.html(r)}o.html(q)}}}FKART.omni.customEvent("Add to Library",{events:"event52"})},error:function(g){new FKART.Alert({body:g,width:500,destroy_on_close:true})}})};FKART.digital.readNewSample=function(b,d,e){var a;if(window.samplePreviewDialog&&window.samplePreviewDialog.pid==b){window.samplePreviewDialog.show()}else{if(window.samplePreviewDialog){window.samplePreviewDialog.destroy();delete window.samplePreviewDialog}a={events:"event53",products:$(d).attr("data-omni"),prop21:$(d).attr("data-clickFrom")};if(!$.browser.msie){var c="/ebooks/sample";if(e){c="/ebooks/eprintsample"}var f=$('<iframe class="sample-dialog" width="100%" height="100%" src="'+c+"?book="+b+'"></iframe>');window.samplePreviewDialog=new FKART.ui.Dialog({width:"978px",height:($(window).height()-40)+"px",showCloseIcon:true,body:f,header:false,showFooter:false,cssClass:"new-look-inside-dialog chunked"});window.samplePreviewDialog.pid=b;window.samplePreviewDialog.show();FKART.omni.customEvent("View Sample",a)}else{var g="eBook preview not supported on Internet Explorer. Please try on Mozilla Firefox or Google Chrome.";new FKART.Alert({body:g,width:500,destroy_on_close:true})}}};FKART.digital.lookInside=function(b,c){var a;if(window.samplePreviewDialog){window.samplePreviewDialog.destroy();window.sampleAlreadyProcessing=false;delete window.samplePreviewDialog}if(!window.sampleAlreadyProcessing){window.sampleAlreadyProcessing=true;a={events:"event53",products:$(c).attr("data-omni"),prop21:$(c).attr("data-clickFrom")};var d=/(iPhone|iPod|iPad).*/i.test(navigator.userAgent);if(!$.browser.msie){$.get("/xhr/getEbookSamplerContent",{pid:b},function(e){var f;e=e.replace(/^\s*/,"").replace(/\s*$/,"");e=FKART.JSON.decode(e);if(e.status=="ok"){f=e.data.html;var g=$("<iframe></iframe>");g.attr({frameborder:0,height:(d?430:"100%"),width:(d?750:"100%"),src:"about:blank",id:"sample_preview_iframe"});window.samplePreviewDialog=new FKART.ui.Dialog({width:(d?750:"978px"),height:(d?500:$(window).height()-40),body:g,header:false,showFooter:false,cssClass:(d?"look-inside-dialog":"new-look-inside-dialog")});window.samplePreviewDialog.bindEvent("afterShow",function(){document.getElementById("sample_preview_iframe").contentDocument.write(f)});window.samplePreviewDialog.show()}FKART.omni.customEvent("View Sample",a)})}else{window.sampleAlreadyProcessing=false;new FKART.Alert({body:"eBook preview not supported on Internet Explorer. Please try on Mozilla Firefox or Google Chrome.",width:500,destroy_on_close:true})}}};if(typeof(FKART)=="undefined"){FKART={}}FKART.Compare=new function(){var a;var e=$("#comp-loading-img").attr("src");var d="/compare?ids=";this.compareCartElm=$("#fk-compare-cart");this.compareCartHolderElm=$("#fk-compare-cart-holder");this.windowElement=$(window);this.compareLabelText={before:"Add to compare",after:"Added to compare"};function b(o){if(typeof o=="undefined"){o=1}var p=$("#fk-compare-cart .compare-items");for(var q=0;q<o;q++){p.append(a.clone())}}function g(){var o=$("#fk-compare-cart .compare-item[item_id]").length;if(o>=2&&o<=4){$("#fk-compare-cart .compare-button").removeClass("disabled")}else{if(o<2){$("#fk-compare-cart .compare-button").addClass("disabled")}}}function l(q,p){for(var o=0;o<p.length;o++){if(p[o].toLowerCase()==q.toLowerCase()){p.splice(o,1);return p}}return p}function m(){var p=$(".enable-compare .compare-checkbox:checked");var o=fk_compare.cookie.getVerticalItemsData().length||p.length;var q=$(".enable-compare .compare-checkbox").not(":checked");if(o==4){q.attr("disabled",true).next().addClass("disabled");q.parent().addClass("disabled")}else{if(q.is(":disabled")){q.attr("disabled",false).next().removeClass("disabled")}q.parent().removeClass("disabled")}p.each(function(){$(this).next().addClass("added")})}function n(){var o=fk_compare.compareCartHolderElm;if(o.is(":hidden")){o.slideDown("fast","linear").removeClass("hide");fk_compare.windowElement.scroll()}}function f(){var o=$($("#fk-compare-cart .empty_item")[0]);o.removeClass("empty_item");$(".thumbnail",o).attr("src",e).parent().wrap('<a class="pp-link" href="#"></a>');$(".description",o).text("Adding...");return o}function c(q,o){var p=$('.pp-add-to-compare[id="'+q+'"]');if(p.length){if(o){p.removeClass("enabled").text(fk_compare.compareLabelText.after).addClass("disabled")}else{p.removeClass("disabled").text(fk_compare.compareLabelText.before).addClass("enabled")}}}this.toggleCantCompareErrMsg=function(o,q){var p=$(".compare-err-msg-holder");if(o){p.find(".cant-compare-item").html(q);p.slideDown("fast")}else{p.slideUp("fast")}};this.init=function(){this.compareCartElm=$("#fk-compare-cart");this.compareCartHolderElm=$("#fk-compare-cart-holder");if($("#fk-compare-cart").length>0){fk_compare.bindScrollableCart();fk_compare.bindCheckBoxClick();a=$($("#fk-compare-cart .empty_item")[0]).clone();fk_compare.bindRemoveItemClick();fk_compare.addItemsFromCookie();$("#search_results, #browse").bind("page_loaded",function(){fk_compare.tickCheckboxesFromCookie();fk_compare.enableDisableCheckBoxes()})}else{if($("#fk-compare-table").length>0){fk_compare.resultsPage.bindClick();fk_compare.resultsPage.bindBrandClick();fk_compare.resultsPage.bindScrollableInfo();fk_compare.resultsPage.adjustTableColumns();fk_compare.resultsPage.bindHelpInfoClicks();if(!fk_compare.resultsPage.fromDeprioritization("feature")){fk_compare.cookie.updateCookie(fk_compare.resultsPage.getItemIds())}FKART.ui.goTop.init();$(document).unbind("click").bind("click",function(p){var o=$(p.target);if(!o.hasClass("control-brand")){$(".top-brands-list").hide()}else{$(".models-list").slideUp("fast","linear")}if(!o.hasClass("brands-list-item")&&!o.hasClass("brands-list-item-text")&&!o.hasClass("control-model")&&!o.hasClass("control-brand")&&o.parents(".control-brand").length==0){$(".models-list").slideUp("fast","linear")}})}}};this.enableDisableCheckBoxes=function(){m()};this.goToCompare=function(r,q,p,u){var o,t=[];if(typeof u!="undefined"&&u instanceof Array){t=u}else{if(!r){if($("#fk-compare-cart .compare-button.disabled").length>0){return}$("#fk-compare-cart .compare-item[item_id]").each(function(w){t.push($(this).attr("item_id"))})}else{$(".compare-item[item_id]",r).each(function(w){t.push($(this).attr("item_id"))})}}if(!q){o="/"+this.cookie.getVertical(true).replace(/_/g,"-");q=this.cookie.getVertical(true).replace(/_/g,"-")}else{o="/"+q.replace(/_/g,"-")}var v=o+d+t.join(",");if(p){v=updateQueryStringParameter(v,"from",p);v=updateQueryStringParameter(v,"otracker",p)}else{v=updateQueryStringParameter(v,"otracker","compare_"+q+"_"+t.length)}window.open(v)};this.adjustImage=function(t,q,r,p){var o=new Image();$(o).load(function(){var u=q;u.css("margin-top",(u.parent().height()-this.height)/2).attr("src",o.src);p.removeAttr("disabled")}).error(function(){q.css("margin-top","0px").attr("src",r);p.removeAttr("disabled")});o.src=t};this.bindScrollableCart=function(){var q;if($.browser.msie&&parseInt($.browser.version)==7){q=p.offset().top;$(".header-fixed-cont").length&&(q-=$(".header-fixed-cont").height());var p=$(".enable-compare");fk_compare.windowElement.scroll(function(){if(q<=fk_compare.windowElement.scrollTop()){fk_compare.compareCartHolderElm.addClass("fix")}else{fk_compare.compareCartHolderElm.removeClass("fix")}})}else{var o=$(".header-fixed-cont").height();fk_compare.windowElement.scroll(function(){q=fk_compare.compareCartHolderElm.offset().top;$(".header-fixed-cont").length&&(q-=o);if(q<=fk_compare.windowElement.scrollTop()){fk_compare.compareCartElm.hasClass("static")&&fk_compare.compareCartElm.removeClass("static").addClass("scroll")}else{fk_compare.compareCartElm.removeClass("scroll").addClass("static")}})}};this.bindRemoveItemClick=function(){$("#fk-compare-cart .compare-item").unbind("click").bind("click",function(q){var p=$(q.target),o=p.parents(".compare-item[item_id]");if(p.hasClass("delete")&&o.length>0){fk_compare.removeItem(o.attr("item_id"))}})};this.bindCheckBoxClick=function(){$(".enable-compare").unbind("click").bind("click",function(t){var p=$(t.target);var o=p.attr("id");if(p.hasClass("compare-checkbox")){if(p.attr("checked")){if(fk_compare.checkIfComparable(o)){var q=p.attr("data-uniqid");p.attr("disabled","disabled");fk_compare.addItems([o],true,q)}else{var r=p.attr("display_vertical");fk_compare.toggleCantCompareErrMsg(1,r);p.removeAttr("checked")}}else{fk_compare.removeItem(o)}}if(p.hasClass("pp-add-to-compare")){if(fk_compare.checkIfComparable(o)){if($(".compare-item.empty_item").length==0){return}var q=p.attr("data-uniqid");fk_compare.addItems([o],true,q);p.removeClass("enabled").addClass("disabled")}else{var r=p.attr("display_vertical");fk_compare.toggleCantCompareErrMsg(1,r)}}})};this.checkIfComparable=function(q){var p=this.cookie.getVertical();if(p&&typeof q!="undefined"){var o=$("#"+q.toUpperCase()).attr("vertical");if(p!=o){return false}}return true};this.errorLoading=function(o,q){for(var p=0;p<o.length;p++){$("#"+o[p]).attr("checked",false);q[p].addClass("empty_item failed");$(".description",q[p]).text("Failed to add!!");m();q[p].delay(500).fadeOut("fast",function(){$(".description",$(this)).text("Add Another Item");$(this).removeClass("failed").show()})}};this.tickCheckboxesFromCookie=function(){var o=fk_compare.cookie.getVerticalItemsData();if(o.length>0){fk_compare.tickCheckbox(o)}};this.tickCheckbox=function(r){var p;for(var q=0,o=r.length;q<o;q++){p=$("#"+r[q].toUpperCase());if(!p.attr("checked")){p.attr("checked",true)}p.next().text(fk_compare.compareLabelText.after).addClass("added")}};this.addItems=function(r,u,v){n();var o=[];r=r.join(",").toUpperCase().split(",");for(var t=0;t<r.length;t++){if($("#fk-compare-cart .compare-item[item_id='"+r[t]+"']").length>0){return}o.push(f())}var w=g;var q=m;var p={};p.ids=r.join(",");if(typeof v!="undefined"){p.ref=v}$.ajax({url:"/compareCommand/getProduct",data:p,dataType:"json",success:function(A){for(var B=0;B<r.length;B++){var E=r[B],y=o[B];if(typeof(A.products[E])!=="undefined"){y.find(".pp-link").attr("href",A.products[E].url);y.find(".description").attr("href",A.products[E].url);y.attr("item_id",E);var x=$("#"+E);(function(H,J,I,G){return fk_compare.adjustImage(H,J,I,G)})(A.products[E].thumb,$(".thumbnail",y),A.products[E].error_image,x);var F=A.products[E].title;var C=F;if(F.length>42){F=F.substr(0,39)+"..."}$(".description",y).text(F);$(".description",y).attr("title",C);if(!x.attr("checked")){x.attr("checked",true)}x.next().text(fk_compare.compareLabelText.after).addClass("added");c(E,1);if(u){var z=";"+E+";;;;eVar22=";if(typeof(A.products[E].anltData)!="undefined"){z+=A.products[E].anltData.anlt_category}else{z+=x.attr("display_vertical")}var D=$("#fk-compare-cart .compare-item[item_id]").length;$.get("/compareCommand/logAddToCompareIntoBigFoot?pid="+E+"&count="+D,function(G){});FKART.omni.customEvent("Compare Product",{products:z,events:"event25"});fk_compare.cookie.addItem(E)}}else{fk_compare.errorLoading([E],[o[B]])}}fk_compare.bindRemoveItemClick();w();q()},error:function(x,y){fk_compare.errorLoading(r,o)}})};this.addItemsFromCookie=function(){var o=fk_compare.cookie.getVerticalItemsData();if(o.length>0){fk_compare.addItems(o,false)}};this.removeItem=function(q){var p=$("#fk-compare-cart .compare-item[item_id='"+q+"']");p.addClass("compare-removed-item-animate");window.setTimeout(function(){if($("#fk-compare-cart .compare-item").index(p)==3){p.remove()}else{p.hide("slow",function(){p.remove()})}},300);$("#"+q).attr("checked",false).next().text(fk_compare.compareLabelText.before).removeClass("added");fk_compare.cookie.removeItem(q);b();g();m();c(q,0);var o=$("#fk-compare-cart .compare-item[item_id]").length;if(!o){fk_compare.toggleCantCompareErrMsg(0)}$.ajax({url:"/compareCommand/logRemoveFromCompareIntoBigFoot",data:{id:q},dataType:"json"})};this.clearList=function(){this.toggleCantCompareErrMsg(0);var o=$("#fk-compare-cart .compare-item[item_id]");o.fadeOut("slow",function(){var q=$(this).attr("item_id");$(this).remove();$("#"+q).attr("checked",false).next().text(fk_compare.compareLabelText.before).removeClass("added");$('.pp-add-to-compare[id="'+q+'"]').text(fk_compare.compareLabelText.before).removeClass("disabled").addClass("enabled");b()});$("#fk-compare-cart .compare-button").addClass("disabled");var p=$(".enable-compare .compare-checkbox").not(":checked");if(p.is(":disabled")){p.attr("disabled",false).next().removeClass("disabled")}fk_compare.cookie.removeAll()};this.close=function(){this.clearList();this.toggleCantCompareErrMsg(0);this.compareCartHolderElm.slideUp("fast","linear")};this.resultsPage=new function(){this.isAjaxInProgress=false;this.flotStartHereElm=null;this.floatInfoElm=null;this.getItemIds=function(){var o=[];$("#comp-float-info .main-title .fk-prod-title[item_id]").each(function(p){o.push($(this).attr("item_id"))});return o};this.adjustTableColumns=function(){var o=$("#comp-detail-info TR:first TD");$("#comp-float-info TR:first TD > DIV").each(function(q){var p=$(o[q]);$(this).width($(p).innerWidth()-1)})};this.bindScrollableInfo=function(){var o=$(".fk-compare").height()-50;fk_compare.windowElement.scroll(function(){if(!fk_compare.resultsPage.flotStartHereElm){fk_compare.resultsPage.flotStartHereElm=$("#comp-info-start-here")}if(!fk_compare.resultsPage.floatInfoElm){fk_compare.resultsPage.floatInfoElm=$("#comp-float-info")}var p=fk_compare.windowElement.scrollTop();if(fk_compare.resultsPage.flotStartHereElm.offset().top<=p&&fk_compare.resultsPage.floatInfoElm.attr("do_scroll")=="true"){if(p>o){fk_compare.resultsPage.floatInfoElm.hide()}else{fk_compare.resultsPage.floatInfoElm.show()}}else{fk_compare.resultsPage.floatInfoElm.hide()}})};this.bindClick=function(){var o=l;$(".fk-compare-table").unbind("click").bind("click",function(u){var t=$(u.target);var r=t.next();if(t.hasClass("more_link")){t.parent().parent().find("TD[org_data]").each(function(y){var x=$(this).attr("org_data");$(this).html(x.replace(/\[single-quote\]/gi,"'").replace(/\[double-quote\]/gi,'"'))})}else{if(t.hasClass("fk-remove-prod")){var w=t.parents(".fk-prod-title[item_id]").attr("item_id");var p=[],p=fk_compare.resultsPage.getItemIds();var q=$("#compare-store-id").val();p=o(w,p);fk_compare.cookie.removeItem(w);fk_compare.resultsPage.goToCompare(p,q)}else{if(t.hasClass("control-model")&&r.is(":hidden")&&$("UL",r).length>0){var v=$(".models-list");if(v.not(":hidden").length>0){v.not(":hidden").slideUp("fast",function(){if(r.is(":hidden")){r.slideDown("fast")}})}else{if(r.is(":hidden")){r.slideDown("fast",function(){v.scrollToView({edge:20})})}}}}}})};this.bindBrandClick=function(){var o=$(".top-brand-input-holder");o.unbind("click").bind("click",function(p){$(".top-brands-list",this).show()});o.find(".brands-list-item").unbind("click").bind("click",function(){var w=$(this);var q=w.text();var u=w.parents(".top-brand-input-holder");var t=u.attr("searchFilters");var p=u.attr("storeId");var r=u.find(".control-brand").html();var v=w.parents(".fk-qparameters");v.find(".models-list").attr("load_count","0");fk_compare.resultsPage.getModels(q,{storeId:p,searchFilters:t},v);u.find(".control-brand").html(q)})};this.bindItemClick=function(){$(".models-list>UL").unbind("click").bind("click",function(t){var v=$(t.target),u="",p="",r="";if(typeof(v.attr("item_id"))!="undefined"&&v.attr("item_id")!=""){r=v}else{r=v.parents("LI[item_id]")}u=r.attr("item_id");p=r.attr("title");var q=v.parents(".models-list");q.prev().text(p.substring(0,Math.min(13,p.length))+(p.length>13?"...":""));q.next().slideDown("fast");var o=[],o=fk_compare.resultsPage.getItemIds();o.push(u);fk_compare.cookie.addItem(u);FKART.omni.customEvent("Add product on compare page ",{events:"event25"});fk_compare.resultsPage.goToCompare(o)})};this.bindItemScroll=function(){$(".models-list").unbind("scroll").bind("scroll",function(){var r=$(this),v=this.scrollHeight,u=(r.scrollTop()+this.offsetHeight);var p=$(".load-anim",r);var q=300;if(u>=(v-p.height())&&p.not(":hidden")&&v>q&&!fk_compare.resultsPage.isAjaxInProgress){var t=r.parents(".fk-qparameters"),o=t.find(".control-brand");fk_compare.resultsPage.getModels(o.val(),{storeId:o.attr("storeid"),searchFilters:o.attr("searchFilters")},t)}})};this.getModels=function(p,u,v){var t=v.find(".models-list");var x=10;var o=parseInt(t.attr("load_count"));var q=$(".load-anim",t);var r=this.getItemIds(),w=false;r=r.join(",");t.slideDown("fast");if(o==0){t.html("").append(q.clone().show()).scrollTop(0)}this.isAjaxInProgress=true;$.ajax({url:"/compareCommand/brandSearch?count="+x+"&start="+o+"&brand="+p+"&filters="+u.searchFilters+"&storeId="+u.storeId,dataType:"json",success:function(C){var D=C.products,A=["<ul>"],E=0;for(var G in D){var H=new RegExp(G,"gi");if(r.search(H)<0){var y=D[G];var z=["<li title='"+y.title+"' item_id='"+G+"'><strong>"+y.title+"</strong>"];var F="if(this.getAttribute('onerror_cnt')==0) { this.setAttribute('onerror_cnt',1);this.src='"+y.error_image+"';}return false;";z.push("<div class='snippet'><img src='"+y.thumb+"' onerror=\""+F+"\" onerror_cnt='0'/>");z.push("<ul class='short-details'>");z.push("<li class='sel-price'><span>Rs. "+y.selling_price+"</span></li>");z.push("<li class='stock "+(y.is_available==true?"available":"")+"'><span>"+y.stock+"</span></li>");z.push("</ul></div><div class='fclear'></div></li>");A.push(z.join(""))}else{w=true}E++}A.push("</ul>");if(E==0||D==null||typeof(C.products)==="undefined"||C.products===null){t.find(".load-anim").hide();t.parents(".control-holder").find(".control-model").text("No models");B()}else{if(E==1&&o==0&&w){t.parents(".control-holder").find(".control-model").text("No models");t.slideUp("fast","linear",function(){q.hide()})}else{q=$(".load-anim",t);q.show().before(A.join(""));if(E<x){q.hide()}t.attr("load_count",E+o);B()}}function B(){window.setTimeout(function(){t.slideDown("fast","linear",function(){t.scrollToView({edge:20})})},500)}fk_compare.resultsPage.bindItemClick();fk_compare.resultsPage.bindItemScroll();fk_compare.resultsPage.isAjaxInProgress=false},error:function(y,z){}})};this.goToCompare=function(p,q){var t=p.join(",");var o="/"+fk_compare.cookie.getVertical(true).replace(/_/g,"-");var r=o+d+t+"&otracker=compare";if(typeof q!="undefined"){r=updateQueryStringParameter(r,"storeId",q)}r=updateQueryStringParameter(r,"otracker","compare_"+fk_compare.cookie.getVertical(true).replace(/_/g,"-")+"_"+p.length);window.location.href=r};this.toggleHelpInfo=function(){if($("#compare-need-help .help-text").is(":hidden")){fk_compare.resultsPage.showHelpInfo()}else{fk_compare.resultsPage.hideHelpInfo()}};this.showHelpInfo=function(){$("#compare-need-help .help-text").slideDown("fast",function(){$("#compare-need-help .button").text("Close help")})};this.hideHelpInfo=function(){$("#compare-need-help .help-text").slideUp("fast",function(){$("#compare-need-help .button").text("Need help?")})};this.bindHelpInfoClicks=function(){$("#compare-need-help .button").bind("click",this.toggleHelpInfo)};this.fromDeprioritization=function(o){var p=window.location.href;if(p.match(o)){return true}else{return false}}};this.cookie=new function(){var t={},q="";var w="FK-CMP-DATA";var p="";function x(z){$.cookie(w,null);$.cookie(w,z,{expires:2,path:"/"})}function o(){var A="";for(var z in t){var C=z+":";if(t[z].length>0){for(var B=0;B<t[z].length;B++){if($.trim(t[z][B])!=""){C+=t[z][B]+(B<t[z].length-1?",":";")}else{if(B==t[z].length-1){C+=t[z][B]+";"}}}}else{C+=";"}A+=C}return A}function v(B){var z=B.split(";"),A={};var C=z[0].split(":");if(!A[C[0]]){A[C[0]]=[]}A[C[0]]=C[1].split(",");return A}function y(){for(var z in t){break}return z}function u(z){if(q==""||!q){q=y();if(!q&&typeof z!="undefined"){q=$("#"+z.toUpperCase()).attr("vertical")}if(!q){q=$("#fk-compare-table").attr("vertical")}}}function r(){var z=$.cookie(w);if(z){t=v(z)}else{x("")}}this.getVertical=function(z){var z=typeof z=="undefined"?false:z;if(q==""&&z&&p!=""){return p}return q};this.updateCookie=function(A){var z=this.getVerticalItemsData();this.removeAll();for(var B=0;B<A.length;B++){this.addItem(A[B])}};this.getVerticalItemsData=function(){if(q==""){r()}u();if(typeof(t[q])!="undefined"&&t[q]!=""){return t[q]}else{return[]}};this.addItem=function(z){if(q==""){r()}u(z);if(!t[q]||$.trim(t[q].join(""))==""){t[q]=[]}t[q].push(z.toLowerCase());x(o())};this.removeItem=function(z){u();t[q]=l(z,t[q]);if(!t[q].length){t={};p=q;q=""}x(o())};this.removeAll=function(){t={};p=q;q="";x(o())};this.hasItem=function(){if(o()==""){return false}return true}}};fk_compare=FKART.Compare;addOnload(function(){window.EXP_CO_LOADER=new FKART.ui.Loader({modal:true,cssCls:"exp-co-loader"})});FKART.expco=new function(){var q=this;var m;var a=false;var b={lock_map:{},lock:function(y){this.lock_map[y]=true},unlock:function(y){this.lock_map[y]=false},status:function(y){return this.lock_map[y]}};var l={},x;function o(){if($("#expco_panelsh").length){window.express_co_dialog=new FKART.ui.Dialog({width:460,body:$("#expco_panelsh"),header:"Order Confirmation",showFooter:false,cssClass:"express-co-dialog"});express_co_dialog.bindEvent("afterHide",w)}m=FKART.secureDomain+"/co_ajax/exp_co";x=new FKART.XDR();$("#go-to-library-btn").live("click",function(){window.location.href=FKART.secureDomain+"/account/mp3library"});$("#go-to-ebook-library-btn").live("click",function(){window.location.href=FKART.secureDomain+"/account/ebookslibrary"})}$(document).ready(o);function e(B){EXP_CO_LOADER.hide();var G={Digital:{dispName:"MP3",link:"mp3",startmsg:"Download from "},digital_ebook:{dispName:"eBooks",link:"ebooks",startmsg:"Go to "}},A,E;G.digital_track=G.digital_album;$(document).trigger("expco-success",[l.eid]);if(typeof B.data.updated_wallet_balance!="undefined"){$("#wallet_balance").text(B.data.updated_wallet_balance)}if(typeof B.data.digital_cart_count!="undefined"){$(".digital-cart-count").text(B.data.digital_cart_count)}if(typeof B.data.google_order_info!="undefined"&&typeof B.data.google_order_info.order_editions_info!="undefined"){A=G[B.data.google_order_info.order_editions_info[0].vertical];E='<a href="/account/'+A.link+'library" class="fk-button blue">'+A.startmsg+A.dispName+" Library</a>"}else{E=""}var C=$(".edition_"+l.eid);var y=$(C[0]).attr("data-item-name");FKART.digital.notify({text:'<span class="tick_icon"></span> "<div class="fk-inline-block tmargin5"><span class="item_name">'+y+'</span>" has been successfully purchased and added to your Library. &nbsp;'+E+"</div>"});var J='<div class="exp_co_item_added sml_msg"><span class="tick_icon"></span> Bought</div>';var z;if(typeof A!="undefined"){z='<div class="exp_co_item_added"><span class="tick_icon"></span> Successfully purchased and added to your <a href="/account/'+A.link+'library">'+A.dispName+' Library</a> <div class="tmargin5">'+E+"</div></div>"}else{z='<div class="exp_co_item_added"><span class="tick_icon"></span> Successfully purchased and added to your Library</div>'}for(var K=0;K<C.length;K++){var D=$(C[K]);if(D.parents(".track-list.prod_page").length){D.find("td.buy-options-col").remove();var H=D.find("td.price");H.attr("colspan",2).addClass("item-added").removeClass("price").html(J)}else{if(D.parents(".track-list").length){D.find("td.buy-options-col").remove();D.find("td.price").remove();var H=D.find("td.bitrate");H.attr("colspan",3).addClass("item-added").removeClass("price").html('<div class="exp_co_item_added"><span class="tick_icon"></span> Bought<br/>'+E+"</div>")}else{var I=$("<div>");if(D.hasClass("long_msg")){I.html(z)}else{D.removeClass("buy-options");I.html(J)}D.html(I)}}}try{n(B.html)}catch(F){}try{FKART.omnitureFireEvent({"track-vars":"events,products,eVar25","track-events":"purchase,event16",products:";"+l.eid+";"+1+";"+B.data.order_amount+";;event63="+B.data.order_amount+";eVar22=DigitalMP3",eVar25:B.data.order_id,events:"purchase,event16",name:"express checkout purchase"})}catch(F){}}this.reset=function(){l={}};this.get_exp_co_popup=function(y,B,z){if(b.status("exp_co_popup")){return}l.eid=y;l.form_key=B;l.force_confirm=typeof z=="undefined"?false:z;var A={product_id:y,form_key:B,force_confirm:l.force_confirm};if(l.next_state){A.request=l.next_state}EXP_CO_LOADER.show();x.makeRequest(m,{type:"post",data:A},t)};function t(y){switch(y.status){case"song_already_bought":EXP_CO_LOADER.hide();new FKART.Alert({body:y.data.message,destroy_on_close:true,width:500,buttons:{"go-to-library-btn":"Go to MP3 Library"}});break;case"product_already_bought":EXP_CO_LOADER.hide();new FKART.Alert({body:y.data.message,destroy_on_close:true,width:500,buttons:{"go-to-library-btn":"Go to MP3 Library"}});break;case"ebook_already_bought":EXP_CO_LOADER.hide();new FKART.Alert({body:y.data.message,destroy_on_close:true,width:500,buttons:{"go-to-ebook-library-btn":"Go to eBooks Library"}});break;case"invalid_product_id":case"customer_not_from_india":case"exception_occurred":p(y.data.message);break;case"set_billing_address":express_co_dialog.updateHeader("Set your Default Billing Address");if(y.data.error){$("#co_enter_addr_err").html(y.data.error);EXP_CO_LOADER.hide();express_co_dialog.show()}else{require_module.css("others");g(y.html);d();if(y.data.addresses_count>0){express_co_dialog.setWidth("830px");express_co_dialog.setHeight("550px")}}break;case"user_preference":express_co_dialog.updateHeader("Wallet Order Confirmation");g(y.html);u();break;case"wallet_topup_required":express_co_dialog.updateHeader("Top-up your Wallet");g(y.html);FKART.utils.runOnload();FKART.omnitureFireEvent({"track-events":"event11",events:"event11",name:"wallet pop-up"});break;case"login_required":case"check_wallet_auth":if(typeof y.data.next_state!="undefined"){l.next_state=y.data.next_state}EXP_CO_LOADER.hide();FKART.login.showPopup("",false);$(document).unbind("user_loggedin",c).one("user_loggedin",c);FKART.omnitureFireEvent({"track-events":"event12",events:"event12",name:"login popup"});break;case"success":e(y);break;default:p("Server error occured, please try again later.")}}function g(z){EXP_CO_LOADER.hide();var y=document.getElementById("expco_panelsh");y.innerHTML=z;a=true;express_co_dialog.show()}function p(y){EXP_CO_LOADER.hide();new FKART.Alert({body:y,destroy_on_close:true,width:500})}var u=function(){$("#expco-form").bind("submit",function(y){express_co_dialog.hide();EXP_CO_LOADER.show("Processing..");var z=$(this).serializeObject();z.form_key=l.form_key;x.makeRequest(m,{type:"post",data:z},t);return false})};var d=function(){$("#select_address_form").bind("submit",function(y){if(!f()){return false}express_co_dialog.hide();EXP_CO_LOADER.show("Processing...");var z=l.addressObj||{};z.product_id=l.eid;z.request="set_billing_address";z.form_key=l.form_key;z.force_confirm=l.force_confirm;x.makeRequest(m,{type:"post",data:z},t);return false})};function w(){express_co_dialog.setWidth("460px");express_co_dialog.setHeight("auto");EXP_CO_LOADER.hide();if(b.status("exp_co_popup")){b.unlock("exp_co_popup")}if(express_co_dialog.isOpen()){express_co_dialog.hide()}a=false}this.validateWalletForm=function(y,C,z,A){var B=$("#walamt2").val();if(B.indexOf(".")>0||isNaN(B)){$("#walerror2").text("Please enter a valid amount");$("#walerror2").addClass("inp-err").show();$("#walamt2").val("");$("#walamt2").focus();return false}B=parseInt(strip(B));if(B==""||isNaN(B)||B<y||B>C){if(B==""){$("#walerror2").text("Please enter amount")}else{if(isNaN(B)){$("#walerror2").text("Please enter a valid amount")}else{if(B<y||B>C){$("#walerror2").text("The top-up amount should be between Rs."+y+" and Rs."+C)}}}$("#walerror2").addClass("inp-err").show();$("#walamt2").val("");$("#walamt2").focus();return false}else{$("#walerror2").hide();$("#act_walamt2,#walamt2").val(B);if(B>=z&&!A){r();return false}else{return true}}return false};function r(){var B="These Top-Ups can only be used for the Flyte Category (MP3 and eBooks). Are you sure you want to continue?";var y="<span class='topup-confirm'>Yes</span>";var A="<span class='topup-cancel'>No</span>";var z=new FKART.ui.Alert({body:B,buttons:{yes:y,no:A},width:400});$(".topup-confirm").click(function(){$("#walletform2").unbind("submit");$("#walletform2").submit()});$(".topup-cancel").click(function(){z.close()})}function c(){FKART.login.hidePopup();$("#login-loader").hide();q.get_exp_co_popup(l.eid,l.form_key)}var f=function(){function G(M){return document.getElementById("co_createaddr_"+M)}function L(M){G(M).className=G(M).className.replace(/ co_err_inp/g," ");G(M).value=strip(G(M).value);return G(M).value}function H(M){G(M).className+=" co_err_inp"}if($("#co_addr_address_id").val()!=""){return true}var E=L("name");var F=L("phone");var C=L("addr1");var B=L("addr2");var D=L("landmark");var K=L("city");var A=L("state");var J=L("pincode");var I=/^[A-Za-z]+[\ +[A-Za-z]+]*$/;var z=[];function y(M){z[z.length]="<li>"+M+"</li>"}if(E==""){y("Please specify a Name");H("name")}if(C==""){y("Please specify a Street Address");H("addr1")}if(C.length>216){y("Address cannot be more than 216 characters");H("addr1")}if(D.length>60){y("Landmark cannot be more than 60 characters");H("landmark")}if(K==""){y("Please specify a City");H("city")}else{if(!I.test(unescape(K))){y("Please specify a valid City");H("city")}}if(A==0){y("Please specify a State");H("state")}if(J==""||!isValidNumber(J)){y("Please enter a 6 digit Pincode");H("pincode")}else{if(J.length!=6){y("Pincode should contain 6 digits");H("pincode")}}if(F==""){y("Please specify a Phone Number");H("phone")}if(z.length>0){document.getElementById("co_enter_addr_err").innerHTML="<b>Oops! Correct the following:</b><ul>"+z.join("")+"</ul>";return false}l.addressObj={addr_name:E,addr_ph:F,addr_l1:C,addr_l2:D,addr_city:K,addr_st:A,addr_pin:J};return true};this.selectAddress=function(y){var z=$(y).attr("data-address-id");$("#co_addr_address_id").val(z);l.addressObj={address_id:z};$("#select_address_form").submit()};var v=document.write;function n(z){var y=$(z);document.write=function(A){$($dc("hidden")).appendTo(document.body).append(A)};y.appendTo(document.body);setTimeout(function(){y.remove();document.write=v},8000)}};function get_exp_co_popup(a,c,b){FKART.expco.reset();FKART.expco.get_exp_co_popup(a,c,b);FKART.omnitureFireEvent({"track-vars":"events,products","track-events":"event10",products:";"+a+";;;;eVar22=DigitalMP3",events:"event10",name:"express checkout"})}FKART.recommendations={};FKART.recommendations.carousel={};FKART.recommendations.carousel.init=function(b){var a=new FKART.ui.CarouselLoader(b);a.initCarousel()};FKART.recommendations.carousel.load=function(b){var a=new FKART.ui.CarouselLoader(b);a.initAjaxCall()};FKART.navmenu=function(c,e){var a="";var g=$("<div></div>");g.addClass("fk-mask").appendTo("body");function l(){$("#fk-mainhead-id").addClass("maskOn");g.height($(document).height());g.addClass("open")}function f(){g.removeClass("open");setTimeout(function(){g.height(0)},300);$("#fk-mainhead-id").removeClass("maskOn")}if(c==0){$(".nav-content").hide();function d(){$(".nav-content").show();$("#flyout-menu .all-ctg-btn").addClass("open").addClass("btnactive");l()}function b(){$(".nav-content").hide();$("#flyout-menu .all-ctg-btn").removeClass("open").removeClass("btnactive");f()}$("#flyout-menu .all-ctg-btn").delayedHover(d,b,400);$("#flyout-menu .arrow-dd").mouseover(d);$("#flyout-menu .nav-content").mouseleave(b)}else{$("#flyout-menu .all-ctg-link").css({cursor:"default"});$(".nav-content").hover(l,f)}g.bind("mouseover",function(){});$(".nav-list").menuAim({activate:function(C){var A=$(window).height();var t=$(C).offset();var m=t.top;e=parseInt(e);if($(document).scrollTop()<e){A=A-e;m=m-e}else{m=m-$(document).scrollTop()}var n=$(C).children(".subMenu");var w=n.height();var u="-584px";var o=1;if((m+w)>A){o=((m+w)-A)+30}if(o>m){o=m}$("#fk-mainhead-id").hasClass("fixed")&&(m=m-37);if(o==0){o=1}u="-"+(584-m)+"px";var z=n.find(".fk-mh-submenu-dsection.right .fk-mh-navChild-Wrapper");var q=n.find(".fk-mh-submenu-dsection.left .fk-mh-navChild-Wrapper");var y=n.find(".fk-mh-submenu-dsection.featured .fk-mh-navChild-Wrapper");n.css({display:"block",visibility:"hidden"});var B=q.height();var p=z.height();var r=y.height();n.css({display:"none",visibility:"visible"});var x=Math.max(B,p,r);z.css("height",x);q.css("height",x);y.css("height",x);var v=$(C);a=setTimeout(function(){v.addClass("hover");n.css({display:"block",left:"223px",_left:"220px",top:"-"+m+"px","z-index":"9999","background-position":"left "+u})},40);n.find(".banner-lazy").attr("src",function(){return $(this).attr("data-url")}).removeClass("banner-lazy")},deactivate:function(n){try{clearTimeout(a)}catch(m){}setTimeout(function(){$(n).removeClass("hover");$(n).children(".subMenu").hide()},50)}})};FKART.EGV=function(){var d=1;var g=5;var o=25;var b=10000;var f=100000;var a=/^[\d]+$/;var e=function(){var r=$("#egift-voucher-list li:last");var p=r.clone();p=p.html().replace(/(for|id)=\"?([\w\-\_]+)([\d]+)\"?/g,function(v,t,w,u){return t+"="+w+(Number(u)+1)});var q=$("<li>"+p+"<a class='deleteItem' alt='Delete Voucher' title='Delete Voucher'>&nbsp;</a></li>");q.addClass("divider").appendTo("#egift-voucher-list").find(".fk-err-all").hide().html("").end().find(".egv-msg-popup").hide().end().slideDown("fast");m(q);q.find("[id^=voucher-value]").val("500");q.find("[id^=quantity]").val("1");q.find("[id^=egv-subtotal]").text("500");q.find("[id^=add-msg-checkbox]").prop("checked",false);q.find("[id^=chr-left]").html("")};var m=function(p){$("input[placeholder],textarea[placeholder]",p).removeClass("placeholder-added placeholder").val("")};var c=function(x){var C=false;var E="";$(".fk-err-all","#egift-voucher-form").hide().html("");var q=0;while(x>0){var y=$.trim($("[id^=recipient-email]","#egift-voucher-list li:nth-child("+x+")").val());var t=$.trim($("[id^=confirm-recipient-email]","#egift-voucher-list li:nth-child("+x+")").val());var D=$("[id^=voucher-value]","#egift-voucher-list li:nth-child("+x+")").val();var w=$("[id^=quantity]","#egift-voucher-list li:nth-child("+x+")").val();var B=$("[id^=add-msg-checkbox]","#egift-voucher-list li:nth-child("+x+")").prop("checked");var v=$.trim($("[id^=sender-name]","#egift-voucher-list li:nth-child("+x+")").val());var p=$.trim($("[id^=recipient-name]","#egift-voucher-list li:nth-child("+x+")").val());var r=$.trim($("[id^=egv-message]","#egift-voucher-list li:nth-child("+x+")").val());var A=100;var z=100;var u=140;if(!y.length||!(isEmailValid(y,true))){C=true;E="<p>* Invalid recipient Email ID. Please check and try again.</p>"}if(!t.length){C=true;E+="<p>* Please confirm the recipient's Email ID to proceed.</p>"}if(y.toLowerCase()!=t.toLowerCase()&&t.length!==0){C=true;E+="<p>* Email IDs do not match, please check and try again.</p>"}if(!(a.test(D))||D<o||D>b){C=true;E+="<p>* Please select Gift Card value from the dropdown.</p>"}if(!(a.test(w))||w<1){C=true;E+="<p>* Please mention the quantity of Vouchers you wish to purchase.</p>"}if(B){if(!p.length||!FKART.utils.isASCII(p)){C=true;E+="<p>* Please enter a valid recipient's name</p>"}if(!v.length||!FKART.utils.isASCII(v)){C=true;E+="<p>* Please enter a valid sender's name</p>"}if(r.length){if(!FKART.utils.isASCII(r)){C=true;E+="<p>* Please enter a valid gift message</p>"}if(r.length>u){C=true;E+="<p>* Gift message should not exceed more than "+u+" characters</p>"}}if(p.length&&p.length>z){C=true;E+="<p>* Recipient's name should not exceed more than "+z+" characters</p>"}if(v.length&&v.length>A){C=true;E+="<p>* Sender's name should not exceed more than "+A+" characters</p>"}}if(E!=""){$("[id^=err-container]","#egift-voucher-list li:nth-child("+x+")").show().append(E)}E="";x--;if(((a.test(w))||w<1)&&((a.test(D))||D<o||D>b)){q+=(w*D)}}if(q>f){C=true;$("#err-total-amount").show();$("#egv-banner").scrollToView({scrollTo:"top"})}return !C};var l=function(){var p=0;$("[id^=egv-subtotal]","#egift-voucher-list").each(function(){p+=Number($(this).text())});$("#egv-total").text(p)};var n=function(){$("#egift-voucher-list li:nth-child(even)").addClass("even");$("#egift-voucher-list li:nth-child(odd)").removeClass("even")};return{init:function(q,p){o=(a.test(q))?Number(q):o;b=(a.test(p))?Number(p):b;var r=$("#egv-add-voucher","#egv-content");r.click(function(){if(d<g){d++;e();n();l();FKART.ui.Placeholder.init()}if(d==g&&!$(this).hasClass("add-disabled")){$(this).addClass("add-disabled").text("You have reached the maximum limit of 5 vouchers.")}});$(".deleteItem","#egv-content").live("click",function(){var t=$(this).parents("li");t.fadeOut().remove();l();n();d--;if(d==Number(g-1)){r.removeClass("add-disabled").html("[+] &nbsp;Add another e-Gift Voucher")}});$("#egift-voucher-form","#egv-content").submit(function(){var t=$("#egift-voucher-list li").length;if(c(t)){$("#egv-count").val(t);return true}else{return false}});$(".egv-value, .egv-quantity","#egv-content").live("change",function(){var u=$(this).parents("li").find(".egv-value").val();var v=$(this).parents("li").find(".egv-quantity").val();var t=(a.test(u)&&a.test(v)&&v>0&&u>=o&&u<=b)?(u*v):0;$(this).parents("li").find("[id^=egv-subtotal]").html(t);l()});$(".egv-value, .egv-quantity","#egv-content").live("keyup",function(){var u=$(this).parents("li").find(".egv-value").val();var v=$(this).parents("li").find(".egv-quantity").val();var t=(a.test(u)&&a.test(v)&&v>0&&u>=o&&u<=b)?(u*v):0;$(this).parents("li").find("[id^=egv-subtotal]").html(t);l()});$(".js-add-gift-msg","#egift-voucher-list").live("click",function(){var u=$(this).parents("li");u.find(".egv-msg-popup").toggle($(this).prop("checked"));if($(this).prop("checked")){u.find("[id^=chr-left]").html("");var t=u.prev("li").find("[id^=sender-name]");if(t.length>0&&$(t).defaultVal()!=""){u.find("[id^=sender-name]").val(t.val()).removeClass("placeholder")}}else{m(u.find(".egv-msg-popup"));FKART.ui.Placeholder.init()}}).each(function(){if($(this).prop("checked")){$(this).parents("li").find(".egv-msg-popup").show()}})}}}();if(typeof(FKART)=="undefined"){FKART={}}FKART.omni=new function(){var c={};var b;function a(){b=s_gi(s_account)}this.customEvent=function(f,d){try{a();var m=[];for(var g in d){m.push(g);b[g]=d[g]}b.linkTrackVars=m.join(",");if(typeof d.events!="undefined"){b.linkTrackEvents=d.events.replace(/=(.[^,;]*)/g,"")}else{b.linkTrackEvents=""}b.tl(b,"o",f)}catch(l){}};this.getProperty=function(d){return c[d]};this.setProperty=function(d,e){c[d]=e};this.youtubePlayerStateChanged=function(d){if(d>0&&!this.getProperty("PP_VideoPlayed")){this.customEvent("PP Video Played Event",{events:"event68",products:(window.s&&window.s.products)});this.setProperty("PP_VideoPlayed",true)}};this.attachOmnitureClickListener=function(d){try{d=d||"body";$(d).find("[data-omni-click]").click(function(){var l=$(this).attr("data-omni-click");if(l&&l.split){var m={};l=l.split(";");var e=l&&l.length;for(var g=0;g<e;g++){var n=l[g];if(n&&n.split){n=n.split("=");m[n[0]]=n[1]}}FKART.omni.customEvent("Omni click event",m)}})}catch(f){}}};FKART.omni.attachOmnitureClickListener();FKART.omnitureFireEvent=function(d){try{var c=d.omni_data?d.omni_data:undefined;var b=s_gi(s_account);if(d["track-vars"]){b.linkTrackVars=d["track-vars"]}if(d["track-events"]){b.linkTrackEvents=d["track-events"]}if(d.eVar13){b.eVar13=d.eVar13}if(d.eVar15){b.eVar15=d.eVar15}if(d.products){b.products=d.products}if(d.events){b.events=d.events}if(d["set-list1"]){b.list1=d["set-list1"];b.linkTrackVars+=",list1"}if(d["set-evar61"]){b.eVar61=d["set-evar61"];b.linkTrackVars+=",eVar61"}if(d["set-evar51"]){b.eVar51=d["set-evar51"];b.linkTrackVars+=",eVar51"}if(d.eVar25){b.eVar25=d.eVar25}if(d["set-evar3"]){b.eVar3=d["set-evar3"];b.linkTrackVars+=",eVar3"}if(d["set-prop3"]){b.prop3=d["set-prop3"];b.linkTrackVars+=",prop3"}if(d["set-evar45"]){if(b&&b.eVar45){b.linkTrackVars+=",eVar45"}}if(d["set-evar30"]){if(typeof c!="undefined"&&typeof c.eVar30!="undefined"){b.eVar30=c.eVar30}else{b.eVar30=b.prop11}}if(d["set-evar33"]&&c&&c.eVar33){b.eVar33=c.eVar33;b.linkTrackVars+=",eVar33"}if(d["set-evar37"]&&c&&c.eVar37){b.eVar37=c.eVar37;b.linkTrackVars+=",eVar37"}if(d["set-prop12"]){b.prop12=d["set-prop12"];b.linkTrackVars+=",prop12"}if(d["set-evar42"]&&(!isNaN(c.listingPosition)||c.listingPosition=="onlySeller")){b.eVar42=b.eVar3+"_"+c.listingPosition;b.linkTrackVars+=",eVar42"}if(d["set-evar44"]&&c.listingSeller){b.prop44=b.eVar44=c.listingSeller;b.linkTrackVars+=",eVar44,prop44"}if(c&&c.buyTrendInfo){if(d["set-evar9"]){b.eVar9=c.buyTrendInfo[0];b.linkTrackVars+=",eVar9"}if(d["set-evar18"]){b.eVar18=c.buyTrendInfo[2];b.linkTrackVars+=",eVar18"}}if(c&&c.listingMetrics){b.eVar12=c.listingMetrics;b.linkTrackVars+=",eVar12"}if(c&&c.exchangeOffer){b.eVar24=c.exchangeOffer;b.linkTrackVars+=",eVar24"}FKART.omnitureSetEventPathing(b);b.tl(true,"o",d.name)}catch(a){}};FKART.omnitureSetEventPathing=function(c){var d={event4:"Registration Completed",event7:"Null Search",event16:"Express Checkout Orders",event17:"Wallet Top-up",event20:"OOS Product View",scOpen:"New Cart",event2:"Product  View",event3:"Registration Started",event5:"Login",event6:"Internal Search",event9:"Song Preview",event10:"Express Checkout",event11:"Wallet Pop-up",event12:"Login Pop-up",event14:"Library Downloads",event15:"Pincheck",event18:"Browse",event19:"Contact Us",event21:"Add to Wishlist",event22:"Compare Products",purchase:"Order",scCheckout:"Checkout",scAdd:"Add to Cart",scRemove:"Remove from Cart"};var b=new RegExp("^("+c.events.replace(/,/g,"|")+")$");for(var a in d){if(b.test(a)){c.prop45=d[a];break}}};FKART.Notifications=function(m){var c={nearElement:"#notifications-count-button"};var b=$.extend({},c,m);var g;var l=function(){var n=new FKART.ui.Tooltip({nearElement:$(b.nearElement),cssClass:"notification-popup",align:"right",message:"<div class='notification-popup-header'>Notifications</div><div class='tpadding5 bpadding5' style='text-align:center;'><img src='/images/ajax-loader.gif'/></div>"});g=n};var d=function(){g.show()};var f=function(){g.hide()};var a=function(){if($(".notification-popup").is(":visible")){g.hide()}else{g.show();if(parseInt($("#notifications-count-button").text())>0){$.getJSON("/xhr/markNotificationsAsRead",function(o){o.success&&$("#notifications-count-button").text("0").removeClass("notifications-count").addClass("notifications-count-dull")&&$("#notifications-link").removeClass("show")});FKART.omni.customEvent("Notifications",{prop20:"nf_click"})}var n="";$(".notification-popup .notification-unread .hidden-notifications-type").each(function(){n=n+";"+$(this).val()});if(n.length!=0){FKART.omni.customEvent("Notifications",{prop20:"nf_imp"+n})}}};var e=function(){$.getJSON("/xhr/getNotifications",{browseAB:b.browseAB},function(n){if(n==null){return}if(n.count==null){n.count=0}if(n.count>0){var o=n.count;if(o>10){o="10+"}$("#notifications-link").addClass("show");$("#notifications-count-button").removeClass("notifications-count-dull").addClass("notifications-count").text(o)}else{$("#notifications-count-button").removeClass("notifications-count").addClass("notifications-count-dull").text(n.count);$("#notifications-link").removeClass("show")}n.html&&g.updateContent(n.html)})};return{init:l,showPopup:d,hidePopup:f,getNotifications:e,toggleNotifications:a}};FKART.notificationsAddOnload=function(b){var d={nearElement:"#notifications-count-button"};var c=$.extend({},d,b);var a=new FKART.Notifications(c);a.init();a.getNotifications();$("#notifications-count-button, #notifications-link").click(function(){a.toggleNotifications();return false});$(document).click(function(f){if(!$(f.target).is(".notification-popup *")){a.hidePopup()}});$(document).keyup(function(f){if(f.keyCode==27){a.hidePopup()}})};(function(a){a.fn.countdowntimer=function(b){return this.each(function(){var e;var r,f,w,t,n,m;var y,u,g,c,z,o,x=false;var q={zeroReachtext:"Expired",zeroReachCallback:function(){}};if(typeof b=="undefined"){b={}}b.container=a(this);function v(){b=a.extend({},q,b);if(typeof b.date=="undefined"){b.date=a(b.container).attr("data-timestamp")}var A=b.date;e=(typeof A=="string"?parseInt(A.replace(/,/g,"")):parseInt(A));if(isNaN(e)){return}if(typeof b.container!="undefined"){o=b.container;if(a(o).find(".years").length){x=true;y=a(o).find(".years");u=a(o).find(".days");g=a(o).find(".hours");c=a(o).find(".mins");z=a(o).find(".secs")}l()}}function l(){var A=new Date().getTime();var B=e-A;if(B<=0){if(typeof b.zeroReachCallback=="function"){b.zeroReachCallback.call(b.container)}d(false);return}B=parseInt((B+"").slice(0,-3));r=Math.floor(B/31536000);B=B-(r*31536000);f=Math.floor(B/86400);B=B-(f*86400);w=Math.floor(B/3600);B=B-(w*3600);t=Math.floor(B/60);B=B-(t*60);n=B;d();m=setInterval(p,1000)}function p(){n-=1;if(n<0){n=59;t-=1;if(t<0){t=59;w-=1;if(w<0){w=23;f-=1;if(f<0){f=364;r-=1;if(r<0){if(typeof b.zeroReachCallback=="function"){b.zeroReachCallback.call(b.container)}d(false);clearInterval(m);return}}}}}d()}function d(A){if(typeof A=="undefined"){A=true}if(A){if(x){y.text(r);u.text(f);(w.toString().length==1)?g.text("0"+w):g.text(w);(t.toString().length==1)?c.text("0"+t):c.text(t);(n.toString().length==1)?z.text("0"+n):z.text(n)}else{o.text(r+" : "+f+" : "+w+" : "+t+" : "+n)}}else{o.html('<span class="expired">'+b.zeroReachtext+"</span>")}}v()})}})(jQuery);$("body").on("click",".ugcf-il-container .ans",function(){var a,m,b,d=$(this),l=d.closest(".ugcf-il-container"),e=l.find(".comment-block"),g=e.find(".text"),f=l.attr("data-origin");l.find(".ack").text("Thanks for your vote!").show();l.find(".selected").removeClass("selected");var c=d.addClass("selected").attr("data-item-id");if(c&&c.split){a=c.split("#");m=a[0];b=a[1];$.post("/ugc-ajax/sumbitUGCFeedback",{item_id:m,origin:f,response:b}).done(function(){e.show();if(b=="yes"){g.attr("placeholder","What did you like about this feature?")}else{g.attr("placeholder","What did you not like about this feature?")}})}});$("body").on("click",".ugcf-il-container .skip",function(){var b=$(this).closest(".ugcf-il-container");var a=b.find(".comment-block");b.find(".text").val("");b.find(".err").hide();a.fadeOut()});$("body").on("click",".ugcf-il-container .save",function(){var e=$(this),n=e.closest(".ugcf-il-container"),g=n.find(".comment-block"),m=n.find(".text"),c=m.val(),l=n.attr("data-origin");var d=n.find(".ans.selected").attr("data-item-id");if(d&&d.split){var a=d.split("#");var f=a[0];var b=a[1];if(f){if(c==""){n.find(".err").show()}else{$.post("/ugc-ajax/sumbitUGCFeedback",{item_id:f,origin:l,response:b,metadata:JSON.stringify({comment:c})}).done(function(){n.find(".ack").text("Thanks for your comment!").show();m.val("");g.fadeOut()})}}}});$("body").on("click",".ugcf-il-container .text",function(){$(this).attr("placeholder","")});var TimedCarousel=function(a){this.ele=$("#"+a.id);this.carouselUnit=null;this.inStockCount=null;this.init=function(){this.inStockCount=parseInt(this.ele.find(".inStockCount").attr("data-inStockCount"));this.carouselUnit=$(".require-carousel",this.ele);this.initTimer();this.initCarousel();this.checkOOStockState()};this.checkOOStockState=function(){var b=this.inStockCount;if(b==0){this.ele.find(".new-mod-foz").remove();this.ele.addClass("showBanner")}else{if(b==1){this.ele.find(".logo").removeClass("multi")}else{if(typeof this.ele.find(".imageModule")!="undefined"){this.ele.find(".imageModule").remove()}}}};this.initTimer=function(){var b=this;$(".hp-timer",this.ele).countdowntimer({zeroReachCallback:function(){b.handleOOS("Offer Expired")}})};this.handleOOS=function(b){this.ele.find(".deal-container").addClass("oos");this.ele.find(".shopNow").addClass("disabled");this.ele.find(".oosmsg").html(b).show();this.ele.find(".timer-text").remove();this.ele.find(".maskEle").show()};this.initCarousel=function(){var c=this;var d={content:$(".ccarousel",c.carouselUnit),buttonOverlap:true,columnsperslide:1};var b=this.carouselUnit.data();$.extend(d,b);(new FKART.ui.Carousel(d)).init();this.carouselUnit.removeClass("require-dotd-carousel")};this.init()};if(console&&console.log){console.log("\n\n                                                   hey there, geek!\n                                                we're so glad you\n                                             found us! So do you\n                                            possess a\n                                            <strong>\n                                           @passion@\n                                   for coding? Love to build()\n                                   cool stuff? Do you wanna be\n                                  a part of India's *leading*\n                                         *online**\n                                         shopping\n                                        platform?\n                                        =Guess==\n                                       what!!!!!\n                                       We   are\n                                      #hiring!!\n                                      Come join\n                                     the Big F\n                                     and teach\n                                    ==India==\n                                    the  new\n                                   way >> to\n                                  ***shop**\n                               Build   the\n             country's  e-commerce   with\n            your own hands! May  the \n            force be with you...\n\n");console.log("Nothing gets cooler than being a Flipster. Apply here: http://www.flipkartcareers.com/\n")}(function(){var c=$(window);var b=$("#fk-mainhead-id");var a=throttle(function(){b.toggleClass("fk-head-smallVP",(c.width()<=1000))},100);c.resize(a);addOnload(a);if(window.devicePixelRatio&&window.devicePixelRatio>1.5){$(".retina-img").each(function(){var d=$(this).attr("data-retina");$(this).attr("src",d);$(this).removeAttr("data-retina")})}})();FKART.generateCaptcha=function(c,a,b){$.ajax({url:"/xhr/generateSMSForAppCaptcha?time="+Math.random()*1000,type:"GET",beforeSend:function(){if(b){b()}},success:function(d){c(d)},error:function(){a()}})};FKART.sendSMS=function(d,c,a,b){$.ajax({type:"POST",url:"/xhr/sendSMSForApp",data:d,beforeSend:function(){if(b){b()}},success:function(e){c(e)},error:function(){a()}})};$(document).ready(function(){var u=$(".captchaImage"),a=$(".captcha-container"),w=$(".sms-field"),n=$(".sendMessage"),r=$(".captcha-msg"),x=$(".sms-field-wrap"),t=$(".loaderBlock"),y=$(".sms-field-inp-err"),d=$(".code-field-inp-err"),c,m,e,p,v,g,q,z,l,f,b;f=function(){w.bind("click",function(){a.removeClass("fk-hidden");m();$(this).unbind("click")})};m=function(){FKART.generateCaptcha(function(A){e(A)},function(){p()})};e=function(A){json_response=JSON.parse(A);if(json_response.success){var B=json_response.captcha;u.attr("src","/genImageV2.php?id="+B)}else{u.attr("alt","Captcha failed to load.")}};p=function(){u.attr("alt","Captcha failed to load.")};v=function(B){var A=JSON.parse(B);if(A.success){n.text("SENT!");setTimeout(function(){w.val("");z();a.addClass("fk-hidden");f()},2000);o("mobile-app-download","App_SMS")}else{if(A.status==="error"&&A.errorCode&&A.errorCode==="101"){r.focus();d.text("Invalid code").show();n.text("SEND SMS");m()}else{new FKART.Alert({body:A.message,width:500,destroy_on_close:true});z()}}};g=function(){new FKART.Alert({body:"Please try again",width:500,destroy_on_close:true});z()};q=function(){t.addClass("fk-hidden").removeClass("fk-inline-block")};z=function(){r.val("");m();y.hide();d.hide();n.text("SEND SMS")};$(".reload-captcha").click(function(){m()});$(".ios-btn-cont a").on("click",function(A){o("mobile-app-download","App_IOS")});$(".android-btn-cont a").on("click",function(A){o("mobile-app-download","App_Android")});$(".windows-btn-cont a").on("click",function(A){o("mobile-app-download","App_Windows")});function o(A,B){try{FKART.omni.customEvent(A,{prop21:B})}catch(C){}}n.on("click",function(){y.hide();d.hide();c()});w.on("keydown",function(A){y.hide();if(A.keyCode===13){c()}});r.on("keydown",function(A){d.hide();if(A.keyCode===13){c()}});c=function(){var C=w.val(),B=r.val(),A,D=true;if(C.length===0){w.focus();y.text("Required").show();D=false}else{if(!(C.length===10)||!(/\d{10}/.test(C))){w.focus();y.text("Invalid Number").show();D=false}}if(B.length===0){if(D){r.focus()}d.text("Required").show();D=false}if(!D){return false}A={number:C,captcha:B};FKART.sendSMS(A,function(E){v(E)},function(){g()},function(){n.text("Sending..")})};w.on("focus",function(A){n.text("SEND SMS");y.hide()});r.on("focus",function(A){d.hide()});b=function(){setTimeout(function(){$(".js-promo-container").hide()},200);FKART.utils.localStorage.setObject("showAppPromo","false");FKART.utils.localStorage.setObject("showAppPromoFrequency",new Date().getTime());if($(this).is(".js-promo-cancel")){FKART.omni.customEvent("Closed AppPromo",{events:"event36"})}};$(".js-promo-cancel").on("click",function(A){A.preventDefault();b()});$(".os-icons a").on("click",function(A){b()});showInterstialPopup=function(D){if(window.localStorage){var E=true,F=$(".js-promo-container"),C=FKART.utils.localStorage.getObject("showAppPromoFrequency")||0,A=new Date().getTime()-C,B=FKART.utils.localStorage.getObject("showAppPromo")||"true",E=(B==="true")||(D>0&&(A>(parseInt(D))));if(!E){F.hide()}else{F.show()}}};f()});FKART.appOfferPopup=function(aU){var ag=$(aU),C=$(".app-link",ag),Y=$(".app-offers-button",ag),az=$(".app-offers-container",ag),aG=$(".appOnlyDialog-popup-content",ag),ai=$(".fk-question-mark",ag),E,aS,aQ,bi,am,T,M,bk,aR,N,e,w,y,H,ay,V,a8,aF,a7,U,S,P,ah,v,b,ap,A,bg,d,J=false,au,t,aA,ba=false,a6,aW,aK,bf,m,aH,aj,o,ar,ad,a0,p,a,f,ae,bc=false,be,g,a3,aq,F,K,L,O,aM=false,av,r,aZ,a9,aa,at,al,a2,ac,u,aT,bh,R="",ax="",X=false,aC=false,Q,aJ,aY,a4,l;if(aG.length==0){aG=$("#fk-header .appOnlyDialog-popup-content")}if(aG.length==0){aG=$(".fk-mainfooter .appOnlyDialog-popup-content")}if(aG.length==0){aG=$(".appOnlyDialog-popup-content.forcedView")}function c(){Y.on("click",function(){if(!X){bd("Opened");$(this).addClass("open");ai.text("X");setTimeout(function(){az.slideDown(200);X=true},150)}else{bd("Closed");az.slideUp(200,function(){Y.removeClass("open");ai.text("?");X=false})}});C.on("click",function(bl){if(!C.hasClass("disabled")){z($(this));bd("Clicked");bj();bl.preventDefault()}})}function bj(){A=null;q();W();a5();x();af();if(!FKART.login.isUserLoggedIn()){V.hide();aV()}else{if(ba==true){V.show();E.hide();ac=setTimeout(function(){J=true;$.ajax({url:"/lc/sendPushNotificationForAccount",data:{pid:be,lid:g,sid:a3,query:aq,offerid:ae,cmpid:r,semcmpid:aZ,title:F,subtitle:K,vertical:L,url:O,fsale:aM,useDataUrl:bc},type:"POST",dataType:"json",success:function(bl){if(bl.deviceFound&&bl.notificationSent){aX()}else{aO()}},error:function(){aO()}})},7000)}else{aV();aB()}}}function aB(){$.ajax({url:"/lc/sendPushNotificationForAccount",data:{pid:be,lid:g,sid:a3,query:aq,offerid:ae,cmpid:r,semcmpid:aZ,title:F,subtitle:K,vertical:L,url:O,fsale:aM,useDataUrl:bc},type:"POST",dataType:"json",success:function(bl){if(bl.deviceFound&&bl.notificationSent){T.show()}else{M.show()}},error:function(){M.show()}})}function bd(bm){var bl={};if(bm=="Clicked"){bl.products=s.products}var bn=new Array("eVar1","eVar2","eVar3","eVar4","eVar5","eVar11","eVar50","eVar55","eVar68","prop1","prop2","prop3","prop4","prop20","prop35");for(i in bn){if(typeof s[bn[i]]!="undefined"){bl[bn[i]]=s[bn[i]]}if((bn[i]=="eVar55"||bn[i]=="eVar11")&&av){bl[bn[i]]=av}if((bn[i]=="eVar68"||bn[i]=="prop20")&&a9){bl[bn[i]]=a9}}bl.prop21="OpenInApp_"+bm;FKART.omni.customEvent("App only offers",bl)}function aX(){x();V.hide();if(aa&&aa.length>0){var bl=$("<img>");bl.attr("src",aa);bk.append(bl)}else{bk.remove()}aS.show();aL();bd("PNSent")}function aO(){x();V.hide();aR.show();bd("PNFailed")}function af(){A=new FKART.ui.Dialog({showFooter:false,cssClass:"appOnlyDialog",body:aG.html(),destroyOnHide:true,width:"620px"});d=A.getContainer();V=d.find(".loadingDiv");E=d.find(".smsDiv");aS=d.find(".successDiv");aQ=E.find(".stitle");am=E.find(".footerLoggedIn");T=am.find(".footerLoggedIn_autonotification_success");M=am.find(".footerLoggedIn_autonotification_failure");bi=E.find(".footerNotLoggedIn");bk=aS.find(".phone-image span");a6=d.find(".smsForm");bg=d.find(".successPrefixDiv");aR=d.find(".errorDiv");a8=d.find(".send-sms-fake-link");aF=d.find(".send-otp-fake-link");a7=d.find(".send-sms-link");U=d.find(".send-otp-link");ah=d.find(".resend-sms-fake-link");v=d.find(".resend-otp-fake-link");b=d.find(".resend-sms-link");ap=d.find(".resend-otp-link");u=d.find(".timer");aT=d.find(".timerResendSMS");bh=d.find(".timerResendOTPSMS");au=d.find(".retry-notification");Q=d.find(".otpForm");l=d.find(".js-doLogin");aY=d.find(".phoneNumber");a4=d.find(".otp-field");A.show();if(!FKART.login.isUserLoggedIn()){bi.show();am.hide()}else{bi.hide();am.show()}aP()}function aP(){d.on("beforeHide",function(bl){q();W();a5();x()});l.on("click",function(){A.hide()});a7.on("click",function(){aS.hide();bg.show();aR.hide();aQ.remove();if(!FKART.login.isUserLoggedIn()){bi.show();am.hide()}else{bi.hide();am.show();T.show()}aV();bd("PNExpired")});U.on("click",function(){ao();aS.hide();bg.show();aR.hide();aQ.remove();aV();bd("PNExpired")});au.on("click",function(){A.hide();ba=true;bj();$status="PNTried";if(J){$status="PNReTried"}bd($status)});aY.on("keypress",function(bm){bm=bm||window.event;var bl=bm.keyCode||bm.which;if(bl==13){aK.trigger("click");bm.preventDefault()}});a4.on("keypress",function(bm){bm=bm||window.event;var bl=bm.keyCode||bm.which;if(bl==13){aW.trigger("click");bm.preventDefault()}})}function D(bl){return bl}function aw(){p=f.val();ar=o.val();a=bf.val();P=S.val();$.ajax({url:"/lc/verifyOtp",type:"POST",data:{user_id:ar,otp_key:R,otp:p,pid:be,lid:g,sid:a3,query:aq,offerid:ae,title:F,subtitle:K,vertical:L,url:O,phoneNumber:ar,useDataUrl:bc,marketingSMS:a,AppOffers:P},dataType:"html",success:function(bl){bl=JSON.parse(bl);if(bl.verifyOTPstatus=="false"){ak()}else{if(bl.verifyOTPstatus=="true"&&bl.isOtpVerified=="1"){if(bl.smsStatus){a1()}else{aN()}}else{ak()}}},error:function(){ak()}})}function ao(){ar=o.val();$.ajax({url:"/lc/generateOtp",type:"POST",data:{userId:ar},dataType:"html",success:function(bl){bl=JSON.parse(bl);if(bl.generateOTPstatus=="false"){ak()}else{if(bl.error_code=="1004"){G()}else{if(bl.generateOTPstatus=="true"){R=bl.otp_key;aD()}else{ak()}}}},error:function(){ak()}})}function ab(){ar=o.val();$.ajax({url:"/lc/getVerifiedPhoneNumber",type:"POST",data:{phoneNumber:ar,pid:be,lid:g,sid:a3,query:aq,offerid:ae,title:F,subtitle:K,vertical:L,url:O,phoneNumber:ar,useDataUrl:bc,marketingSMS:a,AppOffers:P},dataType:"html",success:function(bl){bl=JSON.parse(bl);if(bl.errorMsg){I()}else{if(bl.verifiedPhoneNumber){if(bl.smsStatus){a1()}else{aN()}}else{ao()}}},error:function(){I()}})}function a1(){W();a5();aQ.hide();m.hide();aH.hide();a6.hide();Q.hide();aj.html(ar);N.show();e.hide();ah.show();b.hide();n();bd("SMSSent")}function aN(){W();a5();e.hide();aQ.hide();m.hide();aH.hide();a6.hide();aR.hide();aj.html(ar);ay.show();bd("SMSFailed")}function ak(){a5();W();aQ.hide();m.hide();aH.hide();a6.hide();aR.hide();aj.html(ar);e.hide();w.show();bd("OTPFailed")}function I(){W();a5();aQ.hide();m.hide();aH.hide();a6.hide();aR.hide();e.hide();w.hide();H.show();bd("SMSFailed")}function aD(){a5();W();aQ.hide();m.hide();aH.show();Q.show();a6.hide();aj.html(ar);e.show();v.show();ap.hide();an();bd("OTPSent")}function G(){y.show();aQ.hide();m.hide();aH.hide();Q.hide();a6.hide();aj.html(ar);e.hide();v.hide();ap.hide();bd("OTPFailed")}function aV(){o=a6.find(".phoneNumber");f=Q.find(".otp-field");ar=FKART.login.userPhoneNumber;o.val(ar);aK=a6.find("input[type=button]");aW=Q.find("input[type=button]");bf=E.find("#marketingSMS");S=E.find("#AppDownload");m=E.find(".infoDiv");aH=E.find(".otpTitle");aQ=E.find(".stitle");N=E.find(".smsSuccessDiv");e=E.find(".otpSuccessDiv");w=E.find(".otpErrorDiv");y=E.find(".otpErrorMsgDiv");H=E.find(".otpSendErrorDiv");ay=E.find(".smsErrorDiv");t=E.find(".retry-sms");aA=E.find(".retry-otp");aj=E.find(".phone_number");E.show();Q.hide();aH.hide();A.reposition();Z()}function Z(){aK.on("click",function(bl){ar=o.val();if(!(/^[789]\d{9}$/.test(ar))){o.addClass("error").val("").attr("placeholder","Invalid Number").focus();return}ab();bl.preventDefault()});aW.on("click",function(bl){p=f.val();if(!(/^[0-9]{4,6}$/.test(p))){f.addClass("error").val("").attr("placeholder","Invalid OTP").focus();return}else{aw();aQ.hide();N.hide();m.hide();ay.hide();e.hide();aH.hide();Q.hide();bd("SMSTried");bl.preventDefault()}});t.on("click",function(){W();a5();aT.html("45");bh.html("60");aQ.hide();N.hide();m.hide();a6.hide();ay.hide();ab();bd("SMSReTried")});aA.on("click",function(){a5();W();ao();aT.html("45");bh.html("60");aH.show();N.hide();Q.show();ay.hide();bd("SMSReTried")})}function q(){clearInterval(at);at=null}function W(){clearInterval(al);al=null}function a5(){clearInterval(a2);a2=null}function x(){clearInterval(ac);ac=null}function aL(){at=setInterval(function(){var bl=parseInt(u.html());if(bl==0){q();a8.hide();a7.show()}u.html(bl-1)},1000)}function n(){al=setInterval(function(){var bl=parseInt(aT.html());if(bl==0){W();a5();ah.hide();b.show()}aT.html(bl-1)},1000)}function an(){a2=setInterval(function(){var bl=parseInt(bh.html());if(bl==0){a5();W();v.hide();ap.show()}bh.html(bl-1)},1000)}function B(bm,bl){if(bm.indexOf("?")!==-1){var bp=bm.split("?")[1];var bo=bp.split("&");for(var bn=0;bn<bo.length;bn++){var bq=bo[bn].split("=");if(bq[0]==bl){return bq[1]}}}}function bb(){var bl=FKART.urlParser().get("sid");if(bl!="undefined"){return bl}}function z(bn){aa=bn.data("image");if(bn.data("pid")){be=bn.data("pid").toString();L=bn.data("vertical");if(bn.data("lid")){g=bn.data("lid").toString()}ae=bn.data("offerid");if(bn.data("url")){r=B(bn.data("url"),"cmpid");aZ=B(bn.data("url"),"semcmpid")}if(bn.data("fsale")&&bn.data("fsale")===true){aM=true}}else{aq=bn.data("query");a3=bb();if(a3){L=("BROWSE_"+a3).toUpperCase()}else{if(bn.data("vertical")){L=bn.data("vertical")}else{L="BROWSE_SEARCH"}}if(bn.data("url")){be=B(bn.data("url"),"pid");a3=B(bn.data("url"),"sid");ae=B(bn.data("url"),"offer");r=B(bn.data("url"),"cmpid");aZ=B(bn.data("url"),"semcmpid");if(B(bn.data("url"),"p[]")||bn.data("url").indexOf("/~")){bc=true}}F=bn.data("title");K=bn.data("subtitle");O=bn.data("url");if(bn.attr("href")){av=B(bn.attr("href"),"icmpid");a9=B(bn.attr("href"),"otracker")}}if((r==""||typeof(r)=="undefined")&&(aZ==""||typeof(aZ)=="undefined")){var bl=aE("TGSRC");if(bl){var bm=bl.split(":");if(bm[0]=="cmpid"&&bm.length=="2"){r=bm[1]}if(bm[0]=="semcmpid"&&bm.length=="2"){aZ=bm[1]}}}ba=false;J=false}function aI(){c()}function aE(bm){var bo=bm+"=";var bl=document.cookie.split(";");for(var bn=0;bn<bl.length;bn++){var bp=bl[bn];while(bp.charAt(0)==" "){bp=bp.substring(1,bp.length)}if(bp.indexOf(bo)==0){return bp.substring(bo.length,bp.length)}}return null}aI()};register_controller("AppOffersCtrl",function(a){FKART.appOfferPopup(a)});FKART.showShutDownPopup=function(c){var b=(new Date()).getTime(),e=FKART.utils.localStorage.getObject("sdPopDetails")||{};function d(g){var f=new FKART.ui.Dialog({header:"Help us improve",showFooter:false,body:c,cssClass:"desk-shut"});FKART.utils.localStorage.setObject("sdPopDetails",{timeStamp:g});f.show()}if(!jQuery.isEmptyObject(e)){var a=e.timeStamp+(24*60*60*1000);if(a<b){d(b)}}else{d(b)}};register_controller("ShutDownPopCtrl",function(a){FKART.showShutDownPopup(a)});register_controller("AppDownloadInterstitialCtrl",function(aN){var ac=$(aN),C=$(".app-link-interstitial",ac),V=$(".app-offers-button",ac),au=$(".app-offers-container",ac),aA=$(".appDownloadInterstitial-popup-content",ac),ae=$(".fk-question-mark",ac),E,aL,aJ,a8,ai,ba,aK,L,f,v,x,G,at,S,a0,az,aZ,R,Q,N,ad,t,c,al,z,a6,e,J=false,ap,r,av,a1=false,aY,aP,aE,aU,m,aB,af,o,an,Y,p,g,b,aa,a3=false,a5,l,aV,am,aW="title",B="subtitle",K,M,ao,ah,aS,Z,u,aM,a7,U=false,P="",ar="",U=false,ax=false,O,aD;if(aA.length==0){aA=$(".fk-mainfooter .appOnlyDialog-popup-content")}if(aA.length==0){aA=$(".appOnlyDialog-popup-content.forcedView")}function d(){V.on("click",function(){if(!U){a4("Opened");$(this).addClass("open");ae.text("X");setTimeout(function(){au.slideDown(200);U=true},150)}else{a4("Closed");au.slideUp(200,function(){V.removeClass("open");ae.text("?");U=false})}});C.on("click",function(bb){if(!C.hasClass("disabled")){a4("Clicked");y($(this));a9();bb.preventDefault()}});EventBus.subscribe("appDownloadInterstitialpopup",function(){y($(this));a9();FKART.utils.localStorage.setObject("sAppDownloadInterstitial",{sPopup:false})});EventBus.subscribe("Win10appDownloadInterstitialpopup",function(){if(a()){y($(this));a9()}})}function aT(bc,bf,bd){var be=new Date();be.setTime(be.getTime()+(bd*24*60*60*1000));var bb="expires="+be.toGMTString();document.cookie=bc+"="+bf+"; "+bb}function H(bd){var bc=bd+"=";var bb=document.cookie.split(";");for(var be=0;be<bb.length;be++){var bf=bb[be];while(bf.charAt(0)==" "){bf=bf.substring(1)}if(bf.indexOf(bc)==0){return bf.substring(bc.length,bf.length)}}return""}function a(){var bb=H("win10IntPopup");if(bb!=""){return false}else{bb="true";if(bb!=""&&bb!=null){aT("win10IntPopup",bb,1)}return true}}function a9(){z=null;ab();aO()}function aw(){$.ajax({url:"/lc/sendPushNotificationForAccount",data:{pid:a5,lid:l,sid:aV,query:am,offerid:aa,title:title,subtitle:subtitle,vertical:K,url:M,useDataUrl:a3},type:"POST",dataType:"json"})}function a4(bc){var bb={};if(bc=="Clicked"){bb.products=s.products}var bd=new Array("eVar1","eVar2","eVar3","eVar4","eVar5","eVar50","prop1","prop2","prop3","prop4","prop35");for(i in bd){if(typeof s[bd[i]]!="undefined"){bb[bd[i]]=s[bd[i]]}}bb.prop21="OpenInApp_"+bc;FKART.omni.customEvent("App only offers",bb)}function aQ(){w();S.hide();if(imageSrc&&imageSrc.length>0){var bb=$("<img>");bb.attr("src",imageSrc);ba.append(bb)}else{ba.remove()}aL.show();aF();a4("PNSent")}function aH(){w();S.hide();aK.show();a4("PNFailed")}function ab(){z=new FKART.ui.Dialog({showFooter:false,cssClass:"appDownloadInterstitialDialog",body:aA.html(),destroyOnHide:true,width:"730px"});e=z.getContainer();S=e.find(".loadingDiv");E=e.find(".smsDiv");aL=e.find(".successDiv");aJ=E.find(".stitle");ai=E.find(".footerLoggedIn");a8=E.find(".footerNotLoggedIn");ba=aL.find(".phone-image span");aY=e.find(".smsForm");a6=e.find(".successPrefixDiv");aK=e.find(".errorDiv");a0=e.find(".send-sms-fake-link");aZ=e.find(".send-sms-link");R=e.find(".send-otp-link");ad=e.find(".resend-sms-fake-link");t=e.find(".resend-otp-fake-link");c=e.find(".resend-sms-link");al=e.find(".resend-otp-link");u=e.find(".timer");aM=e.find(".timerResendSMS");a7=e.find(".timerResendOTPSMS");ap=e.find(".retry-notification");O=e.find(".otpForm");z.show();if(!FKART.login.isUserLoggedIn()){a8.show();ai.hide()}else{a8.hide();ai.show()}aI()}function aI(){e.on("beforeHide",function(bb){q();T();w()});aZ.on("click",function(){aL.hide();a6.show();aK.hide();aJ.remove();aO();a4("PNExpired")});R.on("click",function(){ak();aL.hide();a6.show();aK.hide();aJ.remove();aO();a4("PNExpired")});ap.on("click",function(){z.hide();a9();$status="PNTried";if(J){$status="PNReTried"}a4($status)})}function D(bb){return bb}function aq(){p=g.val();N=Q.val();$.ajax({url:"/lc/verifyOtp",type:"POST",data:{user_id:an,otp_key:P,otp:p,title:aW,subtitle:B,phoneNumber:an,marketingSMS:b,AppOffers:N},dataType:"html",success:function(bb){bb=JSON.parse(bb);if(bb.isOtpVerified=="1"){if(bb.smsStatus){aR()}else{aG()}}else{ag()}},error:function(){ag()}})}function ak(){an=o.val();$.ajax({url:"/lc/generateOtp",type:"POST",data:{userId:an},dataType:"html",success:function(bb){bb=JSON.parse(bb);if(bb.error_code=="1004"){F()}else{P=bb.otp_key;ay()}},error:function(){ag()}})}function X(){an=o.val();$.ajax({url:"/lc/getVerifiedPhoneNumber",type:"POST",data:{phoneNumber:an,title:aW,subtitle:B,phoneNumber:an,marketingSMS:b,AppOffers:N},dataType:"html",success:function(bb){bb=JSON.parse(bb);if(bb.verifiedPhoneNumber){if(bb.smsStatus){aR();a4("SMSTried");event.preventDefault()}else{aG();a4("SMSFailed");event.preventDefault()}}else{ak();a4("OTPTried");event.preventDefault()}},error:function(){I()}})}function aR(){T();aX();aJ.hide();m.hide();aB.hide();aY.hide();O.hide();af.html(an);L.show();f.hide();ad.show();c.hide();n();a4("SMSSent")}function aG(){T();aX();f.hide();aJ.hide();m.hide();aB.hide();aY.hide();aK.hide();af.html(an);at.show();a4("SMSFailed")}function ag(){aX();T();aJ.hide();m.hide();aB.hide();aY.hide();aK.hide();af.html(an);f.hide();v.show();a4("OTPFailed")}function I(){T();aX();aJ.hide();m.hide();aB.hide();aY.hide();aK.hide();f.hide();v.hide();G.show();a4("SMSFailed")}function ay(){aX();T();aJ.hide();m.hide();aB.show();O.show();aY.hide();af.html(an);f.show();t.show();al.hide();aj();a4("OTPSent")}function F(){x.show();aJ.hide();m.hide();aB.hide();O.hide();aY.hide();af.html(an);f.hide();t.hide();al.hide();a4("OTPFailed")}function aO(){o=aY.find(".phoneNumber");g=O.find(".otp-field");an=FKART.login.userPhoneNumber;o.val(an);aE=aY.find("input[type=button]");aP=O.find("input[type=button]");aU=E.find("#marketingSMSAppDownload");Q=E.find("#AppDownloadInterstitial");m=E.find(".infoDiv");aB=E.find(".otpTitle");aJ=E.find(".stitle");L=E.find(".smsSuccessDiv");f=E.find(".otpSuccessDiv");v=E.find(".otpErrorDiv");x=E.find(".otpErrorMsgDiv");G=E.find(".otpSendErrorDiv");at=E.find(".smsErrorDiv");r=E.find(".retry-sms");av=E.find(".retry-otp");af=E.find(".phone_number");E.show();O.hide();aB.hide();z.reposition();W()}function W(){aE.on("click",function(bb){an=o.val();if(!(/^[789]\d{9}$/.test(an))){o.addClass("error").val("").attr("placeholder","Invalid Number").focus();return}X();bb.preventDefault()});aP.on("click",function(bb){p=g.val();if(!(/^[0-9]{4,6}$/.test(p))){g.addClass("error").val("").attr("placeholder","Invalid OTP").focus();return}else{aq();aJ.hide();L.hide();m.hide();at.hide();f.hide();aB.hide();O.hide();a4("SMSTried");bb.preventDefault()}});r.on("click",function(){T();aX();aM.html("45");a7.html("60");aJ.hide();L.hide();m.hide();aY.hide();at.hide();X();a4("SMSReTried")});av.on("click",function(){aX();T();ak();aM.html("45");a7.html("60");aB.show();L.hide();O.show();at.hide();a4("SMSReTried")})}function q(){clearInterval(ao);ao=null}function T(){clearInterval(ah);ah=null}function aX(){clearInterval(aS);aS=null}function w(){clearInterval(Z);Z=null}function aF(){ao=setInterval(function(){var bb=parseInt(u.html());if(bb==0){q();a0.hide();aZ.show()}u.html(bb-1)},1000)}function n(){ah=setInterval(function(){var bb=parseInt(aM.html());if(bb==0){T();ad.hide();c.show()}aM.html(bb-1)},1000)}function aj(){aS=setInterval(function(){var bb=parseInt(a7.html());if(bb==0){aX();T();t.hide();al.show()}a7.html(bb-1)},1000)}function A(bc,bb){var bf=bc.split("?")[1];var be=bf.split("&");for(var bd=0;bd<be.length;bd++){var bg=be[bd].split("=");if(bg[0]==bb){return bg[1]}}}function a2(){var bb=FKART.urlParser().get("sid");if(bb!="undefined"){return bb}}function y(){$ele=window.location.href;a1=false;J=false}function aC(){d()}aC()});(function(u,v){var w={extend:function(b,e){for(var d in e){-1!=="browser cpu device engine os".indexOf(d)&&0===e[d].length%2&&(b[d]=e[d].concat(b[d]))}return b},has:function(b,d){if("string"===typeof b){return -1!==d.toLowerCase().indexOf(b.toLowerCase())}},lowerize:function(b){return b.toLowerCase()}},m=function(){for(var F,D=0,z,E,B,r,A,C,q=arguments;D<q.length&&!A;){var t=q[D],e=q[D+1];if("undefined"===typeof F){for(B in F={},e){r=e[B],"object"===typeof r?F[r[0]]=v:F[r]=v}}for(z=E=0;z<t.length&&!A;){if(A=t[z++].exec(this.getUA())){for(B=0;B<e.length;B++){C=A[++E],r=e[B],"object"===typeof r&&0<r.length?2==r.length?F[r[0]]="function"==typeof r[1]?r[1].call(this,C):r[1]:3==r.length?F[r[0]]="function"!==typeof r[1]||r[1].exec&&r[1].test?C?C.replace(r[1],r[2]):v:C?r[1].call(this,C,r[2]):v:4==r.length&&(F[r[0]]=C?r[3].call(this,C.replace(r[1],r[2])):v):F[r]=C?C:v}}}D+=2}return F},x=function(e,g){for(var f in g){if("object"===typeof g[f]&&0<g[f].length){for(var d=0;d<g[f].length;d++){if(w.has(g[f][d],e)){return"?"===f?v:f}}}else{if(w.has(g[f],e)){return"?"===f?v:f}}}return e},o={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:"NT 6.4",RT:"ARM"},l={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],["name","version","major"],[/\s(opr)\/((\d+)?[\w\.]+)/i],[["name","Opera"],"version","major"],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],["name","version","major"],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[["name","IE"],"version","major"],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[["name","Yandex"],"version","major"],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[["name",/_/g," "],"version","major"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i],["name","version","major"],[/(dolfin)\/((\d+)?[\w\.]+)/i],[["name","Dolphin"],"version","major"],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[["name","Chrome"],"version","major"],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],["version","major",["name","Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],["version","major","name"],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],["name",["major",x,{1:["/8","/1","/3"],2:"/4","?":"/"}],["version",x,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],["name","version","major"],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[["name","Netscape"],"version","major"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],["name","version","major"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",x,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])/i],["vendor","model",["type","tablet"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[3portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",x,{HTC:"APA",Sprint:"Sprint"}],["model",x,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[["vendor","Motorola"],"model",["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(samsung);smarttv/i],["vendor","model",["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w-;]{10}(a\d{3})/i],["model",["vendor","Acer"],["type","tablet"]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/(mobile|tablet);.+rv\:.+gecko\//i],[["type",w.lowerize],"vendor","model"]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",x,o]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",x,o]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},c=function(e,g){if(!(this instanceof c)){return(new c(e,g)).getResult()}var f=e||(u&&u.navigator&&u.navigator.userAgent?u.navigator.userAgent:""),d=g?w.extend(l,g):l;this.getBrowser=function(){return m.apply(this,d.browser)};this.getCPU=function(){return m.apply(this,d.cpu)};this.getDevice=function(){return m.apply(this,d.device)};this.getEngine=function(){return m.apply(this,d.engine)};this.getOS=function(){return m.apply(this,d.os)};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return f};this.setUA=function(b){f=b;return this};this.setUA(f)};c.VERSION="0.7.3";c.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"};c.CPU={ARCHITECTURE:"architecture"};c.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"};c.ENGINE={NAME:"name",VERSION:"version"};c.OS={NAME:"name",VERSION:"version"};if("undefined"!==typeof exports){"undefined"!==typeof module&&module.exports&&(exports=module.exports=c),exports.UAParser=c}else{u.UAParser=c;"function"===typeof define&&define.amd&&define(function(){return c});var a=u.jQuery||u.Zepto;if("undefined"!==typeof a){var y=new c;a.ua=y.getResult();a.ua.get=function(){return y.getUA()};a.ua.set=function(b){y.setUA(b);b=y.getResult();for(var d in b){a.ua[d]=b[d]}}}}})(this);var Detector=function(){var l=["monospace","sans-serif","serif"],m=document.getElementsByTagName("body")[0],o=document.createElement("span");o.style.fontSize="72px";o.innerHTML="mmmmmmmmmmlli";var p={},a={},c;for(c in l){o.style.fontFamily=l[c],m.appendChild(o),p[l[c]]=o.offsetWidth,a[l[c]]=o.offsetHeight,m.removeChild(o)}this.detect=function(e){var f=!1,d;for(d in l){o.style.fontFamily=e+","+l[d];m.appendChild(o);var b=o.offsetWidth!=p[l[d]]||o.offsetHeight!=a[l[d]];m.removeChild(o);f=f||b}return f}};var swfobject=function(){function ar(){if(!aa){try{var b=an.getElementsByTagName("body")[0].appendChild(an.createElement("span"));b.parentNode.removeChild(b)}catch(e){return}aa=!0;for(var b=W.length,d=0;d<b;d++){W[d]()}}}function at(b){aa?b():W[W.length]=b}function au(b){if("undefined"!=typeof ag.addEventListener){ag.addEventListener("load",b,!1)}else{if("undefined"!=typeof an.addEventListener){an.addEventListener("load",b,!1)}else{if("undefined"!=typeof ag.attachEvent){af(ag,"onload",b)}else{if("function"==typeof ag.onload){var d=ag.onload;ag.onload=function(){d();b()}}else{ag.onload=b}}}}}function al(){var b=an.getElementsByTagName("body")[0],g=an.createElement("object");g.setAttribute("type","application/x-shockwave-flash");var d=b.appendChild(g);if(d){var f=0;(function(){if("undefined"!=typeof d.GetVariable){var a=d.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),ao.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else{if(10>f){f++;setTimeout(arguments.callee,10);return}}b.removeChild(g);d=null;aw()})()}else{aw()}}function aw(){var x=ac.length;if(0<x){for(var v=0;v<x;v++){var w=ac[v].id,u=ac[v].callbackFn,t={success:!1,id:w};if(0<ao.pv[0]){var r=ap(w);if(r){if(!X(ac[v].swfVersion)||ao.wk&&312>ao.wk){if(ac[v].expressInstall&&ak()){t={};t.data=ac[v].expressInstall;t.width=r.getAttribute("width")||"0";t.height=r.getAttribute("height")||"0";r.getAttribute("class")&&(t.styleclass=r.getAttribute("class"));r.getAttribute("align")&&(t.align=r.getAttribute("align"));for(var p={},r=r.getElementsByTagName("param"),q=r.length,g=0;g<q;g++){"movie"!=r[g].getAttribute("name").toLowerCase()&&(p[r[g].getAttribute("name")]=r[g].getAttribute("value"))}aj(t,p,w,u)}else{ai(r),u&&u(t)}}else{ab(w,!0),u&&(t.success=!0,t.ref=aq(w),u(t))}}}else{ab(w,!0),u&&((w=aq(w))&&"undefined"!=typeof w.SetVariable&&(t.success=!0,t.ref=w),u(t))}}}}function aq(b){var d=null;(b=ap(b))&&"OBJECT"==b.nodeName&&("undefined"!=typeof b.SetVariable?d=b:(b=b.getElementsByTagName("object")[0])&&(d=b));return d}function ak(){return !V&&X("6.0.65")&&(ao.win||ao.mac)&&!(ao.wk&&312>ao.wk)}function aj(n,a,l,m){V=!0;S=m||null;P={success:!1,id:l};var g=ap(l);if(g){"OBJECT"==g.nodeName?(Y=ah(g),U=null):(Y=g,U=l);n.id="SWFObjectExprInst";if("undefined"==typeof n.width||!/%$/.test(n.width)&&310>parseInt(n.width,10)){n.width="310"}if("undefined"==typeof n.height||!/%$/.test(n.height)&&137>parseInt(n.height,10)){n.height="137"}an.title=an.title.slice(0,47)+" - Flash Player Installation";m=ao.ie&&ao.win?"ActiveX":"PlugIn";m="MMredirectURL="+ag.location.toString().replace(/&/g,"%26")+"&MMplayerType="+m+"&MMdoctitle="+an.title;a.flashvars="undefined"!=typeof a.flashvars?a.flashvars+("&"+m):m;ao.ie&&ao.win&&4!=g.readyState&&(m=an.createElement("div"),l+="SWFObjectNew",m.setAttribute("id",l),g.parentNode.insertBefore(m,g),g.style.display="none",function(){4==g.readyState?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}());ax(n,a,l)}}function ai(b){if(ao.ie&&ao.win&&4!=b.readyState){var d=an.createElement("div");b.parentNode.insertBefore(d,b);d.parentNode.replaceChild(ah(b),d);b.style.display="none";(function(){4==b.readyState?b.parentNode.removeChild(b):setTimeout(arguments.callee,10)})()}else{b.parentNode.replaceChild(ah(b),b)}}function ah(e){var g=an.createElement("div");if(ao.win&&ao.ie){g.innerHTML=e.innerHTML}else{if(e=e.getElementsByTagName("object")[0]){if(e=e.childNodes){for(var d=e.length,f=0;f<d;f++){1==e[f].nodeType&&"PARAM"==e[f].nodeName||8==e[f].nodeType||g.appendChild(e[f].cloneNode(!0))}}}}return g}function ax(x,v,w){var t,r=ap(w);if(ao.wk&&312>ao.wk){return t}if(r){if("undefined"==typeof x.id&&(x.id=w),ao.ie&&ao.win){var u="",p;for(p in x){x[p]!=Object.prototype[p]&&("data"==p.toLowerCase()?v.movie=x[p]:"styleclass"==p.toLowerCase()?u+=' class="'+x[p]+'"':"classid"!=p.toLowerCase()&&(u+=" "+p+'="'+x[p]+'"'))}p="";for(var q in v){v[q]!=Object.prototype[q]&&(p+='<param name="'+q+'" value="'+v[q]+'" />')}r.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+u+">"+p+"</object>";T[T.length]=x.id;t=ap(x.id)}else{q=an.createElement("object");q.setAttribute("type","application/x-shockwave-flash");for(var l in x){x[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?q.setAttribute("class",x[l]):"classid"!=l.toLowerCase()&&q.setAttribute(l,x[l]))}for(u in v){v[u]!=Object.prototype[u]&&"movie"!=u.toLowerCase()&&(x=q,p=u,l=v[u],w=an.createElement("param"),w.setAttribute("name",p),w.setAttribute("value",l),x.appendChild(w))}r.parentNode.replaceChild(q,r);t=q}}return t}function av(b){var d=ap(b);d&&"OBJECT"==d.nodeName&&(ao.ie&&ao.win?(d.style.display="none",function(){if(4==d.readyState){var a=ap(b);if(a){for(var c in a){"function"==typeof a[c]&&(a[c]=null)}a.parentNode.removeChild(a)}}else{setTimeout(arguments.callee,10)}}()):d.parentNode.removeChild(d))}function ap(e){var f=null;try{f=an.getElementById(e)}catch(d){}return f}function af(e,f,d){e.attachEvent(f,d);Z[Z.length]=[e,f,d]}function X(b){var d=ao.pv;b=b.split(".");b[0]=parseInt(b[0],10);b[1]=parseInt(b[1],10)||0;b[2]=parseInt(b[2],10)||0;return d[0]>b[0]||d[0]==b[0]&&d[1]>b[1]||d[0]==b[0]&&d[1]==b[1]&&d[2]>=b[2]?!0:!1}function am(f,m,e,g){if(!ao.ie||!ao.mac){var l=an.getElementsByTagName("head")[0];l&&(e=e&&"string"==typeof e?e:"screen",g&&(R=ae=null),ae&&R==e||(g=an.createElement("style"),g.setAttribute("type","text/css"),g.setAttribute("media",e),ae=l.appendChild(g),ao.ie&&ao.win&&"undefined"!=typeof an.styleSheets&&0<an.styleSheets.length&&(ae=an.styleSheets[an.styleSheets.length-1]),R=e),ao.ie&&ao.win?ae&&"object"==typeof ae.addRule&&ae.addRule(f,m):ae&&"undefined"!=typeof an.createTextNode&&ae.appendChild(an.createTextNode(f+" {"+m+"}")))}}function ab(e,f){if(O){var d=f?"visible":"hidden";aa&&ap(e)?ap(e).style.visibility=d:am("#"+e,"visibility:"+d)}}function Q(b){return null!=/[\\\"<>\.;]/.exec(b)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(b):b}var ag=window,an=document,ad=navigator,o=!1,W=[function(){o?al():aw()}],ac=[],T=[],Z=[],Y,U,S,P,aa=!1,V=!1,ae,R,O=!0,ao=function(){var w="undefined"!=typeof an.getElementById&&"undefined"!=typeof an.getElementsByTagName&&"undefined"!=typeof an.createElement,u=ad.userAgent.toLowerCase(),v=ad.platform.toLowerCase(),n=v?/win/.test(v):/win/.test(u),v=v?/mac/.test(v):/mac/.test(u),u=/webkit/.test(u)?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,t=!+"\v1",r=[0,0,0],q=null;if("undefined"!=typeof ad.plugins&&"object"==typeof ad.plugins["Shockwave Flash"]){!(q=ad.plugins["Shockwave Flash"].description)||"undefined"!=typeof ad.mimeTypes&&ad.mimeTypes["application/x-shockwave-flash"]&&!ad.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(o=!0,t=!1,q=q.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),r[0]=parseInt(q.replace(/^(.*)\..*$/,"$1"),10),r[1]=parseInt(q.replace(/^.*\.(.*)\s.*$/,"$1"),10),r[2]=/[a-zA-Z]/.test(q)?parseInt(q.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0)}else{if("undefined"!=typeof ag.ActiveXObject){try{var l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");l&&(q=l.GetVariable("$version"))&&(t=!0,q=q.split(" ")[1].split(","),r=[parseInt(q[0],10),parseInt(q[1],10),parseInt(q[2],10)])}catch(p){}}}return{w3:w,pv:r,wk:u,ie:t,win:n,mac:v}}();(function(){ao.w3&&(("undefined"!=typeof an.readyState&&"complete"==an.readyState||"undefined"==typeof an.readyState&&(an.getElementsByTagName("body")[0]||an.body))&&ar(),aa||("undefined"!=typeof an.addEventListener&&an.addEventListener("DOMContentLoaded",ar,!1),ao.ie&&ao.win&&(an.attachEvent("onreadystatechange",function(){"complete"==an.readyState&&(an.detachEvent("onreadystatechange",arguments.callee),ar())}),ag==top&&function(){if(!aa){try{an.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,0);return}ar()}}()),ao.wk&&function(){aa||(/loaded|complete/.test(an.readyState)?ar():setTimeout(arguments.callee,0))}(),au(ar)))})();(function(){ao.ie&&ao.win&&window.attachEvent("onunload",function(){for(var e=Z.length,c=0;c<e;c++){Z[c][0].detachEvent(Z[c][1],Z[c][2])}e=T.length;for(c=0;c<e;c++){av(T[c])}for(var f in ao){ao[f]=null}ao=null;for(var g in swfobject){swfobject[g]=null}swfobject=null})})();return{registerObject:function(f,m,e,g){if(ao.w3&&f&&m){var l={};l.id=f;l.swfVersion=m;l.expressInstall=e;l.callbackFn=g;ac[ac.length]=l;ab(f,!1)}else{g&&g({success:!1,id:f})}},getObjectById:function(b){if(ao.w3){return aq(b)}},embedSWF:function(x,y,q,w,t,e,r,a,p,z){var A={success:!1,id:y};ao.w3&&!(ao.wk&&312>ao.wk)&&x&&y&&q&&w&&t?(ab(y,!1),at(function(){q+="";w+="";var f={};if(p&&"object"===typeof p){for(var b in p){f[b]=p[b]}}f.data=x;f.width=q;f.height=w;b={};if(a&&"object"===typeof a){for(var d in a){b[d]=a[d]}}if(r&&"object"===typeof r){for(var c in r){b.flashvars="undefined"!=typeof b.flashvars?b.flashvars+("&"+c+"="+r[c]):c+"="+r[c]}}if(X(t)){d=ax(f,b,y),f.id==y&&ab(y,!0),A.success=!0,A.ref=d}else{if(e&&ak()){f.data=e;aj(f,b,y,z);return}ab(y,!0)}z&&z(A)})):z&&z(A)},switchOffAutoHideShow:function(){O=!1},ua:ao,getFlashPlayerVersion:function(){return{major:ao.pv[0],minor:ao.pv[1],release:ao.pv[2]}},hasFlashPlayerVersion:X,createSWF:function(e,a,d){if(ao.w3){return ax(e,a,d)}},showExpressInstall:function(e,g,d,f){ao.w3&&ak()&&aj(e,g,d,f)},removeSWF:function(b){ao.w3&&av(b)},createCSS:function(e,g,d,f){ao.w3&&am(e,g,d,f)},addDomLoadEvent:at,addLoadEvent:au,getQueryParamValue:function(e){var f=an.location.search||an.location.hash;if(f){/\?/.test(f)&&(f=f.split("?")[1]);if(null==e){return Q(f)}for(var f=f.split("&"),d=0;d<f.length;d++){if(f[d].substring(0,f[d].indexOf("="))==e){return Q(f[d].substring(f[d].indexOf("=")+1))}}}return""},expressInstallCallback:function(){if(V){var b=ap("SWFObjectExprInst");b&&Y&&(b.parentNode.replaceChild(Y,b),U&&(ab(U,!0),ao.ie&&ao.win&&(Y.style.display="block")),S&&S(P));V=!1}}}}();function murmurhash3_32_gc(l,o){var q,r,a,c,m;q=l.length&3;r=l.length-q;a=o;for(m=0;m<r;){c=l.charCodeAt(m)&255|(l.charCodeAt(++m)&255)<<8|(l.charCodeAt(++m)&255)<<16|(l.charCodeAt(++m)&255)<<24,++m,c=3432918353*(c&65535)+((3432918353*(c>>>16)&65535)<<16)&4294967295,c=c<<15|c>>>17,c=461845907*(c&65535)+((461845907*(c>>>16)&65535)<<16)&4294967295,a^=c,a=a<<13|a>>>19,a=5*(a&65535)+((5*(a>>>16)&65535)<<16)&4294967295,a=(a&65535)+27492+(((a>>>16)+58964&65535)<<16)}c=0;switch(q){case 3:c^=(l.charCodeAt(m+2)&255)<<16;case 2:c^=(l.charCodeAt(m+1)&255)<<8;case 1:c^=l.charCodeAt(m)&255,c=3432918353*(c&65535)+((3432918353*(c>>>16)&65535)<<16)&4294967295,c=c<<15|c>>>17,a^=461845907*(c&65535)+((461845907*(c>>>16)&65535)<<16)&4294967295}a^=l.length;a^=a>>>16;a=2246822507*(a&65535)+((2246822507*(a>>>16)&65535)<<16)&4294967295;a^=a>>>13;a=3266489909*(a&65535)+((3266489909*(a>>>16)&65535)<<16)&4294967295;return(a^a>>>16)>>>0}var deployJava=function(){function u(b){l.debug&&(console.log?console.log(b):alert(b))}function v(b){if(null==b||0==b.length){return"http://java.com/dt-redirect"}"&"==b.charAt(0)&&(b=b.substring(1,b.length));return"http://java.com/dt-redirect?"+b}var w=["id","class","title","style"];"classid codebase codetype data type archive declare standby height width usemap name tabindex align border hspace vspace".split(" ").concat(w,["lang","dir"],"onclick ondblclick onmousedown onmouseup onmouseover onmousemove onmouseout onkeypress onkeydown onkeyup".split(" "));var m="codebase code name archive object width height alt align hspace vspace".split(" ").concat(w),x;try{x=-1!=document.location.protocol.indexOf("http")?"//java.com/js/webstart.png":"http://java.com/js/webstart.png"}catch(o){x="http://java.com/js/webstart.png"}var l={debug:null,version:"20120801",firefoxJavaVersion:null,myInterval:null,preInstallJREList:null,returnPage:null,brand:null,locale:null,installType:null,EAInstallEnabled:!1,EarlyAccessURL:null,oldMimeType:"application/npruntime-scriptable-plugin;DeploymentToolkit",mimeType:"application/java-deployment-toolkit",launchButtonPNG:x,browserName:null,browserName2:null,getJREs:function(){var e=[];if(this.isPluginInstalled()){for(var f=this.getPlugin().jvms,d=0;d<f.getLength();d++){e[d]=f.get(d).version}}else{f=this.getBrowser(),"MSIE"==f?this.testUsingActiveX("1.7.0")?e[0]="1.7.0":this.testUsingActiveX("1.6.0")?e[0]="1.6.0":this.testUsingActiveX("1.5.0")?e[0]="1.5.0":this.testUsingActiveX("1.4.2")?e[0]="1.4.2":this.testForMSVM()&&(e[0]="1.1"):"Netscape Family"==f&&(this.getJPIVersionUsingMimeType(),null!=this.firefoxJavaVersion?e[0]=this.firefoxJavaVersion:this.testUsingMimeTypes("1.7")?e[0]="1.7.0":this.testUsingMimeTypes("1.6")?e[0]="1.6.0":this.testUsingMimeTypes("1.5")?e[0]="1.5.0":this.testUsingMimeTypes("1.4.2")?e[0]="1.4.2":"Safari"==this.browserName2&&(this.testUsingPluginsArray("1.7.0")?e[0]="1.7.0":this.testUsingPluginsArray("1.6")?e[0]="1.6.0":this.testUsingPluginsArray("1.5")?e[0]="1.5.0":this.testUsingPluginsArray("1.4.2")&&(e[0]="1.4.2")))}if(this.debug){for(d=0;d<e.length;++d){u("[getJREs()] We claim to have detected Java SE "+e[d])}}return e},installJRE:function(e,f){if(this.isPluginInstalled()&&this.isAutoInstallEnabled(e)){var d=!1;if(d=this.isCallbackSupported()?this.getPlugin().installJRE(e,f):this.getPlugin().installJRE(e)){this.refresh(),null!=this.returnPage&&(document.location=this.returnPage)}return d}return this.installLatestJRE()},isAutoInstallEnabled:function(f){if(!this.isPluginInstalled()){return !1}"undefined"==typeof f&&(f=null);if("MSIE"!=deployJava.browserName||deployJava.compareVersionToPattern(deployJava.getPlugin().version,["10","0","0"],!1,!0)){f=!0}else{if(null==f){f=!1}else{var n="1.6.0_33+";if(null==n||0==n.length){f=!0}else{var e=n.charAt(n.length-1);"+"!=e&&"*"!=e&&-1!=n.indexOf("_")&&"_"!=e&&(n+="*",e="*");n=n.substring(0,n.length-1);if(0<n.length){var g=n.charAt(n.length-1);if("."==g||"_"==g){n=n.substring(0,n.length-1)}}f="*"==e?0==f.indexOf(n):"+"==e?n<=f:!1}f=!f}}return f},isCallbackSupported:function(){return this.isPluginInstalled()&&this.compareVersionToPattern(this.getPlugin().version,["10","2","0"],!1,!0)},installLatestJRE:function(b){if(this.isPluginInstalled()&&this.isAutoInstallEnabled()){var d=!1;if(d=this.isCallbackSupported()?this.getPlugin().installLatestJRE(b):this.getPlugin().installLatestJRE()){this.refresh(),null!=this.returnPage&&(document.location=this.returnPage)}return d}b=this.getBrowser();d=navigator.platform.toLowerCase();if("true"==this.EAInstallEnabled&&-1!=d.indexOf("win")&&null!=this.EarlyAccessURL){this.preInstallJREList=this.getJREs(),null!=this.returnPage&&(this.myInterval=setInterval("deployJava.poll()",3000)),location.href=this.EarlyAccessURL}else{if("MSIE"==b){return this.IEInstall()}if("Netscape Family"==b&&-1!=d.indexOf("win32")){return this.FFInstall()}location.href=v((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:""))}return !1},runApplet:function(f,n,e){if("undefined"==e||null==e){e="1.1"}var g=e.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$");null==this.returnPage&&(this.returnPage=document.location);null!=g?"?"!=this.getBrowser()?this.versionCheck(e+"+")?this.writeAppletTag(f,n):this.installJRE(e+"+")&&(this.refresh(),location.href=document.location,this.writeAppletTag(f,n)):this.writeAppletTag(f,n):u("[runApplet()] Invalid minimumVersion argument to runApplet():"+e)},writeAppletTag:function(F,D){var E="<applet ",C="",B=!0;if(null==D||"object"!=typeof D){D={}}for(var A in F){var z;F:{z=A.toLowerCase();for(var r=m.length,n=0;n<r;n++){if(m[n]===z){z=!0;break F}}z=!1}z?(E+=" "+A+'="'+F[A]+'"',"code"==A&&(B=!1)):D[A]=F[A]}A=!1;for(var t in D){"codebase_lookup"==t&&(A=!0);if("object"==t||"java_object"==t||"java_code"==t){B=!1}C+='<param name="'+t+'" value="'+D[t]+'"/>'}A||(C+='<param name="codebase_lookup" value="false"/>');B&&(E+=' code="dummy"');document.write(E+">\n"+C+"\n</applet>")},versionCheck:function(n){var t=0,f=n.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?(\\*|\\+)?$");if(null!=f){for(var r=n=!1,q=[],p=1;p<f.length;++p){"string"==typeof f[p]&&""!=f[p]&&(q[t]=f[p],t++)}"+"==q[q.length-1]?(r=!0,n=!1,q.length--):"*"==q[q.length-1]?(r=!1,n=!0,q.length--):4>q.length&&(r=!1,n=!0);t=this.getJREs();for(p=0;p<t.length;++p){if(this.compareVersionToPattern(t[p],q,n,r)){return !0}}}else{t="Invalid versionPattern passed to versionCheck: "+n,u("[versionCheck()] "+t),alert(t)}return !1},isWebStartInstalled:function(b){if("?"==this.getBrowser()){return !0}if("undefined"==b||null==b){b="1.4.2"}var d=!1;null!=b.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$")?d=this.versionCheck(b+"+"):(u("[isWebStartInstaller()] Invalid minimumVersion argument to isWebStartInstalled(): "+b),d=this.versionCheck("1.4.2+"));return d},getJPIVersionUsingMimeType:function(){for(var b=0;b<navigator.mimeTypes.length;++b){var d=navigator.mimeTypes[b].type.match(/^application\/x-java-applet;jpi-version=(.*)$/);if(null!=d&&(this.firefoxJavaVersion=d[1],"Opera"!=this.browserName2)){break}}},launchWebStartApplication:function(f){navigator.userAgent.toLowerCase();this.getJPIVersionUsingMimeType();if(0==this.isWebStartInstalled("1.7.0")&&(0==this.installJRE("1.7.0+")||0==this.isWebStartInstalled("1.7.0"))){return !1}var n=null;document.documentURI&&(n=document.documentURI);null==n&&(n=document.URL);var e=this.getBrowser(),g;"MSIE"==e?g='<object classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" width="0" height="0"><PARAM name="launchjnlp" value="'+f+'"><PARAM name="docbase" value="'+n+'"></object>':"Netscape Family"==e&&(g='<embed type="application/x-java-applet;jpi-version='+this.firefoxJavaVersion+'" width="0" height="0" launchjnlp="'+f+'"docbase="'+n+'" />');"undefined"==document.body||null==document.body?(document.write(g),document.location=n):(f=document.createElement("div"),f.id="div1",f.style.position="relative",f.style.left="-10000px",f.style.margin="0px auto",f.className="dynamicDiv",f.innerHTML=g,document.body.appendChild(f))},createWebStartLaunchButtonEx:function(b,d){null==this.returnPage&&(this.returnPage=b);document.write('<a href="'+("javascript:deployJava.launchWebStartApplication('"+b+"');")+'" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},createWebStartLaunchButton:function(b,d){null==this.returnPage&&(this.returnPage=b);document.write('<a href="'+("javascript:if (!deployJava.isWebStartInstalled(&quot;"+d+"&quot;)) {if (deployJava.installLatestJRE()) {if (deployJava.launch(&quot;"+b+"&quot;)) {}}} else {if (deployJava.launch(&quot;"+b+"&quot;)) {}}")+'" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},launch:function(b){document.location=b;return !0},isPluginInstalled:function(){var b=this.getPlugin();return b&&b.jvms?!0:!1},isAutoUpdateEnabled:function(){return this.isPluginInstalled()?this.getPlugin().isAutoUpdateEnabled():!1},setAutoUpdateEnabled:function(){return this.isPluginInstalled()?this.getPlugin().setAutoUpdateEnabled():!1},setInstallerType:function(b){this.installType=b;return this.isPluginInstalled()?this.getPlugin().setInstallerType(b):!1},setAdditionalPackages:function(b){return this.isPluginInstalled()?this.getPlugin().setAdditionalPackages(b):!1},setEarlyAccess:function(b){this.EAInstallEnabled=b},isPlugin2:function(){if(this.isPluginInstalled()&&this.versionCheck("1.6.0_10+")){try{return this.getPlugin().isPlugin2()}catch(b){}}return !1},allowPlugin:function(){this.getBrowser();return"Safari"!=this.browserName2&&"Opera"!=this.browserName2},getPlugin:function(){this.refresh();var b=null;this.allowPlugin()&&(b=document.getElementById("deployJavaPlugin"));return b},compareVersionToPattern:function(p,A,n,z){if(void 0==p||void 0==A){return !1}var t=p.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$");if(null!=t){var r=0;p=[];for(var q=1;q<t.length;++q){"string"==typeof t[q]&&""!=t[q]&&(p[r]=t[q],r++)}t=Math.min(p.length,A.length);if(z){for(q=0;q<t;++q){if(p[q]<A[q]){return !1}if(p[q]>A[q]){break}}return !0}for(q=0;q<t;++q){if(p[q]!=A[q]){return !1}}return n?!0:p.length==A.length}return !1},getBrowser:function(){if(null==this.browserName){var b=navigator.userAgent.toLowerCase();u("[getBrowser()] navigator.userAgent.toLowerCase() -> "+b);-1!=b.indexOf("msie")&&-1==b.indexOf("opera")?this.browserName2=this.browserName="MSIE":-1!=b.indexOf("iphone")?(this.browserName="Netscape Family",this.browserName2="iPhone"):-1!=b.indexOf("firefox")&&-1==b.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Firefox"):-1!=b.indexOf("chrome")?(this.browserName="Netscape Family",this.browserName2="Chrome"):-1!=b.indexOf("safari")?(this.browserName="Netscape Family",this.browserName2="Safari"):-1!=b.indexOf("mozilla")&&-1==b.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Other"):-1!=b.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Opera"):(this.browserName="?",this.browserName2="unknown");u("[getBrowser()] Detected browser name:"+this.browserName+", "+this.browserName2)}return this.browserName},testUsingActiveX:function(b){b="JavaWebStart.isInstalled."+b+".0";if("undefined"==typeof ActiveXObject||!ActiveXObject){return u("[testUsingActiveX()] Browser claims to be IE, but no ActiveXObject object?"),!1}try{return null!=new ActiveXObject(b)}catch(d){return !1}},testForMSVM:function(){if("undefined"!=typeof oClientCaps){var b=oClientCaps.getComponentVersion("{08B0E5C0-4FCB-11CF-AAA5-00401C608500}","ComponentID");return""==b||"5,0,5000,0"==b?!1:!0}return !1},testUsingMimeTypes:function(e){if(!navigator.mimeTypes){return u("[testUsingMimeTypes()] Browser claims to be Netscape family, but no mimeTypes[] array?"),!1}for(var f=0;f<navigator.mimeTypes.length;++f){s=navigator.mimeTypes[f].type;var d=s.match(/^application\/x-java-applet\x3Bversion=(1\.8|1\.7|1\.6|1\.5|1\.4\.2)$/);if(null!=d&&this.compareVersions(d[1],e)){return !0}}return !1},testUsingPluginsArray:function(e){if(!navigator.plugins||!navigator.plugins.length){return !1}for(var f=navigator.platform.toLowerCase(),d=0;d<navigator.plugins.length;++d){if(s=navigator.plugins[d].description,-1!=s.search(/^Java Switchable Plug-in (Cocoa)/)){if(this.compareVersions("1.5.0",e)){return !0}}else{if(-1!=s.search(/^Java/)&&-1!=f.indexOf("win")&&(this.compareVersions("1.5.0",e)||this.compareVersions("1.6.0",e))){return !0}}}return this.compareVersions("1.5.0",e)?!0:!1},IEInstall:function(){location.href=v((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:""));return !1},done:function(e,d){},FFInstall:function(){location.href=v((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:"")+(null!=this.installType?"&type="+this.installType:""));return !1},compareVersions:function(n,g){for(var r=n.split("."),q=g.split("."),p=0;p<r.length;++p){r[p]=Number(r[p])}for(p=0;p<q.length;++p){q[p]=Number(q[p])}2==r.length&&(r[2]=0);return r[0]>q[0]?!0:r[0]<q[0]?!1:r[1]>q[1]?!0:r[1]<q[1]?!1:r[2]>q[2]?!0:r[2]<q[2]?!1:!0},enableAlerts:function(){this.browserName=null;this.debug=!0},poll:function(){this.refresh();var b=this.getJREs();0==this.preInstallJREList.length&&0!=b.length&&(clearInterval(this.myInterval),null!=this.returnPage&&(location.href=this.returnPage));0!=this.preInstallJREList.length&&0!=b.length&&this.preInstallJREList[0]!=b[0]&&(clearInterval(this.myInterval),null!=this.returnPage&&(location.href=this.returnPage))},writePluginTag:function(){var b=this.getBrowser();"MSIE"==b?document.write('<object classid="clsid:CAFEEFAC-DEC7-0000-0001-ABCDEFFEDCBA" id="deployJavaPlugin" width="0" height="0"></object>'):"Netscape Family"==b&&this.allowPlugin()&&this.writeEmbedTag()},refresh:function(){navigator.plugins.refresh(!1);"Netscape Family"==this.getBrowser()&&this.allowPlugin()&&null==document.getElementById("deployJavaPlugin")&&this.writeEmbedTag()},writeEmbedTag:function(){var e=!1;if(null!=navigator.mimeTypes){for(var d=0;d<navigator.mimeTypes.length;d++){navigator.mimeTypes[d].type==this.mimeType&&navigator.mimeTypes[d].enabledPlugin&&(document.write('<embed id="deployJavaPlugin" type="'+this.mimeType+'" hidden="true" />'),e=!0)}if(!e){for(d=0;d<navigator.mimeTypes.length;d++){navigator.mimeTypes[d].type==this.oldMimeType&&navigator.mimeTypes[d].enabledPlugin&&document.write('<embed id="deployJavaPlugin" type="'+this.oldMimeType+'" hidden="true" />')}}}}};l.writePluginTag();if(null==l.locale){w=null;if(null==w){try{w=navigator.userLanguage}catch(c){}}if(null==w){try{w=navigator.systemLanguage}catch(a){}}if(null==w){try{w=navigator.language}catch(y){}}null!=w&&(w.replace("-","_"),l.locale=w)}return l}();(function(a){var b,c=function(){b=(new UAParser).getResult();return this};c.prototype={getSoftwareVersion:function(){return"ClientJS 0.1.5"},getBrowserData:function(){return b},getFingerprint:function(){var o=b.ua,w=this.getScreenPrint(),n=this.getPlugins(),l=this.getFonts(),g=this.isLocalStorage(),e=this.isSessionStorage(),z=this.getTimeZone(),x=this.getLanguage(),u=this.getSystemLanguage(),m=this.isCookie(),y=this.getCanvasPrint();return murmurhash3_32_gc(o+"|"+w+"|"+n+"|"+l+"|"+g+"|"+e+"|"+z+"|"+x+"|"+u+"|"+m+"|"+y,256)},getUserAgent:function(){return b.ua},getUserAgentLowerCase:function(){return b.ua.toLowerCase()},getBrowser:function(){return b.browser.name},getBrowserVersion:function(){return b.browser.version},getBrowserMajorVersion:function(){return b.browser.major},isIE:function(){return/IE/i.test(b.browser.name)},isChrome:function(){return/Chrome/i.test(b.browser.name)},isFirefox:function(){return/Firefox/i.test(b.browser.name)},isSafari:function(){return/Safari/i.test(b.browser.name)},isOpera:function(){return/Opera/i.test(b.browser.name)},getEngine:function(){return b.engine.name},getEngineVersion:function(){return b.engine.version},getOS:function(){return b.os.name},getOSVersion:function(){return b.os.version},isWindows:function(){return/Windows/i.test(b.os.name)},isMac:function(){return/Mac/i.test(b.os.name)},isLinux:function(){return/Linux/i.test(b.os.name)},isUbuntu:function(){return/Ubuntu/i.test(b.os.name)},isSolaris:function(){return/Solaris/i.test(b.os.name)},getDevice:function(){return b.device.model},getDeviceType:function(){return b.device.type},getDeviceVendor:function(){return b.device.vendor},getCPU:function(){return b.cpu.architecture},isMobile:function(){var e=b.ua||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},isMobileMajor:function(){return this.isMobileAndroid()||this.isMobileBlackBerry()||this.isMobileIOS()||this.isMobileOpera()||this.isMobileWindows()},isMobileAndroid:function(){return b.ua.match(/Android/i)?!0:!1},isMobileOpera:function(){return b.ua.match(/Opera Mini/i)?!0:!1},isMobileWindows:function(){return b.ua.match(/IEMobile/i)?!0:!1},isMobileBlackBerry:function(){return b.ua.match(/BlackBerry/i)?!0:!1},isMobileIOS:function(){return b.ua.match(/iPhone|iPad|iPod/i)?!0:!1},isIphone:function(){return b.ua.match(/iPhone/i)?!0:!1},isIpad:function(){return b.ua.match(/iPad/i)?!0:!1},isIpod:function(){return b.ua.match(/iPod/i)?!0:!1},getScreenPrint:function(){return"Current Resolution: "+this.getCurrentResolution()+", Avaiable Resolution: "+this.getAvailableResolution()+", Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()},getColorDepth:function(){return screen.colorDepth},getCurrentResolution:function(){return screen.width+"x"+screen.height},getAvailableResolution:function(){return screen.availWidth+"x"+screen.availHeight},getDeviceXDPI:function(){return screen.deviceXDPI},getDeviceYDPI:function(){return screen.deviceYDPI},getPlugins:function(){for(var f="",e=0;e<navigator.plugins.length;e++){f=e==navigator.plugins.length-1?f+navigator.plugins[e].name:f+(navigator.plugins[e].name+", ")}return f},isJava:function(){return navigator.javaEnabled()},getJavaVersion:function(){return deployJava.getJREs().toString()},isFlash:function(){return navigator.plugins["Shockwave Flash"]?!0:!1},getFlashVersion:function(){return this.isFlash()?(objPlayerVersion=swfobject.getFlashPlayerVersion(),objPlayerVersion.major+"."+objPlayerVersion.minor+"."+objPlayerVersion.release):""},isSilverlight:function(){return navigator.plugins["Silverlight Plug-In"]?!0:!1},getSilverlightVersion:function(){return this.isSilverlight()?navigator.plugins["Silverlight Plug-In"].description:""},isMimeTypes:function(){return navigator.mimeTypes.length?!0:!1},getMimeTypes:function(){for(var f="",e=0;e<navigator.mimeTypes.length;e++){f=e==navigator.mimeTypes.length-1?f+navigator.mimeTypes[e].description:f+(navigator.mimeTypes[e].description+", ")}return f},isFont:function(e){return(new Detector).detect(e)},getFonts:function(){for(var n=new Detector,g="Abadi MT Condensed Light;Adobe Fangsong Std;Adobe Hebrew;Adobe Ming Std;Agency FB;Aharoni;Andalus;Angsana New;AngsanaUPC;Aparajita;Arab;Arabic Transparent;Arabic Typesetting;Arial Baltic;Arial Black;Arial CE;Arial CYR;Arial Greek;Arial TUR;Arial;Batang;BatangChe;Bauhaus 93;Bell MT;Bitstream Vera Serif;Bodoni MT;Bookman Old Style;Braggadocio;Broadway;Browallia New;BrowalliaUPC;Calibri Light;Calibri;Californian FB;Cambria Math;Cambria;Candara;Castellar;Casual;Centaur;Century Gothic;Chalkduster;Colonna MT;Comic Sans MS;Consolas;Constantia;Copperplate Gothic Light;Corbel;Cordia New;CordiaUPC;Courier New Baltic;Courier New CE;Courier New CYR;Courier New Greek;Courier New TUR;Courier New;DFKai-SB;DaunPenh;David;DejaVu LGC Sans Mono;Desdemona;DilleniaUPC;DokChampa;Dotum;DotumChe;Ebrima;Engravers MT;Eras Bold ITC;Estrangelo Edessa;EucrosiaUPC;Euphemia;Eurostile;FangSong;Forte;FrankRuehl;Franklin Gothic Heavy;Franklin Gothic Medium;FreesiaUPC;French Script MT;Gabriola;Gautami;Georgia;Gigi;Gisha;Goudy Old Style;Gulim;GulimChe;GungSeo;Gungsuh;GungsuhChe;Haettenschweiler;Harrington;Hei S;HeiT;Heisei Kaku Gothic;Hiragino Sans GB;Impact;Informal Roman;IrisUPC;Iskoola Pota;JasmineUPC;KacstOne;KaiTi;Kalinga;Kartika;Khmer UI;Kino MT;KodchiangUPC;Kokila;Kozuka Gothic Pr6N;Lao UI;Latha;Leelawadee;Levenim MT;LilyUPC;Lohit Gujarati;Loma;Lucida Bright;Lucida Console;Lucida Fax;Lucida Sans Unicode;MS Gothic;MS Mincho;MS PGothic;MS PMincho;MS Reference Sans Serif;MS UI Gothic;MV Boli;Magneto;Malgun Gothic;Mangal;Marlett;Matura MT Script Capitals;Meiryo UI;Meiryo;Menlo;Microsoft Himalaya;Microsoft JhengHei;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Sans Serif;Microsoft Tai Le;Microsoft Uighur;Microsoft YaHei;Microsoft Yi Baiti;MingLiU;MingLiU-ExtB;MingLiU_HKSCS;MingLiU_HKSCS-ExtB;Miriam Fixed;Miriam;Mongolian Baiti;MoolBoran;NSimSun;Narkisim;News Gothic MT;Niagara Solid;Nyala;PMingLiU;PMingLiU-ExtB;Palace Script MT;Palatino Linotype;Papyrus;Perpetua;Plantagenet Cherokee;Playbill;Prelude Bold;Prelude Condensed Bold;Prelude Condensed Medium;Prelude Medium;PreludeCompressedWGL Black;PreludeCompressedWGL Bold;PreludeCompressedWGL Light;PreludeCompressedWGL Medium;PreludeCondensedWGL Black;PreludeCondensedWGL Bold;PreludeCondensedWGL Light;PreludeCondensedWGL Medium;PreludeWGL Black;PreludeWGL Bold;PreludeWGL Light;PreludeWGL Medium;Raavi;Rachana;Rockwell;Rod;Sakkal Majalla;Sawasdee;Script MT Bold;Segoe Print;Segoe Script;Segoe UI Light;Segoe UI Semibold;Segoe UI Symbol;Segoe UI;Shonar Bangla;Showcard Gothic;Shruti;SimHei;SimSun;SimSun-ExtB;Simplified Arabic Fixed;Simplified Arabic;Snap ITC;Sylfaen;Symbol;Tahoma;Times New Roman Baltic;Times New Roman CE;Times New Roman CYR;Times New Roman Greek;Times New Roman TUR;Times New Roman;TlwgMono;Traditional Arabic;Trebuchet MS;Tunga;Tw Cen MT Condensed Extra Bold;Ubuntu;Umpush;Univers;Utopia;Utsaah;Vani;Verdana;Vijaya;Vladimir Script;Vrinda;Webdings;Wide Latin;Wingdings".split(";"),m="",l=0;l<g.length;l++){n.detect(g[l])&&(m=l==g.length-1?m+g[l]:m+(g[l]+", "))}return m},isLocalStorage:function(){try{return !!a.localStorage}catch(e){return !0}},isSessionStorage:function(){try{return !!a.sessionStorage}catch(e){return !0}},isCookie:function(){return navigator.cookieEnabled},getTimeZone:function(){return String(String(new Date).split("(")[1]).split(")")[0]},getLanguage:function(){return navigator.language},getSystemLanguage:function(){return navigator.systemLanguage},isCanvas:function(){var f=document.createElement("canvas");try{return !(!f.getContext||!f.getContext("2d"))}catch(e){return !1}},getCanvasPrint:function(){var l=document.createElement("canvas"),f;try{f=l.getContext("2d")}catch(g){return""}f.textBaseline="top";f.font="14px 'Arial'";f.textBaseline="alphabetic";f.fillStyle="#f60";f.fillRect(125,1,62,20);f.fillStyle="#069";f.fillText("http://valve.github.io",2,15);f.fillStyle="rgba(102, 204, 0, 0.7)";f.fillText("http://valve.github.io",4,17);return l.toDataURL()}};"object"===typeof module&&"object"===typeof exports&&(module.exports=c);a.ClientJS=c})(window);(function(f,d,g){function e(){var q=this;q.deviceId=n();q.deviceInfo=a.getBrowserData()}function p(){return g||{}}function o(){return new e()}function m(){return a.isMobile()}function c(q){f.setItem("__deviceId",q)}function b(){return f.getItem("__deviceId")}function n(){var v=b(),q=[],u,r,t;if(!v){u=p();r=u&&u.device&&u.device.ID;t=a.getFingerprint();if(r){q.push(r)}if(t){q.push(t)}v=q.join("_-_");c(v)}return v}var a=new d(),l={getDeviceInfo:function(){return{augurInfo:p(),clientJsInfo:o()}},getDeviceId:function(){return n()},isMobileDevice:function(){return m()}};window.FKART=window.FKART||{};window.FKART.ui=window.FKART.ui||{};window.FKART.ui.deviceRecognitionHelper=window.FKART.ui.deviceRecognitionHelper||l})(localStorage,ClientJS);(function(a,c){function b(f,d){var e=c.extend(true,d.trackingParams,{page_load_id:location.href,events:[{action:d.Tracking.name,category:d.Tracking.category,name:d.Tracking.name,timestamp:Date.now(),event_no:0,flow_id:"0",label:d.Tracking.name,value:JSON.stringify({deviceInfo:f})}]});return JSON.stringify(e)}c(document).ready(function(){var e={Tracking:{url:"/lc/ajaxAnalyticsTracking/collect",name:"Page_Load",category:"Website_Desktop"},trackingParams:{channel:a.isMobileDevice()?"mobile":"web",org:"CP"}},d,f=a.getDeviceInfo();d=window.FKART.ui.uiAnalytics=window.FKART.ui.uiAnalytics||{trackDeviceFingerprint:function(){c.ajax({type:"POST",contentType:"application/json",url:e.Tracking.url,data:b(f,e),success:function(){console&&console.debug("DEVICE_TRACKING_SUCCESSFUL")},error:function(g){console&&console.error("DEVICE_TRACKING_FAILURE",g)}})}};d.trackDeviceFingerprint()})})(window.FKART.ui.deviceRecognitionHelper,jQuery);function bsdForm(a){var b="",f=$("#bsd_data").val(),e=$("#fsn").val();if(f==""){$(".err-msg-bsd-review").show()}else{$(".err-msg-bsd-review").hide();if(navigator.userAgent){b+=navigator.userAgent}b+=" FKUA/website/41/website/Desktop";if(a=="undefined"){a=""}var g={"X-User-Agent":b,"Content-Type":"application/json; charset=utf-8"};if(/Android|fk_android_app/i.test(navigator.userAgent)){if(window.Android){console.log("android");window.Android.setRichView(true);var d=window.Android.getAuthParams();d=JSON.parse(d);g.SN=d.SN;g.SC=d.SC;g.secureCookie=d.SC;c(g)}else{console.log("android2");window.bsdCallback=function(l){g.SN=l.SN;g.SC=l.SC;g.secureCookie=l.SC;c(g)};window.NativeInterface=function(l,n,o,q){function p(u){var w=document.documentElement;var v=document.createElement("IFRAME");v.setAttribute("src",u);w.appendChild(v);return v}function t(){var u="fknative://";var v={};v.method=l;v.args=n||{};if(o){v.onSuccess=o}else{v.onSuccess=function(w){typeof console!=="undefined"&&console.warn&&console.warn("NativeInterface: onSuccess Callback not defined.");typeof console!=="undefined"&&console.log&&console.log("NativeInterface: Data from Native Bridge")&&console.log(w)}}if(q){v.onError=q}else{v.onError=function(w){typeof console!=="undefined"&&console.warn&&console.warn("NativeInterface: onError Callback not defined.")&&console.warn("NativeInterface: "+w)}}return u+encodeURIComponent(JSON.stringify(v))}var r=t();var m=p(r);m.parentNode.removeChild(m)};window.NativeInterface("getAuthParams",null,"bsdCallback","")}}if(/fk_ios_app/i.test(navigator.userAgent)){console.log("ios");window.bsdCallback=function(l){g.SN=l.SN;g.SC=l.SC;g.secureCookie=l.SC;c(g)};window.NativeInterface=function(l,n,o,q){function p(u){var w=document.documentElement;var v=document.createElement("IFRAME");v.setAttribute("src",u);w.appendChild(v);return v}function t(){var u="fknative://";var v={};v.method=l;v.args=n||{};if(o){v.onSuccess=o}else{v.onSuccess=function(w){typeof console!=="undefined"&&console.warn&&console.warn("NativeInterface: onSuccess Callback not defined.");typeof console!=="undefined"&&console.log&&console.log("NativeInterface: Data from Native Bridge")&&console.log(w)}}if(q){v.onError=q}else{v.onError=function(w){typeof console!=="undefined"&&console.warn&&console.warn("NativeInterface: onError Callback not defined.")&&console.warn("NativeInterface: "+w)}}return u+encodeURIComponent(JSON.stringify(v))}var r=t();var m=p(r);m.parentNode.removeChild(m)};window.NativeInterface("getAuthParams",null,"bsdCallback","")}else{if(!(/fk_android_app/i.test(navigator.userAgent))){console.log("win/msite");c(g)}}return false}function c(l){ajaxRequestbsdForm("POST","https://www.flipkart.com/api/3/reviews/product",l,{productId:e,rating:1,text:f,isCompleted:true},{success:function(m){$(".notify-wrap").hide();$(".success-wrap").show()},error:function(n,m){document.getElementById("bsd_data"+a).value=f;document.getElementById("notify_error"+a).innerHTML=n;document.getElementById("bsd_message"+a).innerHTML="";document.getElementById("bsd_conform"+a).innerHTML=""}})}}function ajaxRequestbsdForm(f,a,b,d,e){function c(g){if(g){if(parseInt(g.STATUS_CODE)===200){if(typeof(e.success)=="function"){e.success(g.data)}}else{if(typeof(e.error)=="function"){e.error(g.msg,g.data)}}return}ajaxFailed()}$.ajax({type:f,url:a,headers:b,success:c,error:ajaxFailed,data:JSON.stringify(d),dataType:"json"})}$("#pincode").keypress(function(a){$("#successMessageDisp, #errorMessageDisp").hide();if(a.which==13){$("#pinoceSearchButton").click()}if(a.which!=8&&a.which!=0&&(a.which<48||a.which>57)){return false}});$("#pinoceSearchButton").on("click",function(){var a=$("#pincode").val();var b=/^[1-9][0-9]{5,6}$/;if(b.test(a)){$.ajax({url:"/lc/richViews/user/pincodeSearch",type:"POST",data:{PinCode:a},traditional:true,headers:{"x-fk-method":"POST"},success:function(e,c,f){var d=JSON.parse(f.responseText);if(d.pincodeExistStatus){$("#errorMessageDisp").hide();$("#successMessageDisp").text("Your pincode is eligible for the BuyBack Guarantee.").show()}else{$("#successMessageDisp").hide();$("#errorMessageDisp").text("Your pincode is not eligibile for the offer.").show()}},error:function(){$("#successMessageDisp").hide();$("#errorMessageDisp").text("Please try again later").show()}})}else{$("#successMessageDisp").hide();$("#errorMessageDisp").text("Please enter valid pincode").show()}});function ajaxFailed(){};