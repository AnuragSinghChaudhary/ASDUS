/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(be,bd,bc,a7){function a6(e,d,f){return setTimeout(aY(e,f),d)
}function a4(e,d,f){return Array.isArray(e)?(a3(e,f[d],f),!0):!1
}function a3(f,d,h){var g;
if(f){if(f.forEach){f.forEach(d,h)
}else{if(f.length!==a7){for(g=0;
g<f.length;
){d.call(h,f[g],g,f),g++
}}else{for(g in f){f.hasOwnProperty(g)&&d.call(h,f[g],g,f)
}}}}}function a2(a,h,g){var f="DEPRECATED METHOD: "+h+"\n"+g+" AT \n";
return function(){var j=new Error("get-stack-trace"),e=j&&j.stack?j.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",b=be.console&&(be.console.warn||be.console.log);
return b&&b.call(be.console,f,e),a.apply(this,arguments)
}
}function aZ(g,f,k){var j,h=f.prototype;
j=g.prototype=Object.create(h),j.constructor=g,j._super=h,k&&cl(j,k)
}function aY(d,c){return function(){return d.apply(c,arguments)
}
}function aW(d,c){return typeof d==a8?d.apply(c?c[0]||a7:a7,c):d
}function aV(d,c){return d===a7?c:d
}function aU(e,d,f){a3(aO(d),function(a){e.addEventListener(a,f,!1)
})
}function aS(e,d,f){a3(aO(d),function(a){e.removeEventListener(a,f,!1)
})
}function aR(d,c){for(;
d;
){if(d==c){return !0
}d=d.parentNode
}return !1
}function aP(d,c){return d.indexOf(c)>-1
}function aO(b){return b.trim().split(/\s+/g)
}function aN(f,e,h){if(f.indexOf&&!h){return f.indexOf(e)
}for(var g=0;
g<f.length;
){if(h&&f[g][h]==e||!h&&f[g]===e){return g
}g++
}return -1
}function aM(b){return Array.prototype.slice.call(b,0)
}function aL(j,h,o){for(var n=[],m=[],l=0;
l<j.length;
){var k=h?j[l][h]:j[l];
aN(m,k)<0&&n.push(j[l]),m[l]=k,l++
}return o&&(n=h?n.sort(function(b,d){return b[h]>d[h]
}):n.sort()),n
}function aK(h,d){for(var m,l,k=d[0].toUpperCase()+d.slice(1),j=0;
j<b6.length;
){if(m=b6[j],l=m?m+k:d,l in h){return l
}j++
}return a7
}function aJ(){return bg++
}function aI(a){var d=a.ownerDocument||a;
return d.defaultView||d.parentWindow||be
}function aH(e,d){var f=this;
this.manager=e,this.callback=d,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){aW(e.options.enable,[e])&&f.handler(a)
},this.init()
}function aF(e){var d,f=e.options.inputClass;
return new (d=f?f:ac?bz:ce?bv:ap?bs:bA)(e,aE)
}function aE(j,h,o){var n=o.pointers.length,m=o.changedPointers.length,l=h&ax&&n-m===0,k=h&(cm|b7)&&n-m===0;
o.isFirst=!!l,o.isFinal=!!k,l&&(j.session={}),o.eventType=h,bT(j,o),j.emit("hammer.input",o),j.recognize(o),j.session.prevInput=o
}function bT(w,v){var u=w.session,t=v.pointers,r=t.length;
u.firstInput||(u.firstInput=bO(v)),r>1&&!u.firstMultiple?u.firstMultiple=bO(v):1===r&&(u.firstMultiple=!1);
var q=u.firstInput,p=u.firstMultiple,o=p?p.center:q.center,n=v.center=bL(t);
v.timeStamp=co(),v.deltaTime=v.timeStamp-q.timeStamp,v.angle=bG(o,n),v.distance=bH(o,n),bR(u,v),v.offsetDirection=bI(v.deltaX,v.deltaY);
var m=bK(v.deltaTime,v.deltaX,v.deltaY);
v.overallVelocityX=m.x,v.overallVelocityY=m.y,v.overallVelocity=am(m.x)>am(m.y)?m.x:m.y,v.scale=p?bC(p.pointers,t):1,v.rotation=p?bD(p.pointers,t):0,v.maxPointers=u.prevInput?v.pointers.length>u.prevInput.maxPointers?v.pointers.length:u.prevInput.maxPointers:v.pointers.length,bQ(u,v);
var l=w.element;
aR(v.srcEvent.target,l)&&(l=v.srcEvent.target),v.target=l
}function bR(h,g){var m=g.center,l=h.offsetDelta||{},k=h.prevDelta||{},j=h.prevInput||{};
g.eventType!==ax&&j.eventType!==cm||(k=h.prevDelta={x:j.deltaX||0,y:j.deltaY||0},l=h.offsetDelta={x:m.x,y:m.y}),g.deltaX=k.x+(m.x-l.x),g.deltaY=k.y+(m.y-l.y)
}function bQ(w,v){var u,t,r,q,p=w.lastInterval||v,o=v.timeStamp-p.timeStamp;
if(v.eventType!=b7&&(o>a1||p.velocity===a7)){var n=v.deltaX-p.deltaX,m=v.deltaY-p.deltaY,d=bK(o,n,m);
t=d.x,r=d.y,u=am(d.x)>am(d.y)?d.x:d.y,q=bI(n,m),w.lastInterval=v
}else{u=p.velocity,t=p.velocityX,r=p.velocityY,q=p.direction
}v.velocity=u,v.velocityX=t,v.velocityY=r,v.direction=q
}function bO(e){for(var d=[],f=0;
f<e.pointers.length;
){d[f]={clientX:az(e.pointers[f].clientX),clientY:az(e.pointers[f].clientY)},f++
}return{timeStamp:co(),pointers:d,center:bL(d),deltaX:e.deltaX,deltaY:e.deltaY}
}function bL(g){var f=g.length;
if(1===f){return{x:az(g[0].clientX),y:az(g[0].clientY)}
}for(var k=0,j=0,h=0;
f>h;
){k+=g[h].clientX,j+=g[h].clientY,h++
}return{x:az(k/f),y:az(j/f)}
}function bK(e,d,f){return{x:d/e||0,y:f/e||0}
}function bI(d,c){return d===c?bN:am(d)>=am(c)?0>d?a9:aA:0>c?an:cp
}function bH(g,f,k){k||(k=aD);
var j=f[k[0]]-g[k[0]],h=f[k[1]]-g[k[1]];
return Math.sqrt(j*j+h*h)
}function bG(g,f,k){k||(k=aD);
var j=f[k[0]]-g[k[0]],h=f[k[1]]-g[k[1]];
return 180*Math.atan2(h,j)/Math.PI
}function bD(d,c){return bG(c[1],c[0],aq)+bG(d[1],d[0],aq)
}function bC(d,c){return bH(c[0],c[1],aq)/bH(d[0],d[1],aq)
}function bA(){this.evEl=cf,this.evWin=bX,this.pressed=!1,aH.apply(this,arguments)
}function bz(){this.evEl=ar,this.evWin=ae,aH.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]
}function by(){this.evTarget=bP,this.evWin=af,this.started=!1,aH.apply(this,arguments)
}function bx(f,e){var h=aM(f.touches),g=aM(f.changedTouches);
return e&(cm|b7)&&(h=aL(h.concat(g),"identifier",!0)),[h,g]
}function bv(){this.evTarget=bu,this.targetIds={},aH.apply(this,arguments)
}function bt(r,q){var p=aM(r.touches),o=this.targetIds;
if(q&(ax|ak)&&1===p.length){return o[p[0].identifier]=!0,[p,p]
}var n,m,l=aM(r.changedTouches),k=[],j=this.target;
if(m=p.filter(function(b){return aR(b.target,j)
}),q===ax){for(n=0;
n<m.length;
){o[m[n].identifier]=!0,n++
}}for(n=0;
n<l.length;
){o[l[n].identifier]&&k.push(l[n]),q&(cm|b7)&&delete o[l[n].identifier],n++
}return k.length?[aL(m.concat(k),"identifier",!0),k]:void 0
}function bs(){aH.apply(this,arguments);
var b=aY(this.handler,this);
this.touch=new bv(this.manager,b),this.mouse=new bA(this.manager,b),this.primaryTouch=null,this.lastTouches=[]
}function br(d,c){d&ax?(this.primaryTouch=c.changedPointers[0].identifier,bq.call(this,c)):d&(cm|b7)&&bq.call(this,c)
}function bq(g){var f=g.changedPointers[0];
if(f.identifier===this.primaryTouch){var k={x:f.clientX,y:f.clientY};
this.lastTouches.push(k);
var j=this.lastTouches,h=function(){var b=j.indexOf(k);
b>-1&&j.splice(b,1)
};
setTimeout(h,aQ)
}}function bp(j){for(var h=j.srcEvent.clientX,o=j.srcEvent.clientY,n=0;
n<this.lastTouches.length;
n++){var m=this.lastTouches[n],l=Math.abs(h-m.x),k=Math.abs(o-m.y);
if(at>=l&&at>=k){return !0
}}return !1
}function bo(d,c){this.manager=d,this.set(c)
}function bn(e){if(aP(e,av)){return av
}var d=aP(e,ai),f=aP(e,ck);
return d&&f?av:d||f?d?ai:ck:aP(e,aX)?aX:bB
}function bm(){if(!ch){return !1
}var a={},d=be.CSS&&be.CSS.supports;
return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(b){a[b]=d?be.CSS.supports("touch-action",b):!0
}),a
}function bl(b){this.options=cl({},this.defaults,b||{}),this.id=aJ(),this.manager=null,this.options.enable=aV(this.options.enable,!0),this.state=bJ,this.simultaneous={},this.requireFail=[]
}function bj(b){return b&b9?"cancel":b&al?"end":b&ay?"move":b&a5?"start":""
}function b8(b){return b==cp?"down":b==an?"up":b==a9?"left":b==aA?"right":""
}function bh(e,d){var f=d.manager;
return f?f.get(e):e
}function bZ(){bl.apply(this,arguments)
}function bw(){bZ.apply(this,arguments),this.pX=null,this.pY=null
}function aT(){bZ.apply(this,arguments)
}function au(){bl.apply(this,arguments),this._timer=null,this._input=null
}function ah(){bZ.apply(this,arguments)
}function ci(){bZ.apply(this,arguments)
}function b3(){bl.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0
}function bE(d,c){return c=c||{},c.recognizers=aV(c.recognizers,bE.defaults.preset),new a0(d,c)
}function a0(d,c){this.options=cl({},bE.defaults,c||{}),this.options.inputTarget=this.options.inputTarget||d,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=d,this.input=aF(this),this.touchAction=new bo(this,this.options.touchAction),aw(this,!0),a3(this.options.recognizers,function(f){var e=this.add(new f[0](f[1]));
f[2]&&e.recognizeWith(f[2]),f[3]&&e.requireFailure(f[3])
},this)
}function aw(f,e){var h=f.element;
if(h.style){var g;
a3(f.options.cssProps,function(b,a){g=aK(h.style,a),e?(f.oldCssProps[g]=h.style[g],h.style[g]=b):h.style[g]=f.oldCssProps[g]||""
}),e||(f.oldCssProps={})
}}function aj(b,f){var e=bd.createEvent("Event");
e.initEvent(b,!0,!0),e.gesture=f,f.target.dispatchEvent(e)
}var cl,b6=["","webkit","Moz","MS","ms","o"],bM=bd.createElement("div"),a8="function",az=Math.round,am=Math.abs,co=Date.now;
cl="function"!=typeof Object.assign?function(g){if(g===a7||null===g){throw new TypeError("Cannot convert undefined or null to object")
}for(var d=Object(g),k=1;
k<arguments.length;
k++){var j=arguments[k];
if(j!==a7&&null!==j){for(var h in j){j.hasOwnProperty(h)&&(d[h]=j[h])
}}}return d
}:Object.assign;
var cc=a2(function(g,d,k){for(var j=Object.keys(d),h=0;
h<j.length;
){(!k||k&&g[j[h]]===a7)&&(g[j[h]]=d[j[h]]),h++
}return g
},"extend","Use `assign`."),bU=a2(function(d,c){return cc(d,c,!0)
},"merge","Use `assign`."),bg=1,aC=/mobile|tablet|ip(ad|hone|od)|android/i,ap="ontouchstart" in be,ac=aK(be,"PointerEvent")!==a7,ce=ap&&aC.test(navigator.userAgent),bW="touch",cj="pen",b4="mouse",bF="kinect",a1=25,ax=1,ak=2,cm=4,b7=8,bN=1,a9=2,aA=4,an=8,cp=16,cd=a9|aA,bV=an|cp,bi=cd|bV,aD=["x","y"],aq=["clientX","clientY"];
aH.prototype={handler:function(){},init:function(){this.evEl&&aU(this.element,this.evEl,this.domHandler),this.evTarget&&aU(this.target,this.evTarget,this.domHandler),this.evWin&&aU(aI(this.element),this.evWin,this.domHandler)
},destroy:function(){this.evEl&&aS(this.element,this.evEl,this.domHandler),this.evTarget&&aS(this.target,this.evTarget,this.domHandler),this.evWin&&aS(aI(this.element),this.evWin,this.domHandler)
}};
var ad={mousedown:ax,mousemove:ak,mouseup:cm},cf="mousedown",bX="mousemove mouseup";
aZ(bA,aH,{handler:function(d){var c=ad[d.type];
c&ax&&0===d.button&&(this.pressed=!0),c&ak&&1!==d.which&&(c=cm),this.pressed&&(c&cm&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[d],changedPointers:[d],pointerType:b4,srcEvent:d}))
}});
var bk={pointerdown:ax,pointermove:ak,pointerup:cm,pointercancel:b7,pointerout:b7},aG={2:bW,3:cj,4:b4,5:bF},ar="pointerdown",ae="pointermove pointerup pointercancel";
be.MSPointerEvent&&!be.PointerEvent&&(ar="MSPointerDown",ae="MSPointerMove MSPointerUp MSPointerCancel"),aZ(bz,aH,{handler:function(k){var j=this.store,q=!1,p=k.type.toLowerCase().replace("ms",""),o=bk[p],n=aG[k.pointerType]||k.pointerType,m=n==bW,l=aN(j,k.pointerId,"pointerId");
o&ax&&(0===k.button||m)?0>l&&(j.push(k),l=j.length-1):o&(cm|b7)&&(q=!0),0>l||(j[l]=k,this.callback(this.manager,o,{pointers:j,changedPointers:[k],pointerType:n,srcEvent:k}),q&&j.splice(l,1))
}});
var cg={touchstart:ax,touchmove:ak,touchend:cm,touchcancel:b7},bP="touchstart",af="touchstart touchmove touchend touchcancel";
aZ(by,aH,{handler:function(e){var d=cg[e.type];
if(d===ax&&(this.started=!0),this.started){var f=bx.call(this,e,d);
d&(cm|b7)&&f[0].length-f[1].length===0&&(this.started=!1),this.callback(this.manager,d,{pointers:f[0],changedPointers:f[1],pointerType:bW,srcEvent:e})
}}});
var bY={touchstart:ax,touchmove:ak,touchend:cm,touchcancel:b7},bu="touchstart touchmove touchend touchcancel";
aZ(bv,aH,{handler:function(e){var d=bY[e.type],f=bt.call(this,e,d);
f&&this.callback(this.manager,d,{pointers:f[0],changedPointers:f[1],pointerType:bW,srcEvent:e})
}});
var aQ=2500,at=25;
aZ(bs,aH,{handler:function(g,f,k){var j=k.pointerType==bW,h=k.pointerType==b4;
if(!(h&&k.sourceCapabilities&&k.sourceCapabilities.firesTouchEvents)){if(j){br.call(this,f,k)
}else{if(h&&bp.call(this,k)){return
}}this.callback(g,f,k)
}},destroy:function(){this.touch.destroy(),this.mouse.destroy()
}});
var ag=aK(bM.style,"touchAction"),ch=ag!==a7,b0="compute",bB="auto",aX="manipulation",av="none",ai="pan-x",ck="pan-y",b5=bm();
bo.prototype={set:function(b){b==b0&&(b=this.compute()),ch&&this.manager.element.style&&b5[b]&&(this.manager.element.style[ag]=b),this.actions=b.toLowerCase().trim()
},update:function(){this.set(this.manager.options.touchAction)
},compute:function(){var b=[];
return a3(this.manager.recognizers,function(a){aW(a.options.enable,[a])&&(b=b.concat(a.getTouchAction()))
}),bn(b.join(" "))
},preventDefaults:function(u){var t=u.srcEvent,r=u.offsetDirection;
if(this.manager.session.prevented){return void t.preventDefault()
}var q=this.actions,p=aP(q,av)&&!b5[av],o=aP(q,ck)&&!b5[ck],n=aP(q,ai)&&!b5[ai];
if(p){var m=1===u.pointers.length,l=u.distance<2,k=u.deltaTime<250;
if(m&&l&&k){return
}}return n&&o?void 0:p||o&&r&cd||n&&r&bV?this.preventSrc(t):void 0
},preventSrc:function(b){this.manager.session.prevented=!0,b.preventDefault()
}};
var bJ=1,a5=2,ay=4,al=8,cn=al,b9=16,bS=32;
bl.prototype={defaults:{},set:function(b){return cl(this.options,b),this.manager&&this.manager.touchAction.update(),this
},recognizeWith:function(d){if(a4(d,"recognizeWith",this)){return this
}var c=this.simultaneous;
return d=bh(d,this),c[d.id]||(c[d.id]=d,d.recognizeWith(this)),this
},dropRecognizeWith:function(b){return a4(b,"dropRecognizeWith",this)?this:(b=bh(b,this),delete this.simultaneous[b.id],this)
},requireFailure:function(d){if(a4(d,"requireFailure",this)){return this
}var c=this.requireFail;
return d=bh(d,this),-1===aN(c,d)&&(c.push(d),d.requireFailure(this)),this
},dropRequireFailure:function(d){if(a4(d,"dropRequireFailure",this)){return this
}d=bh(d,this);
var c=aN(this.requireFail,d);
return c>-1&&this.requireFail.splice(c,1),this
},hasRequireFailures:function(){return this.requireFail.length>0
},canRecognizeWith:function(b){return !!this.simultaneous[b.id]
},emit:function(f){function e(a){h.manager.emit(a,f)
}var h=this,g=this.state;
al>g&&e(h.options.event+bj(g)),e(h.options.event),f.additionalEvent&&e(f.additionalEvent),g>=al&&e(h.options.event+bj(g))
},tryEmit:function(b){return this.canEmit()?this.emit(b):void (this.state=bS)
},canEmit:function(){for(var b=0;
b<this.requireFail.length;
){if(!(this.requireFail[b].state&(bS|bJ))){return !1
}b++
}return !0
},recognize:function(d){var c=cl({},d);
return aW(this.options.enable,[this,c])?(this.state&(cn|b9|bS)&&(this.state=bJ),this.state=this.process(c),void (this.state&(a5|ay|al|b9)&&this.tryEmit(c))):(this.reset(),void (this.state=bS))
},process:function(b){},getTouchAction:function(){},reset:function(){}},aZ(bZ,bl,{defaults:{pointers:1},attrTest:function(d){var c=this.options.pointers;
return 0===c||d.pointers.length===c
},process:function(g){var f=this.state,k=g.eventType,j=f&(a5|ay),h=this.attrTest(g);
return j&&(k&b7||!h)?f|b9:j||h?k&cm?f|al:f&a5?f|ay:a5:bS
}}),aZ(bw,bZ,{defaults:{event:"pan",threshold:10,pointers:1,direction:bi},getTouchAction:function(){var d=this.options.direction,c=[];
return d&cd&&c.push(ck),d&bV&&c.push(ai),c
},directionTest:function(j){var h=this.options,o=!0,n=j.distance,m=j.direction,l=j.deltaX,k=j.deltaY;
return m&h.direction||(h.direction&cd?(m=0===l?bN:0>l?a9:aA,o=l!=this.pX,n=Math.abs(j.deltaX)):(m=0===k?bN:0>k?an:cp,o=k!=this.pY,n=Math.abs(j.deltaY))),j.direction=m,o&&n>h.threshold&&m&h.direction
},attrTest:function(b){return bZ.prototype.attrTest.call(this,b)&&(this.state&a5||!(this.state&a5)&&this.directionTest(b))
},emit:function(d){this.pX=d.deltaX,this.pY=d.deltaY;
var c=b8(d.direction);
c&&(d.additionalEvent=this.options.event+c),this._super.emit.call(this,d)
}}),aZ(aT,bZ,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[av]
},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&a5)
},emit:function(d){if(1!==d.scale){var c=d.scale<1?"in":"out";
d.additionalEvent=this.options.event+c
}this._super.emit.call(this,d)
}}),aZ(au,bl,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[bB]
},process:function(g){var e=this.options,k=g.pointers.length===e.pointers,j=g.distance<e.threshold,h=g.deltaTime>e.time;
if(this._input=g,!j||!k||g.eventType&(cm|b7)&&!h){this.reset()
}else{if(g.eventType&ax){this.reset(),this._timer=a6(function(){this.state=cn,this.tryEmit()
},e.time,this)
}else{if(g.eventType&cm){return cn
}}}return bS
},reset:function(){clearTimeout(this._timer)
},emit:function(b){this.state===cn&&(b&&b.eventType&cm?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=co(),this.manager.emit(this.options.event,this._input)))
}}),aZ(ah,bZ,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[av]
},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&a5)
}}),aZ(ci,bZ,{defaults:{event:"swipe",threshold:10,velocity:0.3,direction:cd|bV,pointers:1},getTouchAction:function(){return bw.prototype.getTouchAction.call(this)
},attrTest:function(e){var d,f=this.options.direction;
return f&(cd|bV)?d=e.overallVelocity:f&cd?d=e.overallVelocityX:f&bV&&(d=e.overallVelocityY),this._super.attrTest.call(this,e)&&f&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&am(d)>this.options.velocity&&e.eventType&cm
},emit:function(d){var c=b8(d.offsetDirection);
c&&this.manager.emit(this.options.event+c,d),this.manager.emit(this.options.event,d)
}}),aZ(b3,bl,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[aX]
},process:function(j){var e=this.options,p=j.pointers.length===e.pointers,o=j.distance<e.threshold,n=j.deltaTime<e.time;
if(this.reset(),j.eventType&ax&&0===this.count){return this.failTimeout()
}if(o&&n&&p){if(j.eventType!=cm){return this.failTimeout()
}var m=this.pTime?j.timeStamp-this.pTime<e.interval:!0,l=!this.pCenter||bH(this.pCenter,j.center)<e.posThreshold;
this.pTime=j.timeStamp,this.pCenter=j.center,l&&m?this.count+=1:this.count=1,this._input=j;
var k=this.count%e.taps;
if(0===k){return this.hasRequireFailures()?(this._timer=a6(function(){this.state=cn,this.tryEmit()
},e.interval,this),a5):cn
}}return bS
},failTimeout:function(){return this._timer=a6(function(){this.state=bS
},this.options.interval,this),bS
},reset:function(){clearTimeout(this._timer)
},emit:function(){this.state==cn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))
}}),bE.VERSION="2.0.8",bE.defaults={domEvents:!1,touchAction:b0,enable:!0,inputTarget:null,inputClass:null,preset:[[ah,{enable:!1}],[aT,{enable:!1},["rotate"]],[ci,{direction:cd}],[bw,{direction:cd},["swipe"]],[b3],[b3,{event:"doubletap",taps:2},["tap"]],[au]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};
var bf=1,aB=2;
a0.prototype={set:function(b){return cl(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this
},stop:function(b){this.session.stopped=b?aB:bf
},recognize:function(h){var g=this.session;
if(!g.stopped){this.touchAction.preventDefaults(h);
var m,l=this.recognizers,k=g.curRecognizer;
(!k||k&&k.state&cn)&&(k=g.curRecognizer=null);
for(var j=0;
j<l.length;
){m=l[j],g.stopped===aB||k&&m!=k&&!m.canRecognizeWith(k)?m.reset():m.recognize(h),!k&&m.state&(a5|ay|al)&&(k=g.curRecognizer=m),j++
}}},get:function(e){if(e instanceof bl){return e
}for(var d=this.recognizers,f=0;
f<d.length;
f++){if(d[f].options.event==e){return d[f]
}}return null
},add:function(d){if(a4(d,"add",this)){return this
}var c=this.get(d.options.event);
return c&&this.remove(c),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d
},remove:function(e){if(a4(e,"remove",this)){return this
}if(e=this.get(e)){var d=this.recognizers,f=aN(d,e);
-1!==f&&(d.splice(f,1),this.touchAction.update())
}return this
},on:function(e,d){if(e!==a7&&d!==a7){var f=this.handlers;
return a3(aO(e),function(b){f[b]=f[b]||[],f[b].push(d)
}),this
}},off:function(e,d){if(e!==a7){var f=this.handlers;
return a3(aO(e),function(b){d?f[b]&&f[b].splice(aN(f[b],d),1):delete f[b]
}),this
}},emit:function(f,e){this.options.domEvents&&aj(f,e);
var h=this.handlers[f]&&this.handlers[f].slice();
if(h&&h.length){e.type=f,e.preventDefault=function(){e.srcEvent.preventDefault()
};
for(var g=0;
g<h.length;
){h[g](e),g++
}}},destroy:function(){this.element&&aw(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null
}},cl(bE,{INPUT_START:ax,INPUT_MOVE:ak,INPUT_END:cm,INPUT_CANCEL:b7,STATE_POSSIBLE:bJ,STATE_BEGAN:a5,STATE_CHANGED:ay,STATE_ENDED:al,STATE_RECOGNIZED:cn,STATE_CANCELLED:b9,STATE_FAILED:bS,DIRECTION_NONE:bN,DIRECTION_LEFT:a9,DIRECTION_RIGHT:aA,DIRECTION_UP:an,DIRECTION_DOWN:cp,DIRECTION_HORIZONTAL:cd,DIRECTION_VERTICAL:bV,DIRECTION_ALL:bi,Manager:a0,Input:aH,TouchAction:bo,TouchInput:bv,MouseInput:bA,PointerEventInput:bz,TouchMouseInput:bs,SingleTouchInput:by,Recognizer:bl,AttrRecognizer:bZ,Tap:b3,Pan:bw,Swipe:ci,Pinch:aT,Rotate:ah,Press:au,on:aU,off:aS,each:a3,merge:bU,extend:cc,assign:cl,inherit:aZ,bindFn:aY,prefixed:aK});
var ao="undefined"!=typeof be?be:"undefined"!=typeof self?self:{};
ao.Hammer=bE,"function"==typeof define&&define.amd?define(function(){return bE
}):"undefined"!=typeof module&&module.exports?module.exports=bE:be[bc]=bE
}(window,document,"Hammer");
(function(b){var a=typeof define=="function"&&define.amd&&(define(["jquery"],b)||true),c=!a&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=b);
!a&&!c&&b()
})(function(){return jQuery.reel||function(bp,bA,bx,bk){function ay(k){return bo.instances.push(k[0])&&k
}function am(k){return(bo.instances=bo.instances.not(an(k.attr(o))))&&k
}function bw(k){return bo.instances.first().data(k)
}function T(k){return"data:image/gif;base64,R0lGODlh"+k
}function bz(k){return"<"+k+"/>"
}function bj(k){return"."+(k||"")
}function bE(k){return k.replace(ae,bo.cdn)
}function w(k){return"url('"+bT(k)+"')"
}function b7(n,k){return typeof k==aw?k[n]:k
}function l(n,k,x){return ak(n,co(k,x))
}function ce(n,k){return bN(n)*(k?-1:1)
}function bn(k){return k.touch||k.originalEvent.touches&&k.originalEvent.touches[0]||k
}function N(k){return k.originalEvent
}function bi(k){return k===bk?0:typeof k==r?k:k+"px"
}function an(k){return"#"+k
}function bM(n,k,x){for(;
n.length<k;
){n=x+n
}return n
}function f(k){return bM(k,2,"0")
}function bT(k){return encodeURI(decodeURI(k))
}function cl(k){return bo.re.array.exec(k)?k.split(bo.re.array):k
}function u(k){return !k.parents(b5).length
}function bq(k){return typeof k==r?k:bp.each(k,function(n,x){k[n]=x?+x:bk
})
}function aM(n){try{console.error("[ Reel ] "+n)
}catch(k){}}if(bp){var bv=bp&&bp().jquery.split(/\./);
if(!bv||+(f(bv[0])+f(bv[1])+f(bv[2]||""))<10602){return aM("Too old jQuery library. Please upgrade your jQuery to version 1.6.2 or higher")
}var bo=bp.reel={version:"1.3.0",def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,orientable:false,cw:false,revolution:bk,stitched:0,directional:false,row:1,rows:0,rowlock:false,framelock:false,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:bk,images:"",path:"",preload:"fidelity",shy:false,speed:0,delay:0,timeout:2,duration:bk,rebound:0.5,entry:bk,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:bk,hint:"",indicator:0,klass:"",preloader:2,area:bk,attr:{},annotations:bk,responsive:false,graph:bk,monitor:bk},scan:function(){return bp(bj(bh)+":not("+bj(az)+" > "+bj(bh)+")").each(function(n,k){n=bp(k);
k=n.data();
k.images=cl(k.images);
var x={};
bp(bj(a7)+"[data-for="+n.attr(o)+"]").each(function(y,A){y=bp(A);
A=y.data();
A.x=bq(cl(A.x));
A.y=bq(cl(A.y));
var z=y.attr(o);
A.node=y.removeData();
x[z]=A
});
k.annotations=x;
n.removeData().reel(k)
})
},fn:{reel:function(){var B=arguments,n=bp(this),D=n.data(),x=B[0]||{},A=B[1];
if(typeof x!="object"){if(x.slice(0,1)==":"){return n.trigger(x.slice(1),A)
}else{if(B.length==1){return D[x]
}else{if(A!==bk){bo.normal[x]&&(A=bo.normal[x](A,D));
if(D[x]===bk){D[x]=A
}else{if(D[x]!==A){n.trigger(x+"Change",[bk,D[x]=A])
}}}return n
}}}else{var z=bp.extend({},bo.def,x),k=[];
n.filter(a6).unreel().filter(function(){var J=bp(this),L=z.attr,F=L.src||J.attr(aV),H=L.width||J.attr(bJ)||J.width();
J=L.height||J.attr(bQ)||J.height();
if(!F){return aM("`src` attribute missing on target image")
}if(!H||!J){return aM("Dimension(s) of the target image unknown")
}return true
}).each(function(){var cs=bp(this),cu=function(cB,cA){return cs.reel(cB,cA)&&cz(cB)
},cz=function(cA){return cs.data(cA)
},aa={setup:function(){if(!(cs.hasClass(bh)&&cs.parent().hasClass(az))){cu(bX,z);
var cP={src:cs.attr(aV),width:cs.attr(bQ)||null,height:cs.attr(bJ)||null,style:cs.attr(ca)||null,"class":cs.attr(aY)||null},cO=cs.attr(z.attr).attr(aV),cQ=cu(o,cs.attr(o)||cs.attr(o,bh+"-"+ +new Date).attr(o)),cN=bp.extend({},cs.data()),cI=cu(b9,z.images||[]),cK=cu(by,z.stitched),cL=!cI.length||cK;
cL=cu(aX,z.responsive&&(h?true:!cL));
var cH=cu(aN,{}),cF=z.loops,cE=z.orbital,cG=z.revolution,cC=z.rows,cJ=cu(aH,co(z.footage,z.frames));
cu(aK,z.spacing);
var cM=cu(bQ,+cs.attr(bQ)||cs.width()),cB=cu(bJ,+cs.attr(bJ)||cs.height()),cA=cu(bu,z.shy),cR=cu(bH,cE&&cJ||cC<=1&&cI.length||z.frames),cD=cC>1||cE;
cu(bf,b7("x",cG)||cK/2||cM*2);
cu(v,!cD?0:b7("y",cG)||(cC>3?cB:cB/(5-cC)));
cC=cK?1:b(cR/cJ);
cu(j,cK-(cF?0:cM));
cu(bV,0);
cQ=an(cQ+z.suffix);
cF=cs.attr(aY);
cF=!cF?bG:cF+bS;
cF=bp(bz(ax),{id:cQ.substr(1),"class":cF+bS+az+bS+ao+"0"});
cF=cs.wrap(cF.addClass(z.klass)).addClass(bh);
k.push(ay(cF)[0]);
cF=cF.parent().bind(aa.instance);
cu(cn,cI.length?bG:z.image||cO.replace(bo.re.image,"$1"+z.suffix+".$2"));
cu(b8,bp(bz(ax),{"class":cd}).appendTo("body"));
cu(a3,bp());
cu(af,[]);
cu(bL,null);
cu(bR,null);
cu(bF,z.row);
cu(al,0);
cu(bW,cC);
cu(C,z.rowlock);
cu(m,z.framelock);
cu(bO,cu(aS,cu(br,0)));
cu(a8,1/cR);
cu(cp,cQ);
cu(bI,cu(R,z.speed)<0);
cu(aF,false);
cu(ch,0);
cu(t,z.vertical);
cu(a9,0);
cu(g,ce(1,!z.cw&&!cK));
cu(aZ,{});
cu(a0,false);
cu(aO,cu(bt,0));
cu(aB,cu(ap,0));
cu(au,false);
cu(be,false);
cu(aP,false);
cu(cf,z.brake);
cu(a2,!!cE);
cu(aC,z.tempo/(bo.lazy?z.laziness:1));
cu(cm,-1);
cu(ag,-1);
cu(aj,z.annotations||cF.unbind(bj(aj))&&{});
cu(aR,1);
cu(bY,{attr:cP,data:cN});
z.steppable||cF.unbind("up.steppable");
z.indicator||cF.unbind(".indicator");
bd(bG,{overflow:aE,position:"relative"});
cL||bd(bG,{width:cM,height:cB});
cL&&bp.each(bU,function(cT,cS){cH[cS]=cz(cS)
});
bd(b0+bS+bj(bh),{display:at});
bd(bj(cd),{position:"fixed",left:bi(-100),top:bi(-100)},true);
bd(bj(cd)+bS+a6,{position:K,width:10,height:10},true);
aq.bind(aa.pool);
cs.trigger(cA?"prepare":"setup")
}},instance:{teardown:function(){var cA=cs.data(bY);
cs.parent().unbind(aa.instance);
if(cz(bu)){cs.parent().unbind(E,cb)
}else{cz(ca).remove()&&cz(a3).unbind(bP)
}cz(b8).empty();
clearTimeout(O);
clearTimeout(ad);
bp(bA).unbind(bg,X);
bp(bA).unbind(bP);
aq.unbind(aa.pool);
cq.unbind(G);
cs.siblings().unbind(bP).remove();
V();
cs.removeAttr("onloaded");
am(cs.unbind(bP).removeData().unwrap().attr(cA.attr).data(cA.data));
cs.attr(ca)==bG&&cs.removeAttr(ca)
},setup:function(){function cG(cH){return cs.trigger("down",[bn(cH).clientX,bn(cH).clientY,cH])&&cH.give
}function cF(cI,cH){return !cH||cs.trigger("wheel",[cH,cI])&&cI.give
}var cB=cs.parent().append(ac()),cD=cu(a3,bp(z.area||cB)),cE=z.rows>1,cA=z.cursor,cC=cA==aT?bs:cA||ba;
cA=cA==aT?a1+bS+"!important":bk;
bd(bS+bj(bh),{MozUserSelect:a,WebkitUserSelect:a,MozTransform:"translateZ(0)"});
cs.unbind(E,cb);
cD.bind(aQ,cG).bind(z.clickfree?aD:ar,cG).bind(z.wheelable?ah:null,cF).bind(I,function(){return false
});
bd(bG,{cursor:bE(cC)});
bd(bj(q),{cursor:"wait"});
bd(bj(cg)+b0+bj(cg)+" *",{cursor:bE(cA||cC)},true);
if(cz(aX)){bd(bS+bj(bh),{width:"100%",height:d});
bp(bA).bind(bg,X)
}z.hint&&cD.attr("title",z.hint);
z.indicator&&cB.append(cv("x"));
cE&&z.indicator&&cB.append(cv("y"));
z.monitor&&cB.append(H=bp(bz(ax),{"class":av}))&&bd(bS+bj(av),{position:K,left:0,top:0})
},preload:function(){function cG(){var cH=cC.children(":not([src]):first");
return cH.attr(aV,cH.data(aV))
}var cF=cs.parent(),cB=cz(b9),cD=!cB.length,cE=bo.preload[z.preload]||bo.preload[bo.def.preload];
cB=cD?[cz(cn)]:cE(cB.slice(0),z,cz);
cu(a9,cD?0.5:0);
var cA=0,cC=cz(b8).empty();
cD=[];
cF.addClass(q);
cu(ca,cz(ca)||bp("<"+ca+' type="text/css">'+bd.rules.join("\n")+"</"+ca+">").prependTo(cj));
cu(aF,true);
cs.trigger("stop");
z.responsive&&ct();
for(cs.trigger("resize",true);
cB.length;
){cE=bo.substitute(z.path+cB.shift(),cz);
bp(bz(a6)).data(aV,cE).appendTo(cC).bind("load error abort",function(cH){cH.type!="load"&&cs.trigger(cH.type);
return !u(cF)&&cs.trigger("preloaded")&&cG()&&false
});
cD.push(cE)
}setTimeout(function(){for(;
++cA<bo.concurrent_requests;
){cG()
}},0);
cu(af,cD);
cu(bu,false)
},preloaded:function(){var cB=cz(b9).length||1,cA=cu(a9,co(cz(a9)+1,cB));
cA===1&&cs.trigger("frameChange",[bk,cz(bL)]);
if(cA===cB){cs.parent().removeClass(q);
cs.trigger("loaded")
}},loaded:function(){cz(b9).length>1||cs.css({backgroundImage:w(bo.substitute(z.path+cz(cn),cz))}).attr({src:bE(ai)});
cz(by)&&cs.attr({src:bE(ai)});
cz(be)||cu(ch,z.velocity||0);
cu(aF,false);
L=true
},prepare:function(){cs.css("display",at).parent().one(E,cb)
},opening:function(){if(!z.opening){return cs.trigger("openingDone")
}cu(aP,true);
cu(bD,!cz(R));
var cC=z.entry||z.speed,cB=cz(bR),cA=z.opening;
cu(bR,cB-cC*cA);
cu(cm,b(cA*bw(aC)))
},openingDone:function(){function cB(cC){return cs.trigger("orient",[N(cC).alpha,N(cC).beta,N(cC).gamma,cC])&&cC.give
}cu(e,false);
cu(aP,false);
var cA=bZ+bj(aP);
aq.unbind(cA,aa.pool[cA]);
z.orientable&&bp(bA).bind(p,cB);
if(z.delay>0){O=setTimeout(function(){cs.trigger("play")
},z.delay*1000)
}else{cs.trigger("play")
}},play:function(cB,cA){cA=cA?cu(R,cA):cz(R)*ce(1,cz(bI));
(cB=z.duration)&&cu(ag,b(cB*bw(aC)));
cu(bI,cA<0);
cA=cu(e,!!cA);
cu(bD,!cA);
M()
},reach:function(cD,cC,cA){if(cC!=cz(bL)){cD=cz(bH);
cu(bF,b(cC/cD));
var cB=cu(bO,cz(bL));
cC=cu(aS,cC);
cC=cu(br,bo.math.distance(cB,cC,cD));
cA=bN(cA||cz(R))*ce(1,cC<0);
cs.trigger("play",cA)
}},pause:function(){ab()
},stop:function(){var cA=cu(bD,true);
cu(e,!cA)
},down:function(cF,cE,cB,cC){function cD(cG){return cs.trigger("pan",[bn(cG).clientX,bn(cG).clientY,cG])&&cG.give
}function cA(cG){return cs.trigger("up",[cG])&&cG.give
}if(!(!z.clickfree&&cC&&cC.button!==bk&&cC.button!=c)){if(z.draggable){cu(a0,cz(bL));
cF=z.clickfree;
cu(ch,0);
cC=cF?cz(a3):cq;
cc=F(cz(bf),cE,cB);
ab();
V();
bb=0;
bp(b5,cq).addClass(cg);
cC.bind(ci+bS+b3,cD).bind(bB+bS+bl,cA).bind(cF?a5:aW,cA)
}}},up:function(){cu(a0,false);
cu(au,false);
var cB=z.throwable,cA=bN(bc[0]+bc[1])/60;
W=cu(ch,!cB?0:cB===true?cA:co(cB,cA))?1:0;
ab();
V();
bp(b5,cq).removeClass(cg);
(z.clickfree?cz(a3):cq).unbind(G)
},pan:function(cG,cF,cH,cE){if(z.draggable&&cx){cx=false;
ab();
cG=z.rows;
var cB=z.orbital,cC=!cz(au)&&cG<=1&&!cB&&z.scrollable,cD={x:cF-cc.x,y:cH-cc.y},cA={x:bN(cD.x),y:bN(cD.y)};
if(cE&&cC&&cA.x<cA.y){return cE.give=true
}if(cA.x>0||cA.y>0){cE&&(cE.give=false);
bb=ak(cA.x,cA.y);
cc={x:cF,y:cH};
cE=cz(bf);
cC=cz(aZ);
cA=cz(t);
if(!cz(m)){var cI=cu(bR,J(cA?cH-cC.y:cF-cC.x,cz(aO),cE,cz(aB),cz(ap),cz(g),cA?cH-cC.y:cF-cC.x));
cu(au,cz(au)||cz(bL)!=cz(a0));
(cD=Z(cA?cD.y:cD.x||0))&&cu(bI,cD<0)
}if(cB&&cz(a2)){cu(t,bN(cH-cC.y)>bN(cF-cC.x));
cC=F(cE,cF,cH)
}if(cG>1&&!cz(C)){cG=cz(v);
cB=cz(bt);
cD=-cB*cG;
cu(al,bo.math.envelope(cH-cC.y,cB,cG,cD,cD+cG,-1))
}!(cI%1)&&!z.loops&&F(cE,cF,cH)
}}},wheel:function(cC,cB,cA){if(cB){Y=true;
cC=b(a4.sqrt(bN(cB))/2);
cC=ce(cC,cB>0);
cB=0.0833*cz(bf);
F(cB);
cC&&cu(bI,cC<0);
cu(ch,0);
cu(bR,J(cC,cz(aO),cB,cz(aB),cz(ap),cz(g)));
cA&&cA.preventDefault();
cA&&(cA.give=false);
ab();
cs.trigger("up",[cA])
}},orient:function(cB,cA){if(!(!cx||U)){cr=true;
cB=cA/360;
fraction=cu(bR,+(z.stitched||z.cw?1-cB:cB).toFixed(2));
cx=false
}},fractionChange:function(cC,cB,cA){if(cB===bk){cC=1+aU(cA/cz(a8));
cB=z.rows>1;
cA=z.orbital;
cu(a2,!!cA&&(cC<=cA||cC>=cz(aH)-cA+2));
if(cB){cC+=(cz(bF)-1)*cz(bH)
}cu(bL,cC)
}},tierChange:function(cC,cB,cA){if(cB===bk){cC=cu(bF,bC(bm(cA,1,z.rows)));
cB=cz(bH);
cA=cz(bL)%cB||cB;
cu(bL,cA+cC*cB-cB)
}},rowChange:function(cC,cB,cA){cB===bk&&cw(al,bk,cA,z.rows)
},frameChange:function(cG,cF,cH){if(cF===bk){this.className=this.className.replace(bo.re.frame_klass,ao+cH);
cG=cz(bH);
cF=z.rows;
var cE=z.path,cB=cH%cG||cG,cC=((cH-cB)/cG+1-1)/(cF-1),cD=cz(bF);
!cF?cz(al):cw(al,cC,cD,cF);
var cA=cw(bR,bk,cB,cG),cJ=cz(aH);
if(z.orbital&&cz(t)){cH=z.inversed?cJ+1-cH:cH;
cH+=cJ
}var cI=cz(by);
cG=cz(b9);
if(!cG.length||cI){cB=cz(aK);
var cK=cz(bQ);
cC=cz(bJ);
if(cI){cH=cu(bV,bC(bm(cA,0,cz(j)))%cI);
cF=cF<=1?0:(cC+cB)*(cF-cD);
cH=[bi(-cH),bi(-cF)];
cG=cG.length>1&&cG[cD-1];
cF=bo.substitute(cE+cG,cz);
cG&&cs.css("backgroundImage").search(cF)<0&&cs.css({backgroundImage:w(cF)})
}else{cE=z.horizontal;
cD=cH%cJ-1;
cD=cD<0?cJ-1:cD;
cH=aU((cH-0.1)/cJ);
cH+=cF>1?0:cz(bI)?0:!z.directional?0:cz(bW);
cH=cH*((cE?cC:cK)+cB);
cF=cD*((cE?cK:cC)+cB);
cH=cG.length?[0,0]:cE?[bi(-cF),bi(-cH)]:[bi(-cH),bi(-cF)]
}cs.css({backgroundPosition:cH.join(bS)})
}else{cz(aX)&&ct();
cz(a9)&&cs.attr({src:bT(bo.substitute(cE+cG[cH-1],cz))})
}}},"frameChange.reach":function(cC,cB,cA){if(!(!cz(aS)||cB!==bk)){cC=bo.math.distance(cz(bO),cA,cz(bH));
if(bN(cC)>=bN(cz(br))){cu(bL,cu(aS));
cu(aS,cu(br,cu(bO,0)));
cs.trigger("stop")
}}},"imageChange imagesChange":function(){cs.trigger("preload")
},"fractionChange.indicator":function(cD,cC,cA){if(z.indicator&&cC===bk){cD=z.indicator;
var cB=z.orbital;
cC=cB&&cz(t)?cz(bJ):cz(bQ);
cB=cB?cz(aH):z.images.length||cz(bH);
cB=b(cC/cB);
cC-=cB;
cA=bC(bm(cA,0,cC));
cA=!z.cw||cz(by)?cA:cC-cA;
cv.$x.css(cz(t)?{left:0,top:bi(cA),bottom:d,width:cD,height:cB}:{bottom:0,left:bi(cA),top:d,width:cB,height:cD})
}},"tierChange.indicator":function(cD,cC,cA){if(z.rows>1&&z.indicator&&cC===bk){var cB=cz(bJ);
cD=z.indicator;
cC=b(cB/z.rows);
cB-=cC;
cA=bC(cA*cB);
cv.$y.css({left:0,top:cA,width:cD,height:cC})
}},"setup.annotations":function(){var cA=cs.parent();
bp.each(cz(aj),function(cF,cC){var cD=typeof cC.node==r?bp(cC.node):cC.node||{};
cD=cD.jquery?cD:bp(bz(ax),cD);
cD=cD.attr({id:cF}).addClass(a7);
var cE=cC.image?bp(bz(a6),cC.image):bp(),cB=cC.link?bp(bz("a"),cC.link).click(function(){cs.trigger("up.annotations",{target:cB})
}):bp();
bd(an(cF),{display:a,position:K},true);
cC.image||cC.link&&cD.append(cB);
cC.link||cC.image&&cD.append(cE);
cC.link&&cC.image&&cD.append(cB.append(cE));
cD.appendTo(cA)
})
},"prepare.annotations":function(){bp.each(cz(aj),function(cA){bp(an(cA)).hide()
})
},"frameChange.annotations":function(cE,cD){if(!(!cz(a9)||cD!==bk)){var cA=cz(bQ),cB=cz(by),cC=cz(bV);
bp.each(cz(aj),function(cF,cH){cF=bp(an(cF));
var cL=cH.start||1,cJ=cH.end,cI=cI||cz(bL),cK=cI-1,cM=cH.at?cH.at[cK]=="+":false;
cK=cH.at?cK:cK-cL+1;
cI=typeof cH.x!=aw?cH.x:cH.x[cK];
var cG=typeof cH.y!=aw?cH.y:cH.y[cK];
cH=cI!==bk&&cG!==bk&&(cH.at?cM:cK>=0&&(!cJ||cK<=cJ-cL));
if(cB){cL=cI>cB-cA&&cC>=0&&cC<cA;
cI=!(cI<cA&&cC>cB-cA)?cI:cI+cB;
cI=!cL?cI:cI-cB;
cI-=cC
}if(cz(aX)){cL=cz(aR);
cI=cI&&cI*cL;
cG=cG&&cG*cL
}cI={display:cH?at:a,left:bi(cI),top:bi(cG)};
cF.css(cI)
})
}},"up.annotations":function(cB,cA){if(!(bb>10||Y)){cB=bp(cA.target);
(cB.is("a")?cB:cB.parents("a")).attr("href")&&(bb=10)
}},"up.steppable":function(){bb||Y||cs.trigger(cz(aZ).x-cs.offset().left>0.5*cz(bQ)?"stepRight":"stepLeft")
},"stepLeft stepRight":function(){ab()
},stepLeft:function(){cu(bI,false);
cu(bR,cz(bR)-cz(a8)*cz(g))
},stepRight:function(){cu(bI,true);
cu(bR,cz(bR)+cz(a8)*cz(g))
},stepUp:function(){cu(bF,cz(bF)-1)
},stepDown:function(){cu(bF,cz(bF)+1)
},resize:function(cF,cE){if(!(cz(aF)&&!cE)){var cB=cz(by),cC=cz(aK);
cF=cz(bJ);
var cD=!cz(b9).length||cB,cA=z.rows||1;
cB=cz(b9).length?!cB?bk:bi(cB)+bS+bi(cF):cB&&bi(cB)+bS+bi((cF+cC)*cA-cC)||bi((cz(bQ)+cC)*cz(aH)-cC)+bS+bi((cF+cC)*cz(bW)*cA*(z.directional?2:1)-cC);
cs.css({height:cD?bi(cF):null,backgroundSize:cB||null});
cE||cs.trigger("imagesChange")
}},"setup.fu":function(){cu(bL,z.frame+(cz(bF)-1)*cz(bH));
cs.trigger("preload")
},"wheel.fu":function(){Y=false
},"clean.fu":function(){cs.trigger("teardown")
},"loaded.fu":function(){cs.trigger("opening")
}},pool:{"tick.reel.preload":function(){if(!(!(L||cz(aF))||cz(bu))){var cD=cz(bQ),cC=aI(ac.$.css(bQ)),cA=cz(b9).length||1,cB=bC(1/cA*cz(a9)*cD);
ac.$.css({width:cC+(cB-cC)/3+1});
if(cz(a9)===cA&&cC>cD-1){L=false;
ac.$.fadeOut(300,function(){ac.$.css({opacity:1,width:0})
})
}}},"tick.reel":function(cD){if(!cz(bu)){var cC=cz(ch),cA=bw(aC),cB=z.monitor;
if(!(!bo.intense&&P())){if(W){cC=cC-cz(cf)/cA*W;
cC=cu(ch,cC>0.1?cC:(W=U=0))
}cB&&H.text(cz(cB));
cC&&W++;
U&&U++;
Z(0);
cx=true;
if(U&&!cC){return S(cD)
}if(cz(a0)){return S(cD,ab())
}if(!(cz(cm)>0)){if(!z.loops&&z.rebound){!U&&!(cz(bR)%1)?Q++:(Q=0);
Q>=z.rebound*1000/cA&&cu(bI,!cz(bI))
}cD=cz(g)*ce(1,cz(bI));
cA=cz(ag);
cC=(!cz(e)||cr||!cA?cC:bN(cz(R))+cC)/bw(aC);
cu(bR,cz(bR)-cC*cD);
cA=!z.duration?cA:cA>0&&cu(ag,cA-1);
!cA&&cz(e)&&cs.trigger("stop")
}}}},"tick.reel.opening":function(){if(cz(aP)){var cB=(z.entry||z.speed)/bw(aC)*(z.cw?-1:1),cA=cu(cm,cz(cm)-1);
cu(bR,cz(bR)+cB);
cA||cs.trigger("openingDone")
}}}},L=false,S=function(cB,cA){return cB.stopImmediatePropagation()||cA
},cb=function(){cs.trigger("setup")
},U,W=0,M=function(){return U=0
},ab=function(){clearTimeout(O);
aq.unbind(bZ+bj(aP),aa.pool[bZ+bj(aP)]);
cu(cm,0);
cu(be,true);
return U=-z.timeout*bw(aC)
},bb=0,Y=false,cr=false,H=bp(),ac=function(){bd(bS+bj(ck),{position:K,left:0,bottom:0,height:z.preloader,overflow:aE,backgroundColor:"#000"});
return ac.$=bp(bz(ax),{"class":ck})
},cv=function(cA){bd(bS+bj(b4)+bj(cA),{position:K,width:0,height:0,overflow:aE,backgroundColor:"#000"});
return cv["$"+cA]=bp(bz(ax),{"class":b4+bS+cA})
},bd=function(cD,cC,cA){function cB(cF){var cE=[];
bp.each(cF,function(cG,cH){cE.push(cG.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+bi(cH)+";")
});
return"{"+cE.join(bG)+"}"
}cA=cA?bG:cz(cp);
cD=cD.replace(/^/,cA).replace(b0,b0+cA);
return bd.rules.push(cD+cB(cC))&&cC
},P=function(){var cC=cz(bJ),cB=cz(bQ),cA=cs[0].getBoundingClientRect();
return cA.top<-cC||cA.left<-cB||cA.right>cB+bp(bA).width()||cA.bottom>cC+bp(bA).height()
},Q=0,cc={x:0,y:0},Z=function(cA){return bc.push(cA)&&bc.shift()&&cA
},V=function(){return bc=[0,0]
},bc=V(),J=z.graph||bo.math[z.loops?"hatch":"envelope"],X=function(){clearTimeout(ad);
ad=setTimeout(ct,bo.resize_gauge)
},ct=function(){if(cs.width()!=cz(bQ)){var cB=cz(aN),cA=cu(aR,cs.width()/cB.width);
bp.each(cB,function(cC,cD){cu(cC,bC(cD*cA))
});
cs.trigger("resize")
}},O,ad,F=function(cE,cD,cA){var cB=cu(aO,cz(bR));
cu(bt,cz(al));
var cC=z.loops;
cu(aB,cC?0:-cB*cE);
cu(ap,cC?cE:cE-cB*cE);
return cD!==bk&&cu(aZ,{x:cD,y:cA})||bk
},cx=true,cw=function(cE,cD,cA,cB){if(cB){var cC=cz(cE)||0;
cA=cD!==bk?cD:(cA-1)/(cB-1);
cA=cE!=bR?cA:co(cA,0.9999);
return cD=+bN(cC-cA).toFixed(8)>=+(1/(cB-1)).toFixed(8)?cu(cE,cA):cD||cC
}},cq=aq;
try{if(aq[0]!=top.document){cq=aq.add(top.document)
}}catch(cy){}top===self?bp():function(cA){bp("iframe",cq.last()).each(function(){try{if(bp(this).contents().find(cj).html()==bp(cj).html()){return(cA=bp(this))&&false
}}catch(cB){}});
return cA
}();
bd.rules=[];
aa.setup()
});
aG=aG||function y(){var H=+new Date,F=bw(aC);
if(!F){return aG=null
}aq.trigger(bZ);
bo.cost=(+new Date+bo.cost-H)/2;
return aG=setTimeout(y,ak(4,1000/F-bo.cost))
}();
return bp(k)
}},unreel:function(){return this.trigger("teardown")
}},re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,no_match:/^(undefined|)$/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(z,k,A,n,y,x){return k+l(n,y,-z*x)/A
},hatch:function(z,k,A,n,y,x){z=(z<n?y:0)+z%y;
z=k+-z*x/A;
return z-aU(z)
},interpolate:function(n,k,x){return k+n*(x-k)
},distance:function(x,k,y){var n=y/2;
x=k-x;
return x<-n?x+y:x>n?x-y:x
}},preload:{fidelity:function(B,n,D){function x(O,P,U){function S(V){for(;
!(V>=1&&V<=M);
){V+=V<1?+M:-M
}return y[U+V]||(y[U+V]=!!J.push(V))
}if(!O.length){return[]
}var J=[],H=4*P,L=n.frame,M=O.length;
P=true;
for(var F=M/H,Q=0;
Q<H;
Q++){S(L+bC(Q*F))
}for(;
F>1;
){Q=0;
H=J.length;
F/=2;
for(P=!P;
Q<H;
Q++){S(J[Q]+(P?1:-1)*bC(F))
}}for(Q=0;
Q<=M;
Q++){S(Q)
}for(Q=0;
Q<J.length;
Q++){J[Q]=O[J[Q]-1]
}return J
}var A=n.orbital,z=A?2:n.rows||1,k=A?D(aH):D(bH);
D=(n.row-1)*k;
A=[].concat(B);
var y=new Array(B.length+1);
B=z<2?[]:A.slice(D,D+k);
return x(B,1,D).concat(x(A,z,0))
},linear:function(k){return k
}},substitute:function(n,k){return n.replace(bo.re.substitution,function(z,x,y){return typeof bo.substitutes[y]=="function"?bo.substitutes[y](k):aL[y]?k(aL[y]):x
})
},substitutes:{T:function(){return +new Date
}},normal:{fraction:function(n,k){if(n===null){return n
}return k[bX].loops?n-aU(n):l(0,1,n)
},tier:function(k){if(k===null){return k
}return l(0,1,k)
},row:function(n,k){if(n===null){return n
}return bC(l(1,k[bX].rows,n))
},frame:function(n,k){if(n===null){return n
}var x=k[bX];
k=k[bH]*(x.orbital?2:x.rows||1);
n=bC(x.loops?n%k||k:l(1,k,n));
return n<0?n+k:n
},images:function(n,k){var x=bo.re.sequence.exec(n);
return !x?n:bo.sequence(x,k[bX])
}},sequence:function(B,n){if(B.length<=1){return n.images
}var D=[],x=n.orbital,A=B[1],z=B[2],k=B[4];
k=bo.re.no_match.test(k+bG)?1:+k;
var y=x?2:n.rows||1;
n=x?n.footage:n.stitched?1:n.frames;
y=+(B[5]||y*n)-k;
B=+B[7]||1;
for(n=0;
n<=y;
){D.push(A.replace(z,bM(k+n+bG,z.length,"0")));
n+=B
}return D
},instances:bp(),leader:bw,resize_gauge:300,concurrent_requests:4,cost:0},aq=bp(bx);
bx=navigator.userAgent;
var aA=bo.re.ua[0].exec(bx)||bo.re.ua[1].exec(bx)||bo.re.ua[2].exec(bx);
bv=+aA[2].split(".").slice(0,2).join(".");
aA=aA[1]=="MSIE";
var b6=!(aA&&bv<8),h=!(aA&&bv<9),aG,bh="reel",az=bh+"-overlay",cd=bh+"-cache",b4=bh+"-indicator",ck=bh+"-preloader",av=bh+"-monitor",a7=bh+"-annotation",cg=bh+"-panning",q=bh+"-loading",ao="frame-",a4=Math,bC=a4.round,aU=a4.floor,b=a4.ceil,co=a4.min,ak=a4.max,bN=a4.abs,aI=parseInt,bm=bo.math.interpolate,aj="annotations",a3="area",d="auto",bY="backup",bI="backwards",a8="bit",cf="brake",b8="cache",af=b8+"d",a2="center",aY="class",E="click",a0=E+"ed",aZ=a0+"_location",aO=a0+"_on",bt=a0+"_tier",g="cwish",bO="departure",aS="destination",br="distance",aH="footage",bR="fraction",bL="frame",m="framelock",bH="frames",bJ="height",ap="hi",aE="hidden",cn="image",b9="images",aB="lo",aF="loading",aP="opening",cm=aP+"_ticks",bX="options",e="playing",a9="preloaded",aR="ratio",au="reeling",be="reeled",aX="responsive",bf="revolution",v="revolution_y",bF="row",C="rowlock",bW="rows",bu="shy",aK="spacing",R="speed",aV="src",cp="stage",by="stitched",bV=by+"_shift",j=by+"_travel",bD="stopped",ca="style",aC="tempo",ag="ticks",al="tier",aN="truescale",ch="velocity",t="vertical",bQ="width",bP=bj(bh),G=bj("pan")+bP,p="deviceorientation"+bP,I="dragstart"+bP,ar="mousedown"+bP,aD="mouseenter"+bP,a5="mouseleave"+G,b3="mousemove"+G,aW="mouseup"+G,ah="mousewheel"+bP,bZ="tick"+bP,bl="touchcancel"+G,bB="touchend"+G,aQ="touchstart"+bP,ci="touchmove"+G,bg="resize"+bP,bG="",bS=" ",b0=",",K="absolute",at="block",ae="@CDN@",ax="div",aT="hand",cj="head",b5="html",o="id",a6="img",aJ="jquery."+bh,a="none",aw="object",r="string",bU=[bQ,bJ,aK,bf,v,by,bV,j],aL={W:bQ,H:bJ},ai=b6?T("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):ae+"blank.gif",ba=w(ae+aJ+".cur")+b0+"move",bs=w(ae+aJ+"-drag.cur")+b0+"move",a1=w(ae+aJ+"-drag-down.cur")+b0+"move";
bo.lazy=bo.re.lazy_agent.test(bx);
var c=aA&&bv<9?1:0,bK=bp.cleanData;
bp.cleanData=function(k){bp(k).each(function(){bp(this).triggerHandler("clean")
});
return bK.apply(this,arguments)
};
bp.extend(bp.fn,bo.fn)&&bp(bo.scan);
return bo
}}(jQuery,window,document)
});
function AXZAuthenticator(k){var b=function(p,q){};
function e(q,p){return n(g(q,p),p)
}function n(q,p){p=p||"\\s";
return q.replace(new RegExp("^["+p+"]+","g"),"")
}function g(q,p){p=p||"\\s";
return q.replace(new RegExp("["+p+"]+$","g"),"")
}if(!k){k=document.cookie
}var h="AXZAuthCookie";
var a=function(){var q=new Object();
var p=k.split(";");
for(var r=0;
r<p.length;
r++){var v=p[r];
var u=e(v.substring(0,v.indexOf("=")));
var t=e(v.substring(v.indexOf("=")+1,v.length));
t=t.replace(/\"/g,"");
b(u,t);
q[u]=t
}return q
};
var d=(function(){var p=a()[h];
if(p&&p.length>20){return p
}})();
b("authCookie",d);
var f="AZ";
var c="FNX";
var j="PRX";
var l="SPX";
var o="MSRP";
var m="Invalid Plan Identifier";
this.AZ_PLAN=f;
this.FNX_PLAN=c;
this.PRX_PLAN=j;
this.SPX_PLAN=l;
this.MSRP=o;
this.INVALID_PLAN=m;
this.getPlanTypeForServices=function(){if(d){var r=d.substr(0,10);
var p=r.split("");
var q=parseInt(p[0]);
if(!this.validateCheckSum(p,q)){return this.INVALID_PLAN
}if(p[q]==="1"){return this.AZ_PLAN
}else{if(p[q]==="2"){return this.FNX_PLAN
}else{if(p[q]==="3"){return this.PRX_PLAN
}else{if(p[q]==="4"){return this.SPX_PLAN
}else{return o
}}}}}else{return o
}};
this.validateCheckSum=function(p,q){var v=parseInt(p[q]);
var t=0;
for(i=0;
i<p.length;
i++){if(0==i||q==i){continue
}t+=parseInt(p[i])
}var r=t%10;
var u=(q+v)%10;
if(u!=r){return false
}return true
};
this.getPlanType=function(){return this.getPlanTypeForServices()
};
this.getPlanTypeForDisplay=function(){var p=this.getPlanTypeForServices();
if(p===this.AZ_PLAN){return"A/Z Plan"
}else{if(p===this.FNX_PLAN||p===this.PRX_PLAN||p===this.SPX_PLAN){return"X Plan"
}else{if(p==this.INVALID_PLAN){return"Invalid Plan"
}else{return"MSRP"
}}}}
}function ThirdPartyAuthenticator(){var c=FD.Brand.Context;
var q=(c&&c.settings&&c.settings.env==="prod")?"cdrProfile":"cdrProfile_qa";
var o="accessToken";
var d="cdrprofileid";
var p="cdrprofileprovider";
var f="profilecreationstatus";
var k="consumerId";
var r="timestamp";
var m="lhSessionId";
var h=".ford.com";
var b="/";
var n="height=250,width=400,status=no,location=no,toolbar=no,directories=no,menubar=no";
var a="versataPopUp";
this.getAuthWindow=function(t){url="/debug/thirdparty.jsp?redirectUrl="+t;
features=n;
window[a]=open(url,"",features)
};
this.popupCallback=function(){window[a].close()
};
this.logoutUser=function(){e(q,b,l())
};
function g(){var v=document.cookie.indexOf(q+"=");
var t=v+q.length+1;
if((!v)&&(q!=document.cookie.substring(0,q.length))){return null
}if(v==-1){return null
}var u=document.cookie.indexOf(";",t);
if(u==-1){u=document.cookie.length
}return(unescape(document.cookie.substring(t,u)))
}function j(w){var u=g();
if(u==null||u==""||u=="null"){return null
}if(w==q){return unescape(u)
}var x=u.indexOf(w+"=");
var v=x+w.length+1;
if((!x)&&(w!=u.substring(0,w.length))){return null
}if(x==-1){return null
}var t=u.indexOf("|",v);
if(t==-1){t=u.length
}return unescape(u.substring(v,t))
}function e(t,v,u){if(j(t)){document.cookie=t+"="+((v)?";path="+v:"")+((u)?";domain="+u:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"
}}function l(){var t=document.location.host;
var u;
if(t.indexOf(".",0)>0){t=t.split(":")[0];
u=t.split(".");
t="."+u[u.length-2]+"."+u[u.length-1]
}else{t=".ford.com"
}return t
}this.getUserId=function(){return j(d)
};
this.getAccessToken=function(){return j(o)
};
this.getProvider=function(){return j(p)
};
this.getProfileStatus=function(){return j(f)
};
this.getConsumerId=function(){return j(k)
};
this.getTimestamp=function(){return j(r)
};
this.getLHSessionId=function(){return j(m)
}
}(function(b,a){a(c);
function c(){a("html").addClass("fgx-brand-"+FD.Brand.Context.make);
if((a("body").hasClass("cq-wcm-preview")||a("body").hasClass("cq-wcm-edit")||a("body").hasClass("cq-wcm-design"))&&(FD.Brand.Context.settings&&!FD.Brand.Context.settings.syn)){a("body").addClass("fgx-pantry-bootstrap");
a("body").addClass("fgx-brand-css")
}FD.Brand.initComponent("body");
if(FD.Brand.Angular){FD.Brand.Angular.bootstrap()
}}})(window,jQuery);
(function(a){a.fn.findAll=function(c){var b=this.find(c);
return(this.is(c))?b.add(this):b
}
})(jQuery);
(function(K,A,J,P){_.extend(J.namespace("FD.Brand.Util",K),{addMoreLink:k,updateMoreLink:G,moreLessInit:H,ctaHover:f,swapColors:F,currentBreakpoint:o,log:j,toArray:r,objPath:v,inViewport:M,cookie:{get:e,set:l,remove:Q},parameters:{encode:y,decode:c},url:{queryString:C,loadAsScript:h,loadAsStyle:g,extension:p,protocol:n,prepend:R},dateTime:{longFormat:B},env:{browser:u,geoLocation:function(){return b
},touch:function(){return m
}},images:{load:d,renditionUrl:a,stripRenditionUrl:O},video:{addRefTag:t},accordion:{update:w},carousel:{swipe:E},distance:{betweenCoords:q},window:{scrollTo:x}});
var L=null,b=false,m=(("ontouchstart" in K)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0));
L=document.querySelector(".mbp-test");
if(!L){L=document.createElement("div");
L.classList.add("mbp-test");
document.body.appendChild(L)
}b=false;
if(window.navigator.geolocation){if(window.navigator.permissions&&window.navigator.permissions.query){window.navigator.permissions.query({name:"geolocation"}).then(function(S){if(S.state!=="denied"){b=true
}})
}else{if(n().get()==="https://"){b=true
}}}function N(W,X){var T=W.substr(0,X);
var Z=false;
var Y=0;
var V=T.indexOf("<");
if(V>=0){for(var U=(X-1);
U>0;
U--){if(T[U]==="<"){Z=true;
break
}else{if(T[U]===">"){Z=false;
break
}}}if(Z){for(var S=X;
S<W.length;
S++){if(W[S]===">"){Z=false;
Y=((S+1)-X);
break
}}X+=Y
}}return X
}function k(V,W,S){var W=W||100,S=S||".description",X=S+" a.read_more",U="...more",T="...less";
A(S,V).each(function(){var aa=A(this).html();
if(aa.length>W){W=N(aa,W);
var Y=aa.substr(0,W),ab=aa.substr(W,aa.length-W),Z="<span class='initial_desc'>"+Y+"</span><span class='more_text'>"+ab+"</span><span><a href='#' class='read_more'>"+U+"</a></span>";
A(this).html(Z)
}});
A(X,V).click(function(Y){Y.preventDefault();
if(A(this).hasClass("less")){A(this).removeClass("less");
A(this).html(U);
A(this).parent().siblings(".more_text").removeClass("show-inline-force")
}else{A(this).addClass("less");
A(this).html(T);
A(this).parent().siblings(".more_text").addClass("show-inline-force")
}})
}function G(T,U,S){var S=S||".description";
A(S,T).each(function(){var V=A(this).children(".initial_desc").html();
var X=A(this).children(".more_text").html();
var W=V+X;
if(W.length>U){U=N(W,U);
A(this).find(".read_more").removeClass("hidden");
A(this).children(".more_text").removeClass("hidden");
V=W.substr(0,U);
X=W.substr(U,W.length-U);
A(this).children(".initial_desc").html(V);
A(this).children(".more_text").html(X)
}else{A(this).find(".read_more").addClass("hidden");
A(this).children(".more_text").addClass("hidden");
A(this).children(".more_text").html("");
A(this).children(".initial_desc").html(W)
}})
}function z(U,T,S){if(U>T){S.find("span.mlspanless").hide();
S.find("span.mlspanmore").show();
S.show();
return true
}else{S.hide();
return false
}}function H(V,W,T,U,S){var S=S||".ml-wrapper",T=T||3,U=A("html").hasClass("fgx-brand-Ford")?(U||1.15):1.6;
T=(T*U)+"em";
A(S,V).each(function(){var Y=A(this),Z=Y.children(".mllink"),aa=Y.children(".mltext"),X,ac,ab;
if(Y.closest(".carousel").length===1&&!aa.is(":visible")){ab=Y.closest(".item");
ab.addClass("hiddenHeight")
}aa.css("height",T);
aa.removeClass("mltext-more");
X=aa[0].clientHeight;
ac=aa[0].scrollHeight-1;
if(ab&&ab.hasClass("hiddenHeight")){ab.removeClass("hiddenHeight")
}if(!z(ac,X,Z)){aa.addClass("mltext-more")
}else{aa.removeClass("mltext-more")
}if(W){Z.on("click",function(){aa.toggleClass("mltext-more");
Z.find("span.mlspanmore").toggle();
Z.find("span.mlspanless").toggle();
return false
})
}})
}function f(S){S.each(function(){if(A("html").hasClass("fgx-brand-Lincoln")||!A(this).hasClass("default-hover")){A(this).hover(function(){F.call(this)
},function(){F.call(this)
})
}})
}function F(){var S=A(this).css("backgroundColor"),T=A(this).css("color");
A(this).css("color",S);
A(this).css("backgroundColor",T)
}function o(){_mbpWdth=L.offsetWidth;
if(_mbpWdth<768){return"gux-bkpt-sm"
}else{if(_mbpWdth<992){return"gux-bkpt-med"
}else{if(_mbpWdth<1200){return"gux-bkpt-lg"
}else{return"gux-bkpt-xlg"
}}}}function e(S,T){var U=null;
_.each((document.cookie||"").split("; "),function(V){var W=V.indexOf("=");
if(V.substring(0,W)===S){U=V.substring(W+1);
if(T){U=decodeURIComponent(U)
}return false
}});
return U
}function l(T,W,U){var S=[encodeURIComponent(T),"=",(U.encodeValue)?encodeURIComponent(W):W],V;
if(U.expires){if(!_.isDate(U.expires)){var V=new Date();
V.setTime(V.getTime()+(U.expires*24*60*60*1000))
}else{V=U.expires
}S.push("; expires="+V.toUTCString())
}if(U.path){S.push("; path="+U.path)
}if(U.domain){S.push("; domain="+U.domain)
}if(U.secure){S.push("; secure")
}document.cookie=S.join("")
}function Q(S){l(S,null,{expires:new Date("Thu, 01 Jan 1970 00:00:00 GMT")})
}function y(T){var S=[];
_.each(T,function(V,U){S.push(encodeURIComponent(U)+"="+encodeURIComponent(V))
});
return S.join("&")
}function c(T){var S={};
_.each((T||"").split("&"),function(U){var V=U.indexOf("=");
if(V>=0){S[decodeURIComponent(U.substring(0,V))]=decodeURIComponent((U.substring(V+1)))
}});
return S
}function C(T){return new S(c((T||window.location.search||"").substring(1)));
function S(V){var ab=this,W=V;
ab.add=Z;
ab.remove=U;
ab.asObject=Y;
ab.asString=X;
ab.addToUrl=aa;
return ab;
function Z(ac,ad){if(_.isObject(ac)){W=_.extend(W,ac)
}else{W[ac]=ad
}return ab
}function U(ac){W=_.omit(W,_.isArray(ac)?ac:[ac]);
return ab
}function Y(){return W
}function X(){var ac=y(W);
return((ac.length>0)?"?":"")+ac
}function aa(af){var ae="";
if(af&&typeof(af)!=="undefined"){var ah=af.indexOf("?");
var ad=af;
if(ah>=0){var ag=af.substring(ah);
var ac=J.Util.url.queryString(ag);
ad=af.substring(0,ah);
ab.add(ac.asObject())
}ae=ad+ab.asString()
}return ae
}}}function h(X,T){var U=(document.getElementsByTagName("head")[0]||document.documentElement),W=document.createElement("script"),S=false,V=A.Deferred();
W.onload=W.onreadystatechange=function(){if(!S&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){S=true;
W.onload=W.onreadystatechange=null;
if(U&&W.parentNode){U.removeChild(W)
}W=undefined;
V.resolve()
}};
W.onerror=function(){V.reject()
};
U.appendChild(W);
W.setAttribute("type","text/javascript");
if(T){_.forEach(T,function(Z,Y){W.setAttribute(Y,Z)
})
}W.setAttribute("src",X);
return V.promise()
}function g(T){var S=A("<link>").attr({rel:"stylesheet",type:"text/css",href:T});
A("head").append(S)
}function n(S){return new T(S||window.location.href||"");
function T(W){var Z=this;
var X=W;
Z.get=V;
Z.set=Y;
Z.remove=U;
Z.url=function(){return X
};
function V(){var aa=X.match(/^(https?:)?\/\//i);
return aa?aa[0]:""
}function Y(aa){aa=aa||(window.location.protocol+"//");
U();
X=aa+X;
return Z
}function U(){X=X.replace(/^(https?:|)\/\//,"");
return Z
}}}function p(T){return new S((T||location.pathname||""));
function S(V){var Y=this,W=V;
Y.remove=U;
Y.removeSpecified=X;
return Y;
function U(){W=W.replace(/\.[^/.]+$/,"");
return W
}function X(Z){var aa=(W.length-Z.length);
if(W.substr(aa)===Z){W=W.substr(0,aa)
}return W
}}}function R(S,T){return(S.indexOf(T)!==0)?T+S:S
}function B(T){var T=T||new Date();
var S={en_us:"<%- MMMM %> <%- d %>, <%- y %>",es_us:"<%- d %> de <%- MMMM %> de <%- y %>",en_ca:"<%- MMMM %> <%- d %>, <%- y %>",fr_ca:"<%- d %> <%- MMMM %> <%- y %>"}[P.locale];
return(_.template(S))({MMMM:P.localizedMonthNames[T.getMonth()],d:T.getDate(),y:T.getFullYear()})
}function u(){var T=navigator.userAgent,S,U=T.match(/(android|opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];
if(/trident/i.test(U[1])){S=/\brv[ :]+(\d+)/g.exec(T)||[];
return{name:"IE ",version:(S[1]||"")}
}if(U[1]==="Chrome"){S=T.match(/\bOPR\/(\d+)/);
if(S!==null){return{name:"Opera",version:S[1]}
}}U=U[2]?[U[1],U[2]]:[navigator.appName,navigator.appVersion,"-?"];
if((S=T.match(/version\/(\d+)/i))!==null){U.splice(1,1,S[1])
}return{name:U[0].toLowerCase(),version:parseInt(U[1],10)}
}function j(){if(K.console&&console.log){if(console.log.apply){console.log.apply(console,arguments)
}else{for(var S=0;
S<arguments.length;
S++){console.log(arguments[S])
}}}}function r(S){return(S==null)?null:(A.isArray(S)?S:[S])
}function v(V,U){var T=(U||"").split(".");
for(var S=0;
S<T.length;
S++){var W=T[S];
if(W.length==0||typeof(V[W])==="undefined"){return null
}V=V[W]
}return V
}function d(U){if(K.HTMLPictureElement){return
}var T=D(U),S={elements:T};
K.picturefill(S)
}function D(X){var T=[],W=A("img",X);
for(var U=0,S=W.length;
U<S;
U++){var V=W[U];
if(V.parentNode.nodeName.toUpperCase()==="PICTURE"||(V.getAttribute("srcset")!==null)||V.picturefill&&V.picturefill.srcset!==null){T.push(V)
}}return T
}function a(T,S){return T&&T+"/jcr:content/renditions/"+(S||"original"+T.substring(T.lastIndex(".")))
}function O(T){var V=T.indexOf("/jcr:content/renditions/"),U=T.indexOf("/_jcr_content/renditions/"),S=(V>-1)?V:U;
if(S>-1){T=T.substring(0,S)
}return T
}function t(S){return(S.indexOf("ref:")>-1)?S:("ref:"+S)
}function M(V){if(!V||!V.length){return false
}var U=A(K),T={top:U.scrollTop(),left:U.scrollLeft()};
T.bottom=T.top+U.height();
var S=V.offset();
S.bottom=S.top+V.outerHeight(true);
return !((S.bottom<=T.top)||(S.top>=T.bottom))
}function w(V,U,W,X,Z,aa){var ae=V,S=W||".accordion-heading",T=S+".open",ac=X||".accordion-content",ad=ac+".open",Y=(Z)?true:false;
if(!ae||ae.length===0||!U||U.length===0){return
}if(ae.hasClass("open")){ae.toggleClass("open");
ae.attr("aria-pressed","false");
ae.next(ac).toggleClass("open").hide()
}else{A(T,U).removeClass("open");
A(T,U).attr("aria-pressed","false");
A(ad,U).removeClass("open").hide();
ae.toggleClass("open");
ae.attr("aria-pressed","true");
var ab="animationend webkitAnimationEnd MSAnimationEnd transitionend webkitTransitionEnd";
if(Y){ae.next(ac).show().toggleClass("open")
}else{ae.next(ac).show().toggleClass("open").one(ab,function(){A("html, body").animate({scrollTop:ae.offset().top-A(".navbar-static-top").height()},200)
})
}}if(typeof aa!="undefined"){aa.call(ae)
}}function E(T,S){var U=new Hammer.Manager(T,{touchAction:"auto",inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput,recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]});
U.on("dragleft swipeleft dragright swiperight",function(V){switch(V.type){case"swipeleft":case"dragleft":S(T,"next");
break;
case"swiperight":case"dragright":S(T,"prev");
break
}})
}function q(X,Z,V,Y,T){var U=6371;
var ab=I(V-X);
var S=I(Y-Z);
var ad=Math.sin(ab/2)*Math.sin(ab/2)+Math.cos(I(X))*Math.cos(I(V))*Math.sin(S/2)*Math.sin(S/2);
var ac=2*Math.atan2(Math.sqrt(ad),Math.sqrt(1-ad));
var ae=U*ac;
var W=ae*0.621371;
var aa={km:ae.toFixed(2),mi:W.toFixed(2)};
if(T){aa.km=aa.km+"km";
aa.mi=aa.mi+"mi"
}return aa
}function I(S){return S*(Math.PI/180)
}function x(S,U){var aa=A(S);
if(aa.length===0){return
}var Y=aa.get(0);
var W=window.scrollY||window.pageYOffset;
var Z=Y.getBoundingClientRect().top;
var V=Date.now();
function X(ac,ab,ae,ad){if((ac/=ad/2)<1){return -ae/2*(Math.sqrt(1-ac*ac)-1)+ab
}return ae/2*(Math.sqrt(1-(ac-=2)*ac)+1)+ab
}function T(){var ab=Date.now()-V;
var ac=X(ab,W,Z-W,U);
K.scrollTo(0,ac);
if(ab>=U){K.scrollTo(0,Z)
}else{K.setTimeout(T,20)
}}K.setTimeout(T,20)
}})(window,jQuery,FD.Brand,FD.Brand.Context);
(function(c){var b=false;
_.extend(FD.Brand.namespace("FD.Brand.Angular",c),{init:d,bootstrap:a});
function d(){if(c.angular&&!b){angular.module("fgx.components",[]);
angular.module("fgx.directives",[]);
angular.module("fgx.filters",[]);
angular.module("fgx.services",[]);
angular.module("fgx.app",["ngAria","ngResource","ngSanitize","ngAnimate","fgx.components","fgx.directives","fgx.filters","fgx.services"]).constant("AppContext",FD.Brand.Context);
b=true
}}function a(f,e){if(c.angular&&b){angular.bootstrap(f||document,[e||"fgx.app"])
}}})(window);
(function(J,C,I,f,r){_.extend(I.namespace("FD.Brand.User",J),{location:e("location",g,{detail:N(p),setPostalCode:m,coordinates:H}),pricing:e("pricing",k),authentication:e("authentication",N(o),{login:function(){FD.Brand.Link.processLink("#$userSignIn")
},logout:function(){FD.Brand.Link.processLink("#$userSignOut")
}}),fps:e("fps",N(c),{get:h,set:t}),dealer:e("dealer",N(F),{setPreferred:q,removePreferred:b,refresh:R}),profile:e("profile",N(x))});
var P=r.settings["clwLighthouseUrl"+r.make];
var z=r.settings["ngbsSecureUrl"+r.make];
var v=J.ThirdPartyAuthenticator;
var Q=r.settings.fpsUrl;
var A=null;
var B=null;
var l=null;
var d=null;
var G=null;
var L=null;
var y=null;
var u=null;
var w=I.User.fps.current;
C(M);
function M(){var S=r.nameplate;
if(S){E({make:r.make,model:S.ngpModelName,year:S.ngpYear,html:false})
}else{E({make:r.make,html:false})
}}function e(U,S,T){return _.extend({subscribe:function(W,V){return O(U,W,V!==true&&S())
},unsubscribe:D,current:S},T||{})
}var a={};
var n=0;
function j(T,U,V){if(!a[T]){return false
}setTimeout(function S(){_.each(V?[{callback:V}]:a[T],function(X){try{X.callback(U,T)
}catch(W){f.log("user.lib: error occurred publishing state topic "+T,U,W)
}})
},0);
return true
}function O(T,V,S){if(!a[T]){a[T]=[]
}var U={topic:T,id:++n};
a[T].push({handle:U,callback:V});
if(S){C.when(S).done(function(W){j(T,W,V)
})
}return U
}function D(S){_.remove(a[S.topic]||[],function(T){return T.handle.id===S.id
})
}function N(S){var U=null;
var T=function(){var V;
if(U===null){V=C.Deferred();
U=V.promise();
S(V)
}return U
};
T.$_reset=function(){U=null
};
return T
}function g(){if(!A){A={};
var S=f.cookie.get("FPI");
if(S){S=f.parameters.decode(S).zip;
if(S){A.postalCode=S;
A.postalCodeSource="FPI"
}}if(!A.postalCode){_.each((f.cookie.get("userInfo")||"").split(","),function(T){if(T.substr(0,4)==="zip="){A.postalCode=T.substr(4,(r.region==="CA"?6:5));
A.postalCodeSource="Akamai"
}})
}if(r.region==="CA"&&(!A.postalCode||!/^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[A-Za-z]{1} *\d{1}[A-Za-z]{1}\d{1}$/.test(A.postalCode))){A.postalCode="L6J5E4";
A.postalCodeSource="Default"
}}return K(A)
}function p(S){if(B){S.resolve(B)
}else{FD.Brand.NgpServices.location(g().postalCode).then(function(V){if(V){if(r.region==="CA"){var T=V.Provinces&&V.Provinces.Province&&V.Provinces.Province.content;
B={geoKey:T,province:T,regions:null}
}else{B={geoKey:V.GeoKey,state:V.States&&V.States.State&&V.States.State.content,regions:_.transform(V.Regions.Region,function(X,W){X[W.type]=W.Code
},{})}
}if(A.postalCode){var U={make:r.make,radius:50,minDealers:1,maxDealers:1,postalCode:A.postalCode};
FD.Brand.NgpServices.dealers(U).done(function(W){if(!W||W.length===0){S.resolve(B)
}else{if(B){B.paCode=(W[0].PACode)?W[0].PACode:""
}S.resolve(B)
}})
}}},function(){S.resolve(B)
})
}}function m(S){if(A&&A.postalCode==="postalCode"&&A==="user"){return
}A=A||{};
A.postalCode=S;
A.postalCodeSource="user";
if(B!==null){B=null;
I.User.location.detail.$_reset()
}E({zip:S});
if(!FD.Brand.Context.settings.syn){postfdanalytics.updateRegionsCookie()
}j("location",g())
}function H(){if(!l){l={};
if(f.env.geoLocation()){window.navigator.geolocation.getCurrentPosition(function(S){if(S&&S.coords){l.lat=S.coords.latitude;
l.lon=S.coords.longitude
}})
}}return K(l)
}function k(){if(!d){d={};
if(r.region==="CA"||_.isUndefined(J.AXZAuthenticator)){d.planType="MSRP"
}else{d.planType=(new J.AXZAuthenticator()).getPlanType()
}d.pricePlan={MSRP:"MSRP",AZ:"AZPLAN",SPX:"XPLAN",FNX:"XPLAN",PRX:"XPLAN"}[d.planType]
}return K(d)
}function o(U){var V=function(){U.resolve(K(G))
};
if(G){U.resolve(K(G))
}else{G={authType:"none"};
if(v){var S=new v();
var T=S.getProvider();
if(T==="ANONYMOUS"){G.authType="anon"
}G.provider=T;
G.cdrProfileId=S.getUserId();
G.accessToken=S.getAccessToken();
G.consumerId=S.getConsumerId()
}if(P){C.ajax({url:P+"/EAI/api/session/isAuthenticated",dataType:"json",xhrFields:{withCredentials:true}}).done(function(W){G.hasSeal=W.status==="yes";
if(G.hasSeal){G.authType="user"
}else{if(G.authType!=="anon"&&G.cdrProfileId){S.logoutUser()
}}V()
}).fail(function(W){f.log("user.lib: Lighthouse isAuthenticated check failed",W);
V()
})
}else{G.hasSeal=false;
V()
}}}function x(S){var T=function(){S.resolve(K(y))
};
if(y){T()
}else{FD.Brand.User.authentication.current().then(function(U){if(U.authType==="user"){C.ajax({url:z+"/services/secure/users/v2/currentUser.json",dataType:"json",xhrFields:{withCredentials:true}}).done(function(V){y=V;
T()
}).fail(function(V){f.log("user.lib: Get User Profile failed",V);
T()
})
}})
}}function F(S){var T=function(){S.resolve(K(u))
};
if(u){T()
}else{u={};
w().done(function(U){h([{PreferredDealer:{max:1}}]).done(function(Z){var V=Z&&Z.length>0&&Z[0].PreferredDealer;
if(V){var X=_.pluck(V,"_paCode"),W=g(),Y=(W&&W.postalCode)?W.postalCode:"";
if(X.length>0){FD.Brand.NgpServices.dealer({make:r.make,dealerPACode:X[0],customerPostalCode:Y}).done(function(aa){u.preferred=aa;
T()
}).fail(T);
return
}}T()
}).fail(T)
})
}}function q(S){var T=C.Deferred();
if(u.preferred&&u.preferred.PACode===S){T.resolve()
}else{w().done(function(U){FD.Brand.NgpServices.dealer({make:r.make,dealerPACode:S}).done(function(V){if(V){t([FPS.lib.PreferredDealer(S,V.Name)]).done(function(W){u.preferred=V;
I.User.dealer.current.$_reset();
j("dealer",K(u));
T.resolve()
}).fail(function(){T.reject()
})
}else{f.log("user.lib: no dealer found for "+S);
T.reject()
}}).fail(function(){T.reject()
})
})
}return T.promise()
}function b(S){var T=C.Deferred();
if(u.preferred&&u.preferred.PACode!==S){T.resolve()
}else{w().done(function(U){FD.Brand.NgpServices.dealer({make:r.make,dealerPACode:S}).done(function(V){if(V){t([{PreferredDealer:{_paCode:S,description:V.Name},metadata:{active:"false"}}]).done(function(W){if(u.preferred){u.preferred=null;
I.User.dealer.current.$_reset()
}j("dealer",K(u));
T.resolve()
}).fail(function(){T.reject()
})
}else{f.log("user.lib: no dealer found for "+S);
T.reject()
}}).fail(function(){T.reject()
})
})
}return T.promise()
}function R(){var T=function(){return u&&u.preferred&&u.preferred.PACode||""
};
var S=T();
u=null;
I.User.dealer.current.$_reset();
return I.User.dealer.current().done(function(){if(T()!==S){j("dealer",K(u))
}})
}function c(S){var T=function(){S.resolve(K(L))
};
if(L){T()
}else{L={loaded:false};
if(J.FPS){T()
}else{f.url.loadAsScript(Q+"/script/"+r.make+((r.region==="CA")?"/CAN":"/USA")).done(function(){if(!J.FPS){T();
return
}J.FPS.config.path=Q;
L.loaded=true;
var U=new v();
var V=U.getUserId();
if(V){J.FPS.setExternalRef("CDR",V,{success:function(){L.externalRefType="CDR";
L.externalRefId=V;
T()
},error:function(X,Y,W){f.log("user.lib: failed to set FPS external reference");
T()
}})
}else{T()
}}).fail(function(U){f.log("user.lib: failed to load FPS library",U);
T()
})
}}}function h(T){var S=C.Deferred();
w().done(function(U){if(U.loaded){J.FPS.get(T,{success:function(V){S.resolve(V)
},error:function(W,X,V){f.log("user.lib: failed to load get FPS values",V,T);
S.reject()
}})
}else{f.log("user.lib: getFps failed, FPS library not loaded")
}});
return S.promise()
}function t(T){var S=C.Deferred();
w().done(function(U){if(U.loaded){J.FPS.set(T,{success:function(V){S.resolve()
},error:function(W,X,V){f.log("user.lib: failed to load set FPS values",V,T);
S.reject()
}})
}else{f.log("user.lib: setFps failed, FPS library not loaded")
}});
return S.promise()
}function K(S){return _.extend({},S)
}function E(V){var S=f.cookie.get("FPI");
var U=(S)?f.parameters.decode(S):{};
var T=r.settings["siteCookieDomain"+r.make];
U=_.assign(U,V);
f.cookie.set("FPI",f.parameters.encode(U),{path:"/",domain:((T||"")=="")?null:T,expires:65})
}})(window,jQuery,FD.Brand,FD.Brand.Util,FD.Brand.Context);
(function(e,d,g,b){_.assign(g.namespace("FD.Brand.Dig"),{url:a,resolve:f});
function c(h){return{StrippedChassis:1,"F-650-750":1}[h]||4
}function a(k,l,h,n){if(k){var m=k.indexOf("Image[|"),j;
if(m===0){j=k.substr(7).split("|");
if(j.length>3){return[b.digUrl,encodeURIComponent(j[0]),encodeURIComponent(j[1]),encodeURIComponent(j[2]),l||"BP3TT-TILE-EXT",encodeURIComponent(k),h||"EXT",n||c(j[1]),"vehicle.png"].join("/")
}}}return null
}function f(j){var h=function(k){return k.hasClass("lazyload")||k.siblings("img").hasClass("lazyload")
};
d("[data-dig-src]",j).each(function(){var k=d(this);
k.attr(h(k)?"data-src":"src",a.apply(null,k.attr("data-dig-src").split(","))).removeAttr("data-dig-src")
});
d("[data-dig-srcset]",j).each(function(){var k=d(this);
k.attr(h(k)?"data-srcset":"srcset",a.apply(null,k.attr("data-dig-srcset").split(","))).removeAttr("data-dig-srcset")
})
}})(window,jQuery,FD.Brand,FD.Brand.Context.settings);
(function(h,j,p,c,a){_.extend(p.namespace("FD.Brand.Disclosures",h),{updateDisclosures:f});
var n={};
var o=(c.accessibility&&c.accessibility.closeLabelPrefix)||"";
var t=j('<div class="fgx-brand-css" style="display: none;"><div class="fgx-tooltip" data-dynamic-disclosure-enable><div class="icon icon-close fgx-tooltip-close" tabindex="0" role="button" data-fgx-keypress="true" aria-label="'+o+'"></div><div class="fgx-tooltip-id"></div><div class="fgx-tooltip-contents"></div><div class="fgx-dynamic-disclosure-wrapper"></div></div></div>');
var w=t.find(".fgx-tooltip-id");
var u=t.find(".fgx-tooltip-contents");
var k=t.find(".fgx-dynamic-disclosure-wrapper");
var b=t.find(".fgx-tooltip-close");
var r=j("body");
var y=false;
var m="";
var x="";
var z="a:visible, [data-fgx-keypress]:visible";
var e={$el:t,hide:function(){j(".fgx-tooltip-close",t).trigger("click")
},lastFocus:undefined};
j(function(){v()
});
function v(){_.each(c.disclosures,function(A){n[A.key]=A
});
m=(c.accessibility&&c.accessibility.disclosureLabelPrefix)||"";
x=(c.accessibility&&c.accessibility.dynamicDisclosureLabelPrefix)||"";
j("sup[data-vdm-disc]").each(function(){$el=j(this);
$el.attr("tabindex","0");
$el.attr("role","button");
$el.attr("data-fgx-keypress","true");
$el.attr("aria-label",m+" "+$el.text())
});
j("a[href^='#disc']").each(function(){var A=j(this).text().trim();
j(this).attr("aria-label",x+" "+A)
});
r.append(t).on("click","sup[data-vdm-disc]",function(B){B.preventDefault();
var A=j(B.currentTarget);
var C=A.attr("data-vdm-disc");
l(B,function(){var D=(C||"").split("|");
var E=(D.length>1)&&n[D[1]];
if(E){g(E.id,E.detail,A)
}else{a.log("disclosures.lib: showTooltip invalid id : "+C)
}})
}).on("click",".fgx-popup-tooltip",function(B){B.preventDefault();
var A=j(B.currentTarget);
l(B,function(){g("",A.find(".fgx-popup-tooltip-content").html(),A,"fgx-disclosure-popup")
})
}).on("click","a[href^='#disc']",q).on("click","a[href^='#show-tooltip']",d);
t.on("click","fgx-tooltip-close",l)
}function l(A,B){r.off("click",l);
if(t.is(":visible")){t.fadeOut(100,function(){FD.Brand.Overlay.releaseFocus(e);
if(typeof B!="undefined"){B()
}});
if(y){t.find(".fgx-tooltip").css({position:""});
y=false
}r.removeClass("no-scroll-sm")
}else{if(B){B()
}}}function g(B,G,O,I){var D=(O.parent().closest(".fgx-tooltip-contents").length>0);
var A=a.currentBreakpoint();
var F=100;
w.text(B);
u.html(G||"\xa0");
f(t);
var N=O.closest("[data-dynamic-disclosure-enable]").find(".dynamic-disclosures");
if(N.length){k.html(N.html())
}else{k.html("")
}t.removeClass().addClass("fgx-brand-css "+(I||""));
y=false;
if(!D){e.lastFocus=O;
var M=O.offset();
var J=M.top+O.outerHeight();
var E=j(window).height()+j(window).scrollTop();
t.addClass("fgx-brand-size-calc");
var H=t.find(".fgx-tooltip");
var L=((J+H.outerHeight())>E);
var C=M.left+O.outerWidth()-H.outerWidth();
if(A==="gux-bkpt-sm"){if(L){var K=(J+H.outerHeight())-E;
J=M.top-K
}if(J<0){J=25;
j(".fgx-tooltip").css({position:"fixed"});
y=true
}else{if(J<j(window).scrollTop()){J=j(window).scrollTop()
}}if(C<0){C=20
}}else{if(L){J=M.top-H.outerHeight()+F
}if(C<0){C=M.left
}if(J<0){J=25
}else{if(J<j(window).scrollTop()){J=j(window).scrollTop()
}}}t.find(".fgx-tooltip").css({top:J,left:C});
t.removeClass("fgx-brand-size-calc")
}t.fadeIn(250,function(){FD.Brand.Overlay.trapFocus(e,z,".fgx-tooltip-close",e.lastFocus)
});
r.one("click",l)
}function q(E){E.preventDefault();
var I=j(this);
var A=j(this).attr("href");
if(A.indexOf("=")>-1){var B=A.split("=")[1];
var D=I.closest("[data-dynamic-disclosure-enable]");
var G=D.find('[data-disclosure-id="'+B+'"]');
var C=G.data("disclosure-content");
var F=G.data("disclosure-title");
var H=(F===""||F===undefined)?"fgx-disclosure-popup":"";
if(C!==""&&C!==undefined){l(null,function(){g(F,C,I,H)
})
}else{a.log("disclosures.lib: dynamicDisclosureLinkClick link exists, but disclosure contains no content.")
}}else{a.log("disclosures.lib: dynamicDisclosureLinkClick link is malformed...it should be formatted like: #disc=id")
}}function d(C){C.preventDefault();
var A=j(this);
var B=j(this).data("tooltip-content");
if(B!==""&&B!==undefined){l(null,function(){g(null,B,A,"fgx-disclosure-popup")
})
}}function f(A){j("sup[data-vdm-disc]",A).each(function(){$el=j(this);
$el.attr("tabindex","0");
$el.attr("role","button");
$el.attr("data-fgx-keypress","true");
$el.attr("aria-label",m+" "+$el.text())
})
}})(window,jQuery,FD.Brand,FD.Brand.Context,FD.Brand.Util);
(function(h,c,j,d){var a=j.settings;
_.extend(FD.Brand.namespace("FD.Brand.NgpServices",h),{location:function(k){return f("/geo/PostalCodes.json",{postalCode:k},function(l){return d.objPath(l,"Response.PostalCode")
})
},dealers:function(k){return f("/dealer/Dealers.json",k,function(l){return d.toArray(d.objPath(l,"Response.Dealer"))
})
},dealer:function(k){return f("/dealer/Details.json",k,function(l){return d.objPath(l,"Response.Dealer")
})
},dealerByUrlKey:function(k){return f("/dealer/DetailsByUrlKey.json",k,function(l){return d.objPath(l,"Response.Dealer")
})
},serviceLocations:function(k){return f("/dealer/ServiceLocations.json",k,function(l){return d.toArray(d.objPath(l,"Response.Dealer"))
})
},dealerChatStatus:function(k){return f("/dealer/ChatStatus.json",k,function(l){return d.objPath(l,"Response.DealerChatStatus")
})
},modelSlices:function(k){return f("/products/ModelSlices.json",k,function(l){return d.objPath(l,"Response.Model")
})
},configDetail:function(k){return f("/config/Details.json",k,function(l){return d.objPath(l,"Response")
})
},searchTypeAhead:function(k){var m=(j.make.toLowerCase()==="ford")?"/search":"/search-lincoln",l=m+"/JSONTypeAheadServlet.do";
return f(l,k,function(n){return d.objPath(n,"DimensionSearch.0.Locations")
},true)
},attributeMap:b});
function f(n,k,l,m){return c.Deferred(function(o){c.getJSON(a.ngpServiceUrl+n,k).done(function(p){if(m||e(p)){o.resolve(l?l(p):p)
}else{o.reject()
}}).fail(function(p){d.log(n+" failed",p);
o.reject(p)
})
}).promise()
}function g(l){if(c.isPlainObject(l)||c.isArray(l)){c.each(l,function(n,m){var m=d.fixServiceJSON(m);
l[n]=m
});
return l
}else{if(/^[-+]?[0-9]*\.?[0-9]+$/.test(l)){return +l
}if(/^\d\d\d\d\-\d\d\-\d\d$/.test(l)){var k=l.split("-");
return new Date(k[0],k[1]-1,k[2])
}return l
}}function e(k){if(k){if(k.Response){if(k.Response.status==="OK"){return true
}else{d.log("Service call failed ["+k.Response.status+"] "+k.Response.Message)
}}else{d.log("Service call failed - Response root missing")
}}else{d.log("Service call failed - No response")
}return false
}function b(l){var k={};
_.each(d.toArray(l||[]),function(m){if(m.name&&m.Value){k[m.name]=m.Value
}});
return k
}})(window,jQuery,FD.Brand.Context,FD.Brand.Util);
(function(n,k,f,m){var b={};
var d=null;
var o;
var e=k.Deferred();
var c=e.promise();
var h="a:visible, input:visible, select:visible, button:visible, [data-fgx-keypress]:visible";
_.extend(f.namespace("FD.Brand.Overlay",n),{instance:b,register:p,show:g,trapFocus:l,releaseFocus:j});
k(q);
function q(){o=k('<div style="display: none;" class="fgx-brand-css"><div class="fgx-overlay-background"></div></div>');
o.appendTo(k("body"));
e.resolve()
}function p(w,u,v,t){var r={id:w,$el:k(u),api:v,focusElements:t,show:_.wrap(w,g),hide:_.wrap(w,a)};
if(!b[w]){b[w]=r
}else{if(r.$el.length>0){b[w].$el=r.$el
}}return r
}function g(z,x,w,y){var u=b[z];
if(u.api&&u.api.show&&u.api.show(u)===false){return
}if(d){a(d)
}var r=u.$el.attr("data-overlay-scroll-offset");
if(r&&m.currentBreakpoint()!=="gux-bkpt-sm"){r=r.split(",");
var t=0;
var v=k(n).scrollTop();
if(v<(+r[0])){t=(+r[0])-v
}else{t=(+r[1])+v
}t=t+"px";
u.$el.css({top:t})
}else{if(m.currentBreakpoint()==="gux-bkpt-sm"){u.$el.css({top:0})
}}c.done(function(){o.fadeIn(100,function(){o.one("click",u.hide);
u.$el.fadeIn(300,function(){if(typeof x!="undefined"&&x==true){var A=(typeof u.focusElements!="undefined")?u.focusElements:h;
l(u,A,y,w)
}})
})
});
d=z;
k("body").addClass("no-scroll-sm fgx-brand-ovr-open")
}function a(t){var r=b[t];
if(r.api&&r.api.hide&&r.api.hide(r)===false){return
}d=null;
o.off("click",r.hide);
r.$el.fadeOut(300,function(){o.fadeOut(100);
r.$el.css({top:null})
});
j(r);
k("body").removeClass("no-scroll-sm fgx-brand-ovr-open")
}function l(w,v,t,x){var u=w.$el,y=v,r=u.find(y);
if(typeof x!="undefined"){w.lastFocus=x
}if(typeof t!="undefined"){u.find(t).first().focus()
}else{r[0].focus()
}u.on("keydown",function(A){var z=false;
if(A.ctrlKey||A.metaKey||A.altKey){return
}switch(A.which){case 27:w.hide();
x.focus();
z=true;
break;
case 9:r=u.find(y);
if(A.shiftKey){if(A.target===r[0]){r[r.length-1].focus();
z=true
}}else{if(A.target===r[r.length-1]){r[0].focus();
z=true
}}break
}if(z){A.preventDefault()
}})
}function j(t){var r=t.$el;
r.off("keydown");
if(t.lastFocus&&typeof t.lastFocus!="undefined"){t.lastFocus.focus()
}else{k(".mainNavigation a.navbar-brand").focus()
}}})(window,jQuery,FD.Brand,FD.Brand.Util);
(function(G,z,F,v,j,r){_.extend(F.namespace("FD.Brand.Pricing",G),{pricingData:f,label:B,refresh:M,format:g,show:C,postalLink:m});
var x={US:"48120",CA:"L6J5E4"};
var q=FD.Brand.Context;
var t=q.make;
var b=q.languageKey;
var I=q.settings["quoteUrl"+t+b]||q.settings["quoteUrl"+t];
var n=false;
var H={make:t,model:q.nameplate&&q.nameplate.ngpModelName,year:q.nameplate&&q.nameplate.ngpYear};
var h=q.priceLabel;
var D=[];
var e={};
var y={};
var o=null;
var N=F.Context.nameplatePricing;
var K=v.pricing.current();
var w=(q.accessibility&&q.accessibility.postalCodeLabelPrefix)||"";
v.location.subscribe(function(){J().done(function(){j.log("context change, refreshing pricing");
e={};
_.each(D,function(Q){M(Q,1)
});
var O=v.location.current().postalCode;
var P=w+" "+O;
z("[data-fgx-postal-link]").text(O).attr("aria-label",P)
})
},true);
function J(){if(o!==null){return o
}var P=z.Deferred();
var O=function(){if(G.fdcc){G.fdcc.init(function(){P.resolve()
})
}else{j.log("pricing - spc loader failed to initialize");
P.reject()
}};
if(!G.fdcc){j.url.loadAsScript(j.url.protocol(I).set().url()+"/cc/loader.js?"+z.param({id:"spc",make:t,region:q.region,serviceUrl:q.settings.ngpServiceUrl})).done(function(){O()
}).fail(function(S,R,Q){j.log("pricing - failed to load spc loader "+Q);
P.reject()
})
}else{O()
}o=P.promise();
return o
}function l(O,P){var O=z.extend({zipcode:v.location.current().postalCode||x[FD.Brand.Context.region],plantype:K.planType},H,_.pick(O,_.identity));
if(q.region==="CA"){O.paymentFrequency=(P)?"biweekly":"monthly"
}if(O.model){O.options=(O.options||{});
O.options.allowChangeVehicle=false
}return O
}function g(O){if(O){return(q.language==="fr")?O.toFixed(0).replace(/./g,function(R,Q,P){return Q&&R!=="."&&((P.length-Q)%3===0)?" "+R:R
})+" $":"$"+O.toFixed(0).replace(/./g,function(R,Q,P){return Q&&R!=="."&&((P.length-Q)%3===0)?","+R:R
})
}}function k(P,O){return z.parseJSON(P.closest("["+O+"]").attr(O)||"{}")
}function m(){var O=v.location.current().postalCode||"";
var P=w+" "+O;
if(!FD.Brand.Context.settings.syn){return'<a data-fgx-postal-link href="#$postalCode" role="button" data-fgx-keypress="true" onclick="postfdanalytics.callpostalCodeOverlayPageLoad()" aria-label="'+P+'">'+(v.location.current().postalCode||"(Enter a Location)")+"</a>"
}else{return'<a data-fgx-postal-link href="#$postalCode" role="button" data-fgx-keypress="true" aria-label="'+P+'">'+(v.location.current().postalCode||"(Enter a Location)")+"</a>"
}}function C(O){var P=z.Deferred();
J().done(function(){var Q=l(O,true);
var R=O.trimId;
z.when(R&&A(O)).done(function(U){var T=U&&U[(R||"").trim()];
if(T){Q.trim=T.token
}var S=v.location.current().postalCode;
var V=false;
G.fdcc.spc.reset();
G.fdcc.spc.show(function(W){if(V&&W.zipcode!==S){v.location.setPostalCode(W.zipcode)
}P.resolve(W)
},Q,function(W){if("PostalCodeEntryView"===W){V=true
}if(!FD.Brand.Context.settings.syn){if("FinanceTabView"===W){postfdanalytics.paymentEstimatorFlip("finance","global");
FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions.spcFinanceTabViewAction)
}else{if("LeaseTabView"===W){postfdanalytics.paymentEstimatorFlip("lease","global");
FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions.spcLeaseTabViewAction)
}else{if("FinancePrintClick"===W){postfdanalytics.pePrint("finance","global");
FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions.spcFinancePrintClickAction)
}else{if("LeasePrintClick"===W){postfdanalytics.pePrint("lease","global");
FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions.spcLeasePrintClickAction)
}else{if("CreditLinkClick"===W){postfdanalytics.peReferalExit();
FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions.spcCreditLinkClickAction)
}else{if("CalculatorHidden"===W){postfdanalytics.peClose();
FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions.spcCalculatorHiddenAction)
}}}}}}}})
})
});
return P.promise()
}function M(P,R){var Q=z.Deferred();
var O="[data-pricing-template],[data-pricing-template-lease],[data-pricing-template-finance],[data-pricing-template-cash]";
if(!R){D.push(P)
}J().done(function(){var S=[];
var T=[];
z(O,P).each(function(){var Y=z(this);
var W=z.Deferred();
var ab=Y.attr("data-pricing-template");
var U=l(k(Y,"data-pricing-context"),false);
var aa=Y.attr("data-pricing-trim")||U.trimId;
if(!aa&&!U.configToken&&ab==="{price}"){var V=_.find(N,{model:U.model,year:U.year});
var X=u(V);
var Z=g(X);
Y.html(Z||ab);
if(Z){Y.data("pricing",{price:Z,priceValue:X})
}d(Y,V);
S.push(Y);
W.resolve();
return
}z.when(aa&&A(U)).done(function(ag){var ad=null;
var ac=null;
if(aa){ad=ag&&ag[(aa||"").trim()];
if(ad){if(ab==="{price}"){var ae=u(ad);
var af=g(ae);
Y.html(af||ab);
if(af){Y.data("pricing",{price:af,priceValue:ae})
}d(Y,ad);
S.push(Y);
W.resolve();
return
}ac=ad.token
}else{ac="#none#";
j.log("Invalid trim id "+aa,ag)
}}f(U).done(function(ah){var aj;
var ak=ab;
aj=(ac)?_.find(ah,{trim:ac}):ah;
if(_.isArray(aj)){aj=aj[0]
}if(aj){if(p(Y)){aj.pricingLabel=c(k(Y,"data-pricing-labels"),aj)
}else{aj.pricingLabel=B(k(Y,"data-pricing-labels"),aj)
}ab=ab||Y.attr("data-pricing-template-"+aj.offerType);
var ai=_.template(ab,{interpolate:/{([\s\S]+?)}/g});
ak=ai(aj)
}Y.html(ak);
d(Y,aj);
Y.data("pricing",aj);
S.push(Y);
W.resolve()
})
});
T.push(W.promise())
});
z("[data-pricing-payment-toggle]",P).toggleClass("fgx-brand-hidden",!(!!v.location.current().postalCode));
z.when.apply(z,T).done(function(){Q.resolve(S)
})
}).fail(function(){var S=O.replace(/[\[\]]/g,"").split(",");
z(O,P).each(function(){var T=z(this);
_.each(S,function(U){var V=T.attr(U);
if(V){T.html(V);
return false
}})
})
});
return Q.promise()
}function p(O){return(O.closest("[data-pricing-context]").attr("data-pricing-use-as-shown")==="true")
}function a(O){var P=K.planType;
if(_.isBoolean(O.planApplicable)){return(O.planApplicable)?{MSRP:"msrp",AZ:"az"}[P]||"x":"msrp"
}else{return(P!=="MSRP"&&(K.planType==="AZ"?O.az&&"az":!(O[K.planType.toLowerCase()]===false)&&O.x&&"x"))||"msrp"
}}function u(O){return O&&O[a(O)]
}function B(P,O){return z.extend({},h,P)[O&&a(O)||"msrp"]
}function c(P,O){return z.extend({},h,P)[O&&("as-shown_"+a(O))||"as-shown_msrp"]
}function d(P,O){var Q=k(P,"data-pricing-labels");
P.parent().find("[data-pricing-label]").html(B(Q,O))
}function f(O){var Q=[O.make,O.model,O.year,O.configToken].join("");
var P=e[Q];
if(!P){if(!(O.make&&O.model&&O.year)){P=z.when(null)
}else{var R=z.Deferred();
J().done(function(){var S=function(){if(!G.fdcc.spc.isBusy()&&!n){n=true;
((O.configToken)?L(O):E(O)).done(function(T){n=false;
R.resolve(T)
})
}else{setTimeout(S,100)
}};
S()
});
P=R.promise()
}e[Q]=P
}return P
}function L(O){var P=z.Deferred();
G.fdcc.spc.calculate(function(R){var Q={id:R.trimName.substr(R.model.length+1).replace(/ /g,"").toLowerCase(),trim:R.trim,trimName:R.trimName,offerType:(R.paymentType==="lease")?"lease":((R.buy&&R.buy.specialApr)?"finance":"cash"),price:g(R.price),priceValue:R.price,paymentType:R.paymentType,pricingData:R,payment:g(R.payment),apr:(R.buy&&R.buy.apr)||(R.lease&&R.lease.apr),term:(R.buy&&R.buy.term)||(R.lease&&R.lease.term),signingAmount:g(R.lease&&R.lease.signingAmount),pricingDate:FD.Brand.Util.dateTime.longFormat(),planApplicable:R.planApplicable,postalCode:m(),hasPostalCode:(!!v.location.current().postalCode)};
switch(Q.offerType){case"lease":Q.offerText=g(R.payment)+"/mo "+R.lease.term+" month lease";
break;
case"finance":Q.offerText=g(R.payment)+"/mo "+R.buy.term+" month finance";
break
}P.resolve(Q)
},l(O,false));
return P.promise()
}function E(O){var Q=z.Deferred();
var P=l(O,false);
A(O).done(function(R){G.fdcc.spc.calculateTrimPayments(function(S){var T=_.map(S.trimPayments,function(V){var X=null,W=null;
var Z=R&&_.find(R,{token:V.trim});
_.each(["lease","finance","cash"],function(aa){var ac=V[aa];
var ab=ac&&ac.payment;
if(ab&&(!X||X.payment>ab)){X=ac;
W=aa
}});
var U=Z?u(Z):X.basePrice;
var Y={id:V.trimName.substr(S.model.length+1).replace(/ /g,"").toLowerCase(),trim:V.trim,trimName:V.trimName,ngpTrimName:Z&&Z.ngpTrimName,offer:X,offerType:W,offerPrice:g(X.price),offerPriceValue:X.price,price:g(U),priceValue:U,paymentType:X.paymentType,pricingData:V,payment:g(X.payment),apr:(X.buy&&(X.buy.apr))||(X.lease&&X.lease.apr),term:(X.buy&&X.buy.term)||(X.lease&&X.lease.term),signingAmount:g(X.lease&&X.lease.signingAmount),pricingDate:FD.Brand.Util.dateTime.longFormat(),postalCode:m(),planApplicable:X.planApplicable,hasPostalCode:(!!v.location.current().postalCode)};
switch(W){case"lease":Y.offerText=g(X.payment)+"/mo "+X.lease.term+" month lease";
break;
case"finance":Y.offerText=g(X.payment)+"/mo "+X.buy.term+" month finance";
break
}return Y
});
Q.resolve(T)
},P)
});
return Q.promise()
}function A(R){var T=z.Deferred();
var S=T.promise();
if(!(R.model&&R.year)){T.resolve(null)
}else{var Q=_.values(_.pick(R,["model","year"])).join("-");
var O=y[Q];
if(O){if(O.promise){S=O
}else{T.resolve(O)
}}else{var P=G.sessionStorage.getItem("fgx-pricing-trims-"+Q);
if(P){O=JSON.parse(P);
y[Q]=O;
T.resolve(O)
}else{y[Q]=S;
O={};
r.modelSlices(_.assign({},R,{modelSliceDefiners:"ST_Display_Trim_Names",modelSliceAttributes:"ST_Display_Trim_Names",planType:K.planType})).done(function(U){_.each(j.toArray(j.objPath(U,"ModelSlices.ModelSlice")||[]),function(Y){var aa=r.attributeMap(Y.Attribute);
var Z=aa.ST_Display_Trim_Names;
var X=Y.Pricing;
var W=X.PlanApplicability;
var ab={ngpTrimName:Z,token:Y.ConfigToken,msrp:parseFloat((q.region==="CA")?X.StartingAtPrice:X.BaseMSRP)};
if(q.region!=="CA"){if(W.AZ==="true"){ab.az=parseFloat(X.BaseAZPlan)
}ab.x=parseFloat(X.BaseXPlan);
if(W.SPX===W.FNX&&W.FNX===W.PRX){if(W.SPX!=="true"){delete ab.x
}}else{_.each(["SPX","FNX","PRX"],function(ac){ab[ac.toLowerCase()]=W[ac]==="true"
})
}}O[Z]=ab;
O[Z.replace(/[^A-Za-z0-9\-\_\:]/g,"").toLowerCase()]=ab
});
y[Q]=O;
try{G.sessionStorage.setItem("fgx-pricing-trims-"+Q,JSON.stringify(O))
}catch(V){}T.resolve(O)
})
}}}return S
}})(window,jQuery,FD.Brand,FD.Brand.User,FD.Brand.Util,FD.Brand.NgpServices);
(function(c,b){a();
function a(){var d=c.createElement("img");
if(!(("srcset" in d)&&("sizes" in d))){b.url.loadAsScript("/cmslibs/etc/designs/brand_ford/brand/vendor/picturefill/js/picturefill.min.js",{async:""})
}}})(document,FD.Brand.Util);
(function(j,d,a,e){var b=false;
var k=false;
var l=false;
var c=[];
_.extend(a.namespace("FD.Brand.Video",j),{launch:h,youtube:{create:g,isReady:function(){return l
},setReady:function(n){l=n
}}});
function h(n,o){var p=d.Deferred();
m().then(function(){if(e.currentBreakpoint()!=="gux-bkpt-sm"){d("#modal-player").css({top:Math.max(150,d(j).scrollTop()+75)+"px"})
}else{d("#modal-player").css({top:Math.max(150,d(j).scrollTop())+"px"})
}d("#modal-player").css({"z-index":2002});
var r=videojs("player").FordPlayer.launchModal(n);
p.resolve(r);
d("body").addClass("no-scroll-sm");
if(e.currentBreakpoint()=="gux-bkpt-sm"){d("html").css({overflow:"hidden",position:"relative",height:"100%"})
}var q={$el:d("#modal-player"),lastFocus:o,hide:function(){d(".bcc-modal-close-button").trigger("click")
}};
FD.Brand.Overlay.trapFocus(q,'[tabindex="0"]:visible',".bcc-modal-close-button",o);
d(".bcc-modal-close-button").one("click",function(t){FD.Brand.Overlay.releaseFocus(q)
});
d(".bcc-modal-close-button").on("keydown",function(t){if(t.ctrlKey||t.metaKey||t.altKey){return
}if(t.which==13||t.which==32){FD.Brand.Overlay.releaseFocus(q);
d(this).off("keydown")
}});
d(".bcc-save-icon").hide();
d(".bcc-share-icon").hide()
});
return p.promise()
}function m(){var o=d.Deferred();
if(b){o.resolve()
}else{var n=a.Context.settings;
var p=a.Context.language;
d('<video id="player" class="video-js" data-embed="default" controls></video>').attr("data-account",n.videoAccount).attr("data-player",n.videoPlayerKey).appendTo(d("body")).wrap('<div id="modal-container"></div>').parent().wrap('<div id="modal-player"></div>');
a.Util.url.loadAsScript("//players.brightcove.net/"+n.videoAccount+"/"+n.videoPlayerKey+"_default/index.min.js").then(function(){var q="/cmslibs/etc/designs/brand_ford/brand/skin/"+a.Context.skin+"/js";
a.Util.url.loadAsScript(q+"/brightcovePlayer.js").then(function(){var r={debug:true,$:d};
if(p==="fr"){r.l10n={language:p,file:q+"/l10n/"+p+".json"};
r.plugins={frenchCaptions:{}};
videojs.registerPlugin("frenchCaptions",function(){var t=this;
t.on("play",function(){var v=t.textTracks();
for(var w=0;
w<v.length;
w++){var u=v[w];
if(u.language=="fr-CA"||u.language=="fr"){u.mode="showing"
}}})
});
videojs("player").frenchCaptions()
}videojs("player").FordPlayer(r);
b=true;
o.resolve()
})
})
}return o.promise()
}function g(n,o){var p=d.Deferred();
f().then(function(){var v=(n&&n.item)?n.item:null;
var u=(v&&v.ytVideoStartTime)?parseInt(v.ytVideoStartTime,10):0;
var q=(v&&v.ytVideoEndTime)?parseInt(v.ytVideoEndTime,10):null;
var t=a.Context.language;
var r=new YT.Player(n.id,{height:"390",width:"640",videoId:n.item.videoId,playerVars:{autoplay:n.autoPlay,enablejsapi:1,start:u,end:q,hl:t},events:n.events});
p.resolve(r)
});
return p.promise()
}function f(){var o=d.Deferred();
var n=function(){if(l){o.resolve()
}else{c.push(o)
}};
if(k){n()
}else{k=true;
a.Util.url.loadAsScript("https://www.youtube.com/iframe_api").then(function(){n()
})
}return o.promise()
}d("body").on("fgxVideo:youtubeReady",function(){for(var n=0;
n<c.length;
n++){c[n].resolve()
}c=[]
});
if(!j.onYouTubeIframeAPIReady){j.onYouTubeIframeAPIReady=function(){FD.Brand.Video.youtube.setReady(true);
d("body").trigger("fgxVideo:youtubeReady")
}
}})(window,jQuery,FD.Brand,FD.Brand.Util);
(function(h,g,c,d,k){_.extend(c.namespace("FD.Brand.Search",h),{typeAheadResults:e,selectResult:j,setReferrerApp:a});
var f={maxResultCount:10};
function e(p,o,n){var m=[],l=n||f.maxResultCount;
d.searchTypeAhead({N:"0",Di:"8124",Dk:"1",Dx:"rel+static(rank,descend)",Dn:"0",D:p+"*"}).done(function(q){if(q!=null){b(q,o,l)
}else{o.hide()
}}).fail(function(q){o.hide()
})
}function b(q,p,l){var o=q.map(function(r){return r.Location[0].DimValueName
});
if(l!==-1){o=o.slice(0,l)
}if(o!==null){p.find(".search-res-item").remove();
for(var n in o){var m=o[n];
if(typeof(m)!="function"){p.append("<li class='search-res-item' tabindex='0' role='link' data-fgx-keypress='true'>"+m+"</li>")
}}p.show();
p.find(".search-res-item").on("mousedown",function(r){r.preventDefault()
}).on("click",function(){var r=g(this).closest("form");
j(r,g(this).text())
})
}else{p.hide()
}}function j(l,n){var m=l.find(".search-input");
m.val(n);
l.submit()
}function a(m){if(k.settings.syn&&k.metrics&&k.metrics.pageName&&k.metrics.pageName.indexOf("owner")>=0){var l=m[0];
var n=document.createElement("input");
n.type="hidden";
n.name="referrerApp";
n.value="owner";
l.appendChild(n)
}}})(window,jQuery,FD.Brand,FD.Brand.NgpServices,FD.Brand.Context);
(function(f,q,w,b,g){var p=null;
var e=null;
var l="io",u="",m={io:{id:"io",prefix:"vehicles",linkNameBase:":vehicle:incentives:content:action:",onClickBase:"incentives:content:",OnClickPrefix:""},bp:{id:"bp",prefix:"bp",linkNameBase:":bp:incentives:content:action:",onClickBase:"bp:incentives:content:",OnClickPrefix:"bp"}},k=null,c={finance:false,lease:false},o={"offers-by-model":"by-model","featured-offers":"featured","additional-offers":"others"},j="";
$(t);
function t(){p=f.ShoppingToolsIncentivesAndOffers||null;
if(p){l=a("app")||"io";
u=a("c5src")||"";
e=q&&q.mtxActions;
var D=r();
k={"$$appID":D.id,"$$appPrefix":D.prefix,"$$onClickSrc":u,"$$incentivesYear":q.nameplate&&q.nameplate.ngpYear,"$$incentivesMake":q&&q.make,"$$incentivesNameplate":q.nameplate&&q.nameplate.ngpModelName,"$$appOnClickPrefix":D.appOnClickPrefix};
var B={close:function(){postfdanalytics.peClose();
if(e){FD.Brand.Metrics.handler.direct(e.ioCloseAction,k);
n()
}},incentiveView:function(E){if(e){FD.Brand.Metrics.handler.direct(e.ioIncentiveViewLoadAction,k)
}},initialTabDisplay:function(E){fdanalytics.ioLoadData(E);
postfdanalytics.ioDirectCallSetup(E);
if(e){var G={};
if(E){G.$$tabName=E.tabName.replace(/-/g," ");
G.$$offersText=(E.hasOffers)?"offers":"no-offers";
G.$$tabKey=o[E.tabName]
}j=G.$$tabName;
var H=_.extend({},k,G);
var F=(E&&E.tabName==="offers-by-model")?"ioInitialTabDisplayModelOffersAction":"ioInitialTabDisplayAction";
FD.Brand.Metrics.handler.direct(e[F],H)
}},tabChange:function(E){postfdanalytics.ioTabClickLoad(E);
if(e){var G={};
if(E){G.$$tabName=E.tabName.replace(/-/g," ");
G.$$offersText=(E.hasOffers)?"offers":"no-offers";
G.$$tabKey=o[E.tabName]
}j=G.$$tabName;
var H=_.extend({},k,G);
var F=(E&&E.tabName==="offers-by-model")?"ioTabChangeModelOffersAction":"ioTabChangeAction";
FD.Brand.Metrics.handler.direct(e[F],H)
}},postalCodeClick:function(E){postfdanalytics.callpostalCodeOverlayPageLoad();
if(e){FD.Brand.Metrics.handler.direct(e.zipCodeOverlayOpenAction,k)
}},postalCodeUpdated:function(E){if(e){FD.Brand.Metrics.handler.direct(e.zipCodeChangeAction,k)
}},expandTrim:function(E){if(e){if(E&&(E.expanded==="true"||E.expanded===true)){var F={};
F.$$trimName=E.trimName;
var G=_.extend({},k,F);
FD.Brand.Metrics.handler.direct(e.ioExpandTrimAction,G)
}}},showSPC:function(E){if(e){var F={};
if(E){F.$$paymentType=E.paymentType
}var G=_.extend({},k,F);
FD.Brand.Metrics.handler.direct(e.ioShowSpcAction,G)
}},showLeadForm:d,offerPaging:function(E){postfdanalytics.ioCarouselClick("carousel scroll");
if(e){var F={};
if(E){F.$$offerSection=E.offerSection
}var G=_.extend({},k,F);
FD.Brand.Metrics.handler.direct(e.ioCarouselScrollAction,G)
}},print:function(E){postfdanalytics.ioPrintClick(E);
if(e){var F={};
if(E){F.$$offerTypes=E.offerTypes
}var G=_.extend({},k,F);
FD.Brand.Metrics.handler.direct(e.ioPrintAction,G)
}},showSPCCashOverlay:function(E){postfdanalytics.ioiballClick(E);
if(e){var F={};
if(E){F.$$trimName=E.trim
}var G=_.extend({},k,F);
FD.Brand.Metrics.handler.direct(e.ioShowSpcCashOverlayAction,G)
}},additionalExitLink:function(E){if(e){var F={};
if(E){F.$$offerTitle=E.offerTitle
}var G=_.extend({},k,F);
FD.Brand.Metrics.handler.direct(e.ioAdditionalExitLinkAction,G)
}},vehicleExitLink:function(E){if(e){var F={};
if(E){F.$$tabName=E.tabName.replace(/-/g," ")
}var G=_.extend({},k,F);
FD.Brand.Metrics.handler.direct(e.ioVehicleExitLinkAction,G)
}},dealerExitLink:function(E){if(e){var F={};
if(E){F.$$tabName=E.tabName.replace(/-/g," ")
}var G=_.extend({},k,F);
FD.Brand.Metrics.handler.direct(e.ioDealerExitLinkAction,G)
}},spcCalculatorHidden:function(E){postfdanalytics.peClose();
if(e){FD.Brand.Metrics.handler.direct(e.spcCalculatorHiddenAction,k);
n()
}},spcFinanceTabView:function(E){postfdanalytics.paymentEstimatorFlip("finance",D.id);
if(e&&!c.finance){FD.Brand.Metrics.handler.direct(e.spcFinanceTabViewAction,k);
c.finance=true
}},spcLeaseTabView:function(E){postfdanalytics.paymentEstimatorFlip("lease",D.id);
if(e&&!c.lease){FD.Brand.Metrics.handler.direct(e.spcLeaseTabViewAction,k);
c.lease=true
}},spcFinancePrintClick:function(){postfdanalytics.pePrint("finance",D.id);
if(e){FD.Brand.Metrics.handler.direct(e.spcFinancePrintClickAction,k)
}},spcLeasePrintClick:function(){postfdanalytics.pePrint("lease",D.id);
if(e){FD.Brand.Metrics.handler.direct(e.spcLeasePrintClickAction,k)
}},spcCreditLinkClick:function(E){postfdanalytics.peReferalExit();
if(e){FD.Brand.Metrics.handler.direct(e.spcCreditLinkClickAction,k)
}},spcFrequencyChange:function(E){if(e){var F={};
if(E){F.$$frequency=E.frequency
}var G=_.extend({},k,F);
FD.Brand.Metrics.handler.direct(e.ioSpcFrequencyChangeAction,G)
}}};
var y=w.location.current();
var z=a("year"),x=a("make"),C=a("model"),A=a("postalCode");
if(z&&x&&C&&A){k["$$incentivesYear"]=z;
k["$$incentivesMake"]=x;
k["$$incentivesNameplate"]=C;
p.show({year:z,make:x,model:C,trim:a("trim"),postalCode:A,appContext:a("appContext")},B)
}else{p.show({year:q.nameplate&&q.nameplate.ngpYear,make:q.make,model:q.nameplate&&q.nameplate.ngpModelName,postalCode:y&&y.postalCode,appContext:"ngbs_sploffr"},B)
}}}function d(x){w.authentication.current().then(function(z){var y={model:x.model,year:x.year,postalCode:x.postalCode,type:(f.location.href.indexOf("commercial")>-1)?"comm":"",options:{allowChangeVehicle:false,allowChangeDealer:true},lead:{context:"IncentivesQuote",altLeadSource:(q.region==="CA")?"IO NGBS":"NGBS"}};
if(q.make==="Lincoln"&&z.authType==="user"){y.lead.leadSource="Lincoln.com Concierge Lead"
}FD.Brand.Form.request.show(y,v,h);
postfdanalytics.ioGipStartClick();
if(e){var A={"$$tabName":j};
var B=_.extend({},k,A);
FD.Brand.Metrics.handler.direct(e.ioShowLeadFormAction,B)
}})
}function h(z,A){if(z==="SubmissionSucceeded"){postfdanalytics.ioGipCompleteClick(A);
if(e){var y=A&&A.request,x=y&&y["customer.allowfollowup"],C=(x&&(x===true||x==="true"))?"ioLeadFormSubmissionSuccessOptInAction":"ioLeadFormSubmissionSuccessAction";
var B={"$$tabName":j};
var D=_.extend({},k,B);
FD.Brand.Metrics.handler.direct(e[C],D)
}}}function v(x){FD.Brand.Util.log("IO lead complete",x)
}function a(x){if(x=(new RegExp("[?&]"+encodeURIComponent(x)+"=([^&]*)")).exec(location.search)){return decodeURIComponent(x[1])
}}function r(){return m[l]||m.io
}function n(){c.finance=false;
c.lease=false
}})(window,FD.Brand.Context,FD.Brand.User,FD.Brand.Util,FD.Brand.Metrics);
(function(h,j,m,p,v,a){var g={getupdates:{Ford:{listid:"312726",qacodeEmail:"0799A",qacodeMail:"0848312720"},Lincoln:{listid:"320879",qacodeEmail:"0799A",qacodeMail:"0848320876"}}};
_.extend(m.namespace("FD.Brand.Form",h),{request:c("request",{skinVersion:"guxv2"}),schedule:c("schedule"),blschedule:c("schedule",{skinVersion:"lincolnblv1",blackLabelOnly:true}),getupdates:c("getupdates"),registerEventCallback:e,unregisterEventCallback:q,formEventCallback:o});
var l={};
var f=[];
function c(z,w,y){var x=null;
var A=false;
return _.extend({show:function(B,E,D,F,C){if(x){n(x,B,E,D,F,C)
}else{if(A){return
}A=true;
d(z,w).done(function(G){var H=h.FD.Pantry.Golf;
H.initialized().done(function(){H.refresh();
x=H.getForm(z);
n(x,B,E,o(x,z,D),F,C);
A=false
})
})
}}},y||{})
}function e(w){if(_.isFunction(w)){f.push(w)
}}function q(w){_.pull(f,w)
}function o(x,w,y){return function(){var z=[].slice.call(arguments);
for(var A=-1;
A<f.length;
A++){var B=(A<0)?y:f[A];
if(A==0){z.unshift(w)
}if(B){try{B.apply(x,z)
}catch(C){}}}}
}function d(x,w){var y=j.Deferred();
var z="/cmslibs/aemservices/common/api/component";
if(p.locale==="fr_ca"){z=(p.settings["shopUrl"+p.make+p.languageKey]||p.settings["shopUrl"+p.make])+a.url.prepend(z,"/cmslibs")
}else{if(p.settings.syn==="1"){if(p.settings.env!=="local"){z=a.url.prepend(z,"/cmslibs")
}z=p.settings.synBaseUrl+z+".ext"
}}j.get(z+".html/golf-"+x,_.extend({id:x,formType:x,presentation:"overlay",make:p.make,region:p.region.toLowerCase()},b(x),w)).done(function(E){if(E){var B=j(E);
var C=B.find('script,link[rel="stylesheet"]');
var D=[];
var A=function(){if(D.length===0){a.log("golf.lib: files loaded "+x);
h.setTimeout(function(){y.resolve(B)
},0);
return
}var G=D.shift();
var F=G.url;
if(l[F]){A()
}else{if(G.script){a.url.loadAsScript(F).then(A,function(){a.log("golf.lib: failed to load script "+G.url);
y.reject()
})
}else{a.url.loadAsStyle(F);
A()
}l[F]=1
}};
j.each(C,function(H,G){var F=j(G);
if(F[0].tagName==="SCRIPT"){var I=F.attr("src");
if(I){D.push({script:1,url:I})
}else{j.globalEval(F.text())
}}else{D.push({script:0,url:F.attr("href")})
}});
C.remove();
B.appendTo("body");
a.log("golf.lib: form loaded "+x);
A()
}});
return y.promise()
}function n(x,w,B,A,C,z){var y=_.extend({formTitle:C,model:p.nameplate&&p.nameplate.ngpModelName,year:p.nameplate&&p.nameplate.ngpYear,postalCode:v.location.current().postalCode},w);
x.show(B,y,A,z)
}function b(w){return _.extend({},(g[w]||{})[p.make],p.forms&&p.forms[w])
}try{FD.Brand.Form.registerEventCallback(u)
}catch(k){console.log("Error occurred in the form registration handling method")
}function t(x){var w="";
if(x&&typeof(x)!="undefined"){var y=x.split(";");
w=(x.length>1)?y[0]:x
}return w
}function r(C){var B=C&&C.request;
if(B){var A=B.email,x=B.mail,w=t(B.mtxName),z=t(B.year),y="";
if(p.region==="CA"||(A==1&&x==0)){y="getUpdatesSubmissionSuccessEmailOptinAction"
}else{if(A==1&&x==1){y="getUpdatesSubmissionSuccessBothOptinAction"
}else{y="getUpdatesSubmissionSuccessMailOptinAction"
}}FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions[y],{$$getUpdatesNameplate:w,$$getUpdatesYear:z})
}}function u(z,w,x){try{switch(z){case"getupdates":switch(w){case"FormShown":FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions.getUpdatesShowFormAction);
break;
case"SubmissionSucceeded":r(x);
break
}break;
case"schedule":switch(w){case"FormShown":FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions.scheduleTestDriveShowFormAction);
break;
case"ResponseView":FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions.scheduleTestDriveResponseViewAction);
break;
case"SelectVehicleView":FD.Brand.Metrics.handler.direct(FD.Brand.Context.mtxActions.scheduleTestDriveSelectVehicleViewAction);
break
}break
}}catch(y){console.log("Error occurred in the form event callback method "+y)
}}})(window,jQuery,FD.Brand,FD.Brand.Context,FD.Brand.User,FD.Brand.Util);
(function(e,d,f,b){_.extend(f.namespace("FD.Brand.Position",e),{items:{setup:c,update:a}});
function c(j,h,l){var k={},g=d(j),h=h||"fgx-positioned-slide-",l=l||".billboard-slide.item";
g.find(l).each(function(){var m=d(this),n=m.data("slideId")||"0",p=m.find("[data-position-element]"),o={};
p.each(function(t){var r=d(this),u=r.data("positionElement");
if(u&&u.styles&&!d.isEmptyObject(u.styles)){var v="fgx-"+u.itemType+"-"+t;
o[v]=u;
r.addClass(v);
if(b.currentBreakpoint()==="gux-bkpt-sm"){if(u.hasMobileOverride){r.css(u.styles.mobile)
}else{if(u.styles.desktop){r.css(u.styles.desktop)
}}}else{if(u.styles.desktop){r.css(u.styles.desktop)
}}}});
if(!d.isEmptyObject(o)){var q=h+n;
m.addClass(q);
k[q]=o
}});
return k
}function a(g,h){d.each(h,function(j,k){if(k&&!d.isEmptyObject(k)){d.each(k,function(m,l){if(l&&!d.isEmptyObject(l)){d.each(l,function(q,p){if((g==="mobile"&&!p.hasMobileOverride)||(p.styles[g]&&d.isEmptyObject(p.styles[g]))){return
}var n="."+q;
var o="."+j+" ."+m;
d(n,o).css(p.styles[g])
})
}})
}})
}})(window,jQuery,FD.Brand,FD.Brand.Util);
(function(l,h,j,p){_.extend(FD.Brand.namespace("FD.Brand.External",l),{adChoices:{show:m},whosOn:{show:c},commentCard:{show:a}});
var b=[];
var k={"US-Ford":{sync:"/chat/chatstart.htm?domain="+(p.settings.env==="prod"?"support.ford.com":"sync.ford.com")+"&AspxAutoDetectCookieSupport=1&SID=0",vehicle:"/chat/chatstart.htm?domain=owner.ford.com&AspxAutoDetectCookieSupport=1&SID=0"},"US-Lincoln":{concierge:"/chat/chatstart.htm?domain=www.lincoln.com&SID=1"},"CA-Lincoln":{concierge:"/chat/chatstart.htm?domain=www.lincolncanada.com&SID=1"}};
var f={};
h(o);
function o(){if(p.translationProvider==="motionpoint"){d()
}n();
if(p.accessibility.accessibilityJSInclude==="wcag"){g()
}}function e(r){var t=h.Deferred();
var q=function(){if(r.length===0){t.resolve();
return
}var u=r.shift();
if(b[u]){q()
}else{var v=(p.settings.synBaseUrl&&u[0]==="/"&&u[1]!=="/")?p.settings.synBaseUrl:"";
j.url.loadAsScript(v+u).then(q,function(){j.log("external.lib: failed to load script "+u);
t.reject()
});
b[u]=1
}};
q();
return t.promise()
}function m(t){var r=201;
var v=1063;
var w=l.location.protocol;
var x=(w==="https:")?"https://a248.e.akamai.net/betterad.download.akamai.com/91609/pub/":"http://cdn.betrad.com/pub/";
var q=function(y){var z=new Image();
z.src=w+"//l.betrad.com/pub/p.gif?pid="+r+"&ocid="+v+"&i"+y+"=1&r="+Math.random()
};
var u=FD.Brand.Util.currentBreakpoint();
if(u==="gux-bkpt-sm"||u==="gux-bkpt-med"){l.open("//info.evidon.com/pub_info/"+r+"?v=1");
q("c")
}else{e([x+"pub2.js"]).done(function(){if(l.BAPW&&l.BAPW.i){l.BAPW.i(t,{pid:r,ocid:v})
}})
}}function c(u){var t=k[p.region+"-"+p.make][u];
if(t){var q=f[u];
if(q&&!q.closed){q.focus()
}else{var r=p.settings.whosOnUrl+t+"&lang="+p.language;
f[u]=l.open(r,u,"scrollbars=1,menubar=0,resizeable=1"+(j.currentBreakpoint()!=="gux-bkpt-sm"?",width=484,height=361":""))
}postfdanalytics.clickToChatMetricsCall(u)
}}function n(){l.setTimeout(function(){e(["//ips-invite.iperceptions.com/invitations/invitationsJS/126/s126452/iPGCC_launcher.js"])
},10)
}function a(){if(l.ipeGCCards){l.ipeGCCards.loadScript()
}else{j.log("external.lib: iPerceptions comment card library not loaded")
}}function g(){l.setTimeout(function(){e(["/cmslibs/etc/designs/brand_ford/brand/vendor/accessibility/wcag.js"])
},5000)
}function d(){var r=document.createElement("script");
r.id="mpelid";
r.async=true;
r.src=p.settings["mpEasyLinkUrl"+p.make];
var q=document.getElementsByTagName("script")[0];
q.parentNode.insertBefore(r,q);
l.mp_var={UrlLang:"mp_js_current_lang",SrcUrl:decodeURIComponent("mp_js_orgin_url"),oSite:decodeURIComponent("mp_js_origin_baseUrl"),tSite:decodeURIComponent("mp_js_translated_baseUrl")}
}})(window,jQuery,FD.Brand.Util,FD.Brand.Context);
(function(g,h,w,r,A,a,c){_.extend(FD.Brand.namespace("FD.Brand.Link",g),{baseUrl:b,secureUrl:v,processLink:t,switchLanguage:m,externalUrl:function(){return true
},getPageContext:D,setPageContext:o});
var C=w.settings;
var p={};
var n={NGB_Nameplate_URLKey:"ngbsNp",BPM_Settings_NameplateUrlKey:"bpNp",ST_SPC_Settings_NameplateUrlKey:"siNp",ST_SING_DerivedNameplateUrlKey:"siDerivedNp",NGB_Nameplate_Definers:"ngbsTrim",ST_Display_Trim_Names:"stTrim",IQQV2_ModelSlices:"iqqTrim",SI3_Trim_Definers:"siTrim"};
var l=window.ThirdPartyAuthenticator;
var x="lang";
var B={make:w.make,model:w.nameplate&&w.nameplate.ngpModelName,year:w.nameplate&&w.nameplate.ngpYear,trim:w.model&&w.model.ngpTrimName};
var k={car:"cars",crossover:"crossovers",suv:"suvs",hybrid:"cars",truck:"trucks","commercial-truck":"commercial-trucks"};
h(z);
h("body").on("click","a[href^='#$']",d);
h("body").on("keypress","[data-fgx-keypress]",j);
function z(){if(w.translationProvider==="tdc"){var G=a.cookie.get(x);
if(G&&G!==w.language){var I=_.find(w.languages.languageLinks,{code:G});
if(I){location.assign(y(I.domain));
return
}}}var H=g.location.hash;
if(H&&H.substring(0,2)==="#$"){var F=f();
u(F).done(function(J){t(H,null,F,J)
}).fail(function(){a.log("Failed to open hash link "+H,F)
})
}if(C.deepLink){var E=h("#"+C.deepLink.substring(1));
g.setTimeout(function(){console.log("deep link to "+C.deepLink);
a.window.scrollTo(E,250)
},200)
}}function d(H){H.preventDefault();
var G=h(this);
var E=h(this).attr("href");
var I=h(this).attr("target");
var F=f(G.closest("[data-link-context]"));
u(F).done(function(J){t(E,I,F,J,G)
}).fail(function(){a.log("Failed to open link "+E,F)
})
}function j(E){var F=h(":focus");
var G=F.attr("role");
if(E.which===13&&(G==="button"||G==="link")){E.preventDefault();
E.stopPropagation();
F.trigger("click")
}else{if(E.which===32&&G==="button"){E.preventDefault();
E.stopPropagation();
F.trigger("click")
}}}function f(E){return _.assign({},B,E&&E.length&&h.parseJSON(E.attr("data-link-context"))||{})
}function e(F,E){FD.Brand.User.authentication.current().then(function(I){var H=E&&E.closest("[data-link-context]");
var G=_.assign((F==="quote"||F==="testdrive")&&B.make==="Lincoln"&&I.authType==="user"?{lead:{leadSource:"Lincoln.com Concierge Lead"}}:(F==="bltestdrive"&&B.make==="Lincoln")?{configToken:w.pageConfigToken}:{},H&&H.length&&h.parseJSON(H.attr("data-link-context"))||{});
c[{quote:"request",testdrive:"schedule",bltestdrive:"blschedule"}[F]||F].show(G,null,null,null,E)
})
}function u(E){return h.Deferred(function(I){var H=_.values(E).join("-");
var G=p[H];
if(G){I.resolve(G)
}else{if(!(E.model&&E.year)){I.resolve(null);
return
}var F=_.keys(n).join(";");
var G={};
r.modelSlices(_.assign({},E,{modelSliceDefiners:"ST_Display_Trim_Names",modelAttributes:F,modelSliceAttributes:F})).done(function(L){var K=r.attributeMap(L.Attribute);
G.vehicleType=L.VehicleType;
if(E.trim){var J=E.trim.trim();
var M=null;
_.each(a.toArray(a.objPath(L,"ModelSlices.ModelSlice")||[]),function(N){var O=r.attributeMap(N.Attribute);
var P=O.ST_Display_Trim_Names.trim();
if(P===J){M=P;
_.assign(K,O);
G.trim=N.ConfigToken;
G.config=N.ConfigToken;
return false
}});
if(!M){a.log("Trim not found "+E.trim);
I.reject();
return
}}_.each(K,function(O,N){if(n[N]){G[n[N]]=O
}});
p[H]=G;
I.resolve(G)
})
}}).promise()
}function t(H,K,I,P,R){var N=/^#\$(\w*)(\/\w*)?(\?.*)?$/g.exec(H);
if(N){var G;
var M=N[1];
var Q=N[2];
var L=a.url.queryString(N[3]||" ");
var F=(g.location.href.indexOf("commercial")>-1)?"comm":"";
switch(M){case"spc":if(P){P.type=F;
FD.Brand.Pricing.show(_.extend({},I,P));
return
}else{G=[b("shop"),"/showroom/"];
L.add("linktype","estimatepayment")
}break;
case"postalCode":A.instance.postalCodeOverlay.show(true,R,"input");
return;
case"languageSelector":A.instance.languageSelector.show(true,R,"a.btn");
return;
case"sendEmail":A.instance.emailOverlay.show(true,R,".email-subject-textfield");
return;
case"bp":G=[b("shop"),"/build/"];
if(P){G.push(P.bpNp,"/",I.year,"/");
if(I.trim){G.push("#/select/",P.config)
}}else{G=[b("shop"),"/showroom/"];
L.add("linktype","build")
}break;
case"si":G=[b("shop"),"/inventory/"];
if(P){G.push(P.siDerivedNp||P.siNp||I.model.replace(/\s/g,"").toLowerCase(),"/",I.year,"/");
if(I.trim){L.add("selectTrim",P.ngbsTrim)
}}else{G=[b("shop"),"/showroom/"];
L.add("linktype","inventory")
}break;
case"incentives":if(P){G=[b("ngbs"),q(P),"/pricing-and-incentives/"]
}else{G=[b("shop"),"/showroom/"];
L.add("linktype","incentives")
}break;
case"nbs":G=[b("shop"),"/showroom/"];
break;
case"iqq":if(P){var J=I.model;
if(I.year==="2016"&&(J==="MKC"||J==="MKX"||J==="MKZ")){J+=" Base"
}G=[b("quote"),"/",I.year,"-",I.make,"-",J];
if(I.trim){L.add("select",P.iqqTrim)
}L.add("branding","1")
}else{G=[b("shop"),"/showroom/"];
L.add("linktype","quote")
}break;
case"compare":if(P){G=[b("ngbs"),q(P),"/compare/"]
}else{G=[b("shop"),"/showroom/"];
L.add("linktype","compare")
}break;
case"brochures":if(P){G=[b("ngbs"),q(P),"/brochures/"]
}else{G=[b("shop"),"/showroom/"];
L.add("linktype","brochures")
}break;
case"quote":case"testdrive":case"getupdates":case"bltestdrive":e(M,R);
return;
case"userSignIn":G=[b("ngbsSecure"),"/account/sign-in/?CLWInitLoad=signin&CLWRedirectLogin=",encodeURIComponent(window.location.href)];
break;
case"userSignOut":if(l){var E=new l();
E.logoutUser()
}if(w.locale==="fr_ca"){G=[b("ngbsSecure"),"/account/sign-in/"]
}else{G=[b("clwLighthouse"),"/pkmslogout?redirect=",encodeURIComponent(window.location.href)]
}break;
case"opinionLab":case"commentCard":FD.Brand.External.commentCard.show();
break;
case"adChoices":FD.Brand.External.adChoices.show(R&&R[0]);
break;
case"chat":FD.Brand.External.whosOn.show(Q&&Q.substring(1));
break;
default:a.log("link.lib: Unknown link",N);
return
}if(G){G.push(L.asString())
}var O=G&&G.join("");
if(O){if(K==="_blank"){window.open(O)
}else{window.location.assign(O)
}}}}function v(E){return E.replace(/^http:\/\//i,"https://")
}function q(E){if(w.nameplatePath){return w.nameplatePath.substr(w.siteRootPath.length)||""
}else{return["",k[E.vehicleType],E.ngbsNp||E.bpNp,E.year].join("/")
}}function b(F){var E=F+"Url";
return C[E+w.make+w.languageKey]||C[E+w.languageKey]||C[E+w.make]||C[E]
}function m(G){var F=h(G);
if(F.hasClass("current-lang")){return true
}var I=G.getAttribute("data-lang");
var E=G.getAttribute("data-href");
switch(w.translationProvider){case"tdc":location.assign(y(E));
var H=w.settings["siteCookieDomain"+w.make];
a.cookie.set(x,I,{path:"/",domain:((H||"")==="")?null:H,expires:30});
return true;
default:return false
}}function y(E){var H=location.pathname;
if(H==="/"){H=""
}var I="";
if(H.indexOf("/content/")===0){var G=H.split("/");
for(var F=5;
F<G.length;
F++){I+="/";
I+=G[F]
}}else{I=H
}I=a.url.extension(I).removeSpecified(".html");
if(I.length>0&&I.substring(I.length-1)!=="/"){I+="/"
}return"//"+E+I+a.url.queryString().asString()
}function D(){return _.assign({},B)
}function o(E){E=E||{};
if(E.configToken){r.configDetail({configToken:E.configToken,partClass:"NONE",returnAttributes:"ST_Display_Trim_Names"}).done(function(F){if(F){_.assign(B,{make:F.Make,model:F.Model,year:F.Year,trim:F.Attribute&&F.Attribute.Value,configToken:E.configToken})
}})
}else{_.assign(B,{make:E.make,model:E.model,year:E.year,trim:E.trim})
}}})(window,jQuery,FD.Brand.Context,FD.Brand.NgpServices,FD.Brand.Overlay,FD.Brand.Util,FD.Brand.Form);
(function(c,d,f,o,t){_.extend(f.namespace("FD.Brand.Dealer",c),{sortPreferred:n,isFullStateName:h,updateDealer:a,updateSearchHints:e,appendT3QS:m});
var r=/[^A-Za-z0-9]/g;
function n(x){var w=[];
var v=[];
_.each(x,function u(y){if(y.isPreferred){w.push(y)
}else{v.push(y)
}});
return w.concat(v)
}var l=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];
var b=["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Newfoundland","Labrador","Nova Scotia","Nunavut","Northwest Territories","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"];
function h(w){if(o.region==="CA"){for(var u=0;
u<b.length;
u++){var v=b[u];
if(v.toLowerCase()===w.toLowerCase()){return true
}}}else{for(var u=0;
u<l.length;
u++){var v=l[u];
if(v.toLowerCase()===w.toLowerCase()){return true
}}}return false
}function a(F,D,C,u,w,B,z){var x=new Date();
var E=x.getDay();
var A=x.getHours();
if(F.SalesHours.Day){_.each(F.SalesHours.Day,function(G,H){if(H===E&&G.open&&A<G.open.split(":")[0]){F.SalesHoursDescription=u+" "+g(G.open,z)
}else{if(H===E&&G.close&&A<G.close.split(":")[0]){F.SalesHoursDescription=C+" "+g(G.close,z)
}else{if(H===E&&G.close&&A>=G.close.split(":")[0]){F.SalesHoursDescription=u+" "+q(F.SalesHours.Day,(H+1),z)
}else{if(H===E&&G.closed){F.SalesHoursDescription=u+" "+q(F.SalesHours.Day,(H+1),z)
}}}}G.open=g(G.open,z);
G.close=g(G.close,z)
})
}if(F.ServiceHours.Day){_.each(F.ServiceHours.Day,function(G,H){G.open=g(G.open,z);
G.close=g(G.close,z)
})
}if(w!=null&&F.PACode&&F.PACode===w.PACode){F.isPreferred=true
}else{F.isPreferred=false
}if(B!=null){var v=(window.location.pathname.indexOf(".html")>0)?".html":"";
F.DeepLinkUrl=[B,F.urlKey,v].join("")
}if(F.PACode&&F.Address&&F.Address.PostalCode){var y=[F.Address.Street1];
if(F.Address.Street2){y.push(F.Address.Street2)
}if(F.Address.Street3){y.push(F.Address.Street3)
}F.AddressStreet=y.join(", ");
F.AddressCityStateZip=F.Address.City+", "+(F.Address.Province||F.Address.State)+" "+F.Address.PostalCode;
F.MobileMapUrl="http://maps.apple.com/?daddr="+F.AddressStreet+" "+F.AddressCityStateZip
}if(F.textnumber){F.TextUrl=F.textnumber.replace(/^\(/,"").replace(/\)\s?/," ").replace(/\s/g,"").replace("-","")
}if(o.make==="Lincoln"){if(F.l_cmb_rate_ct&&F.l_cmb_rate_ct>0){F.combinedRatingsPercentage=k(F.l_cmb_rate);
F.combinedRatingsCount=F.l_cmb_rate_ct
}if(F.l_sls_rate_ct&&F.l_sls_rate_ct>0){F.salesRating=F.l_sls_rate;
F.salesRatingsPercentage=k(F.l_sls_rate);
F.salesRatingsCount=F.l_sls_rate_ct
}if(F.l_svc_rate_ct&&F.l_svc_rate_ct>0){F.serviceRating=F.l_svc_rate;
F.serviceRatingsPercentage=k(F.l_svc_rate);
F.serviceRatingsCount=F.l_svc_rate_ct
}}else{if(F.f_cmb_rate_ct&&F.f_cmb_rate_ct>0){F.combinedRatingsPercentage=k(F.f_cmb_rate);
F.combinedRatingsCount=F.f_cmb_rate_ct
}if(F.f_sls_rate_ct&&F.f_sls_rate_ct>0){F.salesRating=F.f_sls_rate;
F.salesRatingsPercentage=k(F.f_sls_rate);
F.salesRatingsCount=F.f_sls_rate_ct
}if(F.f_svc_rate_ct&&F.f_svc_rate_ct>0){F.serviceRating=F.f_svc_rate;
F.serviceRatingsPercentage=k(F.f_svc_rate);
F.serviceRatingsCount=F.f_svc_rate_ct
}}if(o.region==="CA"){F.Distance=F.DistanceKM
}F.index=D;
return F
}function k(u){var v=(u/5)*100;
return v+"%"
}function q(z,w,v){var y=undefined;
var x=0;
while(y===undefined){if(w>z.length){w=0
}var u=z[w];
if(u!=undefined&&u.open){if(u.open.indexOf("AM")>0||v=="24"){y=u.open+" "+u.name
}else{y=p(u.open)+" "+u.name
}break
}w++;
x++;
if(x>=7){break
}}return y
}function g(v,u){if(u=="12"){return p(v)
}else{return j(v)
}}function p(x){if(x){var u=x.split(":");
if(u.length==2){var v=parseInt(u[0],10);
var w="AM";
if(v===0||v>12){v=(v===0)?12:v-12;
w="PM"
}x=v+":"+u[1]+w
}}return x
}function j(v){if(v){var u=v.split(":");
if(u.length<2){v=u[0]+"h00"
}else{v=u[0]+"h"+u[1]
}}return v
}function e(B,A,x){var u=B.find("ul");
var v=d.Deferred();
B.hide();
u.empty();
if(x||!/^[a-z]{2,}/i.test(A.val)){return
}var w=FD.Brand&&FD.Brand.Util,y={};
if(w&&w.env.geoLocation()){y=t.location.coordinates()
}if(!A.isDealer){d.ajax({url:o.settings.mapSearch,dataType:"jsonp",data:{q:A.val,key:o.settings.mapKey},jsonp:"jsonp",cache:true}).done(function(F){var D,E=[];
if(F.statusCode===200&&F.resourceSets&&F.resourceSets.length&&(D=F.resourceSets[0])&&(D=D.resources)){D=_.filter(D,{address:{countryRegionIso2:o.region}});
_.each(D.slice(0,Math.min(D.length,5)),function(I){var G=(I.point&&I.point.coordinates&&I.point.coordinates.length),H={name:I.name||"",paCode:null,location:{lat:(G)?I.point.coordinates[0]:1,lon:(G)?I.point.coordinates[1]:1},distance:{}};
if(!_.isEmpty(y)){var J=w.distance.betweenCoords(y.lat,y.lon,H.location.lat,H.location.lon,true);
H.distance=_.extend(H.distance,J)
}E.push(H)
})
}v.resolve(E)
})
}else{var C="/search/JSONTypeAheadServlet.do";
var z=8398;
if(o.make==="Lincoln"&&o.region==="CA"){C="/search-lincolnfoc/JSONTypeAheadServlet.do";
z=8415
}else{if(o.make==="Lincoln"&&o.region==="US"){C="/search-lincoln/JSONTypeAheadServlet.do";
z=8383
}else{if(o.make==="Ford"&&o.region==="CA"){C="/search-fordfoc/JSONTypeAheadServlet.do";
z=8440
}}}d.ajax({url:o.settings.ngpServiceUrl+C,data:{N:0,Dk:10,Dx:"rel static(rank,descend)",Dn:0,Di:z,D:A.val+"*"},callback:"JSON_CALLBACK",method:"GET",responseType:"json",cache:true,timeout:5000}).done(function(F){var D,E=[];
if(F.DimensionSearch&&F.DimensionSearch.length&&(D=F.DimensionSearch[0].Locations)&&D.length){E=v.resolve(_.map(_.pluck(_.flatten(_.pluck(D.slice(0,Math.min(D.length,5)),"Location")),"DimValueName"),function(H){var G=H.split("+");
var I={paCode:(G[0])?G[0]:"",name:(G[1])?G[1]:"",location:{lat:(G[4])?parseFloat(G[4]):1,lon:(G[5])?parseFloat(G[5]):1},distance:{}};
if(!_.isEmpty(y)){var J=w.distance.betweenCoords(y.lat,y.lon,I.location.lat,I.location.lon,true);
I.distance=_.extend(I.distance,J)
}return I
}))
}v.resolve(E)
})
}v.promise().done(function(D){u.empty();
var E=(o.region==="CA")?"km":"mi";
_.each(D,function(F){d('<li class="result" tabindex="0" role="button" data-fgx-keypress="true" data-pacode="'+F.paCode+'"><span class="result-name">'+F.name+'</span><span class="result-distance">'+((!_.isEmpty(F.distance))?F.distance[E]:"")+"</span></li>").appendTo(u)
});
B.toggle(D.length>0)
})
}function m(w){var v=o.t3DealerQueryString||"";
if(!_.isEmpty(v)){if(v.indexOf("?")===-1){v="?"+v
}var u=FD.Brand.Util.url.queryString(v);
if(w&&!_.isEmpty(w)){w=u.addToUrl(w)
}}return w
}})(window,jQuery,FD.Brand,FD.Brand.Context,FD.Brand.User);
(function(j,f,m,e){_.extend(FD.Brand.namespace("FD.Brand.Metrics",j),{provider:g,getParameter:c,setParameter:b,check:a});
var d={"transit connect commercial":"transit connect-comm",strippedchassis:"stripped chassis-comm","transit chassis":"transit chassis-comm","econoline cutaway":"e-series cutaway-comm","econoline chassis":"e-series chassis-comm","transit commercial":"transit-comm","transit vanwagon":"transit vanwagon-comm","chassis cab":"chassis cab-comm","superduty commercial":"super duty-comm","f-650-750":"f-650-750-comm","f-150 commercial":"f-150-comm"};
var k={page_radUIVersion:function(){var n=j.innerWidth;
return"ui:rad:"+((n<768)?"mobile":((n<992)?"tablet":"pc"))
},page_userLanguage:{en:"eng",es:"esp",fr:"fr"}[m.language||"en"],page_siteSearchString:"",page_client:{USFord:"ford-us",USLincoln:"lincoln",CAFord:"ford-canada",CALincoln:"canada"}[m.region+m.make],page_site:{USFord:"fordvehicles.com",USLincoln:"lincoln.com",CAFord:"ford.ca",CALincoln:"lincolncanada.com"}[m.region+m.make],vehicle_modelYear:m.nameplate&&m.nameplate.ngpYear,vehicle_nameplate:m.nameplate&&(m.make+" "+m.nameplate.ngpModelName).toLowerCase(),vehicle_bodyModelTrim:m.model&&m.model.ngpTrimName,"$sitePrefix":{USFord:"fv",USLincoln:"ln",CAFord:"foc",CALincoln:"loc"}[m.region+m.make],"$make":m.make&&m.make.toLowerCase(),"$nameplate":m.nameplate&&m.nameplate.ngpModelName.toLowerCase(),"$modelYear":m.nameplate&&m.nameplate.ngpYear};
switch(k.$nameplate){case"ecosport":case"flex":case"edge":case"mkt":case"mkc":case"mkx":case"transit connect wagon":k.$segment="crossover";
break;
case"escape":case"explorer":case"expedition":case"navigator":k.$segment="suv";
break;
case"f-150":case"superduty":case"ranger":case"transit connect":k.$segment="truck";
break;
case"strippedchassis":case"econoline chassis":case"transit chassis":case"transit vanwagon":case"transit commercial":case"chassis cab":case"f-650-750":case"superduty commercial":case"transit connect commercial":case"f-150 commercial":k.$segment="truck-commercial";
h(k.$nameplate);
break;
default:k.$segment="car";
break
}l();
function l(){e.authentication.subscribe(function(n){k.user_loginStatus=(n.authType==="user")?"logged in":"logged out"
});
e.location.subscribe(function(){e.location.detail().done(function(n){if(n&&n.regions){f.extend(k,{user_fdafCode:(m.make==="Lincoln")?n.regions.LMDA:n.regions.FDAF,user_fordRegion:n.regions.Marketing})
}})
})
}function g(n){if(n in k){var o=k[n];
return(_.isFunction(o))?o():o
}}function c(n){return k[n]
}function b(n,o){k[n]=o
}function a(n){if(j.FD&&FD.Common&&FD.Common.Metrics){if(n){FD.Common.Metrics.disable()
}}else{FD.Brand.Metrics.handler={page:_.noop,direct:_.noop,data:_.noop}
}}function h(n){var o=d[n];
if(o){b("vehicle_nameplate",(m.make+" "+o).toLowerCase());
b("$nameplate",o.toLowerCase())
}}})(window,jQuery,FD.Brand.Context,FD.Brand.User);
(function(a,c){c.setInitHandler("[data-fgx-you-might-also-like]",b);
function b(d){var e=window.FD.Brand;
e.Dig.resolve(d);
d.each(function(){e.Pricing.refresh(this)
})
}})(jQuery,FD.Brand);
(function(c,g,a,b,d){var e;
var h;
var j;
a.setInitHandler("[data-fgx-recently-viewed]",k);
function k(u){if(u.length==0){return
}e=u;
var v=c(".rv-models-container",e);
var A=v.data("vhp-context-label");
var n=v.data("reveal-page-context-label");
var t=v.data("model-detail-context-label");
var m=v.data("pricing-incentives-context-label");
var p=v.data("bp-results-context-label");
var o=v.data("bp-config-detail-context-label");
var r=v.data("si-results-context-label");
var D=v.data("si-vin-detail-context-label");
h={ViewPage:A,RevealViewPage:n,ViewModelDetail:t,IOFeatured:m,IOModelOffers:m,IOAdditionalOffer:m,BPModelSelect:p,SVVBP:o,SIResults:r,SVVSI:D};
var x=v.data("vhp-cc");
var w=v.data("reveal-page-cc");
var q=v.data("model-detail-cc");
var l=v.data("pricing-incentives-cc");
var z=v.data("bp-results-cc");
var y=v.data("bp-config-detail-cc");
var B=v.data("si-results-cc");
var C=v.data("si-vin-detail-cc");
j={ViewPage:x,RevealViewPage:w,ViewModelDetail:q,IOFeatured:l,IOModelOffers:l,IOAdditionalOffer:l,BPModelSelect:z,SVVBP:y,SIResults:B,SVVSI:C};
b.fps.current().done(function(E){if(!E.loaded){console.log("FPS library not loaded");
return
}FPS.RVV.getAllByGroups({success:function(G){var H=G[0].RVVAllGrouped;
console.log("****************");
console.log(G[0]);
if(H!=undefined&&H.length>0){c(".model_0",e).hide();
c(".model_1",e).hide();
c(".model_2",e).hide();
if(H.length==1){c("ul.rv-models",e).addClass("list-one")
}else{if(H.length==2){c("ul.rv-models",e).addClass("list-two")
}else{c("ul.rv-models",e).addClass("list-three")
}}for(var F=0;
F<H.length;
F++){console.log("setup - index : "+F);
if(F==3){break
}f(H[F],F,e)
}d.images.load(e);
c(".rv-title").removeAttr("aria-hidden");
e.show()
}},error:function(){e.hide()
}})
})
}function f(E,v){var D=c(".rv-bb-title",e);
if(v>0&&D.length){return
}var r=E.returnURL;
var C=(E._nameplate==="StrippedChassis"||E._nameplate==="F-650-750")?"1":"4";
var B=FD.Brand.Context.settings.digUrl+"/"+encodeURIComponent(decodeURIComponent(E._brand))+"/"+encodeURIComponent(decodeURIComponent(E._nameplate))+"/"+encodeURIComponent(decodeURIComponent(E._year))+"/HD-TILE/Hero/EXT/"+C+"/vehicle.png";
var t='<span class="rv-model-name">'+E._year+" "+E._nameplate+" ";
if(E._UID){if(E._UID.indexOf("Config[")>-1){var A="/"+encodeURIComponent(decodeURIComponent(E._UID))+"/";
B=B.replace("/Hero/",A)
}else{var A="/Vin["+encodeURIComponent(decodeURIComponent(E._UID))+"]/";
B=B.replace("/Hero/",A)
}}else{if(E._trim){t+=E._trim;
var A="/Hero["+encodeURIComponent(decodeURIComponent(E._trim))+"]/";
B=B.replace("/Hero/",A)
}}t+="</span>";
var n=".model_"+v;
var F=c(n,e);
var G=F.find("img");
G.attr("alt",E._year+" "+E._brand+" "+E._nameplate);
G.attr("data-srcset",B);
G.removeAttr("aria-hidden");
var q=F.find(".model-img");
var x=F.find(".rv-model-title");
x.removeAttr("aria-hidden");
var y=x.find("a");
var w=h[E.suffix];
if(w===""||w==undefined){w=h.ViewPage
}var o="";
var p=D.find("a");
if(w!==""&&w!=undefined){o=w.replace("{rvname}",t);
y.html(o)
}else{o=t;
y.html(t)
}if(D.length&&n===".model_0"){p.html(o);
D.removeAttr("aria-hidden")
}if(r!==""&&typeof r!="undefined"&&r!=null){var z=r.indexOf("#");
var m="";
if(z>=0){var m=r.substring(z);
r=r.substring(0,z)
}var l=j[E.suffix];
if(l!==""&&typeof l!="undefined"&&l!=null){if(l.indexOf("{nameplate}")>=0){l=l.replace("{nameplate}",E._nameplate.toLowerCase())
}if(r.indexOf(encodeURI(l))<0){(r.indexOf("?")>=0)?r+="&":r+="?";
r+=encodeURI(l)
}}var u=F.closest("[data-target-campaign-url-value]").attr("data-target-campaign-url-value");
if(u&&(r.indexOf(u)<0)){(r.indexOf("?")>=0)?r+="&":r+="?";
r+=u
}r+=m;
q.attr("href",r);
y.attr("href",r);
q.removeAttr("aria-hidden");
y.removeAttr("aria-hidden");
if(p.length&&n===".model_0"){p.attr("href",r)
}}F.show()
}})(jQuery,window,FD.Brand,FD.Brand.User,FD.Brand.Util);
(function(l,q){var z,J,k,e,c,t,r,A,y=null,E,w,B,h,b,p;
q.setInitHandler("[data-fgx-models-display]",D);
function D(L){z=l(".cq-frame").length>0?l(".cq-frame").contents().find(".model-display"):l(".model-display");
J=z.children(".md-compare-models");
k=z.children(".md-models-container");
e=k.children(".md-models");
c=e.children(".md-model-model");
t=k.children(".arrows");
r=z.children(".meatballs");
A=l(window);
E=_.debounce(n,50);
w=_.debounce(u,200);
B=new Array();
h=window.FD.Brand.Util.currentBreakpoint();
p=l(L).data("meatballPrefix");
if(!p){p=""
}b=window.FD.Brand.Util.env.touch();
if((z.length>0)&&(e.length>0)){FD.Brand.Util.carousel.swipe(z[0],function(N,M){if(h==="gux-bkpt-sm"||b){((M==="next")?m:g).call(N)
}})
}if(l("html").hasClass("fgx-brand-Ford")){var K=l("a.btn-secondary",L);
window.FD.Brand.Util.ctaHover(K)
}A.resize(E);
C();
L.each(function(){FD.Brand.Pricing.refresh(this)
})
}function C(){window.FD.Brand.Dig.resolve(l(".model-display .md-models-container .md-models .md-model-model .model-img"));
c.each(function(){var K=l(this);
B.unshift(K.width()+G(K,"marginLeft")+G(K,"marginRight"));
K.on("click",d)
});
J.on("click",d);
t.children(".arrow-next").on("click",{metrics:"click arrow next"},m);
t.children(".arrow-previous").on("click",{metrics:"click arrow previous"},g);
z.on("focusin",function(){t.css("right","0px")
}).on("focusout",function(){t.removeAttr("style")
});
z.addClass("loaded");
A.resize()
}function G(L,K){return Number(L.css(K).replace("px",""))
}function F(K){e.css("left",K+"px")
}function x(L,K){L.append(K);
return L.children().last()
}function d(){}function o(){var O=r.find("a.active");
var N=e.width()/c.length;
var P=Math.round(k.width()/N);
var M=O.data("idx")*P;
var K=0;
l("[tabindex]",c).each(function(){l(this).attr("tabindex","-1")
});
while(K<P){if(M<c.length){var L=c[M];
l("[tabindex]",L).each(function(){l(this).attr("tabindex","0")
});
K++;
M++
}else{break
}}}function I(K){r.find("a.active").removeClass("active");
F(-1*K.attr("data-position"));
K.children("a").addClass("active");
o()
}function m(){var K=r.find("a.active").parent().next();
if(K.length){I(K)
}else{I(r.children().first())
}postfdanalytics.carouselMeatballsClick();
H.call(this)
}function g(){var K=r.find("a.active").parent().prev();
if(K.length){I(K)
}else{I(r.children().last())
}postfdanalytics.carouselMeatballsClick();
H.call(this)
}function a(){I(l(this));
postfdanalytics.carouselMeatballsClick();
H.call(this)
}function j(M,O){var N=_.keys(O),L,K=M.children("li");
while((L=N.shift())){l(K[L]).attr("data-position",O[L].total)
}}function v(L,N){var M=_.keys(N),K,O,P;
while((K=M.shift())){O=x(L,f(K,N[K].total));
if(N[K].total<=Number(e.css("left").replace("px","")*-1)){P=O.children("a")
}O.on("click",{metrics:"click meatball"+K},a)
}if(P){P.addClass("active")
}}function f(L,M){var K=p+" "+L;
return String.prototype.concat.call('<li class="meatball" data-position="',M,'"><a href="javascript:void(0);" data-idx="',L,'" tabindex="0" role="button" data-fgx-keypress="true" aria-label="',K,'">',L,"</a></li>\n")
}function u(N,P){var Q=0,M=_.filter(P,function(R){if(R.combined>=Q){Q=R.combined+k.width();
return true
}return false
}),L=N.children("li").length,O=M.length;
function K(){return N.children("li").last().attr("data-position")!==M[O-1].total
}if(O>1){if(L!==O){N.empty();
v(N,M)
}else{if(K()){j(N,M);
F(-1*Number(N.find("a.active").parent().attr("data-position")))
}}t.addClass("scrollable");
r.addClass("scrollable")
}else{t.removeClass("scrollable");
r.removeClass("scrollable");
F(0)
}o()
}function n(){h=window.FD.Brand.Util.currentBreakpoint();
var O=0,L=0,Q=_.chain(B).map(function(S){L+=Number(S);
var R={width:Number(S),total:O,combined:O+Number(S)};
O+=S;
return R
}).value();
if(h!=="gux-bkpt-sm"&&Q[0]&&Q[0].width){L=L-Q[0].width
}e.css("width",L*1.1+"px");
var K=Q.length,P=0;
if(h!=="gux-bkpt-sm"){Q.pop();
K=Q.length;
for(var N=0;
N<K;
N++){var M=Q[N].combined;
if(z.width()>=M){P=M
}}k.width(P)
}else{k.width(290)
}w(r,Q)
}function H(){FD.Brand.Metrics.handler.direct(l(this).closest("[data-fgx-models-display]").attr("data-fd-metrics-scroll"))
}})(jQuery,FD.Brand);
$(function(){$('[data-analytics="vhp-compare-models"]').click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:compare"),contentType:postfdanalytics.getContentType("none:compare")};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}});
$('[data-analytics="iball-vhp-carousel"]').click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:iball"),contentType:postfdanalytics.getContentType("none:features")};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}});
$('[data-analytics="view-offers-models-display"]').click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:home")>=0){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:view all offers"),contentType:postfdanalytics.getContentType("none:attributes")};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}}});
$(".md-models-container .md-models .md-model-model a picture img").click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("foc:vehicle:home")>=0){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:model select"),contentType:postfdanalytics.getContentType("none:attributes")};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}}});
$(".md-models-container .md-models .md-model-model .md-model-title a").click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("foc:vehicle:home")>=0){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:model select"),contentType:postfdanalytics.getContentType("none:attributes")};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}}})
});
(function(a,c){c.setInitHandler("[data-fgx-compare-vehicles]",b);
function b(h){var d=window.matchMedia("(min-width: 768px)");
a(".toggle-collapse a",h).click(function(){var j=a(this);
var k=j.closest(".compare-vehicles");
k.toggleClass("expanded");
if(k.hasClass("expanded")){c.Metrics.handler.direct(j.attr("data-fd-metrics-expand"))
}});
a(".carousel",h).each(function(){a(this).carousel({interval:false})
});
a(".carousel",h).each(function(){FD.Brand.Util.carousel.swipe(this,g)
});
function f(){a(".carousel .carousel-indicators li",h).each(function(){var j=a(this);
j.attr("aria-pressed",j.hasClass("active"))
})
}function g(k,j){if(!d.matches){a(k).carousel(j);
setTimeout(f,250);
e.call(k)
}}a(".carousel .carousel-indicators li",h).click(function(){var j=a(this).data("slideTo");
a(this).parent().parent(".carousel").carousel(j);
f();
e.call(this)
});
window.FD.Brand.Dig.resolve(a(".vehicles.list-inline"));
h.each(function(){FD.Brand.Pricing.refresh(this)
});
function e(){c.Metrics.handler.direct(a(this).closest("[data-fgx-compare-vehicles]").attr("data-fd-metrics-scroll"))
}}})(jQuery,FD.Brand);
$(function(){$('[data-analytics="explore-features"]').click(function(){var b=$(this).text();
var a=$(this).find(".social-toggle .viewAll").css("display");
if(!(b==undefined)&&!(b==null)){b=b.trim().toLowerCase();
if(b=="view all"){console.log("inside hp onclick-->explore-features");
var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":home:content:onpage",false),onclick:"hp content:more expand",contentType:"hp:none:expanded feature"};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(!(a==undefined)&&!(a==null)){if(a=="none"){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":home:content:onpage",false),onclick:"hp content:more expand",contentType:"hp:none:expanded feature"};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}}}}})
});
(function(c,e,a,j,g,d,b){a.setInitHandler("[data-fgx-brochures-and-guides]",h);
function h(p){if(p.length==0){return
}var r=false;
var o=true;
var n=null;
var l=null;
window.FD.Brand.Dig.resolve(p);
if(e.FD.Pantry&&e.FD.Pantry.Golf){FD.Pantry.Golf.initialized().done(function(){l=FD.Pantry.Golf.getForm("getUpdatesBrochures")
})
}c(".custom-dropdown .selection-dropdown li").each(function(){if((j.nameplate.ngpModelName==c(this).find(".np-name")[0].innerHTML)&&(j.nameplate.ngpYear==c(this).find(".np-year")[0].innerHTML)){var t=this
}if(t){setTimeout(function(){t.click()
},250)
}});
if(e.addEventListener){e.addEventListener("hashchange",q)
}else{e.onhashchange=q
}q();
c(".tab-label",p).click(function(){k.call(this,true)
});
c(".brochure-model-select .selected-option, .brochure-model-select .arrow-down",p).click(function(){var t=c(this).closest(".brochure-content");
var u=c(this).parent(".custom-dropdown");
if(t.hasClass("has-error")){t.removeClass("has-error")
}u.toggleClass("open");
u.find(".brochure-model-select .selected-option").attr("aria-pressed",u.hasClass("open"));
u.find(".brochure-model-select .arrow-down").attr("aria-pressed",u.hasClass("open"))
});
c(".brochure-model-select .selection-options",p).on("click","li",function(){var w=c(this),z=w.closest(".custom-dropdown"),v=z.find(".selected-option"),t=w.closest(".brochure-content"),u=w.data("modelName"),y=w.data("modelYear"),x=w.data("modelDisplayName");
if(t.hasClass("has-error")){t.removeClass("has-error")
}v.html(w.html());
v.data({modelName:u,modelYear:y,modelDisplayName:x});
z.removeClass("open");
z.find(".brochure-model-select .selected-option").attr("aria-pressed",z.hasClass("open"));
z.find(".brochure-model-select .arrow-down").attr("aria-pressed",z.hasClass("open"));
if(!o){v.focus()
}else{o=false
}});
c(".brochure-method",p).click(function(B){B.preventDefault();
var F=c(this);
d.swapColors.call(F);
F.toggleClass("selected");
var D=c("#getUpdatesBrochures",p);
var w=c(".other-methods",p);
var y=c(".brochures-form-wrapper",p);
var u=c(".brochure-method.mail",p).hasClass("selected");
var C=c(".brochure-method.email",p).hasClass("selected");
var x=F.closest(".brochure-content");
var t=x.find(".custom-dropdown").find(".selected-option");
var A=t.data("modelYear");
var z=t.data("modelDisplayName");
if(l!=null&&l!=undefined){var v={model:(z)?z:(j.nameplate&&j.nameplate.ngpModelName),year:(A)?A:(j.nameplate&&j.nameplate.ngpYear),postalCode:b.location.current().postalCode,options:{showEmailOnlyGU:true,emailChecked:C,mailChecked:u}};
var E=FD.Brand.Form.formEventCallback(l,l.formType,null);
l.setConfig(v,E);
w.hide();
if(u||C){y.removeClass("hidden")
}else{y.addClass("hidden")
}}});
c(".download-btn",p).click(function(A){A.preventDefault();
var B=c(this),C=B.closest(".brochure-content"),v=C.find(".custom-dropdown .selected-option"),z=C.find(".zip-input"),w={make:j.make,model:v.data("modelName"),year:v.data("modelYear")},y=d.url.queryString(),t="";
C.removeClass("has-error");
if(typeof(w.make)==="undefined"||typeof(w.model)==="undefined"||typeof(w.year)==="undefined"){C.addClass("has-error");
return
}if(z.length&&z.val()!=="undefined"){var x=(j.region&&j.region==="CA")?"^[ABCEGHJKLMNPRSTVXY]{1}\\d{1}[A-Z]{1} *\\d{1}[A-Z]{1}\\d{1}$":"^\\d{5}$",u=z.val();
if(f(u,x)){w=_.extend(w,{postalCode:u})
}}y.add(w);
t=[g.baseUrl("ngbs"),"/services/assets/Brochure",y.asString()].join("");
if(t){e.open(t)
}postfdanalytics.brochureDownload(w)
});
function q(){var u=e.location.hash;
var t=null;
if(u){var v=u.substr(1);
if(n===v){return
}var w='[data-view="'+v+'"]';
t=c(w,p)
}if(t){k.call(t,false);
r=true
}}function k(t){var u=c(this).attr("data-view");
if(u){if(!c(this).hasClass("selected")){c(".tab-label",p).removeClass("selected");
c(".tab-label",p).attr("aria-pressed","false");
c(this).addClass("selected");
c(this).attr("aria-pressed","true");
c(".content-section",p).removeClass("active");
c(".content-section."+u,p).addClass("active");
if(t){postfdanalytics.brochuresTabClick(u)
}}m(u)
}}function m(t){if(t&&((n&&(t!==n))||!n)){e.location.hash=t;
n=t
}}}function f(m,l){if(l){var k=new RegExp(l,"i");
return k.test(m)
}else{return false
}}})(jQuery,window,FD.Brand,FD.Brand.Context,FD.Brand.Link,FD.Brand.Util,FD.Brand.User);
$(function(){$(".guides-section .container-fluid .row div ul li a").click(function(){console.log("guides click");
var b=$(this).attr("href");
var a=false;
if(typeof(b)!="undefined"){a=postfdanalytics.checkReferralExitLink("brochures",b)
}if(!a){var c=$(this).text().trim();
digitaldata.vehicle.modelYear=FD.Brand.Context.nameplate.ngpYear;
digitaldata.vehicle.nameplate=fdanalytics.getNameplate(FD.Brand.Context.nameplate.ngpModelName);
digitaldata.onclick.onclick="vehicle:guides:content:download:"+c;
digitaldata.onclick.onclickLinkName=postfdanalytics.getOnClickLinkName(":vehicle:guides:download:",true);
digitaldata.page.pageNameNoVehicle=postfdanalytics.getPageInitials()+":vehicle:guides";
legacyDtm.track("brochure-download")
}});
$(".manuals-section .container-fluid .row div ul li a").click(function(){console.log("manuals click");
var b=$(this).attr("href");
var a=false;
if(typeof(b)!="undefined"){a=postfdanalytics.checkReferralExitLink("brochures",b)
}if(!a){var c=$(this).text().trim();
digitaldata.onclick.onclick="vehicle:manuals:content:download:"+c;
digitaldata.onclick.onclickLinkName=postfdanalytics.getOnClickLinkName(":vehicle:manuals:download:",true);
digitaldata.page.pageNameNoVehicle=postfdanalytics.getPageInitials()+":vehicle:manuals";
legacyDtm.track("brochure-download")
}});
$(".manuals-section >.fgx-brand-mobile-container-pad").on("click","a",function(){var a=$(this).attr("href");
if(typeof(a)!="undefined"){postfdanalytics.checkReferralExitLink("brochures",a)
}});
$('[data-analytics="brochure-metrics"]').click(function(){console.log("brochures metrics click -- email/mail");
var e=fdanalytics.getNameplate(fdanalytics._nameplate.ngpModelName),a=fdanalytics.getVehicleCategory(e),c=fdanalytics._nameplate.ngpYear,d={pageName:postfdanalytics.getRegionPageInitials()+":vehicle:brochures:1:info:"+e,siteSection:"brochures",hierarchy:"shopping tools:brochures:"+c+":"+a+":"+e,locale:FD.Brand.Context.locale,pageNameNoVehicle:postfdanalytics.getRegionPageInitials()+":vehicle:brochures:1:info"},b=($(this).hasClass("email"))?"email":"mail";
digitaldata.vehicle.modelYear=c;
digitaldata.vehicle.nameplate=e;
digitaldata.vehicle.bodyModelTrim=FD.Brand.Context.model&&FD.Brand.Context.model.ngpTrimName.trim();
postfdanalytics.setBrochureDeliveryMethod(b);
postfdanalytics.globalActionsGenericOverlay(d);
legacyDtm.track("global-overlay")
})
});
(function(b,d,a){d.setInitHandler("[data-fgx-table-container]",c);
function c(f){if(f.length==0){return
}b(".accordion-heading",f).on("click",function(){var h=a.currentBreakpoint();
if(h==="gux-bkpt-sm"){a.accordion.update(b(this),f,".accordion-heading",".accordion-content",false,e)
}});
function e(){var h=b(this);
if(h.hasClass("open")){FD.Brand.Metrics.handler.direct(b(this).attr("data-fd-metrics-open"),h)
}}function g(){var h=window.FD.Brand.Util.currentBreakpoint();
if(h==="gux-bkpt-sm"){b(".accordion-heading",f).attr("tabindex","0").attr("role","button").attr("data-fgx-keypress","true");
b(".accordion-content",f).hide();
b(".accordion-heading",f).each(function(){var j=b(this);
if(j.hasClass("open")){j.attr("aria-pressed","true")
}else{j.attr("aria-pressed","false")
}})
}else{if(h==="gux-bkpt-med"){b(".accordion-heading",f).attr("tabindex","-1").attr("role","");
b(".accordion-content",f).show()
}else{b(".accordion-heading",f).attr("tabindex","-1").attr("role","");
b(".accordion-content",f).show()
}}}b(window).resize(function(){g()
});
g()
}})(jQuery,FD.Brand,FD.Brand.Util);
$(function(){$('[data-analytics="social-links"]').click(function(){console.log("ford contact us click handlers for metrics");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("help:contact us")>=0){var d=null;
var b=$(this).attr("href");
if(!(b==undefined)&&!(b==null)){if(b.toLowerCase().indexOf("twitter.com")>=0||b.toLowerCase().indexOf("facebook.com")>=0||b.toLowerCase().indexOf("youtube.com")>=0||b.toLowerCase().indexOf("instagram.com")>=0){var c=null;
if(b.toLowerCase().indexOf("twitter")>=0){c="twitter"
}else{if(b.toLowerCase().indexOf("facebook")>=0){c="facebook"
}else{if(b.toLowerCase().indexOf("youtube")>=0){c="youtube"
}else{if(b.toLowerCase().indexOf("instagram")>=0){c="instagram"
}}}}if((postfdanalytics.getPageInitials()==="fv")||(postfdanalytics.getPageInitials()==="foc")){d={onclickLinkName:postfdanalytics.getOnClickLinkName(":help:contact us:content:action",false),onclick:"contact us:content:anchor:"+c}
}else{d={onclickLinkName:"exit:social",onclick:"social:"+c}
}}else{if(typeof b!="undefined"){d={onclickLinkName:postfdanalytics.getOnClickLinkName(":help:contact us:content:action",false),onclick:"contact us:content:click to call"}
}}}if(d!=null){postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}}}});
$("table .col-text a").click(function(){console.log("ford contact us table text column click handlers for metrics");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("help:contact us")>=0){var c=null;
var b=$(this).attr("href");
if(typeof b!="undefined"&&b.indexOf("tel:")>=0){c={onclickLinkName:postfdanalytics.getOnClickLinkName(":help:contact us:content:action",false),onclick:"contact us:content:click to call"}
}if(c!=null){postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}}}})
});
(function(e,f){var k=false,a=e(".scroll-indicator"),g=e(".scroll-indicator-admin").length,b,d=e(f);
e(m);
function m(){l();
var n=function(){if(d.scrollTop()>199){k=true;
l();
d.off("scroll",n)
}};
d.on("scroll",n);
d.resize(function(){if(!k){l()
}});
a.click(function(){var p=d.height();
e("html, body").animate({scrollTop:(p-60)});
k=true;
l()
});
var o=0;
b=setInterval(function(){var q=e(".billboard-container .carousel-indicators");
o++;
if(q.length&&o<5){if(q.hasClass("shown")){if(h()){var p=q.offset().top;
c(p)
}clearInterval(b)
}}else{clearInterval(b)
}},1000)
}function l(){if(g){e(".scroll-indicator-admin .scroll-indicator").show();
return false
}if(j()){a.fadeIn("slow")
}else{a.fadeOut("slow")
}}function j(){var o=d.height(),n=d.width();
if(k){return false
}if(d.scrollTop()>(o/2)){return false
}if(o>900||n<992){return false
}if(h()){return false
}if(g){return false
}return true
}function h(v){var t=false,r,o,q,n;
var p=y1=b1=r1=x2=y2=b2=r2=0;
if(!a.is(":visible")){a.addClass("invisible");
a.show()
}if(a.length){r=a.outerHeight(true);
o=a.outerWidth(true);
p=a.offset().left;
y1=a.offset().top;
b1=y1+r;
r1=p+o
}var u=e(".billboard-container .carousel-indicators.shown");
if(u.length){x2=u.offset().left;
y2=u.offset().top;
q=u.outerHeight(true);
n=u.outerWidth(true);
b2=y2+q;
r2=x2+n;
t=(b1<y2||y1>b2||r1<x2||p>r2)?false:true
}if(a.hasClass("invisible")){a.removeClass("invisible");
a.hide()
}if(v){t=u.offset().top
}return t
}function c(n){if(!n){return
}a.animate({top:n-a.outerHeight(true)-d.scrollTop()-10})
}})(jQuery,window);
$(function(){$('[data-analytics="scroll-bottom"]').click(function(){console.log("scroll-bottom");
var a=FD.Brand.Context.nameplate&&FD.Brand.Context.nameplate.ngpModelName;
var c=null;
var b=null;
if(FD.Brand.Context.region=="US"){b=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){b=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}if(!(a==undefined)&&!(a==null)){c=b+":global:action:"+fdanalytics.getNameplate(FD.Brand.Context.nameplate.ngpModelName)
}else{c=b+":global:action"
}var d={onclickLinkName:c,onclick:"scroll indicator:bottom"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
})
});
(function(d,e,g,q,v,x,l){var c;
var k;
var p;
var u;
var m;
var o;
var a;
var t;
g.setInitHandler("[data-fgx-postal-code-overlay]",r);
function r(y){a=y.attr("data-fd-metrics-zip-code-change-action");
t=y.attr("data-fd-metrics-overlay-open-action");
c=v.register("postalCodeOverlay",y,{show:function(){var z=x.location.current().postalCode;
if(z){f(z)
}h(g.Util.env.geoLocation(),y);
if(typeof t!="undefined"){FD.Brand.Metrics.handler.direct(t)
}}});
k=e("#txt_zipCode",y);
p=e(".zipcode-msg",y);
u=e(".alert-icon",y);
m=e(".postal-code-cta",y);
u.hide();
if(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig&&FD.Brand.Component.locateDealerConfig.validationZipCode){o=new RegExp(FD.Brand.Component.locateDealerConfig.validationZipCode)
}e(".ico-search",y).add(m).click(b);
k.click(function(){k.val("").addClass("postal-code-textfield-context")
}).keypress(function(z){if(z.which===13){b();
return false
}});
e(".icon-close",y).click(function(){c.hide()
});
if(e("#txt_zipCode")[0].value.length){e(".center-rightside-content .postal-code-cta").addClass("text-entered")
}e("#txt_zipCode").bind("input propertychange click",function(){if(this.value.length){e(".center-rightside-content .postal-code-cta").addClass("text-entered")
}else{e(".center-rightside-content .postal-code-cta").removeClass("text-entered")
}})
}function h(z,y){e(".ico-geolocation",y).toggle(z).click(j)
}function j(){if(d.navigator&&navigator.geolocation){navigator.geolocation.getCurrentPosition(function(y){l.dealers({make:q.make,latitude:y.coords.latitude,longitude:y.coords.longitude}).done(function(z){if(z.length>0){f(z[0].Address.PostalCode)
}})
},function(){g.Util.log("Postal Code Overlay - error retrieving the current position")
})
}}function f(y){k.css({color:"#000"}).val(y)
}function n(y){return !o||o.test(y)
}function w(y){return e.Deferred(function(z){if(!n(y)){z.reject("invalid")
}else{l.location(y).then(function(){x.location.setPostalCode(y);
z.resolve(y)
},function(A){z.reject(A.status===400?"invalid":"error")
})
}}).promise()
}function b(){u.hide();
p.text("");
p.removeClass("postalcode-error");
w(k.val()).then(function(){c.hide()
},function(y){p.text(p.attr("data-msg-"+y));
p.addClass("postalcode-error");
u.show()
});
if(typeof a!="undefined"){FD.Brand.Metrics.handler.direct(a)
}}})(window,$,FD.Brand,FD.Brand.Context,FD.Brand.Overlay,FD.Brand.User,FD.Brand.NgpServices);
(function(F,C,E,K,f,h){_.extend(FD.Brand.namespace("FD.Brand.MediaOverlay",F),{link:t});
var M={};
var v;
var G;
var y;
var m;
var B;
var L={};
var q=null;
var z=[];
var p={"ratio15-16":1.06,"ratio1-1":1,"ratio4-3":0.75,"ratio16-9":0.5625,"ratio3-2":0.6666,"ratio7-3":0.4285,"ratio2-1":0.5};
E.setInitHandler("[data-fgx-media-overlay]",I);
function I(P){v=K.register("mediaOverlay",P,{hide:function(){O(null);
a()
}});
var Q=h.env.touch();
C(".icon-close",P).on("click",function(){v.hide()
});
m=_.template(C("script[data-fgx-media-overlay-item]").html());
B=_.template(C("script[data-fgx-media-overlay-youtube-item]").html());
G=C(".carousel-arrows",P);
C("div",G).click(function(R){R.preventDefault();
u(C(this).is(".carousel-next")?"next":"prev")
});
C(P).on("mouseenter",".has-list .image-wrapper, .has-list .video-wrapper",function(){G.animate({right:"0px"},"fast")
}).on("mouseenter",".carousel-caption-media-overlay",function(){G.animate({right:"-70px"},"fast")
});
G.on("focusin",function(){G.css("right","0px")
}).on("focusout",function(){G.css("right","-70px")
});
C(P).on("click",".details-toggle",function(S){S.preventDefault();
C(".carousel-details-toggle").toggleClass("details-show");
C(".content",P).slideToggle(500);
J();
if(C(this).hasClass("is-show")){postfdanalytics.carouselScrollViewDetails();
C(".carousel-details-toggle .is-hide").focus();
var R=(C(this).closest(".fgx-brand-youtube-carousel").length>0)?"videoViewDetails":"imageViewDetails";
r(R)
}else{C(".carousel-details-toggle .is-show").focus()
}});
C(P).on("click",".img-expand",function(T){var V=C(this).attr("data-expandSrc");
var S=C(this).attr("data-expandContent");
var R=C(this).attr("data-expandAlt");
var U={$el:C(".img-expanded"),hide:function(){C(".imgExpand-close").trigger("click")
}};
e(V,S,R,U,C(this));
r("imageExpand")
});
P.each(function(){FD.Brand.Util.carousel.swipe(this,function(S,R){var T=h.currentBreakpoint();
if(T==="gux-bkpt-sm"||T==="gux-bkpt-med"||Q){u(R)
}})
});
C(".imgExpand-close").click(function(){C(".img-expanded").fadeOut();
C("body").removeClass("no-scroll");
var R={$el:C(".img-expanded"),lastFocus:C(".img-expand",P)};
K.releaseFocus(R)
});
if(F.addEventListener){F.addEventListener("hashchange",H)
}else{F.onhashchange=H
}C(P).on("slid.bs.carousel",".carousel",function(){j();
var T=v.$el.find(".carousel");
if(T&&T.hasClass("fgx-brand-youtube-carousel")){var U=T.find(".active");
var R=U.data("config");
var S=(R&&R.player)?R.player:null;
if(S){S.playVideo()
}}});
C(window).resize(function(){J()
});
C("body").on("fgx-video-change",function(T,S){var R=null;
_.each(L,function(V,U){var W=V[5];
if(W&&(W===S.id||W.substring(4)===S.reference_id)){R=U;
return false
}});
O(R)
});
J()
}function A(S,P,T){var Q=S.attr("data-overlay-item");
var R=_.extend({},M,T&&JSON.parse(T)||{},Q&&JSON.parse(Q)||{},P);
R.headline=R.headline||"&nbsp;";
if(R.image){R.image.sources=[{breakpoint:0,src:h.images.renditionUrl(R.image.primaryImage,"cq5dam.web.1280.1280.jpeg")}];
R.image.defaultSource=R.image.sources[0]
}return R
}function t(P){C("[data-overlay-item]",C(P)).each(function(){var Q=C(this);
if(!_.isArray(Q.data("overlay-idx"))){b(Q)
}});
H()
}function b(V,Q){var S=[];
var U=[];
var W=[];
var T=V.closest("[data-dynamic-disclosure-enable]").find(".dynamic-disclosures");
var R=V.closest("[data-overlay-group]");
var P=R.attr("data-overlay-group");
((R.length>0)?R.find("[data-overlay-item]"):V).each(function(Y,aa){var Z=C(aa);
var ab=A(Z,Q,P);
ab.dynamicDisc={display:false,content:""};
if(T.length){ab.dynamicDisc.display=true;
ab.dynamicDisc.content=T.html()
}if(ab.ytVideoId){Z.data("overlay-idx",["y",W.length]);
ab.videoId=ab.ytVideoId;
W.push(ab)
}else{if(ab.videoId){Z.data("overlay-idx",["v",U.length]);
U.push({videoId:ab.videoId,videoTitle:ab.headline,titleStyle:ab.headlineStyle,videoDescription:ab.description,videoThumbnail:ab.videoThumbnail,disclaimerText:ab.disclosures,anchorId:ab.anchorId,actions:ab.actions,ctas:ab.ctas&&_.map(ab.ctas,function(ad){return{text:ad.text,link:ad.url}
}),expandDetails:ab.expandDetails||false})
}else{Z.data("overlay-idx",["i",S.length]);
S.push(ab)
}}var X=Z.find("[data-overlay-item-trigger]");
if(X.length>0){var ac=X.attr("data-overlay-item-trigger");
if(ac){X=C(ac,Z)
}}else{X=Z
}if(ab.anchorId){L[ab.anchorId]=[C(this),S,U,W,ab.anchorId,ab.videoId]
}X.off("click.fgxMediaOverlay").on("click.fgxMediaOverlay",function(ad){ad.preventDefault();
k(C(this),S,U,W,ab.anchorId)
})
})
}function k(X,S,P,T){var V=X.data("overlay-idx");
switch(V[0]){case"v":O(P[V[1]].anchorId);
f.launch({videos:P,playIndex:V[1],autoPlay:true,showSaveButton:false,showShareButton:false,defaultDetailsExpanded:P&&P[V[1]]&&P[V[1]].expandDetails,metricsActions:P&&P[V[1]]&&P[V[1]].actions},X);
break;
case"i":var U=v.$el;
var Q=U.find(".carousel");
var R=Q.find(".carousel-inner");
R.empty();
_.each(S,function(aa,Z){var Y=C(m({index:Z,count:S.length,item:aa}));
Y.data("config",aa);
if(Z===V[1]){Y.addClass("active")
}Y.appendTo(R);
g(Y)
});
U.data("actions",S[V[1]].actions);
Q.toggleClass("has-list",S.length>1);
Q.carousel({interval:false});
Q.carousel(V[1]);
j();
c();
h.images.load(R);
g();
v.show(true,X,".close-overlay");
break;
case"y":var U=v.$el;
var Q=U.find(".carousel");
var R=Q.find(".carousel-inner");
R.empty();
Q.addClass("fgx-brand-youtube-carousel");
var W=[];
_.each(T,function(ab,aa){var ad="fgx-youtube-embed-"+aa;
ab.playerId=ad;
var Z={id:ad,index:aa,count:T.length,item:ab,events:{onStateChange:o,onReady:D},autoPlay:0};
var Y=C(B(Z));
if(aa===V[1]){Y.addClass("active");
Z.autoPlay=1
}Y.appendTo(R);
var ac=f.youtube.create(Z,X);
ac.then(function(ae){ab.player=ae;
Y.data("config",ab)
});
W.push(ac)
});
C.when.apply(C,W).done(function(){j()
});
U.data("actions",T[V[1]].actions);
Q.toggleClass("has-list",T.length>1);
Q.carousel({interval:false});
Q.carousel(V[1]);
c();
h.images.load(R);
v.show(true,X,".close-overlay");
break
}if(typeof FD.Brand.Disclosures!="undefined"){FD.Brand.Disclosures.updateDisclosures(v.$el)
}}function r(R,P){var Q=v.$el.data("actions");
if(!P){P={}
}if(Q&&Q[R]){FD.Brand.Metrics.handler.direct(Q[R],P)
}}function g(P){$toarrows=C(".text-only-arrows",P);
C("div",$toarrows).click(function(Q){Q.preventDefault();
u(C(this).is(".carousel-next")?"next":"prev")
})
}function u(R){var P=v.$el.find(".carousel");
var Q="imageCarouselScroll";
if(P.length>0&&P.hasClass("fgx-brand-youtube-carousel")){N(P);
Q="videoCarouselScroll"
}P.carousel(R);
r(Q);
if(Q==="videoCarouselScroll"){w()
}else{n()
}}function j(){var T=v.$el.find(".carousel");
var S=T.find(".active");
var Q=S.data("config");
O(Q.anchorId);
J();
if(T.hasClass("fgx-brand-youtube-carousel")){if(C(".carousel-details-toggle").hasClass("details-show")==true){C(".carousel-details-toggle").toggleClass("details-show");
C(".media-overlay .content").slideToggle(500)
}C(".carousel-details-toggle").show();
C(".media-overlay .carousel-arrows").show()
}else{if(Q.image){var P=Q.image.altTag||"";
var R=v.$el.find(".img-expand");
R.attr("data-expandSrc",Q.image.defaultSource.src);
R.attr("data-expandContent",Q.headline);
R.attr("data-expandAlt",P);
if(C(".carousel-details-toggle").hasClass("details-show")==true){C(".carousel-details-toggle").toggleClass("details-show");
C(".media-overlay .content").slideToggle(500)
}C(".carousel-details-toggle").show();
C(".media-overlay .carousel-arrows").show();
C(".media-overlay .img-expand").show()
}else{if(C(".carousel-details-toggle").hasClass("details-show")!=true){C(".carousel-details-toggle").toggleClass("details-show");
C(".media-overlay .content").slideToggle(500)
}C(".carousel-details-toggle").hide();
C(".media-overlay .carousel-arrows").hide();
C(".media-overlay .img-expand").hide()
}}}function c(){var P=C(".carousel-details-toggle");
if(P.hasClass("default-expand")&&!P.hasClass("details-show")){P.toggleClass("details-show");
C(".media-overlay .content").slideToggle(500)
}P.show()
}function J(){var T=Math.max(450,(450+C(F).height()-625))+"px";
var P=v.$el.find(".active");
if(P.length){var U,S=0,V=0;
if(P.hasClass("fgx-media-overlay-youtube-item")){U=P.find(".video-wrapper");
var W=U.width();
var Q=p[(U.data("fdAspectRatio"))]||p["ratio16-9"];
S=(W*Q)
}else{U=P.find(".image-wrapper");
U.css({maxHeight:T});
S=U.height();
V=(S*0.88)
}var R=(S*0.41);
if(R>0){C(".media-overlay .carousel-arrows").css("top",R)
}if(V>0){C(".media-overlay .img-expand").css("top",V)
}}l()
}function l(){var Q=Math.max(0,(C(F).height()-768)/2);
var P="150,"+Q;
v.$el.attr("data-overlay-scroll-offset",P)
}function e(T,P,S,Q,R){C(".imgSrc-expanded").attr("src",T);
C(".imgSrc-expanded").attr("alt",S);
C(".img-expanded-footer-content").html(P);
C(".img-expanded").fadeIn(400,function(){K.trapFocus(Q,".imgExpand-close",".imgExpand-close",R)
});
C("body").addClass("no-scroll")
}function H(){var P=F.location.hash;
if(P){P=P.substr(1);
if(q===P){return
}var Q=L[P];
if(Q){q=P;
F.setTimeout(function(){F.scrollTo(0,Math.max(Q[0].offset().top-150,0));
k.apply(null,Q)
},0)
}}}function O(Q){q=Q;
if(F.history.replaceState){var P=F.location.href;
P=P.substr(0,P.length-F.location.hash.length)+((Q)?"#"+Q:"");
F.history.replaceState({},document.title,P)
}}function N(S){if(S){var R=S.find(".active");
var P=R.data("config");
var Q=(P&&P.player)?P.player:null;
if(Q){Q.pauseVideo()
}}}function a(){var P=v.$el.find(".carousel");
if(P.length>0&&P.hasClass("fgx-brand-youtube-carousel")){var Q=P.find(".fgx-media-overlay-youtube-item");
Q.each(function(){var R=C(this).data("config");
var T=(R&&R.playerId)?R.playerId:"fgx-youtube-embed-0";
var S=(R&&R.player)?R.player:null;
if(z[T]){clearInterval(z[T].setInterval)
}if(S){if(C(this).hasClass("active")){S.pauseVideo()
}S.destroy()
}});
P.removeClass("fgx-brand-youtube-carousel");
z=[]
}}function o(U){var T=U.target;
var W=C(T.getIframe()).closest(".fgx-media-overlay-youtube-item");
var R=W.data("config");
var V=T.getDuration();
var S=(R&&R.playerId)?R.playerId:"fgx-youtube-embed-0";
switch(U.data){case 0:if(z[S]){clearInterval(z[S].setInterval)
}d(T,W);
break;
case 1:if(!z[S]){var Q=(Math.ceil(V/4)*1000)+1000;
var P=setInterval(function(){d(T,W)
},Q);
z[S]={setInterval:P,delay:Q,container:W,player:T};
d(T,W)
}else{x(S);
d(T,W)
}break;
case 2:if(z[S]){clearInterval(z[S].setInterval)
}break
}}function D(R){var Y=R.target;
var V=Y.getDuration();
var S=Math.floor(V/4);
var Q=Math.floor(V/2);
var X=Math.floor((V/4)*3);
var U=Math.floor(V);
var T=[{id:"videoStart",seg:0,legacyMtxDC:"video-segment-0"},{id:"videoSegment25",seg:S,per:"25% complete",legacyMtxDC:"video-segment-25"},{id:"videoSegment50",seg:Q,per:"50% complete",legacyMtxDC:"video-segment-50"},{id:"videoSegment75",seg:X,per:"75% complete",legacyMtxDC:"video-segment-75"},{id:"videoComplete",seg:U,per:"video complete",legacyMtxDC:"video-segment-100"}];
var P={segments:T,trackedSegments:{}};
var W=C(Y.getIframe()).closest(".fgx-media-overlay-youtube-item");
W.data("fgxMtxData",JSON.stringify(P))
}function d(Y,S){var T=Y.getCurrentTime();
var U=Y.getVideoData();
var R=U.title||"";
var P=JSON.parse(S.data("fgxMtxData"));
var Q=P.trackedSegments;
var V=[];
_.each(P.segments,function(Z){if(!Q[Z.id]&&T>=Z.seg){Q[Z.id]=1;
V.push(Z)
}});
if(V.length>0){var W=V[V.length-1];
r(W.id,{video:{videoName:R,segmentTime:W.seg,videoNamePercentageWatched:W.per}});
var X=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(X){switch(W.id){case"videoStart":postfdanalytics.callVideoMetricsStart(R);
break;
case"videoSegment25":case"videoSegment50":case"videoSegment75":case"videoComplete":postfdanalytics.callVideoMetrics(W.seg,W.per);
break
}legacyDtm.track(W.legacyMtxDC)
}}P.trackedSegments=Q;
S.data("fgxMtxData",JSON.stringify(P))
}function x(Q){if(Q&&z[Q]){clearInterval(z[Q].setInterval);
var P=setInterval(function(){d(z[Q].player,z[Q].container)
},z[Q].delay);
z[Q].setInterval=P
}}function n(){var P=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(P==undefined)&&!(P==null)){if(P.indexOf("vehicle:home")>=0){var S={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:carousel scroll"),contentType:postfdanalytics.getContentType("none:gallery")};
postfdanalytics.postPageThreePropsLoad(S);
legacyDtm.track("hp-onclick")
}else{if(P.indexOf("vehicle:gallery")>=0){var S={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:postfdanalytics.getOnClick("carousel scroll"),contentType:"gallery:none:gallery"};
postfdanalytics.postPageThreePropsLoad(S);
legacyDtm.track("hp-onclick")
}else{if(P.indexOf("models:detail enhanced")>=0){var S={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:content action:",true),onclick:"models content:detail enhanced:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(S);
legacyDtm.track("hp-onclick")
}else{if(P.indexOf("vehicle:models:detail")>=0){var S={onclickLinkName:postfdanalytics.getOnClickLinkName("vehicle:models:detail:content action:",true),onclick:"models content:detail:carousel scroll",contentType:"models content:detail:none:gallery"};
postfdanalytics.postPageThreePropsLoad(S);
legacyDtm.track("hp-onclick")
}else{if(P.indexOf("vehicle:features")>=0){var S=null;
var T=P.split(":");
if(T.length==5){if(postfdanalytics.getPageInitials()=="lnc"||postfdanalytics.getPageInitials()=="ln"){S={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:content:action:",true),onclick:"features content:carousel scroll"}
}else{S={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:category:content:action:",true),onclick:"features category content:carousel scroll"}
}}postfdanalytics.postPageTwoPropsLoad(S);
legacyDtm.track("global-onclick")
}else{if(P.indexOf("reveal")>=0){var S={onclickLinkName:postfdanalytics.getOnClickLinkName(":reveal:content:action:",true),onclick:"reveal content:carousel scroll",contentType:"reveal:none:gallery"};
postfdanalytics.postPageThreePropsLoad(S);
legacyDtm.track("hp-onclick")
}else{if(P.indexOf("tech:sync")>=0){var Q="all";
if(P.indexOf("sync3")>=0){Q="sync3"
}if(P.indexOf("sync-base")>=0){Q="sync-base"
}var S={onclickLinkName:postfdanalytics.getOnClickLinkName(":tech:sync:vehicle:"+Q+":content:action",false),onclick:"tech:sync:vehicle:"+Q+":content:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(S);
legacyDtm.track("global-onclick")
}else{if(P.indexOf("black label landing")>=0){var S={onclickLinkName:postfdanalytics.getOnClickLinkName(":black label landing:content action",false),onclick:"black label:action:: gallery:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(S);
legacyDtm.track("bl-onclick")
}else{if(P.indexOf("black label:")>=0){var T=P.split(":");
var S={onclickLinkName:postfdanalytics.getPageInitials()+":black label:"+T[2]+":content action",onclick:"black label:"+T[2]+":gallery:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(S);
legacyDtm.track("bl-onclick")
}else{if(P.indexOf("concierge")>=0){var S={onclickLinkName:postfdanalytics.getOnClickLinkName(":concierge:content:action",false),onclick:"concierge content:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(S);
legacyDtm.track("global-onclick")
}else{if(P.indexOf("technologies:ecoboost")>=0){var S={onclickLinkName:postfdanalytics.getOnClickLinkName(":lp:ecoboost:content action",false),onclick:"lp:ecoboost:content:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(S);
legacyDtm.track("global-onclick")
}else{if(P.indexOf("innovation:articles")>=0){var R=P.split(":").slice(0,-1).join(":");
var S={onclickLinkName:R+":content:action",onclick:"innovation:articles:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(S);
legacyDtm.track("global-onclick")
}else{if(P.indexOf("lp:towing capacity")>=0){postfdanalytics.towingCapacityClick("carousel scroll")
}else{if(P.indexOf("lp:dat")>=0){postfdanalytics.datClickEvent("carousel scroll")
}}}}}}}}}}}}}}}}function w(){var P=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(P==undefined)&&!(P==null)){var Q={onclickLinkName:postfdanalytics.getOnClickLinkName(":video:scroll",false),onclick:"video:scroll:carousel"};
postfdanalytics.postPageTwoPropsLoad(Q);
legacyDtm.track("global-onclick")
}}})(window,jQuery,FD.Brand,FD.Brand.Overlay,FD.Brand.Video,FD.Brand.Util);
$(function(){$('[data-analytics="photo-expand"]').click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b=null;
if(a.indexOf("vehicle:home")>=0||a.indexOf("vehicle:gallery")>=0){if(a.indexOf("vehicle:home")>=0){b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:expand"),contentType:postfdanalytics.getContentType("none:gallery")}
}else{b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:postfdanalytics.getOnClick("expand"),contentType:"gallery:none:gallery"}
}postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("concierge")>=0){b={onclickLinkName:postfdanalytics.getOnClickLinkName(":concierge:content:action",false),onclick:"concierge content:photo expand"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("site search results:page")>=0){b={onclickLinkName:postfdanalytics.getOnClickLinkName(":site search:photos:full screen",false),onclick:"site search result:natural"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-search-cta")
}}}}})
});
(function(h,j,p,t,w,b,A){var c=(t.make==="Ford")?t.settings.mailSendUrlFord:t.settings.mailSendUrlLincoln;
var g;
var r;
var o;
var v;
var a;
var m;
var q;
var e;
var z="anonymous";
p.setInitHandler("[data-fgx-email-overlay]",u);
function u(B){g=w.register("emailOverlay",B,{show:function(){y();
j(".success-msg",B).hide();
j("body").addClass("no-scroll")
},hide:function(){j("body").removeClass("no-scroll")
}});
e=B;
r=j("#txt_emailSubject",B);
o=j("#txt_emailBody",B);
q=j(".email-cta",B);
m=j("#txt_fromEmail",B).val();
v=r.val();
a=o.val();
r.focus(function(C){l(r,v)
});
o.focus(function(C){l(o,a)
});
r.focusout(function(C){d(r,v)
});
o.focusout(function(C){d(o,a)
});
j(".icon-close",B).click(function(){g.hide()
});
q.click(f);
A.authentication.subscribe(x,false)
}function x(B){if(B.consumerId){z=B.consumerId
}}function l(B,C){if(B.val()===C){B.val("");
B.addClass("active")
}}function d(B,C){if(B.val()===""){B.removeClass("active");
B.val(C)
}}function f(){var B=r.val();
var C=o.val();
if(B!==v&&C!==a){j(".validation-error",e).hide();
r.removeClass("error");
o.removeClass("error");
k(B,C)
}else{j(".validation-error",e).show();
if(B===v){r.addClass("error")
}if(C===a){o.addClass("error")
}}}function n(B){return j.Deferred(function(C){j.ajax({url:c+"/core-services/mail/send",method:"jsonp",data:B,xhrFields:{withCredentials:true}}).done(function(D){if(D){C.resolve(D)
}else{C.resolve(null)
}}).fail(function(D){b.log("Send email failed",D);
C.reject(D)
})
}).promise()
}function y(){r.val(v);
r.removeClass("active");
o.val(a);
o.removeClass("active");
j(".validation-error",e).hide();
j(".submission-error",e).hide();
r.removeClass("error");
o.removeClass("error")
}function k(C,B){j(".success-msg",e).hide();
var D={from:m,subject:C,message:B,posttext:z};
n(D).then(function(){y();
j(".success-msg",e).show()
},function(E){j(".submission-error",e).show()
})
}})(window,$,FD.Brand,FD.Brand.Context,FD.Brand.Overlay,FD.Brand.Util,FD.Brand.User);
(function(e,h,a,b,c){var g="browser-alert";
var d;
h.setInitHandler("[data-fgx-browser-alert]",f);
function f(l){if(l.length===0){return
}d=b.register("browserAlert",l);
e(".icon-close",l).on("click",function(){d.hide()
});
var j=a.currentBreakpoint()==="gux-bkpt-sm";
var m={msie:j?10:9,chrome:j?38:27,firefox:j?0:35,safari:j?7:5,android:j?3:0};
var n=a.env.browser();
var k=l.attr("data-fd-metrics-on-show");
if(!a.cookie.get(g)&&m[n.name]>=n.version){d.show(true,undefined,".browser-item");
a.cookie.set(g,1,{path:"/",domain:c.settings["siteCookieDomain"+c.make]});
if(!FD.Brand.Context.settings.syn){callBrowserUnsupportedGenericOverlayPostPageLoad()
}FD.Brand.Metrics.handler.direct(k)
}if(m[n.name]>=n.version){}}})(jQuery,FD.Brand,FD.Brand.Util,FD.Brand.Overlay,FD.Brand.Context);
function callBrowserUnsupportedGenericOverlayPostPageLoad(){var a={pageName:postfdanalytics.getOnClickLinkName(":browser unsupported overlay",false),siteSection:"home",hierarchy:"home",locale:FD.Brand.Context.locale,pageNameNoVehicle:postfdanalytics.getOnClickLinkName(":browser unsupported overlay",false)};
fdanalytics.browserUnsupportedMetricsLoad(a);
legacyDtm.track("global-overlay")
}(function(h){var a=h(window);
var k=h(".btt-arrow");
var o,c,g,d,l;
a.on("scroll",_.throttle(j,200));
k.on("mouseover",function(){d=true
});
k.on("mouseout",function(){d=false
});
k.on("click",function(){e()
});
function j(){m();
if((a.scrollTop()+a.height())>1599){if((c==="up")){if(!g){f()
}n();
return
}}else{if(g){return
}}p()
}function p(q){if(q||!d){clearInterval(l);
c=null;
b()
}}function n(){clearInterval(l);
l=setInterval(function(){p()
},2500)
}function m(){var q=o?o:a.scrollTop();
o=a.scrollTop();
var r=c;
c=(o<q)?"up":"down"
}function f(){k.animate({right:"-15px"},0);
k.stop(true,true).fadeIn({queue:false,duration:"fast"});
k.animate({right:"+15px"},"fast");
g=true
}function b(){k.fadeOut("fast");
g=false
}function e(){h("html, body").animate({scrollTop:0},400,"swing",function(){p(true)
})
}})(jQuery);
$(function(){$('[data-analytics="back-to-top"]').click(function(){console.log("back-to-top");
var a=FD.Brand.Context.nameplate&&FD.Brand.Context.nameplate.ngpModelName;
var b=null;
if(FD.Brand.Context.region=="US"){pageInitial=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){pageInitial=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}if(!(a==undefined)&&!(a==null)){b=pageInitial+":global:action:"+fdanalytics.getNameplate(FD.Brand.Context.nameplate.ngpModelName)
}else{b=pageInitial+":global:action"
}var c={onclickLinkName:b,onclick:"scroll indicator:top"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
})
});
(function(d,g,b,c,a){var f;
g.setInitHandler("[data-fgx-search-bar]",e);
function e(l){if(l.length==0){return
}var j=l.attr("data-exit-overlay-id");
var m="astuteSearchUrl"+b.make;
var k="astuteSearchUrl"+b.make+b.languageKey;
var h=b.settings[k];
if(typeof h==="undefined"){h=b.settings[m]
}f=d(".search-suggestions",l);
d("form",l).attr("action",h);
d("form",l).on("submit",function(n){if(typeof j!="undefined"&&(g.Link&&g.Link.exitOverlays&&typeof(g.Link.exitOverlays[j])!="undefined")){var p={q:d(".search-bar-input",l).val()};
hrefValue=h+"?"+a.parameters.encode(p);
d("form",l).attr("href",hrefValue);
d(this).attr("target","_blank");
FD.Brand.Link.exitOverlays[j].externalUrl.call(this,n,true)
}var o=d(this).attr("data-fd-metrics-submit-action");
if(typeof o!="undefined"){FD.Brand.Metrics.handler.direct(o)
}});
d(".search-bar-input",l).on("input",function(){if(d(this).val().length===0){f.hide()
}else{c.typeAheadResults(d(this).val(),f)
}});
d(".search-bar-input",l).on("blur",function(){setTimeout(function(){var n=d(document.activeElement);
if(!n.hasClass("search-res-item")){f.hide()
}else{d(".search-res-item",l).on("focusout",function(){setTimeout(function(){var o=d(document.activeElement);
if(!o.hasClass("search-res-item")&&!o.hasClass("search-bar-input")){f.hide();
d(".search-res-item",l).off("focusout")
}},100)
})
}},100)
});
d(".search-bar-submit",l).on("click",function(){d(this).closest("form").submit()
});
d(".accordion-heading",l).on("click",function(){var o=d(this);
var p=d(this).attr("data-fd-metrics-open");
if(o.hasClass("open")){o.toggleClass("open");
o.attr("aria-pressed","false");
o.next(".accordion-content").toggleClass("open").hide()
}else{d(".accordion-heading.open",l).removeClass("open");
d(".accordion-heading.open",l).attr("aria-pressed","false");
d(".accordion-content.open",l).removeClass("open").hide();
o.toggleClass("open");
o.attr("aria-pressed","true");
var n="animationend webkitAnimationEnd MSAnimationEnd transitionend webkitTransitionEnd";
o.next(".accordion-content").show().toggleClass("open").one(n,function(){d("html, body").animate({scrollTop:o.offset().top-d(".navbar-static-top").height()},200)
});
if(typeof p!="undefined"){FD.Brand.Metrics.handler.direct(o.attr("data-fd-metrics-open"))
}}})
}})(jQuery,FD.Brand,FD.Brand.Context,FD.Brand.Search,FD.Brand.Util);
(function(a,c){c.setInitHandler("[data-fgx-secondary-navigation]",b);
function b(x){if(x.length==0){return
}var j=a(window),B=null,l=x,N=l.find(".nav-secondary_wrapper"),z=N.find(".nav-secondary_bar"),t=z.find(".nav-secondary"),J=t.find(".nav-secondary_main_hamburger"),g=L(t.find(".nav-secondary_menu1_top"),"padding"),I=_.debounce(n,50),A,q,r=window.FD.Brand.Util.currentBreakpoint();
if(a(".mainNavigation .navbar.navbar-default").length>0){B=a(".mainNavigation .navbar.navbar-default")
}else{if(a(".mainNavigationLincoln .navbar.navbar-default").length>0){B=a(".mainNavigationLincoln .navbar.navbar-default")
}else{}}j.resize(I);
j.scroll(_.throttle(v,125));
e(t,H);
function H(){A=N.offset().top+3;
j.resize();
j.scroll();
var Q=N.find(".nav-secondary_menu1 .nav-mask .subnav");
var T=N.find(".nav-secondary_menu1_dropdown");
var Z=N.find("li.nav-secondary_submenu.nav-secondary_menu.first");
var aa=N.find("li.nav-secondary_submenu.nav-secondary_menu.second");
var U=Q.find("li.selected");
var X=Q.find("li.nav-secondary_menu3.selected");
var Y=Q.find("li.nav-secondary_menu3.nav-secondary_menu.selected");
var S=false;
var W=Q.find("li.nav-secondary_menu2.nav-secondary_menu");
if(Y.length>0){U=Y.parent().parent().parent();
S=true
}else{if(X.length>0){U=X.parent().parent().parent()
}}if(U.length>0){if(a(U[0]).find("ul.grandchildren li").length>0){var O=a(U[0]);
O.children().clone().appendTo(Z);
O.children().clone().appendTo(aa);
var R=Z.find(".nav-mask");
var ad=aa.find(".nav-mask");
var V=Z.find("ul.grandchildren").detach().appendTo(R);
Z.find("ul.great-grandchildren").detach();
var P=aa.find("ul.great-grandchildren.active").detach().appendTo(ad);
aa.find("ul.grandchildren").detach();
V.removeClass().addClass("dropdown subnav");
Z.find("span.nav-secondary_menu2_top").removeClass("nav-secondary_menu2_top").addClass("nav-secondary_menu3_top");
var ab=Z.find("span.nav-secondary_menu3_top").first();
ab.append(ab.find("a").first().html());
ab.find("a").first().remove();
Z.removeClass("hidden");
if(S&&P!=null){P.removeClass().addClass("dropdown subnav");
aa.find("span.nav-secondary_menu2_top").removeClass("nav-secondary_menu2_top").addClass("nav-secondary_menu3_top");
var ac=aa.find("span.nav-secondary_menu3_top").first();
ac.find("a").first().remove();
ac.append(Y.find("a").first().html());
aa.removeClass("hidden")
}}}N.find(a("a")).each(function(){var af=a(this);
var ae=af.attr("href");
if(ae&&ae.indexOf("#")===0){af.on("click",y)
}});
N.find(a("li.nav-secondary_menu")).each(function(){var af=a(this),ag=af.children(".nav-mask"),ae=ag.children(".subnav");
if(af.find("span.has-children").length>0){af.on("click",K)
}if(af.hasClass("nav-secondary_submenu")&&af.find(".nav-title a").length>0){af.find(".nav-title a").first().addClass("hidden");
af.find(".nav-title").first().append(af.find(".nav-title a").first().html())
}if(af.hasClass("nav-secondary_next-steps")){}else{ag.width(af.width());
ae.width(af.width()-2)
}});
a(document).click(function(ae){if(!a(ae.target).closest(".nav-secondary_wrapper").length&&!a(ae.target).is(".nav-secondary_wrapper")){y()
}});
N.on("focusout",w);
if(B.length>0&&!B.hasClass("nonsticky")){B.addClass("nonsticky")
}J.click(function(ae){l.toggleClass("open");
B.toggleClass("open")
});
a(".next-steps").children(".fgx-on-mobile").clone().addClass("next-steps-append").appendTo(".subnav-wrapper");
if(r==="gux-bkpt-med"||r==="gux-bkpt-sm"){N.find(".next-steps").hide()
}if(r==="gux-bkpt-sm"){a("span.nav-secondary_menu2_top.has-children[tabindex]",N).attr("tabindex","0").attr("role","button");
a("span.nav-secondary_menu3_top.has-children[tabindex]",N).attr("tabindex","0").attr("role","button");
a("span.has-grandchildren[tabindex]",N).attr("tabindex","0").attr("role","button")
}else{a("span.nav-secondary_menu2_top.has-children[tabindex]",N).attr("tabindex","-1").attr("role","");
a("span.nav-secondary_menu3_top.has-children[tabindex]",N).attr("tabindex","-1").attr("role","");
a("span.has-grandchildren[tabindex]",N).attr("tabindex","-1").attr("role","")
}N.find(".no-viz").removeClass("no-viz");
N.removeClass("no-viz");
a(".nav-secondary").addClass("loaded")
}function w(O){setTimeout(function(){var P=a(document.activeElement);
var T=N.find("li.nav-secondary_menu1");
var S=N.find("li.nav-secondary_submenu.nav-secondary_menu.first");
var R=N.find("li.nav-secondary_submenu.nav-secondary_menu.second");
if(T.hasClass("open")){var Q=T.find(P);
if(!P.is(T)&&(!Q.length||Q.length<=0)){C(T)
}}if(S.hasClass("open")){var Q=S.find(P);
if(!P.is(S)&&(!Q.length||Q.length<=0)){C(S)
}}if(R.hasClass("open")){var Q=R.find(P);
if(!P.is(R)&&(!Q.length||Q.length<=0)){C(R)
}}},150)
}function M(){a("#navbar").remove();
var O=B.find(".navbar-collapse .navbar-nav .open .dropdown-menu"),Q=Number(O.height()),P=Number(B.height());
a("<style>").prop("id","navbar").prop("type","text/css").html("    .mainNavigation .navbar-default.fixed {        top: -"+P+"px;    }    .secondaryNavigation.section.fixed.open {        top: "+P+"px;    }    .secondaryNavigation.section {        padding-top: "+(Q===0?0:Q)+"px;    }").appendTo("head")
}function L(P,O){var Q=P.css(O);
return(Q)?Number(Q.replace("px","")):0
}function p(){var O=N.find(".has-children:not(.nav-secondary_menu4_top)");
O.each(function(){var P=a(this);
if(!P.hasClass("nav-secondary_top")){P.children("span").addClass("nav-secondary_top");
P=P.children(".nav-secondary_top")
}P.prepend('<i class="icon-action-chevron-down-25px chevron-down"></i>')
})
}function E(){a(".subnav").each(function(){var P=a(this),O=P.parent(".nav-mask");
if(O.length===0){P.wrap('<div class="nav-mask"></div>');
O=P.parent(".nav-mask")
}O.height(0)
})
}function h(){var O=setInterval(function(){var P=true,R,S,Q;
a(".subnav:hidden").each(function(){var U=a(this),T=U.parent(".nav-mask");
U.removeAttr("mask-height");
U.removeAttr("style");
T.height(0)
});
a(".subnav:visible").each(function(){var U=a(this),T=U.parent(".nav-mask");
R=Number(U.outerHeight());
Q=R+L(U,"marginTop");
S=Number(T.height());
if(S!==Q){U.css("marginTop",R*-1);
U.attr("mask-height",Q);
P=false
}T.height(Q)
});
if(P){if(!N.hasClass("loaded")){N.addClass("loaded")
}if(t.children(".nav-secondary_menu1").children(".nav-mask").hasClass("force-overflow")){d(t.children(".nav-secondary_menu1").children(".nav-mask"),"force-overflow",false)
}clearInterval(O)
}},30)
}function K(O){var Q=a(O.target).closest(".nav-secondary_menu").attr("class"),P=a(this).closest(".nav-secondary_menu").attr("class");
if(Q===P){D(a(O.currentTarget))
}}function y(O){D(a(".nav-secondary_menu1"),true)
}function D(Q,P){var O=P||false;
var S=false;
if(Q.hasClass("open")){C(Q);
F(Q);
if(Q.hasClass("nav-secondary_submenu")){if(a(".nav-secondary_menu2.selected.open").length>0){C(a(".nav-secondary_menu2.selected"))
}}else{if(Q.hasClass("nav-secondary_menu2")&&Q.hasClass("selected")){if(a(".nav-secondary_submenu.open").length>0){C(a(".nav-secondary_submenu"))
}}else{if(Q.hasClass("nav-secondary_menu3")&&Q.hasClass("selected")){if(a(".nav-secondary_submenu.open").length>0){F(a(".nav-secondary_submenu"))
}}else{if(Q.hasClass("nav-secondary_menu1")){f()
}}}}}else{if(Q.hasClass("nav-secondary_menu1")){C(a(".nav-secondary_submenu.first"));
C(a(".nav-secondary_submenu.second"));
C(a(".nav-secondary_next-steps"));
S=true
}else{if(Q.hasClass("nav-secondary_submenu")){C(a(".nav-secondary_menu1"));
C(a(".nav-secondary_next-steps"));
if(a(".nav-secondary_menu2.selected.open").length>0){k(a(".nav-secondary_menu2.selected"))
}if(a(".nav-secondary_menu3.selected.open").length>0){o(a(".nav-secondary_menu3.selected"))
}}else{if(Q.hasClass("nav-secondary_menu2")){a.each(a(".nav-secondary_menu2"),function(T,U){C(a(U))
});
if(Q.hasClass("selected")&&a(".nav-secondary_submenu").length>0){k(a(".nav-secondary_submenu"))
}}else{if(Q.hasClass("nav-secondary_next-steps")){C(a(".nav-secondary_submenu"));
C(a(".nav-secondary_menu1"));
F(a(".nav-secondary_submenu"))
}}}}if(!O){k(Q);
o(Q);
var R=Q.attr("data-fd-metrics-open");
if(R){c.Metrics.handler.direct(R,Q)
}if(Q.hasClass("nav-secondary_menu1")){f()
}}}}function k(O){var P=O.children(".nav-mask"),Q=P.children(".subnav");
if(P.hasClass("closed")){P.removeClass("closed")
}Q.addClass("open").show();
O.addClass("open")
}function C(O){var P=O.children(".nav-mask"),Q=P.children(".subnav");
if(!P.hasClass("closed")){P.addClass("closed")
}Q.removeClass("open");
if(!Q.hasClass("next-steps")||(Q.hasClass("next-steps")&&(r==="gux-bkpt-med"||r==="gux-bkpt-sm"))){Q.hide()
}O.removeClass("open")
}function o(P){var Q=P.children(".sub-nav-mask"),S=Q.children(".subnav"),O=a(".mw-wrapper.model-compare .content-wrap .comparison.mobile-change-model"),R=a(".mw-wrapper.model-compare .content-wrap .comparison.mobile-titles");
if(Q.hasClass("closed")){Q.removeClass("closed")
}S.addClass("open").show();
P.addClass("open");
O.addClass("hidden");
R.addClass("hidden")
}function F(P){var Q=P.children(".sub-nav-mask"),S=Q.children(".subnav"),O=a(".mw-wrapper.model-compare .content-wrap .comparison.mobile-change-model"),R=a(".mw-wrapper.model-compare .content-wrap .comparison.mobile-titles");
if(!Q.hasClass("closed")){Q.addClass("closed")
}S.removeClass("open");
if(!S.hasClass("next-steps")||(S.hasClass("next-steps")&&(r==="gux-bkpt-med"||r==="gux-bkpt-sm"))){S.hide()
}P.removeClass("open");
O.removeClass("hidden");
R.removeClass("hidden")
}function d(O,P,Q){if(Q){O.addClass(P)
}else{O.removeClass(P)
}}function f(){var Q=a("body"),P=N.find(".nav-secondary_menu1"),O=P.hasClass("open");
if(O&&l.hasClass("fixed")){if(!Q.hasClass("secondaryNavFixed")){Q.addClass("secondaryNavFixed")
}}else{if(Q.hasClass("secondaryNavFixed")){Q.removeClass("secondaryNavFixed")
}}}function m(O){}function e(O,P){O.find("[data-parent]").each(function(){var Q=a(this);
Q.detach().appendTo(N.find("[data-level='"+Q.attr("data-parent")+"']"));
Q.removeAttr("data-parent")
});
O.find("[data-href]").each(function(){var Q=a(this);
Q.on("click",{href:Q.attr("data-href"),metrics:Q.attr("data-metrics")},m)
});
P?P():null
}function G(Q){var P=l.hasClass("fixed");
if(!P){l.removeAttr("style");
return
}l.removeClass("fixed");
if(Q){l.removeAttr("style")
}var O=l.width();
l.addClass("fixed");
var R=l.attr("style");
if(typeof R===typeof undefined||R===false||Number(l.attr("lastwidth"))!==O){l.width(O);
l.attr("lastwidth",O)
}}function n(){N.removeClass("loaded");
r=window.FD.Brand.Util.currentBreakpoint();
if(r!=="gux-bkpt-med"&&r!=="gux-bkpt-sm"){N.find(".next-steps").show()
}else{N.find(".next-steps").hide()
}if(r==="gux-bkpt-sm"){a("span.nav-secondary_menu2_top.has-children[tabindex]",N).attr("tabindex","0").attr("role","button");
a("span.nav-secondary_menu3_top.has-children[tabindex]",N).attr("tabindex","0").attr("role","button");
a("span.has-grandchildren[tabindex]",N).attr("tabindex","0").attr("role","button")
}else{a("span.nav-secondary_menu2_top.has-children[tabindex]",N).attr("tabindex","-1").attr("role","");
a("span.nav-secondary_menu3_top.has-children[tabindex]",N).attr("tabindex","-1").attr("role","");
a("span.has-grandchildren[tabindex]",N).attr("tabindex","-1").attr("role","")
}}function v(){if(j.scrollTop()>=A){if(!l.hasClass("fixed")){l.addClass("fixed");
f()
}}else{if(l.hasClass("fixed")){l.removeClass("fixed");
l.removeClass("open");
B.removeClass("open");
f()
}}}(function u(){var R=a(a(".secondaryNavigation .nav-secondary .dropdown-font .model-year")[0]).text(),S=R.substring(0,R.indexOf(" ")),Q=R.substring(R.indexOf(" ")),P=a(".secondaryNavigation .nav-secondary .dropdown-font .model-year")[0],O=a(".secondaryNavigation .nav-secondary .dropdown-font .model-name")[0];
a(P).text(S);
a(O).text(Q)
})()
}})(jQuery,FD.Brand);
$(function(){$('[data-analytics="details-subnav"]').click(function(){console.log("nameplate models details subnav on click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("models:detail enhanced")>=0){if($(this).hasClass("open")){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:subnav:content action:",true),onclick:"models:subnav:detail enhanced:expand"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}}else{if(a.indexOf("vehicle:models:detail")>=0){if($(this).hasClass("open")){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail:subnav:content action:",true),onclick:"models:subnav:expand"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}}else{if(a.indexOf("reveal")>=0){if($(this).hasClass("open")){var c=fdanalytics.getNameplateFromPageName();
var b={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:subnav:content action:"+c,onclick:"reveal:subnav:expand"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}}}}}});
$('[data-analytics="subnav-links"]').click(function(){console.log("concierge");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var d=$(this).text();
var b=$(this).attr("href");
if(FD.Brand.Context.make=="Lincoln"){if(d&&d.toLowerCase().indexOf("concierge")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":concierge",false),onclick:"concierge"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("click-to-chat")
}if((a.indexOf("black label")>=0)&&(b&&b.toLowerCase().indexOf(".pdf")>=0)){digitaldata.page.tool="event:pdf brochure";
digitaldata.page.toolDescriptor="pdf";
digitaldata.page.pageNameNoVehicle=postfdanalytics.getPageInitials()+":black label:brochures";
digitaldata.onclick.onclick="black label:brochures:download:"+b;
digitaldata.onclick.onclickLinkName=postfdanalytics.getOnClickLinkName(":black label:brochures:download:",true);
digitaldata.event.action="pdf";
legacyDtm.track("brochure-download")
}}if((a.indexOf("tech:sirius")>=0)&&(b&&b.toLowerCase().indexOf(".pdf")>=0)){var c={onclickLinkName:postfdanalytics.getPageInitials()+":tech:sirius:home:content:action",onclick:"tech:sirius:home:download:"+d.trim()};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-download")
}}});
$('[data-analytics="dropdown-link"]').click(function(){var b=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(b){var a=$(this).text();
var c=(a)?(":"+a.toLowerCase().trim()):"";
if(b.indexOf("models:detail enhanced")>=0){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:subnav:content action:",true),onclick:"models:subnav:detail enhanced"+c};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}else{if(b.indexOf("reveal")>=0){var e=fdanalytics.getNameplateFromPageName();
var d={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:subnav:content action:"+e,onclick:"reveal:subnav"+c};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}}}})
});
(function(e,d,b,c,j,h){var a,f;
b.setInitHandler("[data-fgx-search-overlay]",g);
function g(m){var n=d("[data-fgx-search-overlay-trigger]"),l=(h.make==="Ford")?"//www.ford.com/search/":"//www.lincoln.com/search/",k=h.settings["ngbsSearchUrl"+h.make+h.languageKey]||h.settings["ngbsSearchUrl"+h.make]||l;
searchSubmitAction=m.attr("data-fd-metrics-search-submit"),searchOverlayOpenAction=m.attr("data-fd-metrics-search-overlay-open");
a=c.register("searchOverlay",m);
f=d(".search-suggestions",m);
d("form",m).attr("action",k);
j.setReferrerApp(d(".form-wrapper",m));
n.each(function(){d(this).on("click","a",function(o){d(".navbar-static-top .drop-parent .dropdown-menu").hide();
o.preventDefault();
d(window).scrollTop(0);
a.show(true,d(this),".search-overlay-input");
if(typeof searchOverlayOpenAction!="undefined"){FD.Brand.Metrics.handler.direct(searchOverlayOpenAction)
}})
});
d("form",m).on("submit",function(){if(typeof searchSubmitAction!="undefined"){FD.Brand.Metrics.handler.direct(searchSubmitAction)
}});
d(".icon-close",m).on("click",function(){a.hide();
setTimeout(function(){d(".navbar-static-top .drop-parent .dropdown-menu").show()
},350)
});
d(".search-overlay-input",m).on("input",function(){if(d(this).val().length===0){f.hide()
}else{j.typeAheadResults(d(this).val(),f)
}});
d(".search-overlay-input",m).on("blur",function(){setTimeout(function(){var o=d(document.activeElement);
if(!o.hasClass("search-res-item")){f.hide()
}else{d(".search-res-item",m).on("focusout",function(){setTimeout(function(){var p=d(document.activeElement);
if(!p.hasClass("search-res-item")&&!p.hasClass("search-overlay-input")){f.hide();
d(".search-res-item",m).off("focusout")
}},100)
})
}},100)
});
d(".search-overlay-submit",m).on("click",function(){d(this).closest("form").submit()
});
d(document).click(function(o){if(d(".search-overlay.template").is(":visible")&&!d(o.target).closest(".search-overlay.template").length){setTimeout(function(){d(".navbar-static-top .drop-parent .dropdown-menu").show()
},350)
}})
}})(window,jQuery,FD.Brand,FD.Brand.Overlay,FD.Brand.Search,FD.Brand.Context);
(function(a){a("body").on("click",'[data-analytics="popular-search"]',function(){console.log("popular-search click");
if(typeof legacyDtm!="undefined"){var b=null;
if(FD.Brand.Context.region=="US"){b=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){b=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}var c={onclickLinkName:b+":search overlay:content:action",onclick:"search overlay:popular searches"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(s){var b="fv";
if(FD.Brand.Context.region=="US"){b=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){b=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}s.prop5="search overlay:popular searches";
s.tl(this,"o",b+":search overlay:content:action")
}}})
})(jQuery);
(function(a){a("body").on("click",'[data-analytics="popular-actions"]',function(){console.log("popular-actions");
if(typeof legacyDtm!="undefined"){var b=null;
if(FD.Brand.Context.region=="US"){b=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){b=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}var c={onclickLinkName:b+":search overlay:content:action",onclick:"search overlay:popular actions"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(s){var b="fv";
if(FD.Brand.Context.region=="US"){b=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){b=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}s.prop5="search overlay:popular actions";
s.tl(this,"o",b+":search overlay:content:action")
}}})
})(jQuery);
$(function(){$('[data-analytics="features-detail-next-prev"]').click(function(){console.log("functionality for next/previous clicks on features detail page metrics");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var d=($(this).hasClass("fgx-brand-next-link"))?"next":"previous";
if(a.indexOf("vehicle:features")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:category:content action:",true),onclick:"features category content:"+d};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("innovation:articles")>=0){var b=a.split(":").slice(0,-1).join(":");
var c={onclickLinkName:b+":content:action",onclick:"innovation:articles:"+d};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("lp:towing capacity")>=0){postfdanalytics.towingCapacityClick(d)
}}}}})
});
(function(c,e,b,a){e.setInitHandler("[data-fgx-main-navigation-lincoln]",d);
function d(k){if(k.length==0){return
}c(".tertiary_menu",k).hide();
c(".tertiary_menu",k).first().show();
c(".tertiary-lists-items",k).first().addClass("selected");
window.FD.Brand.Dig.resolve(k);
c(".vehicle-groups li a, .vehicle-groups-mobile li a",k).on("click",function(p){p.preventDefault();
p.stopPropagation();
var n="."+c(this).parent().data("tertiary-link");
var o=n+" a";
c(".tertiary-lists-items",k).removeClass("selected");
c(this).parent().addClass("selected");
c(".tertiary_menu",k).hide();
c(n,k).show()
});
c(".mobile-menu.main",k).hide();
c(".navbar-toggle",k).on("click",function(n){n.preventDefault();
if(window.FD.Brand.Util.currentBreakpoint()=="gux-bkpt-sm"){c(".mobile-menu.main").toggle();
c(".navbar-toggle.collapsed").toggleClass("opened");
if(c(".mobile-menu.main").is(":visible")){c("body").addClass("no-scroll-sm");
c("html").css({overflow:"hidden",position:"relative",height:"100%"})
}else{c("body").removeClass("no-scroll-sm");
c("html").css({overflow:"",position:"",height:""});
c(".mobile-search-input",k).val("")
}if(c(".secondaryNavigation").length>0){if(c(".mobile-menu").is(":visible")){c(".mainNavigationLincoln .navbar-static-top").removeClass("nonsticky")
}else{c(".mainNavigationLincoln .navbar-static-top").addClass("nonsticky")
}}}});
var m="/"+window.location.href.replace(/^(?:\/\/|[^\/]+)*\//,"");
c("ul.nav li",k).each(function(){var n=c("a",this).attr("href");
if(n===m||n===window.location.href){c(this).addClass("open")
}});
c(".fgx-lang-link",k).on("click",function(n){if(FD.Brand.Link.switchLanguage(this)){n.preventDefault()
}});
var g=(a.make==="Ford")?"//www.ford.com/search/":"//www.lincoln.com/search/",f=a.settings["ngbsSearchUrl"+a.make+a.languageKey]||a.settings["ngbsSearchUrl"+a.make]||g;
$resultsContainer=c(".search-suggestions",k);
c("form",k).attr("action",f);
b.setReferrerApp(c(".form-wrapper",k));
c(".mobile-search-input",k).on("input",function(){if(c(this).val().length===0){$resultsContainer.hide()
}else{b.typeAheadResults(c(this).val(),$resultsContainer)
}});
c(".mobile-search-input",k).on("blur",function(){$resultsContainer.hide()
});
c(".mobile-search-submit",k).on("click",function(){c(this).closest("form").submit()
});
e.User.dealer.subscribe(j);
function j(o){var n=c(k);
var r=n.data("noDealerGnav")||"";
var p=n.data("savedDealerGnav")||"";
var q=(o.preferred)?p:r;
c(".dealer-gnav-update",n).each(function(){var t=c(this).attr("href");
if(t){t=l(t,q);
c(this).attr("href",t)
}})
}function l(q,v){var p="";
if(q&&typeof(q)!=="undefined"){var u=q.indexOf("?");
if(u>=0){var t=q.substring(u);
var o=q.substring(0,u);
var n=e.Util.url.queryString(t);
var r=e.Util.parameters.decode(v);
n=n.add(r);
p=o+n.asString()
}else{p=q+"?"+v
}}return p
}function h(){var n=window.FD.Brand.Util.currentBreakpoint();
if(n!=="gux-bkpt-sm"){c(".navbar-collapse.collapse",k).show()
}else{c(".navbar-collapse.collapse",k).hide()
}}h();
c(window).resize(function(){h()
})
}})(jQuery,FD.Brand,FD.Brand.Search,FD.Brand.Context);
(function(a){a("body").on("click",'[data-analytics="search-overlay-lincoln"]',function(){console.log("syn search overlay click");
if(typeof legacyDtm!="undefined"){var c={pageName:postfdanalytics.getOnClickLinkName(":search overlay",false),siteSection:"search",hierarchy:"search",locale:FD.Brand.Context.locale,pageNameNoVehicle:postfdanalytics.getOnClickLinkName(":search overlay",false)};
postfdanalytics.globalActionsGenericOverlay(c);
legacyDtm.track("global-overlay")
}else{if(s){var b="fv";
if(FD.Brand.Context.region=="US"){b=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){b=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}s.pageName=b+":search overlay";
s.eVar11=s.prop11=b+":search overlay";
s.channel="search";
s.hier1="search";
s.t()
}}})
})(jQuery);
(function(e,b,d,f,j,h,a,c){b.setInitHandler("[data-fgx-main-navigation]",g);
function g(m){if(m.length==0){return
}e(".tertiary_menu",m).hide();
e(".tertiary_menu",m).first().show();
e(".tertiary-lists-items",m).first().addClass("selected");
e("#colorfix").css("height",parseInt(e(".mainNavigation").css("height"),10)-1+"px");
window.FD.Brand.Dig.resolve(m);
m.each(function(){f.refresh(this)
});
var o=e("a.btn-secondary",m);
window.FD.Brand.Util.ctaHover(o);
var l=d.pricing.current(),q=(l&&l.planType)?l.planType.toLowerCase():"msrp",u="fgx-brand-pricing-"+q;
m.addClass(u);
e(".vehicle-groups li a, .vehicle-groups-mobile >li >a",m).on("click",function(A){A.preventDefault();
A.stopPropagation();
var y="."+e(this).parent().data("tertiary-link");
var z=y+" a";
e(".tertiary-lists-items",m).removeClass("selected");
e(this).parent().addClass("selected");
if(!(window.FD.Brand.Util.currentBreakpoint()=="gux-bkpt-sm")){e(".tertiary_menu",m).hide()
}e(y,m).show()
});
e(".mobile-menu.main",m).hide();
e(".navbar-toggle",m).on("click",function(y){y.preventDefault();
if(window.FD.Brand.Util.currentBreakpoint()=="gux-bkpt-sm"){e(".mobile-menu.main").toggle();
if(e(".secondaryNavigation").length>0){if(e(".mobile-menu").is(":visible")){e(".mainNavigation .navbar-static-top").removeClass("nonsticky")
}else{e(".mainNavigation .navbar-static-top").addClass("nonsticky")
}}if(!e(".mainNavigation.toggled").length){e(this).addClass("x-icon");
e(".mainNavigation").addClass("toggled");
e("body").addClass("no-scroll-sm");
e("html").css({overflow:"hidden",position:"relative",height:"100%"})
}else{e(this).removeClass("x-icon");
e(".mainNavigation").removeClass("toggled");
e("body").removeClass("no-scroll-sm");
e("html").css({overflow:"",position:"",height:""});
e(".mobile-search-input",m).val("")
}}});
e(".mobile-menu .secondary",m).hide();
e(".mobile-menu ul.mobile-main li a, .mobile-menu .secondary .icons ul li.drop-parent a",m).on("click",function(z){if(e(this).data("trigger-subnav")){z.preventDefault();
var A=".mobile-menu .secondary .icons ul li."+e(this).data("trigger-subnav");
e(".mobile-menu .secondary .icons ul li").removeClass("current");
e(A,m).addClass("current");
var y=".mobile-menu .secondary .items.item-"+e(this).data("trigger-subnav");
e(".mobile-menu .secondary .items",m).hide();
e(y,m).show();
e(".mobile-menu .secondary").show();
e(".mobile-menu ul.mobile-main").hide();
_.each(e(this).closest(".mobile-menu.main").find(".secondary").find(".navbar-nav"),function(B){e(B).show()
})
}});
e(".mobile-menu .secondary li.back a",m).on("click",function(y){y.preventDefault();
e(".mobile-menu .secondary").hide();
e(".mobile-menu ul.mobile-main").show()
});
e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>a",m).on("click",function(y){y.preventDefault();
if(!e(this).next().hasClass("toggle-minheight")){e(this).find("span.icon").addClass("open");
e(this).find("span.text").addClass("active");
_.each(e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul"),function(z){_.each(e(z).find("li"),function(A){e(A).css("top","")
})
});
e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul.toggle-minheight").prev().find(e(".text.active")).removeClass("active");
e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul.toggle-minheight").prev().find(e("span.icon")).removeClass("open");
e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul",m).removeClass("toggle-minheight")
}else{e(this).find("span.icon").removeClass("open");
e(this).find("span.active").removeClass("active");
_.each(e(".mobile-menu>.navbar>.secondary>.items>.navbar-nav>li>ul"),function(A){var B=200,z=1;
_.each(e(A).find("li"),function(C){e(C).css("top",(z*B));
z+=1
})
})
}e(this).next().toggleClass("toggle-minheight")
});
var n=(h.make==="Ford")?"//www.ford.com/search/":"//www.lincoln.com/search/",x=h.settings["ngbsSearchUrl"+h.make+h.languageKey]||h.settings["ngbsSearchUrl"+h.make]||n;
$resultsContainer=e(".search-suggestions",m);
e("form",m).attr("action",x);
j.setReferrerApp(e(".form-wrapper",m));
e(".mobile-search-input",m).on("input",function(){if(e(this).val().length===0){$resultsContainer.hide()
}else{j.typeAheadResults(e(this).val(),$resultsContainer)
}});
e(".mobile-search-input",m).on("blur",function(){$resultsContainer.hide()
});
e(".mobile-search-submit",m).on("click",function(){e(this).closest("form").submit()
});
e(".fgx-lang-link",m).on("click",function(y){if(FD.Brand.Link.switchLanguage(this)){y.preventDefault()
}});
e('[data-toggle="dropdown"]',m).on("click",function(y){y.preventDefault()
});
e(window).load(function(){_.each(e(".mobile-menu>.navbar>.secondary>.items>.nav.navbar-nav>.tertiary-lists-items"),function(A){var z=200,y=1;
_.each(e(A).find(".tertiary_menu > li"),function(B){e(B).css("top",(y*z));
y+=1
})
})
});
var v=null;
e(".dropdown-item",m).on("click",function(y){if(e(".main-nav-items .drop-item.open").length&&v!=this.innerHTML){e(this).closest(".nav.main-nav-items").addClass("no-transition")
}else{e(this).closest(".nav.main-nav-items").removeClass("no-transition")
}if((e(this).closest(".user.drop-item").length||e(this).closest(".language.drop-item").length)&&e(".main-nav-items .drop-item.open").length){e(".main-nav-items").removeClass("no-transition")
}if(v==this.innerHTML||v===null){e(".mainNavOverlay").toggleClass("open")
}if(v!=this.innerHTML&&!e(".mainNavOverlay").hasClass("open")){e(".mainNavOverlay").toggleClass("open")
}v=this.innerHTML
});
e("body").on("click",function(z){if(!e(z.target).closest(".mainNavigation").length||(!e(z.target).hasClass("dropdown-item")&&!e(z.target).closest(".dropdown-item").length)){var y=e(".mainNavOverlay")[0];
e(y).removeClass("open");
e(".main-nav-items .drop-item").closest(".nav.main-nav-items").removeClass("no-transition")
}});
e(".saved-dealer",m).on("click",function(y){if(!y.target.classList.contains("smsbutton")){y.stopPropagation();
var z=e(y.target).parent("a");
if(typeof z.attr("data-fd-metrics-click")!="undefined"){FD.Brand.Metrics.handler.direct(z.attr("data-fd-metrics-click"))
}}});
d.authentication.subscribe(w);
function w(y){e(".user [data-auth]",m).hide();
e('.user [data-auth~="'+y.authType+'"]',m).show()
}d.dealer.subscribe(r);
function r(z){var H=e(".lad [data-nodealer]",m),N=e(".lad .dealer-wrap",m),D=e(".lad [data-dealer]",m),Q=e(".lad [data-dealer-distance]",m),L=e(".lad .show-saved-dealer",m);
var R=Q.data("distance-label");
var M=e(".mainNavigation");
var I=M.data("noDealerGnav")||"";
var G=M.data("savedDealerGnav")||"";
if(z.preferred){if(L.length){H.hide();
if(typeof m.attr("data-fd-metrics-saved-dealer-expand")!="undefined"){e(".lad > a",m).attr("data-fd-metrics-click",m.attr("data-fd-metrics-saved-dealer-expand"))
}}else{var S=M.data("moredealershref");
S=t(S,I);
e(".lad > a",m).attr("href",S);
e(".navbar-collapse .navbar-right .lad > a",m).removeAttr("data-toggle");
e(".mobile-menu .lad",m).removeClass("drop-parent lad");
e(".mobile-menu .lad > a",m).removeClass("lad-trigger");
e(".mobile-menu .lad > a",m).removeAttr("data-trigger-subnav");
e(".mobile-menu .lad > a .icon-action-chevron-large",m).hide();
return
}var B=(z.preferred.Distance)?z.preferred.Distance+" "+R:"";
N.css("display","inline-block");
D.css("display","inline").text(z.preferred.Name);
Q.css("display","block").text(B);
var E=M.data("sales-open-until");
var F=M.data("sales-open-again");
var A=M.data("dealerdetailhref");
var S=M.data("moredealershref");
var y=M.data("hours-displaytype");
var A=FD.Brand.Component.locateDealerConfig.dealerDetailPageUrl;
var O=FD.Brand.Component.locateDealerConfig.hideDealerRatings;
if(A==null||A==undefined){A=S
}var K=a.updateDealer(z.preferred,0,E,F,null,A,y);
if(K!=null){var P;
if(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig){P=FD.Brand.Component.locateDealerConfig
}e(".lad > a",m).attr("href","#");
e(".navbar-collapse .navbar-right .lad > a",m).attr("data-toggle","dropdown");
e(".mobile-menu .lad",m).attr("class","drop-parent lad");
e(".mobile-menu .lad > a",m).attr("class","lad-trigger");
e(".mobile-menu .lad > a",m).attr("data-trigger-subnav","lad");
e(".mobile-menu .lad > a .icon-action-chevron-large",m).show();
e(".saved-dealer .name p",m).text(K.Name);
if(K.combinedRatingsPercentage&&!O){e(".saved-dealer .dealer-no-ratings",m).hide();
e(".saved-dealer .dealer-rating .star-ratings .star-ratings-top",m).css("width",K.combinedRatingsPercentage);
e(".saved-dealer .dealer-rating .ratings-count .count",m).text(K.combinedRatingsCount);
e(".saved-dealer .dealer-rating .ratings-count .icon").on("click",function(T){T.preventDefault();
T.stopImmediatePropagation();
if(FD.Brand.Overlay){FD.Brand.Overlay.show("dealerRatingsInfo",true,e(this))
}})
}else{if(O){e(".saved-dealer .dealer-no-ratings",m).hide();
e(".saved-dealer .dealer-rating",m).hide()
}else{e(".saved-dealer .dealer-rating",m).hide()
}}if(B!==""){e(".saved-dealer .distance-hours .distance",m).text(B+" | ")
}else{e(".saved-dealer .distance-hours .distance",m).text("")
}if(K.SalesHoursDescription!==""){e(".saved-dealer .distance-hours .hours",m).text(K.SalesHoursDescription)
}else{e(".saved-dealer .distance-hours .hours",m).text("")
}e(".saved-dealer .address .street",m).text(K.AddressStreet);
e(".saved-dealer .address .city-state-zip",m).text(K.AddressCityStateZip);
var C=K.Phone;
if(K.dlrcalltrk_lad&&K.dlrcalltrk_lad!==""){C=K.dlrcalltrk_lad
}e(".saved-dealer .address .phone",m).text(C);
e(".mobile-menu .saved-dealer .address .phone",m).html('<a href="tel:'+C+'">'+C+"</a>");
var J=t(K.DeepLinkUrl,G);
e(".saved-dealer .dealer-detail-link",m).attr("href",J);
e(".saved-dealer .actions .dealer-directions a",m).attr("href",K.MapURL);
e(".mobile-menu .saved-dealer .actions .dealer-directions a",m).attr("href",K.MobileMapUrl);
if(h.region!=="CA"){c.dealerChatStatus({dealerPACode:K.PACode}).done(function(U){if(U&&U.url){var T=U.url;
e(".saved-dealer .actions .dealer-chat a",m).on("click",function(V){V.preventDefault();
V.stopImmediatePropagation();
FD.Brand.Metrics.handler.direct(e(this).attr("data-fd-metrics-click"));
window.open(T,"_blank","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,width=350,height=620");
postfdanalytics.callFdOnClickAnalyticsPostPageLoad("my dealer actions:chat")
})
}else{e(".saved-dealer .actions .dealer-chat",m).hide()
}})
}else{e(".saved-dealer .actions .dealer-chat",m).hide()
}if(FD.Brand.Context.showTextDealer&&K.lctextoptin>0&&K.TextUrl){e(".navbar-collapse .navbar-right .saved-dealer .actions .text-dealer a",m).attr("data-numbers","sales=sms://+1"+K.TextUrl);
e(".navbar-collapse .navbar-right .saved-dealer .actions .text-dealer a",m).attr("data-title",K.Name);
e(".mobile-menu .saved-dealer .actions .text-dealer a",m).attr("href","sms://+1"+K.TextUrl)
}else{e(".saved-dealer .actions .text-dealer",m).hide()
}e(".dealer-gnav-update",m).each(function(){var T=e(this).attr("href");
if(T){T=t(T,G);
e(this).attr("href",T)
}})
}}else{H.show();
N.hide();
D.hide().text("");
Q.hide().text("");
var S=M.data("moredealershref");
S=t(S,I);
e(".lad > a",m).attr("href",S);
e(".navbar-collapse .navbar-right .lad > a",m).removeAttr("data-toggle");
e(".mobile-menu .lad",m).removeClass("drop-parent lad");
e(".mobile-menu .lad > a",m).removeClass("lad-trigger");
e(".mobile-menu .lad > a",m).removeAttr("data-trigger-subnav");
e(".mobile-menu .lad > a .icon-action-chevron-large",m).hide()
}}function t(B,F){var A="";
if(B&&typeof(B)!=="undefined"){var E=B.indexOf("?");
if(E>=0){var D=B.substring(E);
var z=B.substring(0,E);
var y=b.Util.url.queryString(D);
var C=b.Util.parameters.decode(F);
y=y.add(C);
A=z+y.asString()
}else{A=B+"?"+F
}}return A
}var k=e(".navbar.navbar-default.navbar-static-top").find(e(".tertiary-lists-items"));
for(i=0;
i<k.length;
i++){e(k[i]).addClass("segmentHover")
}function p(){var y=window.FD.Brand.Util.currentBreakpoint();
if(y!=="gux-bkpt-sm"){e(".navbar-collapse.collapse",m).show()
}else{e(".navbar-collapse.collapse",m).hide()
}}p();
e(window).resize(function(){p()
})
}})(jQuery,FD.Brand,FD.Brand.User,FD.Brand.Pricing,FD.Brand.Search,FD.Brand.Context,FD.Brand.Dealer,FD.Brand.NgpServices);
(function(a){a("body").on("click",'[data-analytics="search-overlay"]',function(){if(typeof legacyDtm!="undefined"){var b=null;
if(FD.Brand.Context.region=="US"){b=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){b=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}var c={pageName:b+":search overlay",siteSection:"search",hierarchy:"search",locale:FD.Brand.Context.locale,pageNameNoVehicle:b+":search overlay"};
postfdanalytics.globalActionsGenericOverlay(c);
legacyDtm.track("global-overlay")
}else{if(s){var b="fv";
if(FD.Brand.Context.region=="US"){b=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){b=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}s.pageName=b+":search overlay";
s.eVar11=s.prop11=b+":search overlay";
s.channel="search";
s.hier1="search";
s.t()
}}});
a("body").on("click",'[data-analytics="language"]',function(){console.log("language click");
var b=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(b==undefined)&&!(b==null)){var c=null;
if(FD.Brand.Context.region=="US"){c=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){c=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}var d={pageName:c+":choose language",siteSection:"home",hierarchy:"home",locale:FD.Brand.Context.locale,pageNameNoVehicle:c+":choose language"};
postfdanalytics.globalActionsGenericOverlay(d);
legacyDtm.track("global-overlay")
}});
a("body").on("click",'[data-analytics="main-nav-links"]',function(){console.log("clicking on nav links");
var e=a(this).text();
if(!(e==undefined)&&!(e==null)){var d=null;
e=e.toLowerCase().trim();
var f=a(this).closest("a").attr("href");
if(typeof(f)==="undefined"||f===null){f=""
}var b=(typeof legacyDtm!="undefined");
var c=false;
if(e!="payment calculator"){if(e.indexOf("my account")>=0||e.indexOf("mon compte")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmc:amo",tool:"flmc:amo",action:"brand referral",};
c=true
}else{if(e.indexOf("apply online")>=0||f.indexOf("/online-credit-application")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmc:apply for credit",tool:"flmc:apply for credit",action:"brand referral",};
c=true
}else{if(e.indexOf("owner home")>=0||f.indexOf("/your-vehicle")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:home",tool:"flmo:home",action:"brand referral",};
c=true
}else{if(e.indexOf("locate a dealer")>=0||e.indexOf("find a dealer")>=0||e.indexOf("trouver un concessionnaire")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:lad",tool:"flmo:lad",action:"brand referral",};
c=true
}else{if(e.indexOf("your warranty")>=0||e.indexOf("warranty")>=0||e.indexOf("garantie")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:warranty",tool:"flmo:warranty",action:"brand referral",};
c=true
}else{if(e.indexOf("service coupons & offers")>=0||f.indexOf("/service-coupons-and-offers")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:coupons",tool:"flmo:coupons",action:"brand referral",};
c=true
}else{if(e.indexOf("redeem & rebate")>=0||f.indexOf("/service-rebates-landing")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:rebates",tool:"flmo:rebates",action:"brand referral",};
c=true
}else{if(e.indexOf("sync technology")>=0||f.indexOf("technology/sync")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:sync",tool:"flmo:sync",action:"brand referral",};
c=true
}else{if(e.indexOf("vehicle how-tos")>=0||e.indexOf("videos")>=0||e.indexOf("vidéos")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:how to",tool:"flmo:how to",action:"brand referral",};
c=true
}else{if(e.indexOf("software downloads")>=0||e.indexOf("téléchargements de logiciels")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:software update",tool:"flmo:software update",action:"brand referral",};
c=true
}else{if(e.indexOf("owner manuals")>=0||e.indexOf("manuels du propriétaire")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:owner manual",tool:"flmo:owner manual",action:"brand referral",};
c=true
}else{if(e.indexOf("give us a call")>=0||f.indexOf("help/contact")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:contact us",tool:"flmo:contact us",action:"brand referral",};
c=true
}else{if(e.indexOf("roadside assistance")>=0||f.indexOf("/roadside-assistance")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:roadside",tool:"flmo:roadside",action:"brand referral",};
c=true
}else{if(e.indexOf("solution finder")>=0||f.indexOf("/solution-finder")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:solution finder",tool:"flmo:solution finder",action:"brand referral",};
c=true
}}}}}}}}}}}}}}if(c){if(b){postfdanalytics.referralExitLinksCallOnClick(d);
legacyDtm.track("referral-exit")
}else{if(s){s.prop5=d.onclick;
s.eVar6=s.prop6=d.tool;
s.events=s.events.length>0?",event4":"event4";
s.tl(this,"e","referral:exit")
}}}}}})
})(jQuery);
(function(d,e,g,a){var c;
var b=null;
g.setInitHandler("[data-fgx-language-selector]",f);
function f(k){var h=k.attr("data-fd-metrics-language-selector-open"),l=k.attr("data-fd-metrics-change-language-open");
c=a.register("languageSelector",k,{show:function(){if(typeof h!="undefined"){FD.Brand.Metrics.handler.direct(h)
}}});
d(".icon-close",k).on("click",function(){c.hide()
});
d(".continue-lang-btn",k).on("click",function(){c.hide()
});
d(".fgx-lang-link",k).on("click",function(m){if(FD.Brand.Link.switchLanguage(this)){m.preventDefault();
if(typeof l!="undefined"){FD.Brand.Metrics.handler.direct(l)
}}c.hide()
});
if(d("html").hasClass("fgx-brand-Ford")){var j=d("a.btn-primary.cta",k);
window.FD.Brand.Util.ctaHover(j)
}if(e.mp_langLink){d(".mplangLink").each(function(m,n){n.onclick=null
});
e.mp_langLink()
}if(window.location.hash=="#$languageSelector"){setTimeout(function(){window.location.hash=""
},50)
}}})(jQuery,window,FD.Brand,FD.Brand.Overlay);
(function(c,f,b,a){f.setInitHandler("[data-fgx-global-footer]",d);
var e;
function d(l){var h=(a.make==="Ford")?"//www.ford.com/search/":"//www.lincoln.com/search/";
var g=a.settings["ngbsSearchUrl"+a.make+a.languageKey]||a.settings["ngbsSearchUrl"+a.make]||h;
e=c(".search-suggestions",l);
if(l.length==0){return
}c(".navbar-form",l).attr("action",g);
b.setReferrerApp(c(".navbar-form .form-group",l));
function j(){var o=window.FD.Brand.Util.currentBreakpoint();
var n=[];
if(o==="gux-bkpt-sm"){n=[".shop",".finance",".owner",".experience"]
}else{if(o==="gux-bkpt-med"){n=[".finance",".owner",".experience"]
}else{}}return n
}function k(n){var o=j();
c.each(o,function(p,r){var q=c(".globalFooter li"+r).children("ul")[0].parentElement;
if(q!=n[0].parentElement){c(".globalFooter li"+r).children("ul").hide();
c(".globalFooter li"+r).attr("aria-pressed","false")
}});
n.toggle()
}function m(n){c(".globalFooter li").children("ul").show();
c(".globalFooter li[tabindex]").each(function(){c(this).removeAttr("tabindex role data-fgx-keypress aria-pressed")
});
c(".globalFooter li").off();
c.each(n,function(o,p){c(".globalFooter li"+p).attr("tabindex","0").attr("role","button").attr("data-fgx-keypress","true").attr("aria-pressed","false");
c(".globalFooter li"+p).children("ul").hide();
c(".globalFooter li"+p).on("click",function(){k(c(this).children("ul"));
if(c(this).children("ul").is(":visible")){c(this).attr("aria-pressed","true");
FD.Brand.Metrics.handler.direct(c(this).attr("data-fd-metrics-open"))
}})
})
}c(".search-input",l).on("input",function(){if(c(this).val().length===0){e.hide()
}else{b.typeAheadResults(c(this).val(),e)
}});
c(".search-input",l).on("blur",function(){e.hide()
});
c(".search-submit",l).on("click",function(){c(this).closest("form").submit()
});
c(window).resize(function(){m(j())
});
m(j())
}})(jQuery,FD.Brand,FD.Brand.Search,FD.Brand.Context);
(function(a){a("body").on("click",'[data-analytics="language-overlay"]',function(){var b=a(this).attr("href");
if(typeof b!="undefined"&&b==="#$languageSelector"){console.log("global actions generic overlay click");
var c="fv";
if(FD.Brand.Context.region=="US"){c=FD.Brand.Context.make==="Ford"?"fv":"ln"
}else{if(FD.Brand.Context.region=="CA"){c=FD.Brand.Context.make==="Ford"?"foc":"lnc"
}}if(typeof legacyDtm!="undefined"){var d={pageName:c+":choose language",siteSection:"home",hierarchy:"home",locale:FD.Brand.Context.locale,pageNameNoVehicle:c+":choose language"};
postfdanalytics.globalActionsGenericOverlay(d);
legacyDtm.track("global-overlay")
}else{if(s){s.pageName=c+":choose language";
s.eVar11=s.prop11=c+":choose language";
s.channel="home";
s.hier1="home";
s.t()
}}}else{console.log("SKIPPING: global actions generic overlay click")
}})
})(jQuery);
(function(a){a("body").on("click",".navbar-inverse .container .navbar-nav li .text",function(){console.log("footer exit links click");
var e=a(this).text();
var f=a(this).closest("a").attr("href");
if(typeof(f)==="undefined"||f===null){f=""
}if(!(e==undefined)&&!(e==null)){e=e.toLocaleLowerCase().trim();
var b=(typeof legacyDtm!="undefined");
var c=false;
var d={};
if(FD.Brand.Context.make=="Ford"){if(e.indexOf("racing")>=0||(e.localeCompare("Courses".toLocaleLowerCase())==0)){d={onclickLinkName:"referral:exit",onclick:"referral:fr:home",tool:"fr:home",action:"brand referral",};
c=true
}else{if((e=="about ford")||(e.indexOf("propos de ford")>=0)){d={onclickLinkName:"referral:exit",onclick:"referral:ford:about",tool:"ford:about",action:"brand referral",};
c=true
}else{if(e.indexOf("investors")>=0||e.indexOf("investisseurs")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:ford:investors",tool:"ford:investors",action:"brand referral",};
c=true
}else{if(e.indexOf("careers")>=0||(f.indexOf("/careers")>=0)){d={onclickLinkName:"referral:exit",onclick:"referral:ford:careers",tool:"ford:careers",action:"brand referral",};
c=true
}else{if(e.indexOf("corporate")>=0||(e.indexOf("mondiale")>=0)){d={onclickLinkName:"referral:exit",onclick:"referral:ford:home",tool:"ford:home",action:"brand referral",};
c=true
}else{if(e.indexOf("ford pass")>=0||e.indexOf("fordpass")>=0||f.indexOf("fordpass")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:fp:home",tool:"fp:home",action:"brand referral",};
c=true
}}}}}}if(e.indexOf("apply online")>=0||f.indexOf("/online-credit-application")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmc:apply for credit",tool:"flmc:apply for credit",action:"brand referral",};
c=true
}else{if(e.indexOf("my account")>=0||e.indexOf("mon compte")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmc:amo",tool:"flmc:amo",action:"brand referral",};
c=true
}else{if(e.indexOf("owner home")>=0||f.indexOf("/your-vehicle")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:home",tool:"flmo:home",action:"brand referral",};
c=true
}else{if(e.indexOf("locate a dealer")>=0||e.indexOf("find a dealer")>=0||e.indexOf("trouver un concessionnaire")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:lad",tool:"flmo:lad",action:"brand referral",};
c=true
}else{if(e.indexOf("your warranty")>=0||e.indexOf("warranty")>=0||e.indexOf("garantie")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:warranty",tool:"flmo:warranty",action:"brand referral",};
c=true
}else{if(e.indexOf("service coupons & offers")>=0||f.indexOf("/service-coupons-and-offers")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:coupons",tool:"flmo:coupons",action:"brand referral",};
c=true
}else{if(e.indexOf("redeem & rebate")>=0||f.indexOf("/service-rebates-landing")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:rebates",tool:"flmo:rebates",action:"brand referral",};
c=true
}else{if(e.indexOf("sync technology")>=0||f.indexOf("technology/sync")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:sync",tool:"flmo:sync",action:"brand referral",};
c=true
}else{if(e.indexOf("vehicle how-tos")>=0||e.indexOf("videos")>=0||e.indexOf("vidéos")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:how to",tool:"flmo:how to",action:"brand referral",};
c=true
}else{if(e.indexOf("software downloads")>=0||e.indexOf("téléchargements de logiciels")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:software update",tool:"flmo:software update",action:"brand referral",};
c=true
}else{if(e.indexOf("owner manuals")>=0||e.indexOf("manuels du propriétaire")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:owner manual",tool:"flmo:owner manual",action:"brand referral",};
c=true
}else{if(e.indexOf("give us a call")>=0||f.indexOf("help/contact")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:contact us",tool:"flmo:contact us",action:"brand referral",};
c=true
}else{if(e.indexOf("roadside assistance")>=0||f.indexOf("/roadside-assistance")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:roadside",tool:"flmo:roadside",action:"brand referral",};
c=true
}else{if(e.indexOf("solution finder")>=0||f.indexOf("/solution-finder")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:solution finder",tool:"flmo:solution finder",action:"brand referral",};
c=true
}}}}}}}}}}}}}}}else{if(FD.Brand.Context.make=="Lincoln"){if(e.indexOf("finance options")>=0||e.indexOf("financer ou louer")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmc:finance",tool:"flmc:finance",action:"brand referral",};
c=true
}else{if(e.indexOf("client support")>=0||e.indexOf("service aux clients")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmc:client support",tool:"flmc:client support",action:"brand referral",};
c=true
}else{if(e.indexOf("apply online")>=0||e.indexOf("demande en ligne")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmc:apply for credit",tool:"flmc:apply for credit",action:"brand referral",};
c=true
}else{if(e.indexOf("my account")>=0||e.indexOf("mon compte")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmc:account manager",tool:"flmc:account manager",action:"brand referral",};
c=true
}else{if(e=="owners"||e.indexOf("propriétaires")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:home",tool:"flmo:home",action:"brand referral",};
c=true
}else{if(e=="service"&&e.indexOf("service")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:service",tool:"flmo:service",action:"brand referral",};
c=true
}else{if(e.indexOf("how to videos")>=0||e.indexOf("comment faire des vidéos")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:how-tos",tool:"flmo:how-tos",action:"brand referral",};
c=true
}else{if(e.indexOf("extended service plans")>=0||(f.indexOf("/lincolnprotect")>=0)||(f.indexOf("/lincoln-protect")>=0)){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:esp",tool:"flmo:esp",action:"brand referral",};
c=true
}else{if(e.indexOf("make a payment")>=0||e.indexOf("financial services")>=0||e.indexOf("services financiers")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:financial services",tool:"flmo:financial services",action:"brand referral",};
c=true
}else{if(e.indexOf("accessories store")>=0||e.indexOf("magasin d'accessoires")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:gfa:home",tool:"gfa:home",action:"brand referral",};
c=true
}else{if(e.indexOf("safety recalls")>=0||e.indexOf("recall check")>=0||f.indexOf("/safety-recalls")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:safety recalls",tool:"flmo:safety recalls",action:"brand referral",};
c=true
}else{if(e.indexOf("lincoln now")>=0||e.indexOf("lincoln maintenant")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:"+postfdanalytics.getRegionPageInitials()+":now",tool:postfdanalytics.getRegionPageInitials()+":now",action:"brand referral",};
c=true
}else{if(e.indexOf("merchandise & apparel")>=0||e.indexOf("marchandises et vêtements")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:gfa:lincoln merchandise",tool:"gfa:lincoln merchandise",action:"brand referral",};
c=true
}}}}}}}}}}}}}}}if(c){if(b){postfdanalytics.referralExitLinksCallOnClick(d);
legacyDtm.track("referral-exit")
}else{if(s){s.prop5=d.onclick;
s.eVar6=s.prop6=d.tool;
s.events=s.events.length>0?",event4":"event4";
s.tl(this,"e","referral:exit")
}}}}})
})(jQuery);
(function(a){a("body").on("click",".navbar-inverse .container  .social-links ul li a",function(){console.log("footer social exit links click");
var b=a(this).attr("href");
var d=(typeof legacyDtm!="undefined");
if(!(b==undefined)&&!(b==null)){b=b.toLowerCase().trim();
if(b.indexOf("facebook")>=0){var e={onclickLinkName:"exit:social",onclick:"social:facebook"};
if(d){postfdanalytics.genericExitLinksCallOnClick(e);
legacyDtm.track("footer-exit")
}else{s.prop5="social:facebook";
s.tl(this,"e","exit:social")
}}else{if(b.indexOf("youtube")>=0){var e={onclickLinkName:"exit:social",onclick:"social:youtube"};
if(d){postfdanalytics.genericExitLinksCallOnClick(e);
legacyDtm.track("footer-exit")
}else{s.prop5="social:youtube";
s.tl(this,"e","exit:social")
}}else{if(b.indexOf("twitter")>=0){var e={onclickLinkName:"exit:social",onclick:"social:twitter"};
if(d){postfdanalytics.genericExitLinksCallOnClick(e);
legacyDtm.track("footer-exit")
}else{s.prop5="social:twitter";
s.tl(this,"e","exit:social")
}}else{if(b.indexOf("instagram")>=0){var e={onclickLinkName:"exit:social",onclick:"social:instagram"};
if(d){postfdanalytics.genericExitLinksCallOnClick(e);
legacyDtm.track("footer-exit")
}else{s.prop5="social:instagram";
s.tl(this,"e","exit:social")
}}else{if(b.indexOf("social")>=0&&FD.Brand.Context.make=="Ford"){var c=FD.Brand.Context.region==="US"?"fv":"foc";
var e={onclickLinkName:"referral:exit",onclick:"referral:"+c+":thefordstory:home",tool:c+":thefordstory:home",action:"brand referral",};
if(d){postfdanalytics.referralExitLinksCallOnClick(e);
legacyDtm.track("referral-exit")
}else{s.prop5=e.onclick;
s.eVar6=s.prop6=e.tool;
s.events=s.events.length>0?",event4":"event4";
s.tl(this,"e","referral:exit")
}}}}}}}});
a("body").on("click",'[data-analytics="popular-seach-mobile"]',function(){console.log("site feedback click");
if(fdanalytics.getRadUIVersion().indexOf("mobile")>=0){var b={onclickLinkName:postfdanalytics.getRegionPageInitials()+":search overlay:content:action",onclick:"search overlay:popular searches"};
if(typeof legacyDtm!="undefined"){postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}else{if(s){s.prop5=b.onclick;
s.tl(this,"e",b.onclickLinkName)
}}}})
})(jQuery);
(function(d,f,a,b,c){a.setInitHandler("[data-fgx-simple-choice]",k);
a.setInitHandler("[data-fgx-simple-choice-overlay-list]",j);
var e={};
var h={none:{description:"None",fn:function(){return false
}},pageLoad:{description:"Page Load",fn:function(){return true
}},pageLoadOnce:{description:"Page Load (once per session)",fn:function(m){return g(m)
}},pricePlanAZ:{description:"A/Z Plan Participant",fn:function(m){return c.pricing.current().pricePlan==="AZPLAN"&&g(m)
}},pricePlanX:{description:"X Plan Participant",fn:function(m){return c.pricing.current().pricePlan==="XPLAN"&&g(m)
}},externalUrl:{description:"External Url Click",fn:function(n,m){l(n,m);
return false
}}};
function g(n){var m="fgx-simple-choice-trigger-"+n;
if(f.sessionStorage.getItem(m)){return false
}f.sessionStorage.setItem(m,1);
return true
}function k(m){m.each(function(){var o=d(this);
var q=o.data("fgx-overlay-id");
var n=o.data("fgx-overlay-trigger");
var p=b.register(q,o);
d(".icon-close",o).on("click",function(){p.hide()
});
if(n&&h[n]&&h[n].fn(q,p)){p.show(true,undefined,"a")
}})
}function j(m){if(a.Ext){a.Ext.simpleChoice={triggerOptions:function(){return _.map(h,function(o,n){return{value:n,text:o.description}
})
}}
}}function l(r,p){var m="#!"+r;
var o="a[href$='"+m+"']";
var n=function(){var u=d(this);
var t=u.attr("href");
t=t.substring(0,t.length-m.length);
u.attr("href",t).on("click.fgxBrandExternal",q);
u.attr("data-set-external-click-handler",true)
};
var q=function(x,u){var t=d.extend(true,{},x);
x.preventDefault();
var w=d(this);
var v=w.attr("href");
var y=w.attr("target");
p.$el.off("click.cta");
p.$el.one("click.cta",".cta-one a",function(){p.hide();
FD.Brand.Metrics.handler.direct(d(this).attr("data-fd-metrics-click"));
w.off("click.fgxBrandExternal");
if(!u){w.trigger(t)
}var z=w.attr("data-set-external-click-handler");
if(z==="true"){w.on("click.fgxBrandExternal",q)
}if(y==="_blank"){window.open(v)
}else{window.location.assign(v)
}return false
});
p.$el.one("click.cta",".cta-two a",function(){p.hide();
FD.Brand.Metrics.handler.direct(d(this).attr("data-fd-metrics-click"));
return false
});
p.show(true,w,"a.btn");
return false
};
d(o).each(n);
d("body").on("click",o,function(t){n.call(this);
q.call(this,t)
}).on("click","[data-external-url]",q);
if(f.angular){f.angular.module("fgx.directives").directive("fgxExternalUrl",[function(){return{restrict:"A",link:function(u,t){t.on("click",function(v){return q.call(t,v)
})
}}
}])
}e[r]={externalUrl:q};
_.extend(FD.Brand.namespace("FD.Brand.Link",f),{exitOverlays:e,externalUrl:q})
}})(jQuery,window,FD.Brand,FD.Brand.Overlay,FD.Brand.User);
(function(b,c,e,a){e.setInitHandler("[data-fgx-link-dropdown]",d);
function d(f){if(f.length===0){return
}b(".fgx-custom-select-current, .fgx-custom-down-icon",f).on("click",function(){var h=b(this),k=h.siblings(".fgx-custom-select-dropdown"),j=h.closest(".fgx-custom-select-container"),g=j.closest(".fgx-custom-select");
if(a.currentBreakpoint()==="gux-bkpt-sm"&&h.closest(".table-container").length===1){if(!k.hasClass("shown")){g.addClass("fgx-custom-margin-btm")
}else{g.removeClass("fgx-custom-margin-btm")
}}k.toggleClass("shown");
j.toggleClass("shown");
j.find(".fgx-custom-down-icon").attr("aria-pressed",k.hasClass("shown"));
j.find(".fgx-custom-select-current").attr("aria-pressed",k.hasClass("shown"))
})
}})(jQuery,window,FD.Brand,FD.Brand.Util);
$(function(){$('[data-analytics="contactus-accordion"]').click(function(){console.log("clicking on contact us accordion");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("help:contact us")>=0){if($(this).hasClass("open")){var b=$(this).text();
if(!(b==undefined)&&!(b==null)){b=b.toLowerCase();
var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":help:contact us:content:action",false),onclick:"contact us:content:more expand:"+b};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}}}}})
});
$(function(){$("#kba-list .kba-item .kba-headline a").click(function(){console.log("kba click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var c=$(this).text();
if(a.indexOf("shop:all vehicles")>=0){if(!(c==undefined)&&!(c==null)){c=c.toLowerCase().trim();
if(c.indexOf("quote")>=0){var d={onclickLinkName:"ln:shop:all vehicles:quote:content:action",onclick:"shop content:quote:filter"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("shop-onclick")
}if(c.indexOf("payment")>=0){var d={onclickLinkName:"ln:shop:all vehicles:payment estimator:content:action",onclick:"shop content:payment estimator:filter"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("shop-onclick")
}if(c.indexOf("value")>=0){var d={onclickLinkName:"ln:shop:all vehicles:incentives:content:action",onclick:"shop content:incentives:filter"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("shop-onclick")
}}}else{if(a.indexOf("tech:sirius")>=0){if(!c){return
}c=c.toLowerCase().trim();
var b=$(this).attr("href");
if(b&&b.toLowerCase().indexOf(".pdf")>=0){var d={onclickLinkName:postfdanalytics.getPageInitials()+":tech:sirius:home:content:action",onclick:"tech:sirius:home:download:"+c};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-download")
}}}}});
$('[data-analytics="ln-theme-chat-concierge"]').click(function(){var d=null;
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var c=$(this).attr("href");
if(typeof(c)=="undefined"||!c){return
}c=c.toLowerCase();
if(c.indexOf("black label")>=0){d={onclickLinkName:postfdanalytics.getOnClickLinkName(":black label:chat",false),onclick:"black label:concierge chat"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("bl-onclick")
}else{if(c.indexOf("concierge")>=0&&!(c.indexOf("black label")>=0)){var b="";
if(a.indexOf("roadside assistance")>=0){d={onclickLinkName:postfdanalytics.getPageInitials()+":roadside assistance:content:action",onclick:"roadside assistance:content:concierge"};
b="global-onclick"
}else{d={onclickLinkName:postfdanalytics.getOnClickLinkName(":concierge:chat",false),onclick:"concierge:chat"};
b="conc-chat"
}postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track(b)
}else{if(c.indexOf("owner")>=0){d={onclickLinkName:"referral:exit",onclick:"referral:flmo:owner support"};
postfdanalytics.referralExitLinksCallOnClick(d);
legacyDtm.track("referral-exit")
}}}}});
$('[data-analytics="ln-concierge-call"]').click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("shop:all vehicles")>=0){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":concierge:content:action",false),onclick:"concierge content:click to call"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}}})
});
(function(d,e,h){var c=null;
h.setInitHandler("[data-fgx-glossary-page]",g);
function g(j){d(".mobile-dropdown-display",j).click(function(){d(this).parent(".custom-dropdown").toggleClass("open")
});
d(j).on("click",".tabbed-list li",function(){var k=d(this);
if(!k.hasClass("disabled")){k.addClass("selected").siblings().removeClass("selected");
k.attr("aria-pressed","true").siblings().attr("aria-pressed","false");
d(".selected-option",j).text(k.text());
a(k.attr("data-section"))
}});
if(e.addEventListener){e.addEventListener("hashchange",f)
}else{e.onhashchange=f
}if(!f()){d(".tabbed-list li").not(".disabled").first().click()
}}function a(j){if(j){d(".glossary-section-content[data-section='"+j+"']").show().siblings().hide()
}else{d(".glossary-section-content").show()
}b(j)
}function f(){var j=e.location.hash;
if(j){j=j.substr(1);
if(j==="*"){j=""
}if(c===j){return
}d(".tabbed-list li[data-section='"+j+"']").click();
c=j;
return true
}}function b(k){k=k||"*";
c=k;
if(e.history.replaceState){var j=e.location.href;
j=j.substr(0,j.length-e.location.hash.length)+((k)?"#"+k:"");
e.history.replaceState({},document.title,j)
}}})(jQuery,window,FD.Brand);
$(function(){$('[data-analytics="glossary-print"]').click(function(){console.log("Lincoln glossary page print");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("glossary")>=0){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":help:glossary:content:action",false),onclick:"glossary:content:print"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}}})
});
$(function(){$(".anchorLinkBar .anchor-link-bar ul li a").click(function(){console.log("ford contact us click handlers for metrics");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("help:contact us")>=0){var b=$(this).find("span").text();
if(!(b==undefined)&&!(b==null)){b=b.toLowerCase();
var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":help:contact us:content:action",false),onclick:"contact us:content:anchor:"+b};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}}}})
});
(function(e,c,b){c.setInitHandler("[data-fgx-gallery-trigger-reveal]",k);
var g=8,d=9,a="gux-bkpt-med",h="gux-bkpt-med";
function k(l){l.each(function(){var q=e(this).find(".content-section"),p=e(this).find(".view-more");
q.each(function(){var w=e(this).find(".fgx-brand-gallery-items-wrap .gallery-tile"),t=w.length,v=e(this).hasClass("active"),u=1;
w.each(function(){if(u>g){e(this).addClass("hidden")
}u++
});
if(v&&(t>g)){p.removeClass("hidden")
}});
var m=e(this).find(".section-tab");
m.each(function(){if(e(this).hasClass("active")){e(this).attr("aria-pressed","true")
}else{e(this).attr("aria-pressed","false")
}});
var r=e(this).find(".moreDesc");
var n=e(this).find(".lessDesc");
var o=e(this).find(".description-more");
r.click(function(){o.toggle();
e(this).hide();
n.focus()
});
n.click(function(){o.toggle();
r.show();
r.focus()
})
});
e(".view-more",l).click(function(n){n.preventDefault();
var o=e(this).parent(".content-sections").find(".content-section.active"),q=o.find(".fgx-brand-gallery-items-wrap .gallery-tile.hidden"),p=q.length,m=1;
CURR_MIN_DISPLAY=g;
if(a==="gux-bkpt-med"){CURR_MIN_DISPLAY=d
}q.each(function(){if(m<=CURR_MIN_DISPLAY){e(this).removeClass("hidden");
if(m==1){e(this).focus()
}}else{return false
}m++
});
if(p<=CURR_MIN_DISPLAY){e(this).addClass("hidden")
}});
e(".section-tab",l).click(function(){if(e(this).hasClass("active")){return
}var n=e(this),m=n.closest(".btn-wrapper"),p=m.closest(".header-wrapper"),u=p.siblings(".content-sections"),r=u.find(".content-section"),q=u.find(".view-more"),o=n.data("tabId"),t=0;
r.each(function(){var v=e(this).data("tabId");
if(v===o){e(this).addClass("active");
t=e(this).find(".fgx-brand-gallery-items-wrap .gallery-tile.hidden").length
}else{e(this).removeClass("active")
}});
m.find(".section-tab").each(function(){e(this).removeClass("active");
e(this).attr("aria-pressed","false")
});
n.addClass("active");
n.attr("aria-pressed","true");
if(t>0){q.removeClass("hidden")
}else{q.addClass("hidden")
}});
e(window).resize(function(){f(l)
});
f(l);
b.link(l)
}function f(l){a=c.Util.currentBreakpoint();
if(a!==h){j(l);
h=a
}}function j(l){l.each(function(){var n=e(this).find(".content-section"),m=e(this).find(".view-more");
n.each(function(){var r=e(this).find(".fgx-brand-gallery-items-wrap .gallery-tile"),o=r.length,q=e(this).hasClass("active"),p=1;
CURR_MIN_DISPLAY=g;
if(a==="gux-bkpt-med"){CURR_MIN_DISPLAY=d
}r.each(function(){if(p>CURR_MIN_DISPLAY){e(this).addClass("hidden")
}else{e(this).removeClass("hidden")
}p++
});
if(q&&(o>CURR_MIN_DISPLAY)){m.removeClass("hidden")
}})
})
}e(".gallery-trigger-reveal .view-more").click(function(){var l=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(l){if(l.indexOf("reveal")>=0){var n=fdanalytics.getNameplateFromPageName();
var m={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+n,onclick:"reveal content:view more",contentType:"reveal:none:gallery"};
postfdanalytics.postPageThreePropsLoad(m);
legacyDtm.track("hp-onclick")
}else{if(l.indexOf("models:detail enhanced")>=0){var m={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:content action:",true),onclick:"models content:detail enhanced:view more",contentType:"model:none:gallery"};
postfdanalytics.postPageThreePropsLoad(m);
legacyDtm.track("hp-onclick")
}}}})
})(jQuery,FD.Brand,FD.Brand.MediaOverlay);
(function(a,d,b){d.setInitHandler("[data-fgx-gallery-trigger]",c);
function c(e){e.each(function(){if(a(this).hasClass("hide-cta")){return true
}var l=a(this).data("ctaText");
var k=a(this).data("ctaAriaLabel");
var g=a(this).data("ctaLink");
var h=a(this).data("ctaTarget");
var f=(a(this).data("ctaBgcolor"))?a(this).data("ctaBgcolor")+"opacity:0.8;":"";
var j=a(this).find(".gallery-items-wrap .gallery-tile").last();
a("a.gallery-link",j).prop("href",g);
a("a.gallery-link",j).attr("aria-label",k);
a("a.gallery-link",j).prop("target",h);
a("a.gallery-link",j).attr("style",f);
a("a.gallery-link .gallery-text",j).html(l);
var m=a("a.gallery-link .gallery-text",j).find("span").css("color");
if(m!=""){a("a.gallery-link .icon-action-chevron-right-25px",j).css("color",m)
}j.addClass("gallery-link-tile").removeAttr("data-overlay-item")
});
b.link(e)
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay);
(function(a,d,b){d.setInitHandler("[data-fgx-gallery-category]",c);
function c(j){var e=7,h="gux-bkpt-med",f=0;
j.each(function(){var n=a(this).find(".gallery-items-wrap .gallery-tile"),l=n.length,m=1;
n.each(function(){switch(m%e){case 1:case 2:case 3:case 4:a(this).addClass("first-row");
break;
case 5:case 6:case 0:a(this).addClass("second-row");
break
}if(m>e){a(this).addClass("hidden")
}m++
});
if(l>e){a(this).find(".view-more").removeClass("hidden")
}n.first().addClass("first-tile");
a(this).find(".mobile-row .tile-count").html(l+" images")
});
function k(){h=window.FD.Brand.Util.currentBreakpoint()
}function g(n){var p=n.find(".gallery-items-wrap .gallery-tile"),m=p.length,o=1;
p.each(function(){switch(o%10){case 1:case 9:a(this).addClass("mobile-width-sm");
break;
case 2:case 8:a(this).addClass("mobile-width-lg");
break;
case 3:case 4:case 6:case 7:a(this).addClass("mobile-width-md");
break;
case 5:case 0:a(this).addClass("mobile-width-xl");
break
}if(o>10){a(this).addClass("hidden")
}else{if(o<=10&&a(this).hasClass("hidden")){a(this).removeClass("hidden")
}}o++
});
var l=n.find(".view-more");
if(m>10){l.removeClass("hidden")
}else{l.addClass("hidden")
}}a("a.view-more",j).click(function(n){n.preventDefault();
if(h==="gux-bkpt-sm"){a(".video-icon-wrap",j).show()
}var p=a(this).parent(".gallery-category").find(".gallery-items-wrap .gallery-tile.hidden"),o=p.length,m=1,l=(h==="gux-bkpt-sm")?10:7;
p.each(function(){if(m<=l){a(this).removeClass("hidden");
if(m==1){a(this).focus()
}}else{return false
}m++
});
if(o<=l){a(this).addClass("hidden")
}});
a(".gallery-tile.first-tile .gallery-img img, .mobile-row",j).click(function(l){if(h==="gux-bkpt-sm"){a(".video-icon-wrap",j).show();
var m=a(this).parents(".gallery-category");
if(!m.hasClass("mobile-category-detail")){l.stopPropagation();
m.addClass("mobile-category-detail");
j.each(function(){if(!a(this).hasClass("mobile-category-detail")){a(this).addClass("desktop-only")
}});
g(m);
f=a(window).scrollTop();
a(window).scrollTop(0);
a(".gallery-back",j).focus();
d.Metrics.handler.direct(m.attr("data-fd-metrics-category-click"))
}}});
a(".gallery-back",j).click(function(){if(h==="gux-bkpt-sm"){a(".video-icon-wrap",j).hide()
}var l=a(this).parents(".gallery-category");
l.removeClass("mobile-category-detail");
j.each(function(){a(this).removeClass("desktop-only")
});
a(window).scrollTop(f)
});
a(window).resize(function(){k();
if(h!=="gux-bkpt-sm"){a(".video-icon-wrap",j).show()
}else{if(!a(".mobile-category-detail.gallery-category").length){a(".video-icon-wrap",j).hide()
}}});
k();
b.link(j)
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay);
$(function(){$('[data-analytics="gallery-view-more"]').click(function(){var b=null;
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
var e=$(this).closest(".gallery-category").find("[data-gallery-analytics]").data("gallery-analytics");
if(!(e==undefined)&&!(e==null)){e=e.toLowerCase();
if(e.indexOf("interior")>=0){e="interior"
}if(e.indexOf("exterior")>=0){e="exterior"
}if(e.indexOf("videos")>=0){e="videos"
}}if(a!==undefined&&a.indexOf("reveal")>=0){var d=fdanalytics.getNameplateFromPageName();
b={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+d,onclick:"reveal content:view more",contentType:"reveal:none:expanded feature"};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}else{if(a!==undefined&&a.indexOf("models:detail enhanced")>=0){b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:content action:",true),onclick:"models content:detail enhanced:view more",contentType:"model:none:gallery"};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}else{var c=(FD.Brand.Context.make==="Lincoln")?"gallery content:"+e+":view more":"gallery content:view more";
b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:c,contentType:"gallery:none:"+e};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}}})
});
$(function(){$(".gallery-image-tile .gallery-img picture img, .gallery-video-tile .gallery-img picture img").click(function(){console.log("vhp gallery on click mobile only");
if(fdanalytics.getRadUIVersion().indexOf("mobile")>=0){var b=$(this).closest(".gallery-category").find("[data-gallery-analytics]").data("gallery-analytics");
if(!(b==undefined)&&!(b==null)){b=b.trim().toLowerCase();
if(b.indexOf("vid")>=0){b="video"
}else{if(b.indexOf("ext")>=0){b="exterior"
}else{if(b.indexOf("int")>=0){b="interior"
}}}}var a={category:b};
postfdanalytics.postPageMobileGalleryCategoryLoad(a);
if(FD.Brand.Context.make=="Ford"){legacyDtm.track("gallery-cat-load")
}else{legacyDtm.track("global-overlay")
}}});
$(".gallery-category .mobile-row h2").click(function(){console.log("vhp gallery on click mobile only on headline");
if(fdanalytics.getRadUIVersion().indexOf("mobile")>=0){var b=$(this).text();
if(!(b==undefined)&&!(b==null)){b=b.trim().toLowerCase();
if(b.indexOf("vid")>=0){b="video"
}else{if(b.indexOf("ext")>=0){b="exterior"
}else{if(b.indexOf("int")>=0){b="interior"
}}}}var a={category:b};
postfdanalytics.postPageMobileGalleryCategoryLoad(a);
legacyDtm.track("gallery-cat-load")
}})
});
(function(a,c){c.setInitHandler("[data-fgx-gallery-brand]",b);
function b(d){c.MediaOverlay.link(d);
a(".social-view-all",d).click(function(e){var h=a(this).closest("[data-fgx-gallery-brand]");
var f=a(".hidden-tile",h).is(":visible");
var n="data-fd-metrics-view-all";
a(".hidden-tile",h).toggleClass("tile-show",!f);
a(".viewLess",h).toggle(!f);
a(".viewAll",h).toggle(f);
a(".view-glyph",h).toggleClass("icon-plus-outline-50px",f).toggleClass("icon-minus-outline-50px",!f);
if(f){var j=a(".galleryBrand.section .container.social-view-all.mobile").offset().top-a(window).scrollTop();
var m=0;
a(".brand-gallery .flexinline .hidden-tile").each(function(){m+=a(this).outerHeight()
});
var k=a(document).height()-a(window).height()+m;
var l=k-(a(".galleryBrand.section .container.social-view-all.mobile").offset().top+a(".galleryBrand.section .container.social-view-all.mobile").outerHeight());
a(document.body).scrollTop(k-l-e.clientY);
n="data-fd-metrics-view-less"
}var g=h.attr(n);
if(g){c.Metrics.handler.direct(g)
}})
}})(jQuery,FD.Brand);
$(function(){$('[data-analytics="brand-gallery"]').click(function(){var a={onclickLinkName:postfdanalytics.getOnClickLinkName(":home:content:onpage",false),onclick:"hp content:brand gallery",contentType:"hp:none:brand gallery"};
postfdanalytics.postPageThreePropsLoad(a);
legacyDtm.track("hp-onclick")
})
});
(function(b,d,a){d.setInitHandler("[data-fgx-colorizer-gallery]",c);
function c(J){var H=b(".extSpin-cta > a.btn-cta",J);
window.FD.Brand.Util.ctaHover(H);
if(b(".extSpin_container").length){var ah=b("#car_img"),r=b("#car_temp"),Q=b(".spin_control"),x=b(".swatchItem"),ag=b(".round-cache"),ae=b(".color_swatch"),w=b(".color_swatch_label"),Y=b(".extSpin_container"),f=b("#car_img-round"),aa=b(".color-swatches"),j=b(".color-swatches-main-container"),X=b(".swatchItem-selected"),A=b(".swatch-selected-color-exterior"),R=b(".swatch-selected-color-interior"),p=b(".label-exterior"),F=b(".label-interior"),k=b(".spin-models-label"),I=b(".swatch-selected-container"),h=true,l,W,K=1,B=50,C=b(".swatchItem:first").attr("data-color"),G=b(".swatchItem:first").html(),S=b(".swatchItem:first").attr("data-alt-tag"),o=b(".color-swatches:first").attr("data-model"),af=b(".color-swatches:first").attr("data-year"),ab=b(".color-swatches:first").attr("data-trim"),L=false,n=(window.location.href.indexOf("http")===-1)?true:false,aj,O,Z=768,E=false,ad="exterior",v,m=b(window).width(),P,t,T=b(".swatchItem:first").attr("data-assetPath"),N=n?"":b(".extSpin_container").attr("data-assetServer"),U='<i class="icon icon-check-solid-25px swatch-selected-icon"></i>',e=false,u=ah.attr("alt"),q=b(".swatchItem:first").attr("data-fd-metrics-rotate");
var g=function(){Q.bind("mousedown touchstart MozTouchDown",function(ak){if(W){return
}W=true;
ai(ak);
P=b(ak.target).index();
t=b(this).attr("id").split("_")[1];
l=setInterval(function(){ac(t)
},B)
});
Q.bind("mouseup touchend MozTouchRelease",function(ak){W=false;
ai(ak);
clearInterval(l)
});
ah.bind("keydown",function(ak){if(ak.ctrlKey||ak.metaKey||ak.altKey){return
}switch(ak.which){case 39:if(W){return
}W=true;
l=setInterval(function(){ac("left")
},B);
break;
case 37:if(W){return
}W=true;
l=setInterval(function(){ac("right")
},B);
break
}});
ah.bind("keyup",function(ak){if(W){W=false;
clearInterval(l)
}});
ah.bind("mouseup touchend",function(ak){console.log("event type is "+ak.type);
console.log("binding touch event on colorizer image");
postfdanalytics.colorizerDraggableMetrics();
FD.Brand.Metrics.handler.direct(q)
});
Q.mouseleave(function(ak){clearInterval(l)
});
ah.mouseenter(function(){b(this).removeClass("grabbing");
b(this).addClass("grab")
});
ah.mouseup(function(){b(this).removeClass("grabbing");
b(this).addClass("grab")
});
ah.mousedown(function(){b(this).removeClass("grab");
b(this).addClass("grabbing")
});
ah.bind("mousedown touchstart MozTouchDown",function(ak){if(h){V()
}});
if(a.env.touch()){M("touch")
}b(".swatchItem-selected-interior").click(function(){j.scrollLeft(3000)
});
b(".swatchItem:first").attr("aria-pressed","true");
b(".spin-models-label:first").attr("aria-pressed","true")
};
var M=function(ak){if(ak==="touch"){Q.find(".mobile").show();
Q.find(".desktop").hide();
Q.find(".spin-icon-label").hide()
}else{Q.find(".desktop").show();
Q.find(".spin-icon-label").show();
Q.find(".mobile").hide()
}};
var V=function(){b(".spin_control_container",J).fadeOut(500);
h=false
};
var ac=function(ak){if(ak==="left"){ah.trigger("stepLeft")
}else{ah.trigger("stepRight")
}};
var D=function(al,an,am){if(L){return
}b(".swatchItem-label").html("");
b(".swatchItem-label").hide();
b('.swatchItem-label[data-color="'+al+'"]').fadeIn();
b('.swatchItem-label[data-color="'+al+'"]').html(an);
I.hide();
I.html("");
b('.swatch-selected-container[data-color="'+al+'"]').fadeIn();
b('.swatch-selected-container[data-color="'+al+'"]').html(U);
ah.attr("alt",u+" "+S);
b("#car_img-round").css({width:"100%",height:"auto",overflow:"hidden"});
var ak=(K<10)?"0":"";
L=false;
y()
};
var y=function(){b(".round-cache").remove();
ah.unreel();
var ak=b(".extSpin_container").width()*1.5;
ah.reel({frames:36,frame:K,cw:true,brake:0.23,throwable:1,revolution:ak,cursor:"default",images:T.split(",")}).bind("frameChange",function(){K=b(this).data("frame")
})
};
var z=function(){v=(m<Z)?true:false;
b(".color-swatches").first().css({opacity:1});
b(".color-swatches:not(:first)").hide();
x.each(function(){var ak=b(this).attr("data-hex");
b(this).css("backgroundColor",ak)
});
b(".swatchItem-selected-exterior").css({"background-color":b(".color_swatch_exterior .swatchItem:first-child").attr("data-hex")});
b(".swatchItem-selected-interior").css({"background-color":b(".color_swatch_interior .swatchItem:first-child").attr("data-hex")});
b(".swatch-selected-interior").hide();
if(b(".color_swatch_interior").length!=0){b(".swatch-selected-interior").show()
}else{b(".swatch-selected-interior").hide()
}};
x.on("click",function(){T=b(this).attr("data-assetPath");
q=b(this).attr("data-fd-metrics-rotate");
var an=J.attr("data-fgx-current-view"),aq=b(this).parent().parent().parent().attr("class"),ak=(aq.indexOf("exterior")!==-1)?"exterior":"interior",ap=b(this).attr("data-color"),am=b(this).text(),ao=b(this).attr("data-trimName"),al=(m<Z)?true:false;
S=b(this).attr("data-alt-tag")||"";
if(al){if(ak==="exterior"){A.html(am)
}else{if(ak==="interior"){R.html(am)
}}}else{if(ak==="exterior"){A.html(am);
F.html("")
}else{if(ak==="interior"){p.html("");
R.html(am)
}}}D(ap,am,T);
x.attr("aria-pressed","false");
b(this).attr("aria-pressed","true");
b(".swatchItem-selected-"+ak).css({"background-color":b(this).attr("data-hex")});
if(an!==ak){J.attr("data-fgx-current-view",ak)
}});
var ai=function(ak){if(ak.originalEvent.touches&&ak.originalEvent.touches.length){ak=ak.originalEvent.touches[0]
}else{if(ak.originalEvent.changedTouches&&ak.originalEvent.changedTouches.length){ak=ak.originalEvent.changedTouches[0]
}}};
k.click(function(){if(b(this).hasClass("spin-model-selected")){return
}else{k.removeClass("spin-model-selected");
k.attr("aria-pressed","false");
b(this).addClass("spin-model-selected");
b(this).attr("aria-pressed","true")
}b(".color-swatches").css({opacity:1});
var al=b(this).attr("data-view");
var ak=b(this).attr("data-trim");
ab=ak;
aa.hide();
b("#"+ak).show();
b("#"+ab+" .color_swatch_interior .color_swatch .swatchItem:first").trigger("click");
b("#"+ab+" .color_swatch_exterior .color_swatch .swatchItem:first").trigger("click");
b(".swatch-selected-interior").hide();
if(b("#"+ak).find(".color_swatch_interior").length!=0){b(".swatch-selected-interior").show()
}else{b(".swatch-selected-interior").hide()
}});
b(".spin-models-label:first").addClass("spin-model-selected");
aa.each(function(am){var ak=0,al=(m<Z)?true:false;
if(al){b(this).find(".color_swatch").each(function(ao,ap){var aq=b(ap).find(".swatchItem-container");
aq.each(function(){ak+=Number(b(this).outerWidth(true))
})
})
}else{b(this).find("[data-colorizer]").each(function(ao){ak+=Number(b(this).outerWidth(true))
})
}var an=ak+90+"px";
b(this).css({width:an})
});
b(window).resize(function(){m=b(window).width()
});
z();
g();
b(document).on("lazybeforeunveil",function(ak){if(b(ak.target).hasClass("colorizer-360")){D(C,G,T)
}});
if(b(".colorizer-360").is(".lazyloading, .lazyloaded")){D(C,G,T)
}}}})(jQuery,FD.Brand,FD.Brand.Util);
$(function(){$('[data-analytics="colorizer-arrow"]').click(function(){console.log("vhpColorizerOnClick-->colorizer arrow click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b=null;
var e=$(".content-wrapper .color-swatches-main-container .color-swatches .color_swatch .swatchItem-container .swatchItem-label").filter(":visible");
if(!(e==undefined)&&!(e==null)){b=e.closest("[data-colorizer-class]").data("colorizer-class");
b=b.split("_")[2];
b=b.toLowerCase()
}if(a.indexOf("vehicle:home")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:360:"+b),contentType:postfdanalytics.getContentType("none:360-colorizer"),contentSubType:b};
postfdanalytics.postPageFourPropsLoad(c);
legacyDtm.track("360-onclick")
}else{if(a.indexOf("vehicle:gallery")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:"gallery content:360:"+b,contentType:"gallery:none:360-colorizer",contentSubType:b};
postfdanalytics.postPageFourPropsLoad(c);
legacyDtm.track("360-onclick")
}else{if(a.indexOf("reveal")>=0){var d=fdanalytics.getNameplateFromPageName();
var c={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+d,onclick:"reveal content:360:"+b};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("hp-onclick")
}}}}});
$('[data-analytics="spin-models-selected"]').click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b=null;
if(a.indexOf("vehicle:home")>=0){b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:change model"),contentType:postfdanalytics.getContentType("none:360-colorizer")}
}else{if(a.indexOf("vehicle:gallery")>=0){b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:postfdanalytics.getOnClick("change model"),contentType:postfdanalytics.getContentType("none:360-colorizer")}
}}postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}});
$(".color-swatches-main-container .color-swatches .swatchItem-container .swatchItem").click(function(c){console.log("vhpColorizerOnClick-->colorizer-->click");
if(!(c.originalEvent==undefined)&&!(c.originalEvent==null)){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b=$(this).closest("[data-colorizer-class]").data("colorizer-class");
if(!(b==undefined)&&!(b==null)){b=b.split("_")[2];
b=b.toLowerCase()
}else{b=""
}if(a.indexOf("vehicle:home")>=0){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:colorizer:"+b),contentType:postfdanalytics.getContentType("none:360-colorizer"),contentSubType:b};
postfdanalytics.postPageFourPropsLoad(d);
legacyDtm.track("360-onclick")
}else{if(a.indexOf("vehicle:gallery")>=0){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:"gallery content:colorizer:"+b,contentType:"gallery:none:360-colorizer",contentSubType:b};
postfdanalytics.postPageFourPropsLoad(d);
legacyDtm.track("360-onclick")
}else{if(a.indexOf("models:detail enhanced")>=0){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:content action:",true),onclick:"models content:detail enhanced:colorizer:"+b};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("360-onclick")
}else{if(a.indexOf("reveal")>=0){var e=fdanalytics.getNameplateFromPageName();
var d={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+e,onclick:"reveal content:colorizer:"+b};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("hp-onclick")
}}}}}}})
});
(function(a,d,b){d.setInitHandler("[data-fgx-two-column-feature]",c);
function c(k){var h=window.matchMedia("(max-width: 767px)"),g=window.matchMedia("(max-width: 992px)"),f=window.matchMedia("(max-width: 1440px)");
a(window).resize(function(){l()
});
l();
var j=a("a.btn",k);
window.FD.Brand.Util.ctaHover(j);
a(".two-Column .two-column-carousel",k).each(function(){FD.Brand.Util.carousel.swipe(this,function(o,n){e(o,".two-column-carousel",n)
})
});
b.link(k);
k.each(function(){var t=a(this).find(".col-one .moreDesc");
var r=a(this).find(".col-one .lessDesc");
var o=a(this).find(".col-one .description-more");
t.click(function(){o.toggle();
a(this).hide();
r.focus()
});
r.click(function(){o.toggle();
t.show();
t.focus()
});
var q=a(this).find(".col-two .moreDesc");
var p=a(this).find(".col-two .lessDesc");
var n=a(this).find(".col-two .description-more");
q.click(function(){n.toggle();
a(this).hide();
p.focus()
});
p.click(function(){n.toggle();
q.show();
q.focus()
})
});
function l(){a(".two-Column .two-column-carousel",k).each(function(){a(this).carousel({interval:false})
});
if(h.matches){if(!a(".two-column-carousel",k).hasClass("slide")){a(".two-column-carousel",k).addClass("slide")
}}else{if(g.matches){if(a(".two-column-carousel",k).hasClass("slide")){a(".two-column-carousel",k).removeClass("slide")
}}else{if(f.matches){if(a(".two-column-carousel",k).hasClass("slide")){a(".two-column-carousel",k).removeClass("slide")
}}}}}function e(p,o,n){if(h.matches){a(p).carousel(n);
a(p).siblings(o).carousel(n);
m(p);
postfdanalytics.featuresMobileCarouselScroll();
FD.Brand.Metrics.handler.direct(a(p).attr("data-fd-metrics-scroll"))
}}function m(o){var n=a(o,k).find(".active").index();
a(o,k).siblings(".carousel-indicators").children().each(function(){a(this).removeClass("active");
if((a(this).data("slideTo")*1)!==n){a(this).addClass("active")
}})
}a(".two-Column .carousel-indicators li",k).click(function(){var n=parseInt(a(this).data("slideTo"),10);
if(!a(this).hasClass("active")){postfdanalytics.featuresMobileCarouselScroll();
FD.Brand.Metrics.handler.direct(a(this).attr("data-fd-metrics-scroll"))
}a(this).parent().siblings(".two-column-carousel").each(function(){a(this).carousel(n)
});
a(this).siblings().removeClass("active");
a(this).addClass("active")
})
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay);
$(function(){$(".two-Column .two-column-carousel .carousel-inner .col-md-6 .image-wrap").click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(postfdanalytics.getPageInitials()=="ln"||postfdanalytics.getPageInitials()=="lnc"){if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:features")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:content:action:",true),onclick:"features content:photo click"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("tech:sync")>=0){var b="all";
if(a.indexOf("sync3")>=0){b="sync3"
}if(a.indexOf("sync-base")>=0){b="sync-base"
}var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":tech:sync:vehicle:"+b+":content:action",false),onclick:"tech:sync:vehicle:"+b+":content:photo click"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}}}}if(a){if(a.indexOf("tech:sync")>=0){var b="all";
if(a.indexOf("sync3")>=0){b="sync3"
}if(a.indexOf("sync-base")>=0){b="sync-base"
}var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":tech:sync:vehicle:"+b+":content:action",false),onclick:"tech:sync:vehicle:"+b+":content:photo click"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("reveal")>=0){var d=fdanalytics.getNameplateFromPageName();
var c={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+d,onclick:"reveal content:photo click",contentType:"reveal:none:gallery"};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}}}});
$(".two-Column .two-column-carousel .carousel-inner .col-md-6 .video-wrap").click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(a){if(a.indexOf("technologies:ecoboost")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":lp:ecoboost:content action",false),onclick:"lp:ecoboost:content:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("fv:tech:sync")>=0){var b="all";
if(a.indexOf("sync3")>=0){b="sync3"
}if(a.indexOf("sync-base")>=0){b="sync-base"
}var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":tech:sync:vehicle:"+b+":content:action",false),onclick:"tech:sync:vehicle:"+b+":content:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("vehicle:features")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:category:content action:",true),onclick:"features category content:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("reveal")>=0){var d=fdanalytics.getNameplateFromPageName();
var c={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+d,onclick:"reveal content:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(postfdanalytics.getPageInitials()=="ln"||postfdanalytics.getPageInitials()=="lnc"){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:"vehicle:content:video click"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}}}}}}});
$(".two-column-feature .carouseltwo .carousel-inner .item").on("click","a",function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b=$(this).attr("href");
if(typeof(b)!="undefined"){postfdanalytics.checkReferralExitLink(a,b)
}}})
});
(function(a,d,b){d.setInitHandler("[data-fgx-three-column-feature]",c);
function c(k){var h=window.matchMedia("(max-width: 767px)"),g=window.matchMedia("(max-width: 992px)"),f=window.matchMedia("(max-width: 1440px)");
a(window).resize(function(){l()
});
l();
var j=a("a.btn",k);
window.FD.Brand.Util.ctaHover(j);
a(".three-Column .three-column-carousel",k).each(function(){FD.Brand.Util.carousel.swipe(this,e)
});
b.link(k);
k.each(function(){var u=a(this).find(".col-one .moreDesc");
var v=a(this).find(".col-one .lessDesc");
var n=a(this).find(".col-one .description-more");
u.click(function(){n.toggle();
a(this).hide();
v.focus();
postfdanalytics.featuresReadMore()
});
v.click(function(){n.toggle();
u.show();
u.focus()
});
var o=a(this).find(".col-two .moreDesc");
var q=a(this).find(".col-two .lessDesc");
var t=a(this).find(".col-two .description-more");
o.click(function(){t.toggle();
a(this).hide();
q.focus();
postfdanalytics.featuresReadMore()
});
q.click(function(){t.toggle();
o.show();
o.focus()
});
var m=a(this).find(".col-three .moreDesc");
var r=a(this).find(".col-three .lessDesc");
var p=a(this).find(".col-three .description-more");
m.click(function(){p.toggle();
a(this).hide();
r.focus();
postfdanalytics.featuresReadMore()
});
r.click(function(){p.toggle();
m.show();
m.focus()
})
});
function l(){a(".three-column-carousel",k).each(function(){a(this).carousel({interval:false})
});
if(h.matches){if(!a(".three-column-carousel",k).hasClass("slide")){a(".three-column-carousel",k).addClass("slide")
}}else{if(g.matches){if(a(".three-column-carousel",k).hasClass("slide")){a(".three-column-carousel",k).removeClass("slide")
}}else{if(f.matches){if(a(".three-column-carousel",k).hasClass("slide")){a(".three-column-carousel",k).removeClass("slide")
}}}}}function e(n,m){if(h.matches){a(n).carousel(m);
postfdanalytics.featuresMobileCarouselScroll();
FD.Brand.Metrics.handler.direct(a(n).attr("data-fd-metrics-scroll"))
}}a(".three-Column .carousel-indicators li",k).click(function(){var m=a(this).data("slideTo");
if(!a(this).hasClass("active")){postfdanalytics.featuresMobileCarouselScroll();
FD.Brand.Metrics.handler.direct(a(this).attr("data-fd-metrics-scroll"))
}a(this).parent().parent(".three-column-carousel").carousel(m)
})
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay);
$(function(){$(".three-Column .three-column-carousel .carousel-inner .col-md-4 .image-wrap").click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:home")>=0){var b=FD.Brand&&FD.Brand.Context;
var f=(b&&b.make==="Lincoln")?"vehicle:content:photo click":"vhp content:photo click";
var c=(b&&b.make==="Lincoln"&&b.region==="CA")?"vhp-onclick":"hp-onclick";
var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:f,contentType:"vhp:none:features"};
postfdanalytics.postPageThreePropsLoad(d);
legacyDtm.track(c)
}else{if(a.indexOf("reveal")>=0){var e=fdanalytics.getNameplateFromPageName();
var d={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+e,onclick:"reveal content:photo click",contentType:"reveal:none:features"};
postfdanalytics.postPageThreePropsLoad(d);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("lp:dat")>=0){postfdanalytics.datClickEvent("photo click")
}else{if(postfdanalytics.getPageInitials()=="fv"||postfdanalytics.getPageInitials()=="foc"){if(a.indexOf("vehicle:models:detail")>=0){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail:content action:",true),onclick:"models content:detail:photo click"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("tech:sync")>=0){var g=$(this).closest(".col-md-4").find("h4").text();
if(!(g==undefined)&&!(g==null)){g=g.trim().toLowerCase()
}var d={onclickLinkName:"foc:tech:sync:packages:"+g+":all",onclick:"foc:tech:sync:packages"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}}}else{if(postfdanalytics.getPageInitials()=="ln"||postfdanalytics.getPageInitials()=="lnc"){if(a.indexOf("black label")>=0){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":black label landing:content action",false),onclick:"black label:action:photo click"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("bl-onclick")
}else{if(a.indexOf("concierge")>=0){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":concierge:content:action",false),onclick:"concierge content:photo click"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}else{var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:content:action:",true),onclick:"features content:content:photo click"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}}}}}}}}});
$('[data-analytics="techsync-video"]').click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(a){if(a.indexOf("tech:sync")>=0){var b="all";
if(a.indexOf("sync3")>=0){b="sync3"
}if(a.indexOf("sync-base")>=0){b="sync-base"
}var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":tech:sync:vehicle:"+b+":content:action",false),onclick:"tech:sync:vehicle:"+b+":content:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("lp:towing capacity")>=0){postfdanalytics.towingCapacityClick("video play")
}else{if(a.indexOf("reveal")>=0){var d=fdanalytics.getNameplateFromPageName();
var c={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+d,onclick:"reveal content:video play",contentType:"reveal:none:video"};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("lp:dat")>=0){postfdanalytics.datClickEvent("video play")
}else{if(FD.Brand.Context.make==="Lincoln"){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:content:action:",true),onclick:"features content:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}}}}}}});
$(".three-column-feature .global-cta").on("click","a",function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b=$(this).attr("href").trim().toLowerCase()||"";
if(a.indexOf("tech:sirius")>=0){if(b!==""){postfdanalytics.siriusxmLinkCheck(b)
}}}})
});
(function(a,d,c){d.setInitHandler("[data-fgx-single-static-feature]",b);
function b(j){var g={},f="fgx-positioned-ssf-",k="fgx-positioned-item-",e=window.matchMedia("(max-width: 767px)");
e.addListener(l);
var m=a(".single-static-feature-cta > a.btn.btn-primary.add-hover",j);
d.Util.ctaHover(m);
if(a("html").hasClass("fgx-brand-Ford")){var h=a(".single-static-feature-cta > a.btn.btn-secondary.add-hover",j);
d.Util.ctaHover(h)
}d.MediaOverlay.link(j);
j.each(function(q){d.Pricing.refresh(this);
var t=a(this).find(".moreDesc");
var n=a(this).find(".lessDesc");
var p=a(this).find(".description-more");
t.click(function(){p.toggle();
a(this).hide();
n.focus()
});
n.click(function(){p.toggle();
t.show();
t.focus()
});
var o={};
o=c.items.setup(this,k,".single-static-feature-text");
if(!a.isEmptyObject(o)){var r=f+q;
a(this).addClass(r);
g[r]=o
}});
function l(n){if(n.matches){c.items.update("mobile",g)
}else{c.items.update("desktop",g)
}}}})(jQuery,FD.Brand,FD.Brand.Position);
$(function(){$('[data-analytics="features-category-video-click"]').click(function(){console.log("inside feature video click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:home")>=0){var e=(FD.Brand.Context.make=="Lincoln")?"content:video click":"content:video play";
var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick(e),contentType:postfdanalytics.getContentType("none:video")};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("innovation:articles")>=0){var b=a.split(":").slice(0,-1).join(":");
var c={onclickLinkName:b+":content:action",onclick:"innovation:articles:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("fv:home")==0||a.indexOf("ln:home")==0||a.indexOf("foc:home")==0||a.indexOf("lnc:home")==0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":home:content:onpage",false),onclick:"hp content:video click"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("reveal")>=0){var d=fdanalytics.getNameplateFromPageName();
var c={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+d,onclick:"reveal content:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("lp:dat")>=0){postfdanalytics.datClickEvent("video play")
}else{if(FD.Brand.Context.make=="Ford"){if(a.indexOf("vehicle:features")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:category:content action:",true),onclick:"features category content:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("lp:towing capacity")>=0){postfdanalytics.towingCapacityClick("video play")
}}}else{if(FD.Brand.Context.make=="Lincoln"){if(a.indexOf("why lincoln:home")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":why lincoln:home:content:action",false),onclick:"hp content:video play",contentType:"hp:none:video"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("why-lincoln-onclick")
}else{if(a.indexOf("black label")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":black label landing:content action",false),onclick:"black label:action:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("bl-onclick")
}else{var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:content:action:",true),onclick:"features content:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}}}}}}}}}}})
});
$(function(){$(".single-static-feature-text").on("click","a",function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b=$(this).attr("href");
if(typeof(b)!="undefined"){postfdanalytics.checkReferralExitLink(a,b)
}}});
$(".single-static-feature-cta").on("click","a",function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("seo:compare")>=0){var c={onclickLinkName:postfdanalytics.getPageInitials()+":seo compare:content:action",onclick:"seo compare:content:learn more"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("lp:innovation")>=0){c={onclickLinkName:a+":content:action",onclick:"innovation:explore more"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("ln:home")==0||a.indexOf("lnc:home")==0){var b=$(this).closest(".single-static-feature-text").find("[data-metrics-title]");
var e=(b.length)?b.text().trim():"";
var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":home:content:onpage",false),onclick:"hp content:learn more:"+e};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("reveal")>=0){var b=$(this).closest(".single-static-feature-text").find("[data-metrics-title]");
var e=(b.length)?b.text().trim():"";
var d=fdanalytics.getNameplateFromPageName();
var c={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+d,onclick:"reveal content:learn more:"+e};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("hp-onclick")
}}}}}});
$('[data-analytics="read-more-static-feature"]').click(function(){console.log("cvc page click");
if(postfdanalytics.isPageNameValid()===true){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(a.indexOf("lp veh-segment")>=0){var b=a.trim().split(":");
var c={onclickLinkName:postfdanalytics.getPageInitials()+":lp veh-segment:content:action:"+b[2],onclick:"veh-segment:content:read more"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("seo:compare")>=0){var c={onclickLinkName:postfdanalytics.getPageInitials()+":seo compare:content:action",onclick:"seo compare:content:view more"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}}}})
});
(function(a,c){c.setInitHandler("[data-fgx-hotspot-feature]",b);
function b(f){var g=a(".hotspot-feature-cta > a.btn.btn-primary.add-hover",f);
c.Util.ctaHover(g);
if(a("html").hasClass("fgx-brand-Ford")){var e=a(".hotspot-feature-cta > a.btn.btn-secondary.add-hover",f);
c.Util.ctaHover(e)
}var d=a(".hotspot-feature-image",f);
c.MediaOverlay.link(d);
f.each(function(){var k=a(this).find(".moreDesc");
var h=a(this).find(".lessDesc");
var j=a(this).find(".description-more");
k.click(function(){j.toggle();
a(this).hide();
h.focus()
});
h.click(function(){j.toggle();
k.show();
k.focus()
})
})
}})(jQuery,FD.Brand);
$(function(){$('[data-analytics="hotspot-techsync"]').click(function(){var g=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(g){if(g.indexOf("vehicle:home")>=0){var b=FD.Brand&&FD.Brand.Context;
var f=(b&&b.make==="Lincoln")?"vehicle:content:hotspot click":"vhp content:hotspot";
var c=(b&&b.make==="Lincoln"&&b.region==="CA")?"vhp-onclick":"hp-onclick";
var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:f,contentType:"vhp:none:hotspot"};
postfdanalytics.postPageThreePropsLoad(d);
legacyDtm.track(c)
}else{if(g.indexOf("tech:sync")>=0){var e="all";
if(g.indexOf("sync3")>=0){e="sync3"
}if(g.indexOf("sync-base")>=0){e="sync-base"
}var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":tech:sync:vehicle:"+e+":content:action",false),onclick:"tech:sync:vehicle:"+e+":content:hotspot"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}else{if(g.indexOf("vehicle:features")>=0){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:category:content action:",true),onclick:"features category content:hotspot"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}else{if(g.indexOf("lp:towing capacity")>=0){postfdanalytics.towingCapacityClick("hotspot")
}else{if(g.indexOf("reveal")>=0){var j=fdanalytics.getNameplateFromPageName();
var d={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+j,onclick:"reveal content:hotspot"};
if(FD.Brand.Context.make==="Ford"&&FD.Brand.Context.region==="US"){var k=$(this);
var h=k.find(".fgx-brand-sr-text").text()||"";
h=h.trim();
var a=k.find(".hotspot-icon").text()||"";
a=a.trim();
d.contentType="reveal:none:hotspot"+a;
d.contentSubType=h;
postfdanalytics.postPageFourPropsLoad(d)
}else{postfdanalytics.postPageTwoPropsLoad(d)
}legacyDtm.track("hp-onclick")
}else{if(g.indexOf("models:detail enhanced")>=0){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:content action:",true),onclick:"models content:detail enhanced:hotspot"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("hp-onclick")
}}}}}}}})
});
(function(f,d,b,h){var m,e,l,g,k,j=null,o,a="",c;
d.setInitHandler("[data-fgx-flex-column-feature]",n);
function n(y){m=y;
e=_.debounce(w,50);
l=_.debounce(A,200);
g=h.currentBreakpoint();
k=h.env.touch();
o=f(window);
a=(d.Context.accessibility&&d.Context.accessibility.meatballLabelPrefix)||"";
b.link(y);
o.resize(e);
y.each(function(){this._el=f(".fcf-outer-wrapper",this);
this.container_el=f(".fcf-wrapper",this);
this.mobileTxt_el=f(".mobile-carousel-text",this);
this.visible_tiles_desktop=f(this.container_el).attr("data-desktop-columns");
this.visible_tiles_tablet=f(this.container_el).attr("data-tablet-columns");
this.visible_tiles_mobile=f(this.container_el).attr("data-mobile-columns");
this.visible_tiles=0;
this.features_el=f(".fcf-container",this);
this.tile_el=f(".flexTile",this);
this.arrows_el=f(".arrows",this);
this.meatballs_el=f(".meatballs",this);
this.tile_width=0;
this.total_tiles=0;
this.total_width=0;
this.visible_width=0;
this.tile_widths=new Array();
this.isCarousel=false;
this.carouselScrollAction=f(this).data("carousel-scroll-action");
if(f(this.container_el).hasClass("wrap-carousel")){if((this.container_el.length>0)&&(this.features_el.length>0)){j=new Hammer(this.container_el[0])
}this.isCarousel=true;
D(this)
}});
function C(I){I.total_tiles=I.tile_el.length;
var J=f(I.tile_el[0]);
I.tile_width=J.width()+E(J,"marginLeft")+E(J,"marginRight");
I.total_width=I.tile_width*I.total_tiles
}function D(I){C(I);
I.arrows_el.children(".arrow-next").on("click",{metrics:"click arrow next"},function(){u(I);
postfdanalytics.carouselMeatballsClick()
});
I.arrows_el.children(".arrow-previous").on("click",{metrics:"click arrow previous"},function(){r(I);
postfdanalytics.carouselMeatballsClick()
});
I.arrows_el.on("focusin",function(){I.arrows_el.css("right","0px")
}).on("focusout",function(){I.arrows_el.css("right","-47px")
});
if(j){j.on("dragleft swipeleft dragright swiperight",function(J){if(g==="gux-bkpt-sm"||k){switch(J.type){case"dragleft":case"swipeleft":u(I);
postfdanalytics.carouselMeatballsClick();
break;
case"dragright":case"swiperight":r(I);
postfdanalytics.carouselMeatballsClick();
break
}}})
}I._el.addClass("loaded");
o.resize()
}function E(J,I){return Number(J.css(I).replace("px",""))
}function F(J,I){J.css("left",I+"px")
}function G(I,J){I.text(J)
}function B(J,I){J.append(I);
return J.children().last()
}function x(K){var M=K.meatballs_el.find("a.active");
var J=M.text()*K.visible_tiles;
var I=0;
f("[tabindex]",K.tile_el).each(function(){f(this).attr("tabindex","-1")
});
while(I<K.visible_tiles){if(J<K.tile_el.length){var L=K.tile_el[J];
f("[tabindex]",L).each(function(){f(this).attr("tabindex","0")
});
I++;
J++
}else{break
}}}function v(K,J){var N=J.meatballs_el.children().first();
var L=J.meatballs_el.children().last();
var M=J.arrows_el.children(".arrow-previous");
var I=J.arrows_el.children(".arrow-next");
if(K.attr("data-position")===N.attr("data-position")){if(!M.hasClass("inactive")){M.removeClass("active");
M.addClass("inactive")
}}else{if(M.hasClass("inactive")){M.removeClass("inactive");
M.addClass("active")
}}if(K.attr("data-position")===L.attr("data-position")){if(!I.hasClass("inactive")){I.removeClass("active");
I.addClass("inactive")
}}else{if(I.hasClass("inactive")){I.removeClass("inactive");
I.addClass("active")
}}x(J)
}function H(J,I){I.meatballs_el.find("a.active").removeClass("active");
F(I.features_el,-1*J.attr("data-position"));
G(I.mobileTxt_el,J.attr("data-mobile-text"));
J.children("a").addClass("active");
v(J,I);
if(typeof I.carouselScrollAction!="undefined"){FD.Brand.Metrics.handler.direct(I.carouselScrollAction)
}}function u(J){var I=J.meatballs_el.find("a.active").parent().next();
if(I.length){H(I,J)
}else{}}function r(J){var I=J.meatballs_el.find("a.active").parent().prev();
if(I.length){H(I,J)
}else{}}function p(J,I){H(J,I)
}function t(K,M){var L=_.keys(M),J,I=K.children("li");
while((J=L.shift())){f(I[J]).attr("data-position",M[J].total)
}}function z(K,M,J){var L=_.keys(M),I,N,O;
while((I=L.shift())){N=B(K,q(I,M[I],M.length));
if(M[I]<=Number(J.features_el.css("left").replace("px","")*-1)){O=N.children("a");
G(J.mobileTxt_el,N.attr("data-mobile-text"))
}N.on("click",{metrics:"click meatball"+I},function(){p(f(this),J)
})
}if(O){O.addClass("active")
}}function q(J,L,K){var I=a+" "+(parseInt(J)+1);
return String.prototype.concat.call('<li  data-position="',L,'" data-mobile-text="',parseInt(J)+1,"/",K,'"><a href="javascript:void(0);" tabindex="0" role="button" data-fgx-keypress="true" onclick="postfdanalytics.carouselMeatballsClick()" aria-label="'+I+'">',J,"</a></li>\n")
}function A(L,K){var J=[];
var M=Math.ceil(K.total_width/K.visible_width);
F(K.features_el,0);
for(var I=0;
I<M;
I++){J[I]=K.visible_width*I
}if(M>1){L.empty();
z(L,J,K);
K.arrows_el.addClass("scrollable");
K.meatballs_el.addClass("scrollable")
}else{K.arrows_el.removeClass("scrollable");
K.meatballs_el.removeClass("scrollable")
}v(K.meatballs_el.children().first(),K)
}function w(){g=h.currentBreakpoint();
m.each(function(){if(this.isCarousel){var I=this;
C(I);
if(g==="gux-bkpt-sm"){I.visible_tiles=I.visible_tiles_mobile;
I.visible_width=I.tile_width*I.visible_tiles_mobile
}else{if(g==="gux-bkpt-med"){I.visible_tiles=I.visible_tiles_tablet;
I.visible_width=I.tile_width*I.visible_tiles_tablet
}else{I.visible_tiles=I.visible_tiles_desktop;
I.visible_width=I.tile_width*I.visible_tiles_desktop
}}A(I.meatballs_el,I)
}})
}}})(jQuery,FD.Brand,FD.Brand.MediaOverlay,FD.Brand.Util);
$(function(){$('[data-analytics="flex-tile-click"]').click(function(){var h=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(h==undefined)&&!(h==null)){var c=null;
var g=null;
if(h.indexOf("vehicle:home")>=0){var f="content:photo click";
var d="none:features";
c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick(f),contentType:postfdanalytics.getContentType(d)};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(h.indexOf("vehicle:features")>=0){g=h.split(":");
if(g.length==5){var f="features content:photo click";
var b="global-onclick";
c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:content:action:",true),onclick:f};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track(b)
}}else{if(h.indexOf("vehicle:gallery")>=0){var f="photo click";
c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:"gallery content:"+f};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(h.indexOf("tech:sync")>=0){var e="all";
if(h.indexOf("sync3")>=0){e="sync3"
}else{if(h.indexOf("sync-base")>=0){e="sync-base"
}}var f="photo click";
c={onclickLinkName:postfdanalytics.getOnClickLinkName(":tech:sync:vehicle:"+e+":content:action",false),onclick:"tech:sync:vehicle:"+e+":content:"+f};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(h.indexOf("models:detail enhanced")>=0){var f="photo click";
var a="features";
var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:content action:",true),onclick:"models content:detail enhanced:"+f,contentType:"model:none:"+a};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(h.indexOf("black label landing")>=0){c={onclickLinkName:postfdanalytics.getOnClickLinkName(":black label landing:content action",false),onclick:"black label:action:photo click"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("bl-onclick")
}else{if(h.indexOf("lp:dat")>=0){postfdanalytics.datClickEvent("photo click")
}else{if(h.indexOf("reveal")>=0){var j=fdanalytics.getNameplateFromPageName();
c={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+j,onclick:"reveal content:photo click",contentType:"reveal:none:features"};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}}}}}}}}}});
$(".fcf-wrapper .content .icon-info").on("click",function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(a){if(a.indexOf("lp:dat")>=0){postfdanalytics.datClickEvent("view details")
}}})
});
(function(b,d,a){d.setInitHandler("[data-fgx-features-slider]",c);
function c(h){var f=b(".features-slider.has-mobile-override");
var m=window.matchMedia("(min-width: 768px)");
m.addListener(n);
n(m);
h.each(function(){if(b(this).find(".sliderSpin_container").length){this.$img=b(".slider_img",b(this));
this.assetPath=this.$img.attr("data-assetPath");
this.altText=this.$img.attr("data-altTag");
this.spinSetSize=parseInt(this.$img.attr("data-set-size"),10);
this.mHeightOverride=b(this).attr("data-mobile-height-override");
this.sliderContainer=b(".sliderSpin_container",b(this));
this.$imgPlaceholder=b(".placeholder_img",b(this));
this.sliderControl=b(".fgx-brand-slider-control",b(this));
this.$moreToggle=b(".ml-wrapper .moreDesc",b(this));
this.$lessToggle=b(".ml-wrapper .lessDesc",b(this));
this.$desc=b(".ml-wrapper .description-more",b(this));
this.currentFrame=1;
this.isChanging=false;
k(this)
}});
var e=b(".hotspot-wrapper.first-set",h);
var j=b(".hotspot-wrapper.second-set",h);
d.MediaOverlay.link(e);
d.MediaOverlay.link(j);
var l=b(".cta-wrapper a.btn.btn-primary.add-hover",h);
var p=b(".cta-wrapper a.btn.btn-secondary.add-hover",h);
a.ctaHover(l);
a.ctaHover(p);
function k(q){q.sliderControl.on("input",function(){var r=parseInt(b(this).val(),10);
q.$img.reel("frame",r);
q.currentFrame=r;
b(q).removeClass("first-frame");
b(q).removeClass("last-frame");
if(q.currentFrame===1){b(q).addClass("first-frame")
}else{if(q.currentFrame===q.spinSetSize){b(q).addClass("last-frame")
}}});
q.sliderControl.on("change",function(){postfdanalytics.sliderActionEvent();
FD.Brand.Metrics.handler.direct(b(this).attr("data-fd-metrics-slider"))
});
q.$moreToggle.click(function(){q.$desc.toggle();
b(this).hide()
});
q.$lessToggle.click(function(){q.$desc.toggle();
q.$moreToggle.show()
})
}function o(r,q){if(r==="left"){q.$img.trigger("stepLeft")
}else{q.$img.trigger("stepRight")
}}function g(r){b(".round-cache").remove();
r.$img.unreel();
var q=r.sliderContainer.width()*1.5;
r.$img.reel({frames:r.spinSetSize,frame:r.currentFrame,cw:true,brake:0.23,draggable:false,throwable:0,revolution:q,cursor:"default",images:r.assetPath.split(","),klass:"slider_img"}).bind("frameChange",function(){r.currentFrame=b(this).data("frame")
}).bind("loaded",function(){r.$imgPlaceholder.hide()
})
}function n(q){if(q.matches){f.each(function(){b(this).css("height","")
})
}else{f.each(function(){if(this.mHeightOverride){b(this).css("height",this.mHeightOverride+"px")
}})
}}n(m);
b(document).on("lazybeforeunveil",function(q){if(b(q.target).hasClass("features-slider")){g(q.target)
}});
h.each(function(){if(b(this).is(".lazyloading, .lazyloaded")){g(this)
}})
}})(jQuery,FD.Brand,FD.Brand.Util);
$(function(){$('[data-analytics="vhp-video-click"]').click(function(){var j=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(j==undefined)&&!(j==null)){var c=null;
var l=$(this).find(".img-wrapper").data("mediaType");
if(!(l==undefined)&&!(l==null)){var h=null;
if(j.indexOf("vehicle:home")>=0){var g=(l=="image")?"content:photo click":"content:video click";
var e=(l=="image")?"none:features":"none:video";
c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick(g),contentType:postfdanalytics.getContentType(e)};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(j.indexOf("vehicle:features")>=0){h=j.split(":");
if(h.length==5){var g=(l=="image")?"features content:photo click":"features content: video play";
var b=(l=="image")?"global-onclick":"hp-onclick";
c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:content:action:",true),onclick:g};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track(b)
}}else{if(j.indexOf("vehicle:gallery")>=0){var g=(l=="image")?"photo click":"video play";
c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:"gallery content:"+g};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(j.indexOf("tech:sync")>=0){var f="all";
if(j.indexOf("sync3")>=0){f="sync3"
}else{if(j.indexOf("sync-base")>=0){f="sync-base"
}}var g=(l=="image")?"photo click":"video play";
c={onclickLinkName:postfdanalytics.getOnClickLinkName(":tech:sync:vehicle:"+f+":content:action",false),onclick:"tech:sync:vehicle:"+f+":content:"+g};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(j.indexOf("models:detail enhanced")>=0){var g=(l=="image")?"photo click":"video play";
var a=(l=="image")?"features":"video";
var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:content action:",true),onclick:"models content:detail enhanced:"+g,contentType:"model:none:"+a};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(j.indexOf("reveal")>=0){var g=(l=="image")?"photo click":"video play";
var a=(l=="image")?"features":"video";
var k=fdanalytics.getNameplateFromPageName();
var c={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+k,onclick:"reveal content:"+g,contentType:"reveal:none:"+a};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(l=="image"){if(j.indexOf("black label landing")>=0){c={onclickLinkName:postfdanalytics.getOnClickLinkName(":black label landing:content action",false),onclick:"black label:action:photo click"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("bl-onclick")
}}else{if(l=="video"||l=="youtube"){if(j.indexOf("lp:innovation")>=0){c={onclickLinkName:j+":content:action",onclick:"innovation:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(j.indexOf("innovation:articles")>=0){var d=j.split(":").slice(0,-1).join(":");
c={onclickLinkName:d+":content:action",onclick:"innovation:articles:video play"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(j.indexOf("lp:towing capacity")>=0){postfdanalytics.towingCapacityClick("video play")
}}}}}}}}}}}}}});
$(".features-carousel-cta").on("click","a",function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b=$(this).attr("href").trim().toLowerCase()||"";
if(a.indexOf("tech:sirius")>=0){if(b!==""){postfdanalytics.siriusxmLinkCheck(b)
}}}})
});
(function(j,o,l,b,h){var C,y,t,f,a,v={},D="",w;
o.setInitHandler("[data-fgx-features-carousel-container]",x);
function x(H){C=H;
y=_.debounce(m,50);
t=_.debounce(q,200);
f=b.currentBreakpoint();
a=b.env.touch();
D=(o.Context.accessibility&&o.Context.accessibility.meatballLabelPrefix)||"";
w=H.data("carousel-scroll-action");
var G=j(".features-carousel-cta > a.btn.add-hover",H);
b.ctaHover(G);
H.each(function(){var J=j(this).find(".features-carousel-slide.item").length,I=J,K=j(this).find(".features-carousel-slide.item");
if(I>1){j(this).find(".features-carousel-slide.item").first().addClass("first-slide");
j(this).find(".carousel-arrows").addClass("shown");
j(this).hover(function(){j(this).find(".carousel-arrows.hoverArrows").fadeIn(500)
},function(){j(this).find(".carousel-arrows.hoverArrows").fadeOut(500)
});
j(this).find("div.flex-indicators").addClass("shown");
FD.Brand.Util.carousel.swipe(this,function(N,L){if(f==="gux-bkpt-sm"||a){var M=j(N).data("intervalRefId");
d(M);
((L==="next")?k:e)(j(N));
postfdanalytics.vhpCarouselMetricsCall()
}})
}});
l.link(H);
j(".carousel-arrows.global-arrows .carousel-next",H).on("click",{metrics:"click arrow next"},function(){var I=j(this).parent().parent(),J=I.data("intervalRefId");
d(J);
k(I)
});
j(".carousel-arrows.global-arrows .carousel-previous",H).on("click",{metrics:"click arrow previous"},function(){var I=j(this).parent().parent(),J=I.data("intervalRefId");
d(J);
e(I)
});
j(h).resize(_.debounce(m,50));
H.addClass("loaded");
j(h).resize();
var F=0;
H.each(function(){var M=j(this);
var L=j(this).find(".carousel-arrows.global-arrows").length;
if(M.hasClass("autoplay")&&(M.find(".features-carousel-slide.item").length>1)&&(L>0)){var J=M.data("interval");
if(!J){J=7000
}var I=setInterval(function(){k(M)
},J);
var K="interval"+F;
M.data("intervalRefId",K);
v[K]={setInterval:I,delay:J,container:M}
}F++
});
j(h).scroll(_.debounce(p,100));
j(h).scroll()
}function z(G,F){return Number(G.css(F).replace("px",""))
}function A(F,G){G.css("left",F+"px")
}function u(G,F){G.append(F);
return G.children().last()
}function B(J){var M=J.width(),I=J.hasClass("two-tiles"),L=J.find(".features-carousel-slide").first(),K=(L.length)?(z(L,"marginLeft")+z(L,"marginRight")):24,H=(I&&f!=="gux-bkpt-sm")?((M-(2*K))/2):(M-K),F,G=new Array();
J.find(".features-carousel-slide").each(function(){var N=j(this);
if(F==undefined){if(N.closest(".features-carousel-container ").hasClass("two-tiles")&&j("html").hasClass("fgx-brand-Ford")){H=H*0.9;
F=true
}}N.width(H);
G.unshift(H+z(N,"marginLeft")+z(N,"marginRight"))
});
return G
}function d(G){if(G&&v[G]){clearInterval(v[G].setInterval);
var F=setInterval(function(){k(v[G].container)
},v[G].delay);
v[G].setInterval=F
}}function n(I){var K=I.hasClass("two-tiles");
var F=j(I).find(".global-indicators").find("a.flex-active");
var N=j(I).find("ul.slides.slide-wrapper");
var G=0;
var J=(K&&f!=="gux-bkpt-sm")?2:1;
var H=N.children();
var M=F.text()*J;
j("[tabindex]",N).each(function(){j(this).attr("tabindex","-1")
});
while(G<J){if(M<H.length){var L=j(H[M]);
j("[tabindex]",L).each(function(){j(this).attr("tabindex","0")
});
if(L[0].hasAttribute("tabindex")){L.attr("tabindex","0")
}G++;
M++
}else{break
}}}function E(G,H){var F=H.parent().find(".slide-wrapper");
H.find("a.flex-active").removeClass("flex-active");
A(-1*G.attr("data-position"),F);
G.children("a").addClass("flex-active");
if(typeof w!="undefined"){FD.Brand.Metrics.handler.direct(w)
}}function k(G){j(G).find(".carousel-previous").removeClass("inactive");
var H=G.find(".global-indicators"),F=H.find("a.flex-active").parent().next();
if(F.length){E(F,H)
}else{}var I=j(G).find(".global-indicators").find("a.flex-active").parent().next().length;
if(!I){j(G).find(".carousel-next").addClass("inactive")
}n(G)
}function e(G){j(G).find(".carousel-next").removeClass("inactive");
var H=G.find(".global-indicators"),F=H.find("a.flex-active").parent().prev();
if(F.length){E(F,H)
}else{}var I=j(G).find(".global-indicators").find("a.flex-active").parent().prev().length;
if(!I){j(G).find(".carousel-previous").addClass("inactive")
}n(G)
}function r(F,H){var M=F.parent(),G=M.find(".slide-wrapper"),J=u(F,'<ol class="flex-control-nav"></ol>');
var N=_.keys(H),I,L,K;
while((I=N.shift())){L=u(J,c(I,H[I].total));
if(H[I].total<=Number(G.css("left").replace("px","")*-1)){K=L.children("a")
}L.on("click",{metrics:"click meatball"+I},function(){var O=M.data("intervalRefId");
d(O);
E(j(this),F);
n(M)
})
}K.addClass("flex-active");
n(M)
}function c(G,H){var F=D+" "+(Number(G)+1);
return String.prototype.concat.call('<li  data-position="',H,'"><a href="javascript:void(0);" tabindex="0" role="button" data-fgx-keypress="true" aria-label="'+F+'">',G,"</a></li>\n")
}function g(H,J){var I=_.keys(J),G,F=H.children("ol").children("li");
while((G=I.shift())){j(F[G]).attr("data-position",J[G].total)
}}function q(F,H){var O=F.parent(),L=O.find(".slides-container"),G=O.find(".slide-wrapper"),K=0,N=_.filter(H,function(P){if(P.combined>K){K=P.total+L.width();
return true
}return false
}),J=F.children("ol").children("li").length,M=N.length;
function I(){return F.children("ol").children("li").last().attr("data-position")!==N[M-1].total
}if(M>1){if(J!==M){F.empty();
r(F,N)
}else{if(I()){g(F,N);
A(-1*Number(F.find("a.flex-active").parent().attr("data-position")),G)
}}O.find(".carousel-arrows.global-arrows").addClass("scrollable");
F.addClass("scrollable")
}else{O.find(".carousel-arrows.global-arrows").removeClass("scrollable");
F.removeClass("scrollable");
A(0,G)
}}function m(){f=b.currentBreakpoint();
if(f!=="gux-bkpt-sm"){j(".carousel-arrows.hoverArrows",C).removeClass("hide-arrows");
j(".carousel-arrows.hoverArrows",C).hide()
}else{j(".carousel-arrows.hoverArrows",C).addClass("hide-arrows")
}C.each(function(){var I=0,H=0,G=B(j(this)),J=_.chain(G).map(function(L){H+=Number(L);
var K={width:Number(L),total:I,combined:I+Number(L)};
I+=L;
return K
}).value();
j(this).find(".slide-wrapper").css("width",H*1.1+"px");
var F=j(this).find(".global-indicators");
if(F.length){q(F,J)
}})
}function p(){C.each(function(){var I=j(this),F=I.find(".features-carousel-slide.item").length,G=I.find(".carousel-arrows.global-arrows").length,H=I.data("intervalRefId");
if(!I.hasClass("autoplay")||F<=1||G===0){return
}if(!b.inViewport(I)){if(!I.hasClass("fgx-is-paused")){if(H&&v[H]){clearInterval(v[H].setInterval)
}I.addClass("fgx-is-paused")
}}else{if(I.hasClass("fgx-is-paused")){d(H);
I.removeClass("fgx-is-paused")
}}})
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay,FD.Brand.Util,window);
$(function(){$('[data-analytics="video-carousel"]').click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:home")>=0){var f=null;
var c=$(".billboard-img .img-wrapper").data("media-type");
if(!(c==undefined)&&!(c==null)){if(c=="image"){f={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:carousel scroll"),contentType:postfdanalytics.getContentType("none:features")}
}else{if(c=="video"){f={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:carousel scroll"),contentType:postfdanalytics.getContentType("none:video")}
}}}postfdanalytics.postPageThreePropsLoad(f);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("vehicle:features")>=0){var f=null;
if(postfdanalytics.getPageInitials()=="fv"||postfdanalytics.getPageInitials()=="foc"){var h=a.split(":");
if(h.length==5){f={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:category:content action:",true),onclick:"features category content:carousel scroll"}
}}else{if(postfdanalytics.getPageInitials()=="ln"||postfdanalytics.getPageInitials()=="lnc"){var h=a.split(":");
if(h.length==5){f={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:content:action:",true),onclick:"features content:carousel scroll"}
}}}postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("tech:sync")>=0){var b="all";
if(a.indexOf("sync3")>=0){b="sync3"
}if(a.indexOf("sync-base")>=0){b="sync-base"
}var f={onclickLinkName:postfdanalytics.getOnClickLinkName(":tech:sync:vehicle:"+b+":content:action",false),onclick:"tech:sync:vehicle:"+b+":content:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("black label landing")>=0){var f={onclickLinkName:postfdanalytics.getOnClickLinkName(":black label landing:content action",false),onclick:"black label:action:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("bl-onclick")
}else{if(a.indexOf("lp veh-segment")>=0){var d=a.trim().split(":");
var f={onclickLinkName:postfdanalytics.getPageInitials()+":lp veh-segment:content:action:"+d[2],onclick:"veh-segment:content:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("tech:sirius")>=0){var f={onclickLinkName:postfdanalytics.getPageInitials()+":tech:sirius:home:content:action",onclick:"tech:sirius:home:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("vehicle:gallery")>=0){var f={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:"gallery content:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("innovation:articles")>=0){var e=a.split(":").slice(0,-1).join(":");
var f={onclickLinkName:e+":content:action",onclick:"innovation:articles:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("lp:towing capacity")>=0){postfdanalytics.towingCapacityClick("carousel scroll")
}else{if(a.indexOf("models:detail enhanced")>=0){var f={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:content action:",true),onclick:"models content:detail enhanced:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("reveal")>=0){var g=fdanalytics.getNameplateFromPageName();
var f={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+g,onclick:"reveal content:carousel scroll"};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("hp-onclick")
}}}}}}}}}}}}});
$(".flex-indicators").on("click","ol li a",function(){console.log("on click event");
postfdanalytics.vhpCarouselMetricsCall()
})
});
(function(a,c){c.setInitHandler("[data-fgx-expanded-feature]",b);
function b(e){e.each(function(){var g=a(this).find(".sub-component-wrap.side-by-side");
if(g.length){var h=g.find("div.section");
if(h.length&&((h.length%2)===1)){h.last().addClass("pull-left")
}}var k=a(this).find(".expanded-header .moreDesc");
var f=a(this).find(".expanded-header .lessDesc");
var j=a(this).find(".expanded-header .description-more");
k.click(function(){j.toggle();
a(this).hide();
f.focus()
});
f.click(function(){j.toggle();
k.show();
k.focus()
})
});
var d=a("a.global-cta-expanded-feature.btn-primary",e);
window.FD.Brand.Util.ctaHover(d)
}})(jQuery,FD.Brand);
$(function(){$(".expanded-header .global-cta-expanded-feature a").click(function(){console.log("CTA on commercial vehicle page -- Locate a center");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("commercial")>=0){var c=$(this).text();
if(!(c==undefined)&&!(c==null)){c=c.toLowerCase()
}var d={onclickLinkName:postfdanalytics.getPageInitials()+":commercial:bpn:detail:"+c,onclick:"bpn:detail:"+c};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("seo:compare")>=0){var b=$(this).attr("href");
if(typeof(b)!="undefined"&&b.indexOf("compare")>=0){var d={onclickLinkName:postfdanalytics.getPageInitials()+":seo compare:content:action",onclick:"seo compare:content:compare vehicles"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}}}}});
$(".fgx-brand-text div a").click(function(){console.log("service-->prepaid maintenance-->form download");
var a=$(this).text();
if(!(a==undefined)&&!(a==null)){a=a.toLowerCase()
}var b={onclickLinkName:postfdanalytics.getPageInitials()+":service:maintenance:plan download",onclick:"maintenance:plan download:"+a};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-download")
});
$('[data-analytics="expanded-feature-read-more"]').click(function(){console.log("cvc page click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("lp veh-segment")>=0){var b=a.trim().split(":");
var c={onclickLinkName:postfdanalytics.getPageInitials()+":lp veh-segment:content:action:"+b[2],onclick:"veh-segment:content:read more"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("seo:compare")>=0){var c={onclickLinkName:postfdanalytics.getPageInitials()+":seo compare:content:action",onclick:"seo compare:content:view more"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("lp:dat")>=0){postfdanalytics.datClickEvent("learn more")
}}}}});
$('[data-analytics="black-label-restaurant-list"]').click(function(){console.log("black label restaurant list click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("black label:member privileges")>=0){var d={onclickLinkName:postfdanalytics.getPageInitials()+":black label:restaurant list",onclick:"black label:download restaurant list"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("bl-onclick-cc")
}else{if(a.indexOf("sync")>=0){var d={onclickLinkName:"referral:exit",onclick:"referral:flmo:owner support",tool:"flmo:owner support",action:"brand referral"};
postfdanalytics.referralExitLinksCallOnClick(d);
legacyDtm.track("referral-exit")
}else{if(a.indexOf("tech:sirius")>=0){var c=$(this).text();
var b=$(this).attr("href");
if(b&&b.toLowerCase().indexOf(".pdf")>=0){var e=(FD.Brand.Context.make==="Lincoln")?"tech:sirius:home:brochure download:":"tech:sirius:home:download:";
var d={onclickLinkName:postfdanalytics.getPageInitials()+":tech:sirius:home:content:action",onclick:e+c.trim()};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-download")
}else{if(b){postfdanalytics.siriusxmLinkCheck(b)
}}}else{if(a.indexOf("more ford:sponsorship")>=0&&postfdanalytics.getPageInitials()==="foc"){var b=$(this).attr("href");
if(b&&b.toLowerCase().indexOf("sponsorship/apply")>=0){var d={onclickLinkName:postfdanalytics.getPageInitials()+":more ford:sponsorship:apply now cta",onclick:"more ford:sponsorship:apply now cta"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}}}}}}});
$(".expanded-feature .sub-component-wrap .text .fgx-brand-text p .fgx-brand-lt-h5 a").click(function(){console.log("concierge direct call --> email and live chat");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("concierge")>=0){var c=$(this).attr("title");
if(!(c==undefined)&&!(c==null)){if(c.toLowerCase().indexOf("email")>=0||c.toLowerCase().indexOf("courriel")>=0){c="email"
}else{c="chat"
}}var b={onclickLinkName:postfdanalytics.getPageInitials()+":concierge:content action",onclick:"content:"+c};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}}})
});
(function(b,d){d.setInitHandler("[data-fgx-disclosures]",c);
function c(j){var e=b("ul",j),f=b(".disc-intro",j),g="",h=0;
if(f.length>0){g=f.html()
}_.each(FD.Brand.Context.disclosures||[],function(k){if(h===0&&(g.length>0)){b('<li class="disc-note">'+g+"</li>").appendTo(e)
}else{b("<li>"+k.id+". "+a(k.detail)+"</li>").appendTo(e)
}h++
});
b("a",e).attr("tabindex","-1");
j.on("click",".title",function(){b(this).closest(".disclosures").toggleClass("open");
if(typeof legacyDtm!="undefined"){postfdanalytics.disclosureClick()
}b(this).attr("aria-pressed",b(this).closest(".disclosures").hasClass("open"));
if(b(this).closest(".disclosures").hasClass("open")){e.attr("tabindex","0");
b("a",e).attr("tabindex","0")
}else{e.attr("tabindex","-1");
b("a",e).attr("tabindex","-1")
}}).addClass("loaded")
}function a(f){if(f.indexOf("<p>")!==0){if(f.indexOf("<p>")===-1){f="<p>"+f+"</p>"
}else{var e=f.split("<p>");
f="<p>"+e.shift()+"</p>"+e.join("<p>")
}}return f
}})(jQuery,FD.Brand);
$(function(){$('[data-analytics="disclosure"]').click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){console.log("disclosure click");
if(a.indexOf("concierge")>=0){var b={onclickLinkName:postfdanalytics.getPageInitials()+":concierge:content action",onclick:"content:disclosures"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}else{if(a.indexOf("seo:compare")>=0){var b={onclickLinkName:postfdanalytics.getPageInitials()+":seo compare:content:action",onclick:"seo compare:content:disclosure"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}}}})
});
(function(g,f,c,e,k){var b;
var d;
c.setInitHandler("[data-fgx-send-to-phone-overlay]",j);
function j(m){b=e.register("sendToPhoneOverlay",m);
var l=b.show;
b.show=function(o,n){d=o;
l(true,n,"input")
};
f(".icon-closer",m).on("click",function(){b.hide();
h(m)
});
f("form",m).submit(a)
}function h(l){l.find(".error").hide();
l.find(".success").hide();
l.find("form").show();
l.find("input[type=phone]").val("")
}function a(q){q.preventDefault();
var v=f(this);
var t=v.find('[name="number"]').val();
var u=t.replace(/\D/g,"").replace(/^1/g,"");
var p=f.trim(v.find('[name="carrier"]').val());
var l=v.data("from-address");
var r=v.data("send-complete-action");
if(l==undefined){l="lcdealer@ford.com"
}var m;
v.find(".errors").stop(true,false).slideUp("fast",function o(w){v.find(".error").stop(true,false).hide()
});
if(!u||u.length!==10||!t.match(/^[0-9 \-()]+$/)){m="number"
}else{if(!p||p==="?"){m="carrier"
}}if(m){v.find(".errors").stop(true,true).show().find(".error."+m).slideDown()
}else{var n={to:u+"@"+p,from:l,fromDisplayName:l,template:"lad",data:JSON.stringify(d),html:false};
f.post(k.settings["mailSendUrl"+k.make]+"/core-services/mail/send",n);
v.add("p",v.parent()).hide();
v.parent().find(".success").slideDown("fast",function(){setTimeout(function(){b.hide();
h()
},1000)
});
postfdanalytics.callFdOnClickSendtoPhoneComplete();
if(typeof r!="undefined"){FD.Brand.Metrics.handler.direct(r)
}}}})(window,jQuery,FD.Brand,FD.Brand.Overlay,FD.Brand.Context);
(function(d,c,f,a,b){f.setInitHandler("[data-fgx-quick-search]",e);
function e(m){var l=c(".fgx-brand-subheadline",m).html()+" "+f.Pricing.postalLink();
c(".fgx-brand-subheadline",m).html(l);
c(".fgx-custom-select",m).on("click",function(p){var n=c(this),o=n.data("dropdownId");
if(c(p.target).hasClass("fgx-custom-select")||c(p.target).hasClass("fgx-custom-select-current")||c(p.target).hasClass("fgx-custom-down-icon")||c(p.target).closest(".fgx-custom-select-current").length){p.stopPropagation();
k(n,o)
}else{if(c(p.target).is("li")&&c(p.target).closest(".fgx-custom-list-options").length){h(n,c(p.target),o)
}}n.focus()
});
c(".search-cta",m).on("click",function(){var p=c(this).data("ctaLink");
var u=c(this).closest(".dropdown-wrap");
u.find(".fgx-custom-select").each(function(){var w=c(this).data("dropdownId"),v=c(this).find(".fgx-custom-select-current span").data("currentValue")||"";
p=p.replace("{"+w+"}",v)
});
if(u.closest(".quick-search").data("displayType")==="quick-search"){p=p.replace("{distance}","");
p=p.replace("{priceHigh}","")
}var o=u.find(".year-low").val()||"";
var t=u.find(".year-high").val()||"";
p=p.replace("{yearLow}",o);
p=p.replace("{yearHigh}",t);
p=p.replace("{zipCode}",(b.location.current().postalCode||""));
var r=p.indexOf("?");
if(r>=0){var q=p.substring(0,r);
var n=p.substring(r+1);
n=a.parameters.encode(a.parameters.decode(n));
p=q+"?"+n
}d.location=p
});
function k(n,o){if(n){var q=n.find(".fgx-custom-select-dropdown");
if(o&&o==="model"&&!q.hasClass("shown")&&n.data("updateMake")==="y"){var p=n.data("currentMake");
q.find("ul").each(function(){var r=c(this).data("makeId");
if(r&&r!==p){c(this).addClass("fgx-hidden")
}else{if(r&&r===p&&c(this).hasClass("fgx-hidden")){c(this).removeClass("fgx-hidden")
}}});
n.data("updateMake","n")
}q.toggleClass("shown");
n.find(".fgx-custom-select-container").toggleClass("shown");
c("body").one("click",g);
n.attr("aria-pressed",q.hasClass("shown"))
}}function h(n,v,t){if(n&&v){var p=v.data("customValue"),u=v.data("customKey"),o=n.find(".fgx-custom-select-current span"),r=o.data("currentValue");
if(!r||n.hasClass("fgx-brand-init-state")||(r&&(r!==p))){if(t&&t==="make"){var q=n.siblings(".fgx-custom-select.model-dropdown");
q.data({currentMake:p,updateMake:"y"});
j(q)
}n.find(".fgx-custom-select-current span").data("currentValue",p).html(u);
n.removeClass("fgx-brand-init-state")
}}}function g(){c("body").off("click",g);
c(".fgx-custom-select-dropdown.shown",m).removeClass("shown");
c(".fgx-custom-select-container.shown",m).removeClass("shown");
c(".fgx-custom-select",m).attr("aria-pressed","false")
}function j(n){var o=n.data("defaultLabel")||"";
$currSelect=n.find(".fgx-custom-select-current span");
if($currSelect.length){$currSelect.html(o);
$currSelect.data("currentValue","")
}}}})(window,jQuery,FD.Brand,FD.Brand.Util,FD.Brand.User);
(function(S,H,R,W,u,F,e,x,E){_.extend(R.namespace("FD.Brand.DealerTrigger",S),{fireMetrics:B});
var A;
var d=null;
var b={};
var v;
var h=false;
var t=false;
var M=null;
var L=null;
var j=null;
var O=null;
var q=null;
var z=false;
var C=H("#dt").data("sales-open-until");
var l=H("#dt").data("sales-open-again");
var n=H("#dt").data("hours-displaytype");
var Z=H("#dt").data("pagination-arialabel")||((u.accessibility&&u.accessibility.meatballLabelPrefix)||"");
var a=H("#dt").data("updateSearchLabel")||"";
var m=H("#dt").data("dealer-search-action");
var J=H("#dt").data("carousel-scroll-action");
if(n===undefined||n===""){n="12"
}var f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAACFklEQVR4Ac3YvWsTDxzH8W86/BAKhYKSIPEBVGo3iYOUKj+wg5NdXEzBoYsdfKhD54JiMAlW6BAFxzq46T9QCg5xs9dK0aEU1BJCiYu9wbahfnwvt9SW3vUeA6/Pke1NlvA9C/K58NLpxxAqWEAL2xC20cICKhhCP8wvY/wYwBSWoACWMIWBKGL6MI0NKIQNTKPvqDHDcKAIORgOGlOGC8XARdlvzBh2oRjtYuywmBFsQQnYwshBMUWsQglaRXG/mAaUgsbemBI2oRRsouTF5DALpWgWOWMK6EAp6qBgTBnKgLIxc1AGzBmzAmXAijEulAGuMcoKY7pQBnSN6UAZ8NOYJpQBTWOeQxkwY8xVKAOuGdMLB0rRInqNMUxCKZqEeTEFrEMpWEfei/HchVIwAdsb04N3UILeo+ffGCAPB0rAJ5w47FQ5h2UoRp9x1u8Rl8fHGH+RQtDz9jg+QBFaxpmjHv4n4UAR+IbBsK9ETuMrFEIbpajez1xGO8QZOwqLJga4hS4U0ANYtDHAQyiAKiyeGOAF5MMbWKwx5xuLOR9/G/M4FnMMgCK+QPv4jouwZGKAK3AhD37jf1iyMcBtyINxWDoxwBMIz2DpxiD3uj0KC8uYwOr1+iBuYnymXr33qvp4gucjvt/HHdzAKVgQxgTxH96ihT/QAXawhkpsMbVaLcfzOhpo4gdcdLGDX1jDPJ7iEsyvv5xqn4qdXfgLAAAAAElFTkSuQmCC";
var k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAACEklEQVR4Ac3YvWsTcRzH8W86iFAoFJQEiQ/gULtJHKRUEZrByS4uTcGhixF8qEPngmIwCVboENzr4Kb/QCk4xE3TStGhFNQSSqmLvcG2oX58L7eElt41d/e7wOtzZHsTLhy/szCfYunBIEZQwRLa2IOwhzaWUMEIBmFBGRPEEGawDIWwjBkMRREzgFlsQT3YwiwGThozihYUoRZGw8aU4EEx8FAKGjOJAyhGB5g8LqaIXSgBuygeFZPHGpSgNeQPi2lADjS6YwrYgRzYQcGPyWAecmgeGWNy2IYc2kbOmBKUAiVjFqAUWDBmFUqBVWM8KAU8Y5QWxnSgFOiY+781gN/GNKEUaBrzCkqBOWNuQClw05h+tCCHvqDfGMM05NA0zI/JYQNyYANZP8Z3H3KgDOuO6cN7KEEf0IeuGCCb4M38GWePO6pcxgoUo6+4FPQQl8WnGH+RXNjj7Rl8hCK0gosnPfifi/Ae+oHhXl+JXMB3qAebKET1fuYaNns4xo7DookB7qIDhfQYFm0M8AQKoQqLJwZ4DQXwFhZrzNhEORPgsbGI0zHHAMjjG9QNP3EFlkwMcB0e5MNf3IIlGwNMQD5MwdzEAM8hvIS5jQHGYU5i6vX6MO5gaq5effim+qzM9SnfH+EebuM8LAxjwjiFd2jjH3SEfayjEltMrVbLcB1DA038gocO9vEH61jEC1yFBfUf54SLgzwn+n4AAAAASUVORK5CYII=";
if(u.make==="Lincoln"){f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMzIyN2M2Ni1mOTQ4LTRkMGYtYjhmYy01ZWZiNzc2OTk1YTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njc3Qzk5OUNBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njc3Qzk5OUJBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NGZmMDhhMi1hNjRkLTRmNTYtOGY1My1kOTE3NzA0MjE0M2EiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1NDBiY2Y0Ni1lZGMzLTExNzktYThhYi1jZmVjYWRjNjA5NWIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6pBZU9AAAC40lEQVR42syZTWgTQRiGZ9dibamCEFqUSi8F9dSSmwhCKagFf0A9WLGWCir+IEIJqAVB9GBPiiIUKtFSEQXFoh68eKgXFTT+gVpB1CqSatH+WLU2Jr4f+0ViSHZndrO788JDQlhmnn47OzszNSY6VgmFzAdLwBqwDCwGETAb/AajYAjcA7fAK/DNrsG58dv/vpdJSlCna8FW0FDkGhJayDSBw+ApuAhusqRtnGTmgQNgL6gW6mlgYuAsOAUmil1s2jS0HAyCoy5FclPN7Qxyu0oyrYBuZqMobRq53VbZ27QF9DtUzUuqeBwZ4JJdZZpB3EeR3H7j3F9BmVrQA8pFMKF+eia3r64tJHMI1ItgU8/9/icTBW0inLShOtGsDA2kdpoMQ5KhftshZJBMDT9BYYb6rzF56o6ELEP9N5FMi9AjLSYPXh0SJZk6TWTqTJ6edUgVyaQ0kUmRzJgmMuMk81oTmSGT16s65D7JDGgiM0Ayj8GTkEXIIUEyU+BCyDJ92LJMZZcQV8DHkESo38u565kkOBaSzHFUZSR/pXcOXA960ILeQsvONNgd4GBOgJ2oSrrY7oDKtQk881nkOdgIvjht4t6AlT5Ohglu/53sjpIqtA7cLbEIVXwDPzBKe+1R3oaWagy9B5v5U3njT/kE1vM5i5ckuSIvnbaZThnmc5mkS5FpsIvHivAqQ3kE9rlciNHZzA3ZDbhsroFORZFucEblNEAlp8FJyWvp2OOg6tGEajolXht3wA435ySqyYD9Nk/GMI+vX0HIZF/7HeB73u8ksM3tVODlhOpBgVuxR1iHiCJoGcGLouw66AQ476WxMuE9R8BD2bnELkYmk5EvY681CXeP9S8V1hFYZJZIV1amp1M/zPKKP8KkSXEcfAYvwIdYLOZPZSBBR/J9YAVYQH8MBMSkWZF/6QyJ8G3s8kUGVZwxDIOWiV+FdcC8SFj/3JjDj/xPftu/pU0ZuKrS/l8BBgAIr6HiAr4DYAAAAABJRU5ErkJggg==";
k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMzIyN2M2Ni1mOTQ4LTRkMGYtYjhmYy01ZWZiNzc2OTk1YTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njc3Qzk5QTBBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njc3Qzk5OUZBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NGZmMDhhMi1hNjRkLTRmNTYtOGY1My1kOTE3NzA0MjE0M2EiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1NDBiY2Y0Ni1lZGMzLTExNzktYThhYi1jZmVjYWRjNjA5NWIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4z6FRPAAAC4ElEQVR42syZXUgUURiGv5kkUywIRAkMb4SyG2XrIhECCQKhH6guMjLpoqIfIpCFIhCiLvKqKALBsMSIgiKpLrrpwm4ssLUfsAyisojNpLSyMrfd3o/5NrZlnJkzs/PzwoOLDuc8fnPmzDlntdqVq0khi8FysB40gGWgHMwHv8EEGAWD4A54Ab5YNTgyNPjvs+ZQhjvdAHaAOgX5J+AyuC2SljJFNo0tAofBAVBB6qkT4uA8OAO+znWxbtFQIxgAx12K5KZC2hmQdpVkWsBdUE+FTb2022L2R7PbtB302VTNS8pkHGngilVl1oIeH0Vy++2R/kxlqkAXKKZgwv10rVjVUGUmcxTUULCpkX7/k4mBVgonrahOLDuAeSC1gYUhyXC/bRAa5spUyhMUZrj/SpZpkvdLmOH+m1immaKRZl0GbxQSY5nqiMhU6zI9RyFlLJOKiEyKZSYjIjPFMi8jIjOqy3o1CnnAMv0RkelnmWHwOGQRdkiwzDS4FLJML3YJ09klxDXwPiQR7vdq7nomCU6EJHMSVfmYv9K7AG4GPWhBt9myMw32BTiYE2APqpKea3fA5doKnvos8gxsAZ/sNnGvwDofJ8OEtP/G6Y6SK7QR3C+wCFd8szwwSnvtCdmGFmoMvQXb5Kfyxp/zAWyScxYvSUpFntttM+0yJucySZciM2CvjBXyKsN5BA66XIjx2cwtpxtwp7kB2hVFOsE5ldMAlZwFpx1ey8ceR1SPJlTT7uC1cQ/sdnNOopoMOGTxZIzJ+PoVhEz2tb8LfM/7PQvsdDsVeDmhemhyK/aTcYhIQcuQLIqy66BT4KKXxorIezrAkNO5xCpaJpNxXsZuYxLunOyrJeMIrHwepUtL0zOpH3pxyR/SeVKcAuNgBLyLx+P+VAYS/B1BL1gDlvA/AwH6ppfkXzrLInIbj/kigyrOaprGy8TPZBwwLyXjy40F8sj/lLf9a96Ugesq7f8VYAC8iKS3xTatlQAAAABJRU5ErkJggg=="
}R.setInitHandler("[data-fgx-locate-dealer-trigger]",V);
function V(ac,ae){A=ac;
if(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig){d=FD.Brand.Component.locateDealerConfig
}if(A.length===0||d==null){return
}q=d.dealerDetailPageUrl;
O=H(".dealer-mini").data("moredealershref");
if(O===""||O==null||O==undefined){O=(ae||u.settings.synBaseUrl||"")+(u.settings.sitePath||"")+"dealerships"+(S.location.pathname.substr(S.location.pathname.length-5)===".html"?".html":"/")
}if(q===""||q==null||q==undefined){q=(ae||u.settings.synBaseUrl||"")+(u.settings.sitePath||"")+"dealer-details"+(S.location.pathname.substr(S.location.pathname.length-5)===".html"?".html":"/")
}A.each(function(){var af=H(this);
H(".trigger-update-zip .body",af).append(H(".location-unaware",af).clone());
var ag="a:visible, input:text:visible, button:visible, [data-fgx-keypress]:visible";
v=W.register("triggerUpdateZipOverlay",H(".trigger-update-zip",af),{},ag)
});
A.on("click",".location-unaware .search-options input",T);
A.on("click",".location-unaware .search-options .txt-label",function(af){H(this).closest("label.radio").find("input").trigger("click")
});
A.on("focusin focusout keyup",".location-unaware .search input",Y);
A.on("click",".search-submit",N);
A.on("click",".search-clear",function(){var af=U.call(H(this));
af.$txt.val("").focus()
});
A.on("click",".details .actions .directions a",function(af){af.preventDefault();
D.call(this,true);
postfdanalytics.callDirections()
});
A.on("click",".details .actions .more-dealers a",function(){postfdanalytics.callMoreDealers()
});
A.on("click",".details .actions .send-phone a",o);
A.on("click",".dealers .collapse-icon span",function(){D.call(this,false)
});
A.on("click",".geo .btn",w);
A.on("click",".type-ahead-results li",function(){var af=H(this);
var ah=U.call(af);
var aj=af.text();
var ai=af.find(".result-name");
var ag=af.data("pacode");
if(ai.length){aj=ai.text()
}ah.$txt.val(aj);
if(ag!=null){X.call(af,ag)
}else{N.call(af)
}});
A.on("click",".pagination li",c);
H(".carousel",A).each(function(){e.carousel.swipe(this,function(ag,af){c.call(ag,null,af)
})
});
A.on("slid.bs.carousel",".carousel",function(){var ag=H(this);
var af=ag.find(".active").index();
ag.next().find("span").removeClass("active").eq(af).addClass("active")
});
A.on("click",".js-postal-link",function(af){af.preventDefault();
H(".trigger-update-zip .location-unaware",A).show();
v.show(true,H(this),".radio .txt-label");
var ag=!ab(this,".location-aware").hasClass("collapsed");
if(ag){z=true;
H(".dealers .collapse-icon span").trigger("click")
}else{z=false
}if(L==="dealerName"){H(":radio[value=dealer]",A).each(function(){H(this).trigger("click")
})
}else{H(":radio[value=location]",A).each(function(){H(this).trigger("click")
})
}postfdanalytics.callpostalCodeOverlayPageLoad()
});
A.on("click",".trigger-update-zip .close-flip",function(){v.hide();
if(e.currentBreakpoint()==="gux-bkpt-sm"){window.location.hash="dt"
}});
H("script[data-fgx-locate-dealer-trigger-template-id]").each(function(af,ag){var ah=H(ag);
b[ah.attr("data-fgx-locate-dealer-trigger-template-id")]=_.template(ag.innerHTML)
});
t=FD.Brand.Util.env.geoLocation();
if(t){var ad=F.location.coordinates()
}F.location.subscribe(P);
P()
}function B(ac){var ad=H(ac.currentTarget).attr("data-fd-metrics-click");
if(typeof ad!="undefined"){FD.Brand.Metrics.handler.direct(ad)
}}function Q(ac){H(".location-aware",A).toggle(ac);
H(".location-unaware",A).toggle(!ac)
}function D(ad){var ae=ab(this,".location-aware");
var ac=H(".dealers",ae);
var af=!ae.hasClass("collapsed");
if(ad==null){ad=!af
}if(ad===af){return
}if(ad){ac.slideDown();
ae.removeClass("collapsed");
p.call(this)
}else{ac.slideUp();
ae.addClass("collapsed")
}}function ab(ae,ac){var ad=H(ae).closest("[data-fgx-locate-dealer-trigger]");
if(ac){ad=ad.find(ac)
}return ad
}function T(){var ae=H(this);
var ad=ae.val();
var af=ab(ae,".location-unaware");
E.updateSearchHints(ab(this,".type-ahead-results"),U.call(this),true);
ae.closest(".search-options").find("label").removeClass("selected");
ae.parent().addClass("selected");
H(".search-wrap .search",af).toggleClass("show-location",ad==="location");
H(".search input",af).hide();
var ac=H(".search .search-text-"+ad,af);
ac.show().focus()
}function Y(ag){if(ag.type==="focusin"){ag.preventDefault();
if(e.currentBreakpoint()==="gux-bkpt-sm"){window.location.hash=""
}}var ac=ag.type!=="focusout";
var ad=H(this);
var ah=ad.val();
var ae=ah.length>0;
var af=ab(ad,".location-unaware");
setTimeout(function(){var ai=H(document.activeElement);
H(".search-action",af).toggle(!ae);
if(!ai.hasClass("search-submit")){H(".search-submit",af).toggle(ac&&ae);
H(".search-clear",af).toggle(!ac&&ae)
}else{H(".search-submit",af).one("focusout",function(){H(".search-submit",af).toggle(ac&&ae);
H(".search-clear",af).toggle(!ac&&ae)
})
}if(!ai.hasClass("geo")){H(".geo",af).toggle(t&&ac)
}else{H(".geo",af).one("focusout",function(){H(".geo",af).toggle(t&&ac)
})
}},150);
if(ag.type==="keyup"){if(ag.keyCode===13){N.call(ad)
}else{E.updateSearchHints(ab(this,".type-ahead-results"),U.call(this))
}}}function U(){var ad=ab(H(this),".location-unaware");
var ac=H(".search input:visible",ad);
return{$txt:ac,val:ac.val(),isDealer:ac.hasClass("search-text-dealer")}
}function X(ac){var ad=ab(this,".location-unaware");
var ae=U.call(ad);
var af={make:u.make,dealerPACode:ac};
L="dealerName";
j=ae.val;
r.call(ad,true);
K.call(ad,af).done(function(){r.call(ad,false);
Q(true);
v.hide();
if(e.currentBreakpoint()==="gux-bkpt-sm"&&window.location.hash!=="dt"){window.location.hash="dt"
}I();
postfdanalytics.globalDealerActions("unaware search");
if(typeof m!="undefined"){FD.Brand.Metrics.handler.direct(m)
}}).fail(function(ag){r.call(ad,false);
g(ag,isPostal)
})
}function N(){var ad=ab(this,".location-unaware");
var ae=U.call(ad);
var ac=false;
var ah=/^[a-zA-Z]{2}$/g;
var ag={make:u.make,radius:50,minDealers:1,maxDealers:5};
E.updateSearchHints(ab(this,".type-ahead-results"),U.call(this),true);
if(!ae.val){I(null,ae.isDealer?"required-dealer":"required-location");
return
}if(/\d+/.test(ae.val)){if(!(new RegExp(d.validationZipCode)).test(ae.val)){I(4);
return
}ag.postalCode=ae.val;
ac=true
}else{if(!/^[A-Za-z.,' ]+$/.test(ae.val)){I(7);
return
}if(ae.isDealer){ag.dealerName=ae.val
}else{if(ae.val.indexOf(",")<0){if(E.isFullStateName(ae.val)){ag[u.region==="CA"?"province":"state"]=ae.val
}else{if(ah.test(ae.val)){ag[u.region==="CA"?"province":"state"]=ae.val
}else{ag.city=ae.val
}}}else{var af=ae.val.split(",");
ag.city=H.trim(af[0]);
if(af.length>1){ag[u.region==="CA"?"province":"state"]=H.trim(af[1])
}}}}L=(ae.isDealer)?"dealerName":"location";
j=ae.val;
r.call(ad,true);
y.call(ad,ag).done(function(){r.call(ad,false);
if(ac){M=ag.postalCode;
F.location.setPostalCode(M)
}Q(true);
v.hide();
if(e.currentBreakpoint()==="gux-bkpt-sm"&&window.location.hash!=="dt"){window.location.hash="dt"
}I();
postfdanalytics.globalDealerActions("unaware search");
if(typeof m!="undefined"){FD.Brand.Metrics.handler.direct(m)
}}).fail(function(ai){r.call(ad,false);
g(ai,ac)
})
}function y(ag){var ah=ab(this);
var al=ab(this,".location-aware");
var ad=H.Deferred();
var aj=["dealers"],am=[],af=[],ak=[];
if(ah.length){var ac=ah.data("showIndependentShops");
if(ac===true||ac==="true"){aj.push("serviceLocations")
}}var ai=function(an){if(!an||an.length===0){var ao={message:"[locateDealerTrigger - getDealers] - no dealers were returned."};
af.push(ao);
return
}ak.push(an)
};
var ae=function(an){var ap=(an&&an.Response)?an.Response:{};
var ao={message:ap.Message||ap.Error||"[locateDealerTrigger - getDealers] - error retrieving the dealers"};
af.push(ao)
};
_.each(aj,function(ao){var an=x[ao](ag);
an.then(ai,ae);
am.push(an)
});
H.when.apply(H,am).done(function(){if(aj.length===af.length){_.each(af,function(ao){if(ao.message){ad.reject(ao.message)
}})
}else{var an=G(ak,al);
ad.resolve(an)
}}).fail(function(an){ad.reject(an)
});
return ad.promise()
}function K(ae){var ac=ab(this,".location-aware");
var ad=H.Deferred();
x.dealer(ae).done(function(ai){if(!ai||ai.length===0){ad.reject(ai);
return
}var ah=H(".dealers .list-inline",ac);
var al=H(".carousel-inner",ac);
var aj=H(".pagination ul",ac);
var ag=0;
ah.empty();
al.empty();
aj.empty();
ai=E.updateDealer(ai,ag,C,l,null,q,n);
var af={dealer:ai,cfg:d};
H(".closest-dealer",ac).html(b.desktopClosest(af)).data("dealer",ai);
ai.selected=true;
H(b.mobileSlide(af)).appendTo(al).data("dealer",ai);
H('<li><span class="page active">'+(ag+1)+"</span></li>").data("idx",ag).appendTo(aj);
H(".info .distance").hide();
ac.data("dealers",[ai]);
H(".ford-carousel-locate-dealer-mini",ac).toggleClass("has-multi",false);
H(".carousel",ac).carousel({interval:false});
var ak=ac.data("map");
if(ak){ak.dispose();
ac.data("map",null)
}if(z){H(".details .actions .directions a",ac).trigger("click")
}P();
ad.resolve(ai)
}).fail(function(af){ad.reject(af)
});
return ad.promise()
}function G(ae,ag){var ad=H(".dealers .list-inline",ag);
var aj=H(".carousel-inner",ag);
var ah=H(".pagination ul",ag);
ad.empty();
aj.empty();
ah.empty();
var af=[];
if(ae.length>1){_.each(ae,function(ak){af=af.concat(ak)
})
}else{if(ae.length===1){af=ae[0]
}}af=_.sortBy(af,function(ak){var al=1;
if(ak&&ak.Distance){al=parseFloat(ak.Distance)
}return al
});
if(af.length>5){af=af.slice(0,5)
}var ac=(af[0]!==null&&af[0].Distance!==null)?parseInt(af[0].Distance):null;
if(ac&&(ac>50)){af=af.slice(0,1)
}_.each(af,function(am,al){am=E.updateDealer(am,al,C,l,null,q,n);
if(am.URL&&!_.isEmpty(am.URL)){am.URL=E.appendT3QS(am.URL)
}var ak={dealer:am,cfg:d};
if(al===0){H(".closest-dealer",ag).html(b.desktopClosest(ak)).data("dealer",am);
am.selected=true
}else{am.$el=H(b.desktopItem(ak)).data("dealer",am);
am.$el.appendTo(ad);
am.selected=false
}H(b.mobileSlide(ak)).appendTo(aj).data("dealer",am);
var an=Z+" "+(al+1);
H('<li><span tabindex="0" role="button" data-fgx-keypress="true" aria-label="'+an+'" class="page '+((al==0)?"active":"")+'">'+(al+1)+"</span></li>").data("idx",al).appendTo(ah)
});
if(L==="dealerName"){H(".info .distance").hide()
}ag.data("dealers",af);
H(".ford-carousel-locate-dealer-mini",ag).toggleClass("has-multi",af.length>0);
H(".carousel",ag).carousel({interval:false});
var ai=ag.data("map");
if(ai){ai.dispose();
ag.data("map",null)
}if(z){H(".details .actions .directions a",ag).trigger("click")
}P();
return af
}function w(){var ad=ab(this);
var ac=function(){r.call(ad);
I.call(ad,5,null)
};
r.call(ad,true);
S.navigator.geolocation.getCurrentPosition(function(ae){if(ae&&ae.coords){x.dealers({make:u.make,latitude:ae.coords.latitude,longitude:ae.coords.longitude,radius:50,minDealers:1}).done(function(ag){if(ag&&ag.length>0){var af=U.call(ad);
af.$txt.val(ag[0].Address.PostalCode);
r.call(ad);
N.call(ad)
}else{ac()
}})
}else{ac()
}},ac)
}function P(){var ae=F.location.current();
var ad=ae.postalCodeSource==="FPI"&&ae.postalCode||"";
var ac="q";
if(L==="dealerName"){H(".dealer-name-label",A).show();
H(".location-label",A).hide();
ac="qn"
}else{H(".dealer-name-label",A).hide();
H(".location-label",A).show()
}if(j!=null&&j!=undefined){H(".js-postal-code",A).text(j).attr("aria-label",a+" "+j);
H(".more-dealers a",A).attr("href",O+"#/"+ac+"/"+j)
}else{if(ad!==""){H(".js-postal-code",A).text(ad).attr("aria-label",a+" "+ad);
H(".more-dealers a",A).attr("href",O+"#/"+ac+"/"+ad)
}else{if(ae.postalCodeSource!=="FPI"){H(".js-postal-code",A).text(ae.postalCode||"").attr("aria-label",a+" "+(ae.postalCode||""));
H(".search-text-location",A).val(ae.postalCode||"")
}else{H(".js-postal-code",A).text(M).attr("aria-label",a+" "+M);
H(".more-dealers a",A).attr("href",O+"#/"+ac+"/"+M)
}}}if(ad){if(ad!==M){M=ad;
var af={make:u.make,radius:50,minDealers:1,maxDealers:5,postalCode:ad};
y.call(A,af).done(function(){Q(true)
})
}}else{if(j==null||j==undefined){Q(false)
}}}function c(af,ac){var ae=H(this);
var ad=ab(ae,".carousel");
ad.carousel(ac||ae.data("idx"));
postfdanalytics.carouselClickMetrics("lad");
if(typeof J!="undefined"){FD.Brand.Metrics.handler.direct(J)
}}function r(ac){H(this).find(".ford-busy").toggle(ac)
}function g(af,ad){var ac=2;
if(ad){if(af&&af.responseJSON&&af.responseJSON.Response){var ae=af.responseJSON.Response.Message;
ac=(ae.indexOf("Invalid Postal Code")>-1)?4:2
}else{ac=1
}}I(ac)
}function I(ae,ac){var ad=H(".location-unaware .message.error",A);
ad.find(".text").hide();
if(ac){ad.find(".text."+ac).show();
ad.show();
return
}if(ae){ad.find(".text.error").show().text(d.errors[ae]);
ad.show();
return
}ad.hide()
}function aa(){var ac=H.Deferred();
if(h){ac.resolve()
}else{S._fgx_mapControlLoaded=function(){h=true;
ac.resolve();
delete S._fgx_mapControlLoaded
};
e.url.loadAsScript(u.settings.mapHost+"?callback=_fgx_mapControlLoaded").fail(function(){ac.reject()
})
}return ac.promise()
}function p(){var ad=ab(this,".location-aware");
var ae=ad.data("map");
var ac=ad.data("dealers");
if(ae||!ac){return
}aa().done(function(){var ai=Microsoft.Maps;
ae=new ai.Map(ad.find(".map")[0],{credentials:u.settings.mapKey,mapTypeId:Microsoft.Maps.MapTypeId.road,enableSearchLogo:false,enableClickableLogo:false,enableInertia:true,liteMode:false,showCopyright:false,showMapTypeSelector:false,showLocateMeButton:false});
var ag=[];
var af=null;
var ah=function(ak,am){ak.selected=am;
var aj=(am)?"selected":"none";
ak.infobox.setOptions({visible:am,state:aj});
var al=""+(ak.index+1)+"";
ak.pushpin.setOptions({state:aj,icon:f,text:al,textOffset:new Microsoft.Maps.Point(0,10)})
};
_.each(ac,function(al){var ak=new ai.Location(al.Latitude,al.Longitude);
ag.push(ak);
if(al.selected){af=ak
}var aj=new ai.Infobox(ak,{width:300,height:240,offset:new ai.Point(15,-100),htmlContent:b.infoContent({dealer:al,cfg:d})});
al.infobox=aj;
al.infobox.setMap(ae);
var an=new ai.Pushpin(ak,{width:35,height:46,infobox:aj});
al.pushpin=an;
ah(al,al.selected);
var am=function(){if(!al.selected){var ao=_.find(ac,{selected:true});
if(ao){ah(ao,false)
}ah(al,true);
ae.setView({center:al.pushpin.getLocation()})
}};
ai.Events.addHandler(an,"click",am);
if(al.$el){al.$el.find(".index").click(am)
}ae.entities.push(an)
});
ai.Events.addHandler(ae,"click",function(ak){if(ak.targetType==="map"){var aj=_.find(ac,{selected:true});
if(aj){aj.infobox.setOptions({visible:false,state:"none"})
}}});
if(ag.length>1){ae.setView({bounds:ai.LocationRect.fromLocations(ag)})
}else{ae.setView({center:ag[0],zoom:11})
}if(af){ae.setView({center:af})
}})
}function o(ad){ad.preventDefault();
var ac=H(this).closest(".closest-dealer").data("dealer");
W.instance.sendToPhoneOverlay.show({title:ac.Name,text:ac.AddressStreet+" "+ac.AddressCityStateZip,phone:ac.Phone},H(this));
postfdanalytics.callSendToPhoneStart()
}})(window,jQuery,FD.Brand,FD.Brand.Overlay,FD.Brand.Context,FD.Brand.User,FD.Brand.Util,FD.Brand.NgpServices,FD.Brand.Dealer);
(function(e,g,a,b,c){var d;
g.setInitHandler("[data-fgx-ratings-info]",f);
function f(h){if(h.length===0){return
}d=b.register("dealerRatingsInfo",h);
e(".icon-close",h).on("click",function(){d.hide()
})
}})(jQuery,FD.Brand,FD.Brand.Util,FD.Brand.Overlay,FD.Brand.Context);
(function(J,B,I,L,p,z,d,t,y){var v;
var c=null;
var a={};
var q;
var g=false;
var u=false;
var F=B("#dd").data("moredealershref");
var x=B("#dd").data("sales-open-until");
var k=B("#dd").data("sales-open-again");
var l=B("#dd").data("hours-displaytype");
var f;
var A=false;
var b=false;
var w=null;
if(l===undefined||l===""){l="12"
}var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAACFklEQVR4Ac3YvWsTDxzH8W86/BAKhYKSIPEBVGo3iYOUKj+wg5NdXEzBoYsdfKhD54JiMAlW6BAFxzq46T9QCg5xs9dK0aEU1BJCiYu9wbahfnwvt9SW3vUeA6/Pke1NlvA9C/K58NLpxxAqWEAL2xC20cICKhhCP8wvY/wYwBSWoACWMIWBKGL6MI0NKIQNTKPvqDHDcKAIORgOGlOGC8XARdlvzBh2oRjtYuywmBFsQQnYwshBMUWsQglaRXG/mAaUgsbemBI2oRRsouTF5DALpWgWOWMK6EAp6qBgTBnKgLIxc1AGzBmzAmXAijEulAGuMcoKY7pQBnSN6UAZ8NOYJpQBTWOeQxkwY8xVKAOuGdMLB0rRInqNMUxCKZqEeTEFrEMpWEfei/HchVIwAdsb04N3UILeo+ffGCAPB0rAJ5w47FQ5h2UoRp9x1u8Rl8fHGH+RQtDz9jg+QBFaxpmjHv4n4UAR+IbBsK9ETuMrFEIbpajez1xGO8QZOwqLJga4hS4U0ANYtDHAQyiAKiyeGOAF5MMbWKwx5xuLOR9/G/M4FnMMgCK+QPv4jouwZGKAK3AhD37jf1iyMcBtyINxWDoxwBMIz2DpxiD3uj0KC8uYwOr1+iBuYnymXr33qvp4gucjvt/HHdzAKVgQxgTxH96ihT/QAXawhkpsMbVaLcfzOhpo4gdcdLGDX1jDPJ7iEsyvv5xqn4qdXfgLAAAAAElFTkSuQmCC";
var j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAACEklEQVR4Ac3YvWsTcRzH8W86iFAoFJQEiQ/gULtJHKRUEZrByS4uTcGhixF8qEPngmIwCVboENzr4Kb/QCk4xE3TStGhFNQSSqmLvcG2oX58L7eElt41d/e7wOtzZHsTLhy/szCfYunBIEZQwRLa2IOwhzaWUMEIBmFBGRPEEGawDIWwjBkMRREzgFlsQT3YwiwGThozihYUoRZGw8aU4EEx8FAKGjOJAyhGB5g8LqaIXSgBuygeFZPHGpSgNeQPi2lADjS6YwrYgRzYQcGPyWAecmgeGWNy2IYc2kbOmBKUAiVjFqAUWDBmFUqBVWM8KAU8Y5QWxnSgFOiY+781gN/GNKEUaBrzCkqBOWNuQClw05h+tCCHvqDfGMM05NA0zI/JYQNyYANZP8Z3H3KgDOuO6cN7KEEf0IeuGCCb4M38GWePO6pcxgoUo6+4FPQQl8WnGH+RXNjj7Rl8hCK0gosnPfifi/Ae+oHhXl+JXMB3qAebKET1fuYaNns4xo7DookB7qIDhfQYFm0M8AQKoQqLJwZ4DQXwFhZrzNhEORPgsbGI0zHHAMjjG9QNP3EFlkwMcB0e5MNf3IIlGwNMQD5MwdzEAM8hvIS5jQHGYU5i6vX6MO5gaq5effim+qzM9SnfH+EebuM8LAxjwjiFd2jjH3SEfayjEltMrVbLcB1DA038gocO9vEH61jEC1yFBfUf54SLgzwn+n4AAAAASUVORK5CYII=";
if(p.make==="Lincoln"){e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMzIyN2M2Ni1mOTQ4LTRkMGYtYjhmYy01ZWZiNzc2OTk1YTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njc3Qzk5OUNBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njc3Qzk5OUJBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NGZmMDhhMi1hNjRkLTRmNTYtOGY1My1kOTE3NzA0MjE0M2EiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1NDBiY2Y0Ni1lZGMzLTExNzktYThhYi1jZmVjYWRjNjA5NWIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6pBZU9AAAC40lEQVR42syZTWgTQRiGZ9dibamCEFqUSi8F9dSSmwhCKagFf0A9WLGWCir+IEIJqAVB9GBPiiIUKtFSEQXFoh68eKgXFTT+gVpB1CqSatH+WLU2Jr4f+0ViSHZndrO788JDQlhmnn47OzszNSY6VgmFzAdLwBqwDCwGETAb/AajYAjcA7fAK/DNrsG58dv/vpdJSlCna8FW0FDkGhJayDSBw+ApuAhusqRtnGTmgQNgL6gW6mlgYuAsOAUmil1s2jS0HAyCoy5FclPN7Qxyu0oyrYBuZqMobRq53VbZ27QF9DtUzUuqeBwZ4JJdZZpB3EeR3H7j3F9BmVrQA8pFMKF+eia3r64tJHMI1ItgU8/9/icTBW0inLShOtGsDA2kdpoMQ5KhftshZJBMDT9BYYb6rzF56o6ELEP9N5FMi9AjLSYPXh0SJZk6TWTqTJ6edUgVyaQ0kUmRzJgmMuMk81oTmSGT16s65D7JDGgiM0Ayj8GTkEXIIUEyU+BCyDJ92LJMZZcQV8DHkESo38u565kkOBaSzHFUZSR/pXcOXA960ILeQsvONNgd4GBOgJ2oSrrY7oDKtQk881nkOdgIvjht4t6AlT5Ohglu/53sjpIqtA7cLbEIVXwDPzBKe+1R3oaWagy9B5v5U3njT/kE1vM5i5ckuSIvnbaZThnmc5mkS5FpsIvHivAqQ3kE9rlciNHZzA3ZDbhsroFORZFucEblNEAlp8FJyWvp2OOg6tGEajolXht3wA435ySqyYD9Nk/GMI+vX0HIZF/7HeB73u8ksM3tVODlhOpBgVuxR1iHiCJoGcGLouw66AQ476WxMuE9R8BD2bnELkYmk5EvY681CXeP9S8V1hFYZJZIV1amp1M/zPKKP8KkSXEcfAYvwIdYLOZPZSBBR/J9YAVYQH8MBMSkWZF/6QyJ8G3s8kUGVZwxDIOWiV+FdcC8SFj/3JjDj/xPftu/pU0ZuKrS/l8BBgAIr6HiAr4DYAAAAABJRU5ErkJggg==";
j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMzIyN2M2Ni1mOTQ4LTRkMGYtYjhmYy01ZWZiNzc2OTk1YTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njc3Qzk5QTBBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njc3Qzk5OUZBNTU5MTFFNjlEOEU4ODE3OUIyNThGOEQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NGZmMDhhMi1hNjRkLTRmNTYtOGY1My1kOTE3NzA0MjE0M2EiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1NDBiY2Y0Ni1lZGMzLTExNzktYThhYi1jZmVjYWRjNjA5NWIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4z6FRPAAAC4ElEQVR42syZXUgUURiGv5kkUywIRAkMb4SyG2XrIhECCQKhH6guMjLpoqIfIpCFIhCiLvKqKALBsMSIgiKpLrrpwm4ssLUfsAyisojNpLSyMrfd3o/5NrZlnJkzs/PzwoOLDuc8fnPmzDlntdqVq0khi8FysB40gGWgHMwHv8EEGAWD4A54Ab5YNTgyNPjvs+ZQhjvdAHaAOgX5J+AyuC2SljJFNo0tAofBAVBB6qkT4uA8OAO+znWxbtFQIxgAx12K5KZC2hmQdpVkWsBdUE+FTb2022L2R7PbtB302VTNS8pkHGngilVl1oIeH0Vy++2R/kxlqkAXKKZgwv10rVjVUGUmcxTUULCpkX7/k4mBVgonrahOLDuAeSC1gYUhyXC/bRAa5spUyhMUZrj/SpZpkvdLmOH+m1immaKRZl0GbxQSY5nqiMhU6zI9RyFlLJOKiEyKZSYjIjPFMi8jIjOqy3o1CnnAMv0RkelnmWHwOGQRdkiwzDS4FLJML3YJ09klxDXwPiQR7vdq7nomCU6EJHMSVfmYv9K7AG4GPWhBt9myMw32BTiYE2APqpKea3fA5doKnvos8gxsAZ/sNnGvwDofJ8OEtP/G6Y6SK7QR3C+wCFd8szwwSnvtCdmGFmoMvQXb5Kfyxp/zAWyScxYvSUpFntttM+0yJucySZciM2CvjBXyKsN5BA66XIjx2cwtpxtwp7kB2hVFOsE5ldMAlZwFpx1ey8ceR1SPJlTT7uC1cQ/sdnNOopoMOGTxZIzJ+PoVhEz2tb8LfM/7PQvsdDsVeDmhemhyK/aTcYhIQcuQLIqy66BT4KKXxorIezrAkNO5xCpaJpNxXsZuYxLunOyrJeMIrHwepUtL0zOpH3pxyR/SeVKcAuNgBLyLx+P+VAYS/B1BL1gDlvA/AwH6ppfkXzrLInIbj/kigyrOaprGy8TPZBwwLyXjy40F8sj/lLf9a96Ugesq7f8VYAC8iKS3xTatlQAAAABJRU5ErkJggg=="
}I.setInitHandler("[data-fgx-dealer-details]",K);
function K(P,Q){v=P;
if(FD.Brand.Component&&FD.Brand.Component.locateDealerConfig){c=FD.Brand.Component.locateDealerConfig
}if(v.length===0||c==null){return
}if(p.settings.deepLink){n.call(v,true);
B(".error-msg").hide();
var O={make:p.make,urlKey:p.settings.deepLink.substr(1)};
if(c.hideDealerRatings){B(".dealer-rating",v).hide()
}B(".actions .save > a",v).click(function(R){if(A){n.call(v,true);
z.dealer.removePreferred(f).done(function(){}).fail(function(S){n.call(v,false)
})
}else{if(!b){n.call(v,true);
z.dealer.setPreferred(f).done(function(){}).fail(function(S){n.call(v,false)
})
}}});
D.call(v,O).done(function(){B(".dealer",v).show();
z.dealer.subscribe(E);
m.call(v);
n.call(v,false)
}).fail(function(R){n.call(v,false);
B(".error-msg",v).show();
B(".dealer",v).hide()
})
}else{B(".dealer").hide();
B(".error-msg").show()
}}function E(O){if(O.preferred){b=true;
w=y.updateDealer(O.preferred,0,x,k,null,c.dealerDetailPageUrl,l);
G()
}else{b=false
}if(O.preferred&&O.preferred.PACode===f){A=true;
B(".actions .save > a .save",v).hide();
B(".actions .save > a .unsave",v).show()
}else{A=false;
B(".actions .save > a .save",v).show();
B(".actions .save > a .unsave",v).hide();
if(b){B(".actions .save > a",v).attr("href","#show-tooltip")
}else{B(".actions .save > a",v).attr("href","javascript:void(0);")
}}n.call(v,false)
}function G(){var Q=B(".actions .save > a",v);
var P=Q.data("error-text");
var R=Q.data("error-link-text");
var O=P+'<br><br><a href="'+w.DeepLinkUrl+'">'+R+"</a>";
Q.attr("data-tooltip-content",O)
}function N(Q,O){var P=B(Q).closest("[data-fgx-dealer-details]");
if(O){P=P.find(O)
}return P
}function D(Q){var O=N(this,".location-aware");
var P=B.Deferred();
t.dealerByUrlKey(Q).done(function(S){if(!S||S.length===0){P.reject(S);
return
}var R=0;
S=y.updateDealer(S,R,x,k,null,null,l);
S.displayUrl=S.URL||"";
if(S.URL&&!_.isEmpty(S.URL)){S.URL=y.appendT3QS(S.URL)
}H(S,O);
O.data("dealers",[S]);
var T=O.data("map");
if(T){T.dispose();
O.data("map",null)
}P.resolve(S)
}).fail(function(R){P.reject(R)
});
return P.promise()
}function H(Q,T){B(".dealer-name",T).text(Q.Name);
B(".dealer-rating.sales .decimal-rating",T).text(Q.salesRating);
B(".dealer-rating.sales .star-ratings .star-ratings-top",T).css("width",Q.salesRatingsPercentage);
B(".dealer-rating.sales .ratings-count .count",T).text(Q.salesRatingsCount);
if(!Q.salesRatingsCount){B(".dealer-rating.sales",T).hide();
B(".dealer-rating.sales .ratings-count.clickable",T).attr("aria-hidden","true")
}B(".dealer-rating.service .decimal-rating",T).text(Q.serviceRating);
B(".dealer-rating.service .star-ratings .star-ratings-top",T).css("width",Q.serviceRatingsPercentage);
B(".dealer-rating.service .ratings-count .count",T).text(Q.serviceRatingsCount);
if(!Q.serviceRatingsCount){B(".dealer-rating.service",T).hide();
B(".dealer-rating.service .ratings-count.clickable",T).attr("aria-hidden","true")
}B(".ratings-count.clickable",T).on("click",function(){FD.Brand.Overlay.show("dealerRatingsInfo",true,B(this))
});
B(".details .info .address .street",T).text(Q.AddressStreet);
B(".details .info .address .city-state-zip",T).text(Q.AddressCityStateZip);
var O=Q.Phone;
if(Q.dlrcalltrk_lad&&Q.dlrcalltrk_lad!==""){O=Q.dlrcalltrk_lad
}B(".details .info .sales-phone .phone-number",T).text(O);
B(".details .info .sales-phone .phone-number.fgx-mobile",T).html('<a href="tel://'+O+'" onclick="postfdanalytics.globalFDCall()">'+O+"</a>");
if(Q.ServicePhone){B(".details .info .service-phone .phone-number",T).text(Q.ServicePhone);
B(".details .info .service-phone .phone-number.fgx-mobile",T).html('<a href="tel://'+Q.ServicePhone+'" onclick="postfdanalytics.globalFDCall()">'+Q.ServicePhone+"</a>")
}else{B(".details .info .service-phone",T).hide()
}if(Q.URL){var S=(Q.displayUrl)?Q.displayUrl.split("//")[1]:Q.URL.split("//")[1];
S=S.split("/")[0];
B(".details .info .links .website",T).attr("href",Q.URL);
B(".details .info .links .website",T).text(S)
}else{B(".details .info .links .spacer",T).hide();
B(".details .info .links .website",T).attr("aria-hidden","true")
}if(Q.MapURL){B(".details .info .links .directions",T).attr("href",Q.MapURL)
}else{B(".details .info .links .spacer",T).hide();
B(".details .info .links .directions",T).attr("aria-hidden","true")
}if(Q.serviceAppointmentURL){B(".details .info .links.secondary .service-website",T).attr("href",Q.serviceAppointmentURL)
}else{B(".details .info .links.secondary .service-website",T).hide();
B(".details .info .links.secondary .service-website",T).attr("aria-hidden","true")
}if(Q.inventoryNewURL){B(".details .info .links.secondary .new-inventory",T).attr("href",Q.inventoryNewURL)
}else{B(".details .info .links.secondary .new-inventory",T).hide();
B(".details .info .links.secondary .new-inventory",T).attr("aria-hidden","true")
}if(Q.inventoryUsedURL){B(".details .info .links.secondary .used-inventory",T).attr("href",Q.inventoryUsedURL)
}else{B(".details .info .links.secondary .used-inventory",T).hide();
B(".details .info .links.secondary .used-inventory",T).attr("aria-hidden","true")
}if(!Q.dealerType||Q.dealerType==="Body Shop"){B(".actions .save",T).hide()
}if(Q.isPreferred){B(".actions .save > a .save",T).hide();
B(".actions .save > a .unsave",T).show()
}else{B(".actions .save > a .unsave",T).hide();
B(".actions .save > a .save",T).show()
}if(FD.Brand.Context.showTextDealer&&Q.lctextoptin>0&&Q.TextUrl){B(".actions .text-dealer a.fgx-desktop",T).attr("data-numbers","sales=sms://+1"+Q.TextUrl);
B(".actions .text-dealer a.fgx-desktop",T).attr("data-title",Q.Name);
B(".actions .text-dealer a.fgx-mobile",T).attr("href","sms://+1"+Q.TextUrl)
}else{B(".actions .text-dealer",T).hide();
B(".actions .text-dealer a",T).attr("aria-hidden","true")
}if(p.region!=="CA"){t.dealerChatStatus({dealerPACode:Q.PACode}).done(function(W){if(W&&W.url){var V=W.url;
B(".actions .dealer-chat a",T).on("click",function(X){X.preventDefault();
X.stopImmediatePropagation();
window.open(V,"_blank","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,width=350,height=620");
postfdanalytics.callFdOnClickAnalyticsPostPageLoad("my dealer actions:chat")
})
}else{B(".actions .dealer-chat",T).hide();
B(".actions .dealer-chat a",T).attr("aria-hidden","true")
}})
}else{B(".actions .dealer-chat",T).hide()
}f=Q.PACode;
var P=B(".hours-services .sales-hours > ul.items",T);
r(P,Q.SalesHours);
var U=B(".hours-services .service-hours > ul.items",T);
r(U,Q.ServiceHours);
var R=B(".hours-services .services > ul.items",T);
C(R,Q.Specialties,T)
}function r(P,Q){if(Q.Day){var O=B("#dd").data("closed-label");
var R;
_.each(Q.Day,function(T,U){var S='<li><span class="day-label">{labelTxt}</span><span class="hours">{hoursTxt}</span></li>';
var V=T.name;
var W="";
if(T.open&&T.close){W=T.open+" - "+T.close
}else{W=O
}S=S.replace("{labelTxt}",V).replace("{hoursTxt}",W);
if(U>0){P.append(S)
}else{R=S
}});
P.append(R)
}else{P.hide()
}}function C(P,S,R){if(S.Specialty){var Q=B("#dd").data("all-services-label");
var O=B("#dd").data("all-services-click-action");
_.each(S.Specialty,function(U,T){if(T<6){P.append("<li>"+U+"</li>")
}else{if(T==6&&S.Specialty.length>7){P.append('<li><a href="#" class="all-services-link" role="button" data-fgx-keypress="true">'+Q+"</a></li>");
B(".all-services-link",P).on("click",function(){FD.Brand.Overlay.show("dealerDetailAllServices",true,B(this))
})
}else{if(T==6&&S.Specialty.length==7){P.append("<li>"+U+"</li>")
}}}});
if(S.Specialty.length>7){o(S.Specialty,R);
if(typeof O!="undefined"){B(".all-services-link",P).attr("data-fd-metrics-click",JSON.stringify(O))
}}}else{P.hide()
}}function o(S,X){var R=B(".all-services",X);
var U=h(S,3);
for(var T=0;
T<U.length;
T++){var V=U[T];
var P=".all-services-columns .col-"+T+" .items";
var W=B(P,R);
for(var Q=0;
Q<V.length;
Q++){W.append("<li>"+V[Q]+"</li>")
}}var O=FD.Brand.Overlay.register("dealerDetailAllServices",R);
B(".icon-close",R).on("click",function(){O.hide()
});
R.detach().appendTo("body")
}function h(S,P){var O=S.length%P,U=O,T=Math.floor(S.length/P),W=[];
for(var R=0;
R<S.length;
R+=T){var Q=T+R,V=false;
if(O!==0&&U){Q++;
U--;
V=true
}W.push(S.slice(R,Q));
if(V){R++
}}return W
}function n(O){B(this).find(".ford-busy").toggle(O)
}function M(){var O=B.Deferred();
if(g){O.resolve()
}else{J._fgx_mapControlLoaded=function(){g=true;
O.resolve();
delete J._fgx_mapControlLoaded
};
d.url.loadAsScript(p.settings.mapHost+"?callback=_fgx_mapControlLoaded").fail(function(){O.reject()
})
}return O.promise()
}function m(){var P=N(this,".location-aware");
var Q=P.data("map");
var O=P.data("dealers");
if(Q||!O){return
}M().done(function(){var U=Microsoft.Maps;
Q=new U.Map(P.find(".map")[0],{credentials:p.settings.mapKey,mapTypeId:Microsoft.Maps.MapTypeId.road,enableSearchLogo:false,enableClickableLogo:false,enableInertia:true,liteMode:false,showCopyright:false,showMapTypeSelector:false,showLocateMeButton:false,disableScrollWheelZoom:true,disablePanning:true,disableZooming:true});
var S=[];
var R=null;
var T=function(W,X){W.selected=X;
var V=(X)?"selected":"none";
W.pushpin.setOptions({state:V,icon:e,textOffset:new Microsoft.Maps.Point(0,10)})
};
_.each(O,function(W){var V=new U.Location(W.Latitude,W.Longitude);
S.push(V);
if(W.selected){R=V
}var X=new U.Pushpin(V,{width:35,height:46});
W.pushpin=X;
T(W,true);
Q.entities.push(X)
});
if(S.length>1){Q.setView({bounds:U.LocationRect.fromLocations(S)})
}else{Q.setView({center:S[0],zoom:11})
}if(R){Q.setView({center:R})
}})
}})(window,jQuery,FD.Brand,FD.Brand.Overlay,FD.Brand.Context,FD.Brand.User,FD.Brand.Util,FD.Brand.NgpServices,FD.Brand.Dealer);
(function(b,e,c,a){e.setInitHandler("[data-fgx-chat-links]",d);
function d(g){if(g.length===0){return
}var f=b(".item-cta",g);
a.ctaHover(f)
}})(jQuery,FD.Brand,window,FD.Brand.Util);
$(function(){$('[data-analytics="contactus-chat"]').click(function(){console.log("contact us page click to chat buttons");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("help:contact us")>=0){var b=$(this).text();
if(!(b==undefined)&&!(b==null)){b=b.toLowerCase();
if(b.indexOf("sync")>=0){b="sync"
}if(b.indexOf("vehicle")>=0){b="vehicle"
}var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":help:contact us:content:action",false),onclick:"contact us:content:click to chat:"+b};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-onclick")
}}}})
});
(function(a,c){c.setInitHandler("[data-fgx-vehicle-tile]",b);
function b(d){var e=window.FD.Brand;
e.Dig.resolve(d);
d.each(function(){e.Pricing.refresh(this)
})
}})(jQuery,FD.Brand);
$(function(){$('[data-analytics="gallery-video-click"]').click(function(){console.log("inside gallery video click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:gallery")>=0){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:"gallery content:video play",contentType:"gallery:none:video"};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("vehicle:home")>=0){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:photo click"),contentType:postfdanalytics.getContentType("none:gallery")};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("why lincoln:home")>=0){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":why lincoln:home:content:action",false),onclick:"hp content:video play",contentType:"gallery:none:video"};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("why-lincoln-onclick")
}else{if(a.indexOf("reveal")>=0){var c=fdanalytics.getNameplateFromPageName();
var b={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+c,onclick:"reveal content:video play"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("hp-onclick")
}}}}}})
});
$(function(){$('[data-analytics="photo-click"]').click(function(c){console.log("vhp-->photo-click-->click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:home")>=0){var e={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:photo click"),contentType:postfdanalytics.getContentType("none:gallery")};
postfdanalytics.postPageThreePropsLoad(e);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("reveal")>=0){var g=fdanalytics.getNameplateFromPageName();
var e={onclickLinkName:postfdanalytics.getPageInitials()+":reveal:content:action:"+g,onclick:"reveal content:photo click",contentType:"reveal:none:gallery"};
postfdanalytics.postPageThreePropsLoad(e);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("black label:")>=0){var f=a.split(":");
var b=null;
if($(this).is("img")){b=$(this).attr("alt")
}else{b=$(this).find("img").attr("alt")
}var e={onclickLinkName:postfdanalytics.getPageInitials()+":black label:"+f[2]+":content action",onclick:"black label:"+f[2]+":"+b};
postfdanalytics.postPageTwoPropsLoad(e);
legacyDtm.track("bl-onclick")
}else{if(a.indexOf("vehicle:gallery")>=0){console.log("vhp gallery-->photo-click-->page name-->check");
var d=$(this).closest(".gallery-category").find("[data-gallery-analytics]").data("gallery-analytics");
if(!(d==undefined)&&!(d==null)){d=d.toLowerCase();
if(d.indexOf("int")>=0){d="interior"
}else{if(d.indexOf("ext")>=0){d="exterior"
}else{if(d.indexOf("vid")>=0){d="videos"
}}}if(postfdanalytics.getPageInitials()=="fv"||postfdanalytics.getPageInitials()=="foc"){var e={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:"gallery content:photo click",contentType:"gallery:none:"+d};
postfdanalytics.postPageThreePropsLoad(e)
}if(postfdanalytics.getPageInitials()=="ln"||postfdanalytics.getPageInitials()=="lnc"){var e={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:gallery:content:action:",true),onclick:"gallery content:"+d+":photo click"};
postfdanalytics.postPageTwoPropsLoad(e)
}legacyDtm.track("hp-onclick")
}}else{if(a.indexOf("models:detail enhanced")>=0){var e={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail enhanced:content action:",true),onclick:"models content:detail enhanced:photo click"};
postfdanalytics.postPageTwoPropsLoad(e);
legacyDtm.track("hp-onclick")
}}}}}}});
$('[data-analytics="gallery-link"]').click(function(){console.log("gallery link click on VHP");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:home")>=0){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:gallery"),contentType:postfdanalytics.getContentType("none:gallery")};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}}})
});
(function(a,c){c.setInitHandler("[data-fgx-features-tile]",b);
function b(d){d.each(function(){var g=a(this).find(".moreDesc");
var e=a(this).find(".lessDesc");
var f=a(this).find(".description-more");
g.click(function(){f.toggle();
a(this).hide()
});
e.click(function(){f.toggle();
g.show()
})
})
}})(jQuery,FD.Brand);
$(function(){$("[data-feature-specific-analytics]").click(function(){console.log("data-feature-specific-analytics");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var c=$(this).attr("data-feature-specific-analytics");
var e=$(this).closest(".fi-feature").find(".fi-feature-data .fi-headline").text();
if(a.indexOf("vehicle:features")>=0){var d=a.split(":");
if(d.length==4){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:features:content action:",true),onclick:"features content:"+c+":"+e};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}}}})
});
(function(a,c){c.setInitHandler("[data-fgx-features-category-card]",b);
function b(d){d.each(function(){var e=a(this).find(".featuresTile").length;
a(this).find(".fi-count-num").html(e-1)
});
a(".featuresTile.fi-startcard a",d).on("focusin",function(e){a(this).parents(".fi-startcard").addClass("hover")
});
a(".featuresTile.fi-startcard a",d).on("focusout",function(e){a(this).parents(".fi-startcard").removeClass("hover")
});
a(".featuresTile .fi-cta",d).on("focusin",function(e){a(this).parents(".fi-feature").addClass("hover")
});
a(".featuresTile .fi-cta",d).on("focusout",function(e){a(this).parents(".fi-feature").removeClass("hover")
})
}})(jQuery,FD.Brand);
(function(a,c){c.setInitHandler("[data-fgx-model-billboard-slide]",b);
function b(d){c.Dig.resolve(a(".billboard-img",d));
d.each(function(){c.Pricing.refresh(this)
})
}})(jQuery,FD.Brand);
(function(a,c){c.setInitHandler("[data-fgx-billboard-homepage-slide]",b);
function b(d){d.each(function(){c.Pricing.refresh(this)
});
c.MediaOverlay.link(d)
}})(jQuery,FD.Brand);
$(function(){$(".billboard-homepage-slide .billboard-content .content-wrapper .row h5 a .cta-text").click(function(){console.log("kba click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("shop:all vehicles")>=0){var b=$(this).text();
if(!(b==undefined)&&!(b==null)){b=b.toLowerCase().trim();
if(b.indexOf("compare now")>=0){var c={onclickLinkName:"ln:shop:all vehicles:compare:content:action",onclick:"shop content:compare:filter"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("shop-onclick")
}}}}});
$('[data-analytics="cvc-bb"]').click(function(){console.log("cvc billboard");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("commercial:bpn")>=0){var b={onclickLinkName:postfdanalytics.getPageInitials()+":commercial:bpn:detail:locate a dealer",onclick:"bpn:detail:locate a dealer"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("global-onclick")
}}});
$('[data-analytics="learn-more"]').click(function(){console.log("learn-more");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:home")>=0){var b=$(this).attr("href");
b=b.substring(b.lastIndexOf("/")+1,b.lastIndexOf(".pdf"));
b=b+".pdf";
var c={onclickLinkName:postfdanalytics.getPageInitials()+":download",onclick:"download:"+b};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("global-download")
}}})
});
(function(a,e,b,d){e.setInitHandler("[data-fgx-billboard-container]",c);
function c(u){var r=window.matchMedia("(min-width: 992px)");
r.addListener(E);
E(r);
var C=window.matchMedia("(max-width: 767px)");
C.addListener(p);
var h={},k="fgx-positioned-bb-",x="fgx-positioned-slide-";
u.each(function(K){var X=a(this).find(".billboard-slide.item").length,S=a(this);
if(X>1){var J=0,P=X-1,W=false,O=a(this).data("meatballPrefix");
a(this).find(".billboard-slide.item").each(function(){switch(J){case 0:a(this).attr({"data-next-slide":J+1,"data-slide-id":J,"data-prev-slide":X-1});
break;
case P:a(this).attr({"data-next-slide":0,"data-slide-id":J,"data-prev-slide":J-1});
break;
default:a(this).attr({"data-next-slide":J+1,"data-slide-id":J,"data-prev-slide":J-1});
break
}J++;
if(a(this).hasClass("fgx-brand-video")){W=true
}});
var V=a(this).find(".carousel-arrows");
V.addClass("shown");
if(V.hasClass("hoverArrows")){a(this).on("focusin",function(){V.css("right","0px")
}).on("focusout",function(){V.css("right","")
})
}var Y=a(this).find("ol.carousel-indicators");
Y.empty();
for(var U=0;
U<X;
U++){var F=(U===0)?"active":"";
var H=U+1;
var M=O+" "+H;
Y.append('<li data-slide-to="'+U+'" class="'+F+'" aria-label="'+M+'" tabindex="0" role="button" data-fgx-keypress="true"></li>')
}Y.addClass("shown");
FD.Brand.Util.carousel.swipe(this,z);
if(W){a(this).on("slide.bs.carousel",function(aa){var ab=a(this).find(".billboard-slide.item.active");
if(ab.hasClass("fgx-brand-video")){var Z=ab.find(".billboard-img video");
if(Z){Z.get(0).pause()
}}})
}a(this).on("slid.bs.carousel",function(aa){g(S);
if(a(aa.relatedTarget).hasClass("fgx-brand-video")){var Z=a(aa.relatedTarget).find(".billboard-img video");
m(Z,S)
}S.data("isSliding",false)
})
}var L=a(this).find(".billboard-slide.item").first();
L.addClass("active");
a(this).find(".placeholder_img").first().hide();
if(!a(this).hasClass("autoplay")){a(this).carousel({interval:false})
}else{var T=a(this).find(".carousel-arrows.global-arrows").length;
if(X>1&&T>0){a(this).carousel()
}else{a(this).carousel({interval:false})
}}e.Pricing.refresh(this);
if(e.Util.inViewport(a(this))){g(a(this))
}if(L.hasClass("fgx-brand-video")){var N=L.find(".billboard-img video");
m(N,S)
}var Q=a(this).find(".billboard-slide.static");
if(Q.length>=1){var I=0;
Q.each(function(){var aa=X+I;
a(this).attr({"data-slide-id":aa});
I++;
var ac=a(this).find(".moreDesc");
var Z=a(this).find(".lessDesc");
var ab=a(this).find(".description-more");
ac.click(function(){ab.toggle();
a(this).hide();
Z.focus()
});
Z.click(function(){ab.toggle();
ac.show();
ac.focus()
})
});
a(this).addClass("fgx-brand-contains-static-slide")
}var R={};
R=d.items.setup(this,x,".billboard-slide");
if(!a.isEmptyObject(R)){var G=k+K;
a(this).addClass(G);
h[G]=R
}});
var w=a(".billboard-cta > a.btn-primary",u);
e.Util.ctaHover(w);
if(a("html").hasClass("fgx-brand-Ford")){var o=a(".billboard-cta > a.btn-secondary",u);
e.Util.ctaHover(o)
}function E(F){var G=a(".fgx-brand-video .billboard-img video",u);
if(F.matches){a(".fgx-brand-video.fgx-brand-video-controls .content-wrapper",u).on("click",A);
G.each(function(){if(a(this).hasClass("fgx-brand-video-autoplay")&&a(this).closest(".billboard-homepage-slide").hasClass("active")){var H=a(this).get(0);
if(H.paused){H.play()
}}})
}else{a(".fgx-brand-video.fgx-brand-video-controls .content-wrapper",u).off("click",A);
G.each(function(){var I=a(this).get(0);
if(!I.paused){I.pause();
if(!a(this).hasClass("fgx-brand-video-autoplay")){var H=a(this).closest(".billboard-homepage-slide").find(".bb-video-icon");
H.removeClass("hidden")
}}})
}}function j(J,G){if(!G.length){return
}var F=G.closest(".billboard-homepage-slide"),I=F.find(".billboard-img video").get(0),H=F.find(".bb-video-icon");
if(J==="play"&&I.paused){I.play();
H.addClass("hidden");
e.Metrics.handler.direct(F.attr("data-fd-metrics-video-play"))
}else{if(J==="pause"&&!I.paused){I.pause();
H.removeClass("hidden")
}}}function A(){j("pause",a(this))
}function m(F,G){if(F&&F.length){if(F.hasClass("fgx-brand-video-autoplay")){F.get(0).play()
}else{G.find(".billboard-content .bb-video-icon").removeClass("hidden")
}}}function p(F){if(F.matches){d.items.update("mobile",h)
}else{d.items.update("desktop",h)
}}function z(K,G,I){if(!r.matches||(e.Util.env.touch())){var F=a(K).find(".billboard-slide.item.active"),J=G+"Slide",H=F.data(J);
a("body").trigger("click");
B(K,G,H);
a(K).find(".image-loader-svg").first().hide()
}}function g(K){if(!K||!K.length){return
}var I=K.find(".billboard-slide.item").length;
if(I<=1){return
}var H=K.find(".billboard-slide.item.active"),G=H.data("nextSlide"),J=K.find('*[data-slide-id="'+G+'"]');
if(J.length){var F=J.find(".billboard-img img");
if(!F.hasClass("lazypreload")&&!F.hasClass("lazyloaded")&&!F.hasClass("lazyloading")){F.addClass("lazypreload")
}}}function B(L,F,G){try{var H=a(L).data("isSliding");
if(!H||H==="false"){a(L).data("isSliding",true);
var K=a(L).find('.billboard-slide.item[data-slide-id="'+G+'"]');
a(L).data("bs.carousel").slide(F,K)
}}catch(J){a(L).carousel(G)
}var I=(a(L).hasClass("fgx-brand-contains-static-slide"))?"staticbb":"bb";
postfdanalytics.carouselClickMetrics(I);
D.call(L)
}a(".carousel-arrows.global-arrows .carousel-next, .carousel-arrows.global-arrows .carousel-previous",u).click(function(){var H=a(this).parent().parent(".billboard-container"),F=H.find(".billboard-slide.item.active"),G=(a(this).hasClass("carousel-previous"))?"prev":"next",I=F.data(G+"Slide");
a(H).find(".image-loader-svg").first().hide();
B(H,G,I)
});
a(".carousel-indicators.global-indicators li",u).click(function(){var G=a(this).data("slideTo");
var F=a(this).parent().parent(".billboard-container");
F.find(".image-loader-svg").first().hide();
F.carousel(G);
var H=(F.hasClass("fgx-brand-contains-static-slide"))?"staticbb":"bb";
postfdanalytics.carouselClickMetrics(H);
D.call(this)
});
a(".billboard-content .full-slide-link",u).hover(function(){a(this).closest(".content-wrapper").addClass("hover");
a(this).closest(".content-wrapper").find("a.btn-primary").each(function(){if(a("html").hasClass("fgx-brand-Lincoln")||!a(this).hasClass("default-hover")){e.Util.swapColors.call(this)
}})
},function(){a(this).closest(".content-wrapper").removeClass("hover");
a(this).closest(".content-wrapper").find("a.btn-primary").each(function(){if(a("html").hasClass("fgx-brand-Lincoln")||!a(this).hasClass("default-hover")){e.Util.swapColors.call(this)
}})
});
a(".bb-video-icon",u).click(function(F){F.stopPropagation();
j("play",a(this))
});
a(".video-volume-wrap",u).click(function(J){J.stopPropagation();
var G=a(this),H=G.find(".video-volume-control"),F=G.closest(".billboard-homepage-slide"),I=F.find(".billboard-img video").get(0);
I.muted=!I.muted;
if(I.muted){H.addClass("icon-muted")
}else{H.removeClass("icon-muted")
}e.Metrics.handler.direct(F.attr("data-fd-metrics-volume-control"))
});
function t(){u.each(function(){var G=a(this),F=G.find(".billboard-slide.item").length;
if(!G.hasClass("autoplay")||F<=1){return
}if(!e.Util.inViewport(G)){if(!G.hasClass("fgx-is-paused")){G.carousel("pause");
G.addClass("fgx-is-paused")
}}else{if(G.hasClass("fgx-is-paused")){G.carousel("cycle");
G.removeClass("fgx-is-paused")
}}})
}var q=window.location.hash;
if(q){var y="[data-link-key="+q.substr(1)+"]";
var n=a(y,u);
if(n.length){var l=n.attr("data-slide-id");
var f=".carousel-indicators li[data-slide-to="+l+"]";
var v=a(f,u);
v.trigger("click")
}}a(b).scroll(_.debounce(t,100));
t();
function D(){e.Metrics.handler.direct(a(this).closest("[data-fgx-billboard-container]").attr("data-fd-metrics-scroll"))
}a(".billboard-cta a, .full-slide-link",u).click(function(){var F=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(F==undefined)&&!(F==null)){if(F.indexOf("seo:compare")>=0){var J={onclickLinkName:postfdanalytics.getPageInitials()+":seo compare:content:action",onclick:"seo compare:content:billboard click"};
postfdanalytics.postPageTwoPropsLoad(J);
legacyDtm.track("global-onclick")
}else{if(F.indexOf("tech:sync")>=0){var J={onclickLinkName:F+":content:action",onclick:postfdanalytics.stripPageInitials(F)+":content:billboard click"};
postfdanalytics.postPageTwoPropsLoad(J);
legacyDtm.track("global-onclick")
}else{if(F.indexOf("lp:towing capacity")>=0){var I=a(this).text();
var G=a(this).attr("href");
if(G&&G.toLowerCase().indexOf(".pdf")>=0){var H=false;
var K=":download";
if(fdanalytics._nameplate.ngpModelName!==""){H=true;
K+=":";
digitaldata.vehicle.modelYear=fdanalytics._nameplate.ngpYear;
digitaldata.vehicle.nameplate=fdanalytics.getNameplate(fdanalytics._nameplate.ngpModelName)
}digitaldata.onclick.onclickLinkName=postfdanalytics.getOnClickLinkName(K,H);
digitaldata.onclick.onclick="download:"+I.trim();
digitaldata.page.radUIVersion=fdanalytics.getRadUIVersion();
legacyDtm.track("global-download")
}}}}}});
a(".billboard-video-cta .video-cta-wrapper",u).click(function(){var F=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(F){if(F.indexOf("lp:dat")>=0){postfdanalytics.datClickEvent("video play")
}}})
}})(jQuery,FD.Brand,window,FD.Brand.Position);
(function(a,c){c.setInitHandler("[data-fgx-vehicle-attributes]",b);
function b(d){d.each(function(){var g=this;
var e=a(g).data("disclosure-color");
var f=null;
if(e!==""&&e!==undefined){f=e.split(":")[1].replace(";","");
a("sup",g).each(function(){a(this).css("color",f)
})
}FD.Brand.Pricing.refresh(this).done(function(j){var h=a(g).find(".price.monthly-price"),k=h.find(".monthly-price-label"),m=h.find(".price-value"),l=m.data("pricing");
if(l&&l.offerType){if(l.offerType==="lease"||l.offerType==="finance"){k.siblings("a.icon-info").attr("href","#$spc").removeClass("hidden");
k.siblings("a.icon-info").removeAttr("aria-hidden")
}h.removeClass("hidden")
}})
})
}})(jQuery,FD.Brand);
$(function(){$('[data-analytics="view-offers-vehicle-attributes"]').click(function(){console.log("view offers-->click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:home")>=0){var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:view all offers"),contentType:postfdanalytics.getContentType("none:attributes")};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("vehicle:models:detail")>=0){console.log("nameplate models details-->view offers-->click-->page name check");
var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail:content action:",true),onclick:"models content:detail:view all offers",contentType:"model:none:attributes"};
postfdanalytics.postPageThreePropsLoad(b);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("black label landing")>=0){console.log("black label landing view offers");
var b={onclickLinkName:postfdanalytics.getOnClickLinkName(":black label landing:content action",false),onclick:"black label:action:view all offer"};
postfdanalytics.postPageTwoPropsLoad(b);
legacyDtm.track("bl-onclick")
}}}}});
$('[data-analytics="iball-model-details"]').click(function(){console.log("nameplate details iball on click");
var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){if(a.indexOf("vehicle:home")>=0){var b=(FD.Brand.Context.make==="Lincoln")?"":"vhp:none:attributes";
var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:content:action:",true),onclick:postfdanalytics.getOnClick("content:iball"),contentType:b};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("vehicle:models:detail")>=0){var b=(FD.Brand.Context.make==="Lincoln")?"":"model:none:attributes";
var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail:content action:",true),onclick:"models content:detail:iball",contentType:b};
postfdanalytics.postPageThreePropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("vehicle:models:compare")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:compare:content action:",true),onclick:"models content:compare:iball"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("hp-onclick")
}else{if(a.indexOf("black label")>=0){var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":black label landing:content action",false),onclick:"black label:action:iball"};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("bl-onclick")
}}}}}})
});
(function(b,d,a){d.setInitHandler("[data-fgx-single-item-accordion]",c);
function c(f){if(f.length==0){return
}b(".accordion-heading",f).on("click",function(){a.accordion.update(b(this),f,".accordion-heading",".accordion-content",false,e);
b(this).focus()
});
function e(){var g=b(this);
if(g.hasClass("open")){FD.Brand.Metrics.handler.direct(b(this).attr("data-fd-metrics-open"),g)
}}}})(jQuery,FD.Brand,FD.Brand.Util);
(function(b,e,c,a){e.setInitHandler("[data-fgx-features-specs-accordion]",d);
function d(j){var g=j.attr("data-fd-metrics-image-click");
var h=j.attr("data-fd-metrics-video-click");
var f=j.attr("data-fd-metrics-info-click");
b(".specs-accordion-toggle",j).on("click",function(){a.accordion.update(b(this),j,".specs-accordion-toggle",".specs-accordion-content",false,function(){var k=b(this);
if(k.hasClass("open")){FD.Brand.Metrics.handler.direct(b(this).attr("data-fd-metrics-open"),this)
}});
b(this).focus()
});
b(".fm-trigger.icon",j).each(function(){var k=b(this).attr("data-fd-metrics-item-type");
if(k==="image"){b(this).attr("data-fd-metrics-click",g)
}else{if(k==="video"){b(this).attr("data-fd-metrics-click",h)
}else{if(k==="info"){b(this).attr("data-fd-metrics-click",f)
}}}});
c.link(j)
}})(jQuery,FD.Brand,FD.Brand.MediaOverlay,FD.Brand.Util);
$(function(){$('[data-analytics="model-detail-photo-click"]').click(function(){var a={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail:content action:",true),onclick:"models content:detail:photo click",contentType:"model:none:features accordion"};
postfdanalytics.postPageThreePropsLoad(a);
legacyDtm.track("hp-onclick")
})
});
$(function(){$('[data-analytics="model-detail-iball-click"]').click(function(b){var d=$(b.target);
if(d.is("span")){var a=$(this).attr("class");
if(a.indexOf("image")>=0){a="photo click"
}else{a="iball"
}var c={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail:content action:",true),onclick:"models content:detail:"+a};
postfdanalytics.postPageTwoPropsLoad(c);
legacyDtm.track("hp-onclick")
}})
});
$(function(){$('[data-analytics="compare-models-page"]').click(function(){var a={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:compare:content action:",true),onclick:"models content:compare:compare"};
postfdanalytics.postPageTwoPropsLoad(a);
legacyDtm.track("global-onclick")
})
});
$(function(){$('[data-analytics="model-specs-compare"]').click(function(){console.log("nameplate models on click");
var a={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:select:content action:",true),onclick:"models content:select:compare"};
postfdanalytics.postPageTwoPropsLoad(a);
legacyDtm.track("global-onclick")
})
});
$(function(){$(".specs-accordion-toggle").click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(!(a==undefined)&&!(a==null)){var b=$(this).data("accordion");
if(!(b==undefined)&&!(b==null)){b=b.toLowerCase();
if(a.indexOf("vehicle:models:detail")>=0){if($(this).hasClass("open")){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:models:detail:content action:",true),onclick:"models content:detail:more expand",contentType:"model:none:features accordion",accordion:b};
postfdanalytics.postPageAccordionOnClick(d);
if(b=="specifications"){legacyDtm.track("specs-accordion")
}else{legacyDtm.track("hp-onclick")
}}}else{if(a.indexOf("vehicle:models:compare")>=0){if(!$(this).hasClass("open")){var d={onclickLinkName:postfdanalytics.getOnClickLinkName(":vehicle:compare:content action:",true),onclick:"models content:compare:more expand"};
postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}}else{if(a.indexOf("tech:sync")>=0){if($(this).hasClass("open")){var c=a.trim().split(":");
console.log("carousel click mobile tech sync page");
if(!(c==undefined)&&!(c==null)){var d=null;
if(c[4]=="all"){d={onclickLinkName:postfdanalytics.getPageInitials()+":tech:sync:packages:"+c[4],onclick:postfdanalytics.getPageInitials()+"tech:sync:packages"}
}else{d={onclickLinkName:postfdanalytics.getPageInitials()+":tech:sync:packages:"+c[4]+":content:action",onclick:postfdanalytics.getPageInitials()+"tech:sync:packages:content:expand:"+c[4]}
}postfdanalytics.postPageTwoPropsLoad(d);
legacyDtm.track("global-onclick")
}}}}}}}})
});
(function(b,d,a){d.setInitHandler("[data-fgx-content-accordion]",c);
function c(j){var g=null;
var l=false;
if(j.length>0){b(".content-accordion-toggle",j).on("click",function(){f.call(this,false)
});
if(window.addEventListener){window.addEventListener("hashchange",k)
}else{window.onhashchange=k
}k()
}function k(){var n=window.location.hash;
if(n){if(g===n.substr(1)){return
}var m=b(n).find(".content-accordion-toggle");
if(m){f.call(m);
l=true
}}else{if(!l){f.call(b(".content-accordion-toggle",j).first(),true);
l=true
}}}function h(n,m){a.accordion.update(n,j,".content-accordion-toggle",".accordion-content",m,e);
if(!m){n.focus()
}}function f(p){var o=b(this);
var n=o.closest("section").attr("id");
var m=window.location.hash;
var p=(p)?true:false;
if(m.substr(1)!==n&&!p){window.location.hash=n
}else{h(o,p)
}}function e(){var r=b(this);
if(r.hasClass("open")){FD.Brand.Metrics.handler.direct(b(this).attr("data-fd-metrics-open"),r)
}var m=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
var r=b(this);
if(!(m==undefined)&&!(m==null)){if(r.hasClass("open")){var q=null;
if(m.indexOf("help:privacy")>=0){var t=null;
var n=r.text();
if(!(n==undefined)&&!(n==null)){n=n.toLowerCase().trim();
if(FD.Brand.Context.make=="Ford"){t={onclickLinkName:postfdanalytics.getOnClickLinkName(":help:privacy:content:action",false),onclick:"privacy:content:expand:"+n}
}else{if(FD.Brand.Context.make=="Lincoln"){q=":help:privacy statements:"+n+":content:action";
t={onclickLinkName:postfdanalytics.getOnClickLinkName(q,false),onclick:"privacy statements:content:expand:"+n}
}}postfdanalytics.postPageTwoPropsLoad(t);
legacyDtm.track("global-onclick")
}}else{if(m.indexOf("help:terms")>=0){var n=r.text();
if(!(n==undefined)&&!(n==null)){n=n.toLowerCase();
var t={onclickLinkName:postfdanalytics.getOnClickLinkName(":help:terms:content:action",false),onclick:"terms:content:expand:"+n};
postfdanalytics.postPageTwoPropsLoad(t);
legacyDtm.track("global-onclick")
}}else{if(m.indexOf("foc:tech:sync")>=0){var p=m.trim().split(":");
console.log("carousel click mobile tech sync page");
if(!(p==undefined)&&!(p==null)){var n=r.text();
if(!(n==undefined)&&!(n==null)){n=n.toLowerCase()
}var t=null;
if(p[4]=="all"){t={onclickLinkName:postfdanalytics.getPageInitials()+":tech:sync:packages:"+p[4],onclick:postfdanalytics.getPageInitials()+":tech:sync:packages"}
}else{t={onclickLinkName:postfdanalytics.getPageInitials()+":tech:sync:packages:"+p[4]+":content:action",onclick:postfdanalytics.getPageInitials()+":tech:sync:packages:content:expand:"+n}
}postfdanalytics.postPageTwoPropsLoad(t);
legacyDtm.track("global-onclick")
}}else{if(m.indexOf("roadside assistance")>=0){var n=r.text().trim().toLowerCase()||"";
var t={onclickLinkName:postfdanalytics.getPageInitials()+":roadside assistance:content:action",onclick:"roadside assistance:content:"+n};
postfdanalytics.postPageTwoPropsLoad(t);
legacyDtm.track("global-onclick")
}else{if(m.indexOf("tech:sirius")>=0){var n=r.text().trim().toLowerCase()||"";
var o=(FD.Brand.Context.make==="Lincoln")?"accordion expand:":"more expand:";
var t={onclickLinkName:postfdanalytics.getPageInitials()+":tech:sirius:home:content:action",onclick:"tech:sirius:home:"+o+n};
postfdanalytics.postPageTwoPropsLoad(t);
legacyDtm.track("global-onclick")
}}}}}}}}}})(jQuery,FD.Brand,FD.Brand.Util);
$(function(){$(".accordion-content .text .fgx-brand-text a").click(function(){var a=FD.Brand.Context.metrics&&FD.Brand.Context.metrics.pageName;
if(a){if(a.indexOf("help:privacy")>=0){var c=$(this).attr("href");
var g=$(this).attr("target");
var e=$(this).attr("title");
var h=$(this).closest("section").find("h2").text();
if(FD.Brand.Context.make==="Lincoln"){if(c.toLowerCase().indexOf(".pdf")>=0){var d=":help:privacy statements:"+h.toLowerCase()+":pdf dowload";
var f={onclickLinkName:postfdanalytics.getOnClickLinkName(d,false),onclick:"privacy statements:download:"+e};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("global-download")
}else{if(g==="_blank"&&c.indexOf("sync")>=0){var f={onclickLinkName:"referral:exit",onclick:"referral:flmo:sync services"};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("referral-exit")
}}}else{var d=":help:privacy statements:"+h+":pdf dowloads";
var f={onclickLinkName:postfdanalytics.getOnClickLinkName(d,false),onclick:"privacy statements:download:"+e};
postfdanalytics.postPageTwoPropsLoad(f);
legacyDtm.track("global-onclick")
}}else{if(a.indexOf("tech:sirius")>=0){var b=$(this).attr("href");
if(b){postfdanalytics.siriusxmLinkCheck(b)
}}}}})
});