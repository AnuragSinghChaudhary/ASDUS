/*jslint bitwise: true, eqeqeq: true, immed: true, newcap: true, nomen: false,
 onevar: false, plusplus: false, regexp: true, undef: true, white: true, indent: 2
 browser: true */

/*global jQuery: true Drupal: true window: true ThemeBuilder: true */

(function ($) {
  /**
   * Acquia object is created if it doesn't exist.
   */
  Drupal.behaviors.acquia = Drupal.behaviors.acquia || {};

  /**
  * Attach handler.
  */
  Drupal.behaviors.acquia = {
    equalCols: true,
    delay: NaN,
    attach: function (context, settings) {
      var addCommentTrigger = $('.comment-add a');
      var addCommentForm = $('#comment-new');
      var themebuilderIsOpen = Drupal.behaviors.acquia.checkThemeBuilderStatus();
      // Add only if the comment form exists on the page.
      if (addCommentForm.length > 0) {
        // Bind click event handlers to all .comment_add links
        addCommentTrigger.bind('click', {scrollTarget: addCommentForm}, Drupal.behaviors.acquia.scrollTo);
      }
      // Run functions that require a slight delay so that the screen can finish painting
      Drupal.behaviors.acquia.delay = setInterval(Drupal.behaviors.acquia.delayFunctions, 750);
      // Run the following only if the ThemeBuilder is closed
      if (!themebuilderIsOpen) {
        Drupal.behaviors.acquia.enhanceRotatingBanner();
      }
    }
  };


  /**
   * Run functions that require a slight delay so that the screen can finish painting
   */
  Drupal.behaviors.acquia.delayFunctions = function () {
    // Clear the timeout
    clearTimeout(Drupal.behaviors.acquia.delay);
    // Set all sidebars to the height of their parent container.
    Drupal.behaviors.acquia.equalizeColumns();
  };

  /**
   * Scrolls the page to the clicked element's location
   * @param {event} event
   *   The event.
   */
  Drupal.behaviors.acquia.scrollTo = function (event) {
    // Keep the page from jumping to the hash target
    event.preventDefault();
    var toolbar = {};
    toolbar.menuHeight = $('.toolbar-menu', '#toolbar').height() || 0;
    toolbar.drawerHeight = $('.toolbar-drawer', '#toolbar').height() || 0;
    var targetOffset = event.data.scrollTarget.offset().top - toolbar.menuHeight - toolbar.drawerHeight;
    $('html,body').animate({scrollTop: targetOffset}, 1000);
  };

  /**
   * Equalizes all .col elements in a stack to the height of the tallest .col
   */
  Drupal.behaviors.acquia.equalizeColumns = function () {
    if (Drupal.behaviors.acquia.equalCols) {
      $('body').once('acquia-equalcols', function() {
        var $stacks = $('.box');
        for (var i = 0; i < $stacks.length; i++) {
          // Get the current stack reference
          var _this = $stacks.eq(i);
          // Instantiate the boxHeight variable
          var boxHeight = 0;
          // Get the columns in the stack
          var cols = _this.find('.tb-height-balance');
          // We don't need to balance the columns if only one column is present
          if (cols.length > 1) {
            for (var j = 0; j < cols.size(); j++) {
              var col = cols.eq(j);
              // Only balance the height if the col is visible
              if (col.css('display') !== 'none' && col.css('visibility') !== 'hidden') {
                var colHeight = col.outerHeight(false);
                if (colHeight > boxHeight) {
                  // If the height of the col is more than previous height, use it
                  boxHeight = colHeight;
                }
              }
            }
          }
          // Only set the min-heights if boxHeight was assigned a real value
          if (boxHeight > 0) {
            cols.css('min-height', boxHeight);
          }
        }
      });
    }
  };

  /**
   * Adds a click handler to the layout wrapper of the rotating banner.  Otherwise this element
   * would obsure the link wrapped around the image element
   */
  Drupal.behaviors.acquia.enhanceRotatingBanner = function () {
    var layouts = $('.layout-wrapper', '.rotating-banner');
    var len = layouts.length;
    if (len > 0) {
      while (len--) {
        Drupal.behaviors.acquia.pseudoLink(layouts.eq(len));
      }
    }
  };

  /**
   * Navigates to the designated element's data-link attribute value
   *
   * @param {DomElement} element
   *   Element that the pseudo link will be applied to
   *
   * @attribute
   *   data-link is an element attribute that uses the HTML5 data- pattern to store information in the DOM
   */
  Drupal.behaviors.acquia.pseudoLink = function (element) {
    var link = element.attr('data-link');
    if (link && link.length > 0) {
      // Bind a click event to the slide layout wrapper if it has a link, stored
      // in data-link attribute.
      element.click(function (event) {
        // The rotating banner may have text which could be a link. When the
        // visitor clicks the link there is nothing else to do, especially that
        // the link might be an external url which is being opened in a new
        // window / tab thanks to ext_link module.
        var link_parent = $(event.target, event.currentTarget).closest('a');
        if (link_parent.length == 0) {
          window.location = $(event.currentTarget).attr('data-link');
        }
      });
    }
  };

  /**
   * Determines if the ThemeBuilder is open
   *
   * @return {Boolean}
   *   returns a boolean that represents the open state of the ThemeBuilder. True equals open.
   */
  Drupal.behaviors.acquia.checkThemeBuilderStatus = function () {
    return $('body').hasClass('themebuilder') ? true : false;
  };

}(jQuery));
;
(function ($) {

  function preventSubmit(event) {
    return false;
  }

  function handleInitialSubmit(event) {
    var f = $.proxy(preventSubmit, this);
    $(this)
    .unbind('.preventMultiSubmits')
    .bind('submit.preventMultiSubmits', f);
  }

  Drupal.behaviors.preventMultiSubmits = {
    attach: function (context, settings) {
      $('.comment-form').once('prevent-multi-submits', function (index) {
        var f = $.proxy(handleInitialSubmit, this);
        $(this).bind('submit.preventMultiSubmits', f);
      });
    }
  };
} (jQuery));
;
/*! jQuery v1.8.3 jquery.com | jquery.org/license */
(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s<o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i<1&&o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&&Gt(e);n.queue||(l=v._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s==="toggle";if(s===(g?"hide":"show"))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),"hidden"in u&&(g=u.hidden),a&&(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in d)v.style(e,t,d[t])});for(r=0;r<o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("\ufeff\u00a0")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(v.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,"optgroup"))){t=v(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j," ");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?T.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r<i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join("");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),G=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t==="!=":t?(s+="",t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);return r[d]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+" "];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=new RegExp(i.join("|")),vt=function(e,r,s,o,u){if(!o&&!u&&!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e),(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c),c="[id='"+c+"'] ",f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r,p=a.join(",")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",H)}catch(n){}}),s=new RegExp(s.join("|")),nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[":"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u.getPropertyValue(n)||u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a"),cn.href="",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||(a[1]==="http:"?80:443))==(ln[3]||(ln[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})})(window);

var $jq18 = jQuery.noConflict(true);;
/**
 * This is the class that will implement the Splash Page or the light box content type.
 *
 * Use init() method to instantiate it. Pass the options object while invoking init.
 *
 * */

SplashLightbox = function() {

    var config = {};
    config.blockSelector = "#block-views-splash-lightbox-view-block-1";
    var setCookies = function() {
        /* Set The Cookie */
        var cookieObj = {
            'path' : '/'
        };
        if (jQuery.cookie(config.cookieName) == null) {
            var milliSeconds;
            if (config.displayRate === "0") {
                cookieObj.expires = new Date();
            } else if (config.displayRate == "-1") {
                cookieObj.expires = null;
            } else {
                milliSeconds = getMilliSeconds(config.displayRate);
                var date = new Date();
                date.setTime(date.getTime() + milliSeconds);
                cookieObj.expires = date;
            }
            jQuery.cookie(config.cookieName, 1, cookieObj);
        }
    }
    var showLightbox = function() {
        jQuery('body').append("<div class='splash_overall'></div>");
        jQuery('body.front #page').css('overflow', 'visible');
        jQuery(config.blockSelector).fadeIn();
        jQuery(".splash_overall").fadeIn();
        jQuery(".lightBox").fadeIn();
        jQuery(".lightBoxWrapper").fadeIn();
        jQuery(".lightBoxContent").fadeIn();
        var win_height = document.documentElement.clientHeight;
        var set_height = (win_height - config.lboxHeight) / 2;
        var win_width = document.documentElement.clientWidth;
        var set_width = (win_width - config.lboxWidth) / 2;
        jQuery(".lightBoxContent").css('top', set_height + 'px');
        jQuery(".lightBoxContent").css('left', set_width + 'px');
        jQuery(".lightBoxClose a").click(function() {
            jQuery(".splash_overall").fadeOut();
            jQuery(config.blockSelector).fadeOut();
            jQuery(config.blockSelector).remove();
            jQuery('body.front #page').css('overflow', 'hidden');
        });
        jQuery(".splash_overall").click(function() {
            jQuery(".splash_overall").fadeOut();
            jQuery(config.blockSelector).fadeOut();
            jQuery(config.blockSelector).remove();
            jQuery('body.front #page').css('overflow', 'hidden');

        });
        if (jQuery(window).height() < 600) {
            jQuery('body.front .view-splash .lightBoxContent iframe').css('height', '600px');
        }

    }
    var showNoShow = function() {
        var yn = true;

        if (jQuery.cookie(config.cookieName) !== null) {
            yn = false;
        }

        return yn;
    }
    var redirect = function() {
        /*Check if you can extract the url from the nodeLink*/
        //location.href = config.nodeLink;
        window.location.replace(config.nodeLink);
    }
    var getMilliSeconds = function(dateString) {
        var minPattern = /([\d\.]+)m/;
        var hourPattern = /([\d\.]+)h/;
        var dayPattern = /([\d\.]+)d/;
        var milliSeconds = 0;
        var resultArray;
        if (( resultArray = minPattern.exec(dateString)) !== null) {
            milliSeconds = resultArray[1] * 60 * 1000;
        }
        if (( resultArray = hourPattern.exec(dateString)) !== null) {
            milliSeconds += resultArray[1] * 60 * 60 * 1000;
        }
        if (( resultArray = dayPattern.exec(dateString)) !== null) {
            milliSeconds += resultArray[1] * 24 * 60 * 60 * 1000;
        }
        return milliSeconds;
    }
    var getParameterByName = function(name){
        name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
        var regexS = "[\\?&]" + name + "=([^&#]*)";
        var regex = new RegExp(regexS);
        var results = regex.exec(window.location.search);
        if (results == null) 
            return "";
        else 
            return decodeURIComponent(results[1].replace(/\+/g, " "));
    }
    var init = function(options) {
        /*Algorithm
         * 1. Get the config file for this page.
         * 3. Set the cookie.
         * 2. If it is lightbox then call it.
         * 3. If it is splash call redirect it.
         * */
        if ( typeof options !== "undefined") {
            options = jQuery.parseJSON(options);
            if (options !== null) {
                jQuery.extend(true, config, options);
            } else {
                return
            }
        } else {
            return;
        }

        var show = showNoShow();
        setCookies();

        if (show) {
            if (config.isLightBox === "splash") {
                if (getParameterByName("frontpage") != "true") {
                    redirect();
                }
            } else {
                showLightbox();
            }
        }
    }
    return {
        init : init
    }
}();;
/**
  * Klass.js - copyright @dedfat
  * version 1.0
  * https://github.com/ded/klass
  * Follow our software http://twitter.com/dedfat :)
  * MIT License
  */
!function(a,b){function j(a,b){function c(){}c[e]=this[e];var d=this,g=new c,h=f(a),j=h?a:this,k=h?{}:a,l=function(){this.initialize?this.initialize.apply(this,arguments):(b||h&&d.apply(this,arguments),j.apply(this,arguments))};l.methods=function(a){i(g,a,d),l[e]=g;return this},l.methods.call(l,k).prototype.constructor=l,l.extend=arguments.callee,l[e].implement=l.statics=function(a,b){a=typeof a=="string"?function(){var c={};c[a]=b;return c}():a,i(this,a,d);return this};return l}function i(a,b,d){for(var g in b)b.hasOwnProperty(g)&&(a[g]=f(b[g])&&f(d[e][g])&&c.test(b[g])?h(g,b[g],d):b[g])}function h(a,b,c){return function(){var d=this.supr;this.supr=c[e][a];var f=b.apply(this,arguments);this.supr=d;return f}}function g(a){return j.call(f(a)?a:d,a,1)}var c=/xyz/.test(function(){xyz})?/\bsupr\b/:/.*/,d=function(){},e="prototype",f=function(a){return typeof a===b};if(typeof module!="undefined"&&module.exports)module.exports=g;else{var k=a.klass;g.noConflict=function(){a.klass=k;return this},a.klass=g}}(this,"function")
;
/*!
 * iScroll Lite base on iScroll v4.1.6 ~ Copyright (c) 2011 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */

(function(){
var m = Math,
	mround = function (r) { return r >> 0; },
	vendor = (/webkit/i).test(navigator.appVersion) ? 'webkit' :
		(/firefox/i).test(navigator.userAgent) ? 'Moz' :
		'opera' in window ? 'O' : '',

    // Browser capabilities
    isAndroid = (/android/gi).test(navigator.appVersion),
    isIDevice = (/iphone|ipad/gi).test(navigator.appVersion),
    isPlaybook = (/playbook/gi).test(navigator.appVersion),
    isTouchPad = (/hp-tablet/gi).test(navigator.appVersion),

    has3d = 'WebKitCSSMatrix' in window && 'm11' in new WebKitCSSMatrix(),
    hasTouch = 'ontouchstart' in window && !isTouchPad,
    hasTransform = vendor + 'Transform' in document.documentElement.style,
    hasTransitionEnd = isIDevice || isPlaybook,

	nextFrame = (function() {
	    return window.requestAnimationFrame
			|| window.webkitRequestAnimationFrame
			|| window.mozRequestAnimationFrame
			|| window.oRequestAnimationFrame
			|| window.msRequestAnimationFrame
			|| function(callback) { return setTimeout(callback, 17); }
	})(),
	cancelFrame = (function () {
	    return window.cancelRequestAnimationFrame
			|| window.webkitCancelAnimationFrame
			|| window.webkitCancelRequestAnimationFrame
			|| window.mozCancelRequestAnimationFrame
			|| window.oCancelRequestAnimationFrame
			|| window.msCancelRequestAnimationFrame
			|| clearTimeout
	})(),

	// Events
	RESIZE_EV = 'onorientationchange' in window ? 'orientationchange' : 'resize',
	START_EV = hasTouch ? 'touchstart' : 'mousedown',
	MOVE_EV = hasTouch ? 'touchmove' : 'mousemove',
	END_EV = hasTouch ? 'touchend' : 'mouseup',
	CANCEL_EV = hasTouch ? 'touchcancel' : 'mouseup',

	// Helpers
	trnOpen = 'translate' + (has3d ? '3d(' : '('),
	trnClose = has3d ? ',0)' : ')',

	// Constructor
	iScroll = function (el, options) {
		var that = this,
			doc = document,
			i;

		that.wrapper = typeof el == 'object' ? el : doc.getElementById(el);
		that.wrapper.style.overflow = 'hidden';
		that.scroller = that.wrapper.children[0];

		// Default options
		that.options = {
			hScroll: true,
			vScroll: true,
			x: 0,
			y: 0,
			bounce: true,
			bounceLock: false,
			momentum: true,
			lockDirection: true,
			useTransform: true,
			useTransition: false,

			// Events
			onRefresh: null,
			onBeforeScrollStart: function (e) { e.preventDefault(); },
			onScrollStart: null,
			onBeforeScrollMove: null,
			onScrollMove: null,
			onBeforeScrollEnd: null,
			onScrollEnd: null,
			onTouchEnd: null,
			onDestroy: null
		};

		// User defined options
		for (i in options) that.options[i] = options[i];

		// Set starting position
		that.x = that.options.x;
		that.y = that.options.y;

		// Normalize options
		that.options.useTransform = hasTransform ? that.options.useTransform : false;
		that.options.hScrollbar = that.options.hScroll && that.options.hScrollbar;
		that.options.vScrollbar = that.options.vScroll && that.options.vScrollbar;
		that.options.useTransition = hasTransitionEnd && that.options.useTransition;

		// Set some default styles
		that.scroller.style[vendor + 'TransitionProperty'] = that.options.useTransform ? '-' + vendor.toLowerCase() + '-transform' : 'top left';
		that.scroller.style[vendor + 'TransitionDuration'] = '0';
		that.scroller.style[vendor + 'TransformOrigin'] = '0 0';
		if (that.options.useTransition) that.scroller.style[vendor + 'TransitionTimingFunction'] = 'cubic-bezier(0.33,0.66,0.66,1)';
		
		if (that.options.useTransform) that.scroller.style[vendor + 'Transform'] = trnOpen + that.x + 'px,' + that.y + 'px' + trnClose;
		else that.scroller.style.cssText += ';position:absolute;top:' + that.y + 'px;left:' + that.x + 'px';

		that.refresh();

		that._bind(RESIZE_EV, window);
		that._bind(START_EV);
		if (!hasTouch) that._bind('mouseout', that.wrapper);
	};

// Prototype
iScroll.prototype = {
	enabled: true,
	x: 0,
	y: 0,
	steps: [],
	scale: 1,
	
	handleEvent: function (e) {
		var that = this;
		switch(e.type) {
			case START_EV:
				if (!hasTouch && e.button !== 0) return;
				that._start(e);
				break;
			case MOVE_EV: that._move(e); break;
			case END_EV:
			case CANCEL_EV: that._end(e); break;
			case RESIZE_EV: that._resize(); break;
			case 'mouseout': that._mouseout(e); break;
			case 'webkitTransitionEnd': that._transitionEnd(e); break;
		}
	},

	_resize: function () {
		this.refresh();
	},
	
	_pos: function (x, y) {
		x = this.hScroll ? x : 0;
		y = this.vScroll ? y : 0;

		if (this.options.useTransform) {
			this.scroller.style[vendor + 'Transform'] = trnOpen + x + 'px,' + y + 'px' + trnClose + ' scale(' + this.scale + ')';
		} else {
			x = mround(x);
			y = mround(y);
			this.scroller.style.left = x + 'px';
			this.scroller.style.top = y + 'px';
		}

		this.x = x;
		this.y = y;
	},

	_start: function (e) {
		var that = this,
			point = hasTouch ? e.touches[0] : e,
			matrix, x, y;

		if (!that.enabled) return;

		if (that.options.onBeforeScrollStart) that.options.onBeforeScrollStart.call(that, e);
		
		if (that.options.useTransition) that._transitionTime(0);

		that.moved = false;
		that.animating = false;
		that.zoomed = false;
		that.distX = 0;
		that.distY = 0;
		that.absDistX = 0;
		that.absDistY = 0;
		that.dirX = 0;
		that.dirY = 0;

		if (that.options.momentum) {
			if (that.options.useTransform) {
				// Very lame general purpose alternative to CSSMatrix
				matrix = getComputedStyle(that.scroller, null)[vendor + 'Transform'].replace(/[^0-9-.,]/g, '').split(',');
				x = matrix[4] * 1;
				y = matrix[5] * 1;
			} else {
				x = getComputedStyle(that.scroller, null).left.replace(/[^0-9-]/g, '') * 1;
				y = getComputedStyle(that.scroller, null).top.replace(/[^0-9-]/g, '') * 1;
			}
			
			if (x != that.x || y != that.y) {
				if (that.options.useTransition) that._unbind('webkitTransitionEnd');
				else cancelFrame(that.aniTime);
				that.steps = [];
				that._pos(x, y);
			}
		}

		that.startX = that.x;
		that.startY = that.y;
		that.pointX = point.pageX;
		that.pointY = point.pageY;

		that.startTime = e.timeStamp || Date.now();

		if (that.options.onScrollStart) that.options.onScrollStart.call(that, e);

		that._bind(MOVE_EV);
		that._bind(END_EV);
		that._bind(CANCEL_EV);
	},
	
	_move: function (e) {
		var that = this,
			point = hasTouch ? e.touches[0] : e,
			deltaX = point.pageX - that.pointX,
			deltaY = point.pageY - that.pointY,
			newX = that.x + deltaX,
			newY = that.y + deltaY,
			timestamp = e.timeStamp || Date.now();

		if (that.options.onBeforeScrollMove) that.options.onBeforeScrollMove.call(that, e);

		that.pointX = point.pageX;
		that.pointY = point.pageY;

		// Slow down if outside of the boundaries
		if (newX > 0 || newX < that.maxScrollX) {
			newX = that.options.bounce ? that.x + (deltaX / 2) : newX >= 0 || that.maxScrollX >= 0 ? 0 : that.maxScrollX;
		}
		if (newY > 0 || newY < that.maxScrollY) { 
			newY = that.options.bounce ? that.y + (deltaY / 2) : newY >= 0 || that.maxScrollY >= 0 ? 0 : that.maxScrollY;
		}

		that.distX += deltaX;
		that.distY += deltaY;
		that.absDistX = m.abs(that.distX);
		that.absDistY = m.abs(that.distY);

		if (that.absDistX < 6 && that.absDistY < 6) {
			return;
		}

		// Lock direction
		if (that.options.lockDirection) {
			if (that.absDistX > that.absDistY + 5) {
				newY = that.y;
				deltaY = 0;
			} else if (that.absDistY > that.absDistX + 5) {
				newX = that.x;
				deltaX = 0;
			}
		}

		that.moved = true;
		that._pos(newX, newY);
		that.dirX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;
		that.dirY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;

		if (timestamp - that.startTime > 300) {
			that.startTime = timestamp;
			that.startX = that.x;
			that.startY = that.y;
		}
		
		if (that.options.onScrollMove) that.options.onScrollMove.call(that, e);
	},
	
	_end: function (e) {
		if (hasTouch && e.touches.length != 0) return;

		var that = this,
			point = hasTouch ? e.changedTouches[0] : e,
			target, ev,
			momentumX = { dist:0, time:0 },
			momentumY = { dist:0, time:0 },
			duration = (e.timeStamp || Date.now()) - that.startTime,
			newPosX = that.x,
			newPosY = that.y,
			newDuration;

		that._unbind(MOVE_EV);
		that._unbind(END_EV);
		that._unbind(CANCEL_EV);

		if (that.options.onBeforeScrollEnd) that.options.onBeforeScrollEnd.call(that, e);

		if (!that.moved) {
			if (hasTouch) {
				// Find the last touched element
				target = point.target;
				while (target.nodeType != 1) target = target.parentNode;

				if (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA') {
					ev = document.createEvent('MouseEvents');
					ev.initMouseEvent('click', true, true, e.view, 1,
						point.screenX, point.screenY, point.clientX, point.clientY,
						e.ctrlKey, e.altKey, e.shiftKey, e.metaKey,
						0, null);
					ev._fake = true;
					target.dispatchEvent(ev);
				}
			}

			that._resetPos(200);

			if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
			return;
		}

		if (duration < 300 && that.options.momentum) {
			momentumX = newPosX ? that._momentum(newPosX - that.startX, duration, -that.x, that.scrollerW - that.wrapperW + that.x, that.options.bounce ? that.wrapperW : 0) : momentumX;
			momentumY = newPosY ? that._momentum(newPosY - that.startY, duration, -that.y, (that.maxScrollY < 0 ? that.scrollerH - that.wrapperH + that.y : 0), that.options.bounce ? that.wrapperH : 0) : momentumY;

			newPosX = that.x + momentumX.dist;
			newPosY = that.y + momentumY.dist;

 			if ((that.x > 0 && newPosX > 0) || (that.x < that.maxScrollX && newPosX < that.maxScrollX)) momentumX = { dist:0, time:0 };
 			if ((that.y > 0 && newPosY > 0) || (that.y < that.maxScrollY && newPosY < that.maxScrollY)) momentumY = { dist:0, time:0 };
		}

		if (momentumX.dist || momentumY.dist) {
			newDuration = m.max(m.max(momentumX.time, momentumY.time), 10);

			that.scrollTo(mround(newPosX), mround(newPosY), newDuration);

			if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
			return;
		}

		that._resetPos(200);
		if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
	},
	
	_resetPos: function (time) {
		var that = this,
			resetX = that.x >= 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x,
			resetY = that.y >= 0 || that.maxScrollY > 0 ? 0 : that.y < that.maxScrollY ? that.maxScrollY : that.y;

		if (resetX == that.x && resetY == that.y) {
			if (that.moved) {
				if (that.options.onScrollEnd) that.options.onScrollEnd.call(that);		// Execute custom code on scroll end
				that.moved = false;
			}

			return;
		}

		that.scrollTo(resetX, resetY, time || 0);
	},
	
	_mouseout: function (e) {
		var t = e.relatedTarget;

		if (!t) {
			this._end(e);
			return;
		}

		while (t = t.parentNode) if (t == this.wrapper) return;
		
		this._end(e);
	},

	_transitionEnd: function (e) {
		var that = this;

		if (e.target != that.scroller) return;

		that._unbind('webkitTransitionEnd');
		
		that._startAni();
	},

	/**
	 *
	 * Utilities
	 *
	 */
	_startAni: function () {
		var that = this,
			startX = that.x, startY = that.y,
			startTime = Date.now(),
			step, easeOut,
			animate;

		if (that.animating) return;

		if (!that.steps.length) {
			that._resetPos(400);
			return;
		}

		step = that.steps.shift();

		if (step.x == startX && step.y == startY) step.time = 0;

		that.animating = true;
		that.moved = true;

		if (that.options.useTransition) {
			that._transitionTime(step.time);
			that._pos(step.x, step.y);
			that.animating = false;
			if (step.time) that._bind('webkitTransitionEnd');
			else that._resetPos(0);
			return;
		}
		
		animate = function () {
			var now = Date.now(),
				newX, newY;

			if (now >= startTime + step.time) {
				that._pos(step.x, step.y);
				that.animating = false;
				if (that.options.onAnimationEnd) that.options.onAnimationEnd.call(that);			// Execute custom code on animation end
				that._startAni();
				return;
			}

			now = (now - startTime) / step.time - 1;
			easeOut = m.sqrt(1 - now * now);
			newX = (step.x - startX) * easeOut + startX;
			newY = (step.y - startY) * easeOut + startY;
			that._pos(newX, newY);
			if (that.animating) that.aniTime = nextFrame(animate);
		};
		
		animate();
	},

	_transitionTime: function (time) {
		this.scroller.style[vendor + 'TransitionDuration'] = time + 'ms';
	},
	
	_momentum: function (dist, time, maxDistUpper, maxDistLower, size) {
		var deceleration = 0.0006,
			speed = m.abs(dist) / time,
			newDist = (speed * speed) / (2 * deceleration),
			newTime = 0, outsideDist = 0;

		// Proportinally reduce speed if we are outside of the boundaries 
		if (dist > 0 && newDist > maxDistUpper) {
			outsideDist = size / (6 / (newDist / speed * deceleration));
			maxDistUpper = maxDistUpper + outsideDist;
			speed = speed * maxDistUpper / newDist;
			newDist = maxDistUpper;
		} else if (dist < 0 && newDist > maxDistLower) {
			outsideDist = size / (6 / (newDist / speed * deceleration));
			maxDistLower = maxDistLower + outsideDist;
			speed = speed * maxDistLower / newDist;
			newDist = maxDistLower;
		}

		newDist = newDist * (dist < 0 ? -1 : 1);
		newTime = speed / deceleration;

		return { dist: newDist, time: mround(newTime) };
	},

	_offset: function (el) {
		var left = -el.offsetLeft,
			top = -el.offsetTop;
			
		while (el = el.offsetParent) {
			left -= el.offsetLeft;
			top -= el.offsetTop;
		} 

		return { left: left, top: top };
	},

	_bind: function (type, el, bubble) {
		(el || this.scroller).addEventListener(type, this, !!bubble);
	},

	_unbind: function (type, el, bubble) {
		(el || this.scroller).removeEventListener(type, this, !!bubble);
	},


	/**
	 *
	 * Public methods
	 *
	 */
	destroy: function () {
		var that = this;

		that.scroller.style[vendor + 'Transform'] = '';

		// Remove the event listeners
		that._unbind(RESIZE_EV, window);
		that._unbind(START_EV);
		that._unbind(MOVE_EV);
		that._unbind(END_EV);
		that._unbind(CANCEL_EV);
		that._unbind('mouseout', that.wrapper);
		if (that.options.useTransition) that._unbind('webkitTransitionEnd');
		
		if (that.options.onDestroy) that.options.onDestroy.call(that);
	},

	refresh: function () {
		var that = this,
			offset;

		that.wrapperW = that.wrapper.clientWidth;
		that.wrapperH = that.wrapper.clientHeight;

		that.scrollerW = that.scroller.offsetWidth;
		that.scrollerH = that.scroller.offsetHeight;
		that.maxScrollX = that.wrapperW - that.scrollerW;
		that.maxScrollY = that.wrapperH - that.scrollerH;
		that.dirX = 0;
		that.dirY = 0;

		that.hScroll = that.options.hScroll && that.maxScrollX < 0;
		that.vScroll = that.options.vScroll && (!that.options.bounceLock && !that.hScroll || that.scrollerH > that.wrapperH);

		offset = that._offset(that.wrapper);
		that.wrapperOffsetLeft = -offset.left;
		that.wrapperOffsetTop = -offset.top;


		that.scroller.style[vendor + 'TransitionDuration'] = '0';

		that._resetPos(200);
	},

	scrollTo: function (x, y, time, relative) {
		var that = this,
			step = x,
			i, l;

		that.stop();

		if (!step.length) step = [{ x: x, y: y, time: time, relative: relative }];
		
		for (i=0, l=step.length; i<l; i++) {
			if (step[i].relative) { step[i].x = that.x - step[i].x; step[i].y = that.y - step[i].y; }
			that.steps.push({ x: step[i].x, y: step[i].y, time: step[i].time || 0 });
		}

		that._startAni();
	},

	scrollToElement: function (el, time) {
		var that = this, pos;
		el = el.nodeType ? el : that.scroller.querySelector(el);
		if (!el) return;

		pos = that._offset(el);
		pos.left += that.wrapperOffsetLeft;
		pos.top += that.wrapperOffsetTop;

		pos.left = pos.left > 0 ? 0 : pos.left < that.maxScrollX ? that.maxScrollX : pos.left;
		pos.top = pos.top > 0 ? 0 : pos.top < that.maxScrollY ? that.maxScrollY : pos.top;
		time = time === undefined ? m.max(m.abs(pos.left)*2, m.abs(pos.top)*2) : time;

		that.scrollTo(pos.left, pos.top, time);
	},

	disable: function () {
		this.stop();
		this._resetPos(0);
		this.enabled = false;

		// If disabled after touchstart we make sure that there are no left over events
		this._unbind(MOVE_EV);
		this._unbind(END_EV);
		this._unbind(CANCEL_EV);
	},
	
	enable: function () {
		this.enabled = true;
	},
	
	stop: function () {
		cancelFrame(this.aniTime);
		this.steps = [];
		this.moved = false;
		this.animating = false;
	}
};

if (typeof exports !== 'undefined') exports.iScroll = iScroll;
else window.iScroll = iScroll;

})();
;
window.enquire=function(t){"use strict";function i(t,i){var n,s=0,e=t.length;for(s;e>s&&(n=i(t[s],s),n!==!1);s++);}function n(t){return"[object Array]"===Object.prototype.toString.apply(t)}function s(t){return"function"==typeof t}function e(t){this.options=t,!t.deferSetup&&this.setup()}function o(i,n){this.query=i,this.isUnconditional=n,this.handlers=[],this.mql=t(i);var s=this;this.listener=function(t){s.mql=t,s.assess()},this.mql.addListener(this.listener)}function r(){if(!t)throw Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!t("only all").matches}return e.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},o.prototype={addHandler:function(t){var i=new e(t);this.handlers.push(i),this.mql.matches&&i.on()},removeHandler:function(t){var n=this.handlers;i(n,function(i,s){return i.equals(t)?(i.destroy(),!n.splice(s,1)):void 0})},clear:function(){i(this.handlers,function(t){t.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.mql.matches||this.isUnconditional?"on":"off";i(this.handlers,function(i){i[t]()})}},r.prototype={register:function(t,e,r){var h=this.queries,a=r&&this.browserIsIncapable;return h[t]||(h[t]=new o(t,a)),s(e)&&(e={match:e}),n(e)||(e=[e]),i(e,function(i){h[t].addHandler(i)}),this},unregister:function(t,i){var n=this.queries[t];return n&&(i?n.removeHandler(i):(n.clear(),delete this.queries[t])),this}},new r}(window.matchMedia);;
/*! fancyBox v2.1.4 fancyapps.com | fancyapps.com/fancybox/#license */
(function(C,z,f,r){var q=f(C),n=f(z),b=f.fancybox=function(){b.open.apply(this,arguments)},H=navigator.userAgent.match(/msie/),w=null,s=z.createTouch!==r,t=function(a){return a&&a.hasOwnProperty&&a instanceof f},p=function(a){return a&&"string"===f.type(a)},F=function(a){return p(a)&&0<a.indexOf("%")},l=function(a,d){var e=parseInt(a,10)||0;d&&F(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},x=function(a,b){return l(a,b)+"px"};f.extend(b,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,
height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",
34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(H?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,
openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,
isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=t(a)?f(a).get():[a]),f.each(a,function(e,c){var k={},g,h,j,m,l;"object"===f.type(c)&&(c.nodeType&&(c=f(c)),t(c)?(k={href:c.data("fancybox-href")||c.attr("href"),title:c.data("fancybox-title")||c.attr("title"),isDom:!0,element:c},f.metadata&&f.extend(!0,k,
c.metadata())):k=c);g=d.href||k.href||(p(c)?c:null);h=d.title!==r?d.title:k.title||"";m=(j=d.content||k.content)?"html":d.type||k.type;!m&&k.isDom&&(m=c.data("fancybox-type"),m||(m=(m=c.prop("class").match(/fancybox\.(\w+)/))?m[1]:null));p(g)&&(m||(b.isImage(g)?m="image":b.isSWF(g)?m="swf":"#"===g.charAt(0)?m="inline":p(c)&&(m="html",j=c)),"ajax"===m&&(l=g.split(/\s+/,2),g=l.shift(),l=l.shift()));j||("inline"===m?g?j=f(p(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):k.isDom&&(j=c):"html"===m?j=g:!m&&(!g&&
k.isDom)&&(m="inline",j=c));f.extend(k,{href:g,type:m,content:j,title:h,selector:l});a[e]=k}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==r&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||
b._afterZoomOut(a))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(!b.isOpen||!0===a?(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d();b.current&&b.player.isActive&&(b.player.timer=
setTimeout(b.next,b.current.playSpeed))},c=function(){d();f("body").unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(!0===a||!b.player.isActive&&!1!==a){if(b.current&&(b.current.loop||b.current.index<b.group.length-1))b.player.isActive=!0,f("body").bind({"afterShow.player onUpdate.player":e,"onCancel.player beforeClose.player":c,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")}else c()},next:function(a){var d=b.current;d&&(p(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},
prev:function(a){var d=b.current;d&&(p(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=l(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%c.group.length),a%=c.group.length),c.group[a]!==r&&(b.cancel(),b._start(a)))},reposition:function(a,d){var e=b.current,c=e?e.wrap:null,k;c&&(k=b._getPosition(d),a&&"scroll"===a.type?(delete k.position,c.stop(!0,!0).animate(k,200)):(c.css(k),e.pos=f.extend({},
e.dim,k)))},update:function(a){var d=a&&a.type,e=!d||"orientationchange"===d;e&&(clearTimeout(w),w=null);b.isOpen&&!w&&(w=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),w=null)},e&&!s?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,s&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),
b.trigger("onUpdate")),b.update())},hideLoading:function(){n.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");n.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),b.cancel()});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:0.5*d.h+d.y,left:0.5*d.w+d.x}))},getViewport:function(){var a=b.current&&b.current.locked||
!1,d={x:q.scrollLeft(),y:q.scrollTop()};a?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=s&&C.innerWidth?C.innerWidth:q.width(),d.h=s&&C.innerHeight?C.innerHeight:q.height());return d},unbindEvents:function(){b.wrap&&t(b.wrap)&&b.wrap.unbind(".fb");n.unbind(".fb");q.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(q.bind("orientationchange.fb"+(s?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&n.bind("keydown.fb",function(e){var c=e.which||e.keyCode,k=
e.target||e.srcElement;if(27===c&&b.coming)return!1;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey&&(!k||!k.type&&!f(k).is("[contenteditable]")))&&f.each(d,function(d,k){if(1<a.group.length&&k[c]!==r)return b[d](k[c]),e.preventDefault(),!1;if(-1<f.inArray(c,k))return b[d](),e.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,k,g){for(var h=f(d.target||null),j=!1;h.length&&!j&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)j=h[0]&&!(h[0].style.overflow&&
"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();if(0!==c&&!j&&1<b.group.length&&!a.canShrink){if(0<g||0<k)b.prev(0<g?"down":"left");else if(0>g||0>k)b.next(0>g?"up":"right");d.preventDefault()}}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;c.helpers&&f.each(c.helpers,function(d,
e){e&&(b.helpers[d]&&f.isFunction(b.helpers[d][a]))&&(e=f.extend(!0,{},b.helpers[d].defaults,e),b.helpers[d][a](e,c))});f.event.trigger(a+".fb")}},isImage:function(a){return p(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(a){return p(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},e,c;a=l(a);e=b.group[a]||null;if(!e)return!1;d=f.extend(!0,{},b.opts,e);e=d.margin;c=d.padding;"number"===f.type(e)&&(d.margin=[e,e,e,e]);"number"===f.type(c)&&
(d.padding=[c,c,c,c]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad"))b.coming=null;else{c=d.type;e=d.href;if(!c)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=
!0;if("image"===c||"swf"===c)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";"image"===c&&(d.aspectRatio=!0);"iframe"===c&&s&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,x(d.padding[a]))});b.trigger("onReady");
if("inline"===c||"html"===c){if(!d.content||!d.content.length)return b._error("content")}else if(!e)return b._error("href");"image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=
this.width;b.coming.height=this.height;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,
(new Date).getTime())).attr("scrolling",s?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);s||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=
b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,e-1):0,f,g;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,d=b.current,e,c,k,g,h;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();
e=a.content;c=a.type;k=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case "inline":case "ajax":case "html":a.selector?e=f("<div>").html(e).find(a.selector):t(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",
!1)}));break;case "image":e=a.tpl.image.replace("{href}",g);break;case "swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}(!t(e)||!e.parent().is(a.inner))&&a.inner.append(e);b.trigger("beforeShow");
a.inner.css("overflow","yes"===k?"scroll":"no"===k?"hidden":k);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(b.isOpened){if(d.prevMethod)b.transitions[d.prevMethod]()}else f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,k=b.skin,g=b.inner,h=b.current,c=h.width,j=h.height,m=h.minWidth,u=h.minHeight,n=h.maxWidth,
v=h.maxHeight,s=h.scrolling,q=h.scrollOutside?h.scrollbarWidth:0,y=h.margin,p=l(y[1]+y[3]),r=l(y[0]+y[2]),z,A,t,D,B,G,C,E,w;e.add(k).add(g).width("auto").height("auto").removeClass("fancybox-tmp");y=l(k.outerWidth(!0)-k.width());z=l(k.outerHeight(!0)-k.height());A=p+y;t=r+z;D=F(c)?(a.w-A)*l(c)/100:c;B=F(j)?(a.h-t)*l(j)/100:j;if("iframe"===h.type){if(w=h.content,h.autoHeight&&1===w.data("ready"))try{w[0].contentWindow.document.location&&(g.width(D).height(9999),G=w.contents().find("body"),q&&G.css("overflow-x",
"hidden"),B=G.height())}catch(H){}}else if(h.autoWidth||h.autoHeight)g.addClass("fancybox-tmp"),h.autoWidth||g.width(D),h.autoHeight||g.height(B),h.autoWidth&&(D=g.width()),h.autoHeight&&(B=g.height()),g.removeClass("fancybox-tmp");c=l(D);j=l(B);E=D/B;m=l(F(m)?l(m,"w")-A:m);n=l(F(n)?l(n,"w")-A:n);u=l(F(u)?l(u,"h")-t:u);v=l(F(v)?l(v,"h")-t:v);G=n;C=v;h.fitToView&&(n=Math.min(a.w-A,n),v=Math.min(a.h-t,v));A=a.w-p;r=a.h-r;h.aspectRatio?(c>n&&(c=n,j=l(c/E)),j>v&&(j=v,c=l(j*E)),c<m&&(c=m,j=l(c/E)),j<u&&
(j=u,c=l(j*E))):(c=Math.max(m,Math.min(c,n)),h.autoHeight&&"iframe"!==h.type&&(g.width(c),j=g.height()),j=Math.max(u,Math.min(j,v)));if(h.fitToView)if(g.width(c).height(j),e.width(c+y),a=e.width(),p=e.height(),h.aspectRatio)for(;(a>A||p>r)&&(c>m&&j>u)&&!(19<d++);)j=Math.max(u,Math.min(v,j-10)),c=l(j*E),c<m&&(c=m,j=l(c/E)),c>n&&(c=n,j=l(c/E)),g.width(c).height(j),e.width(c+y),a=e.width(),p=e.height();else c=Math.max(m,Math.min(c,c-(a-A))),j=Math.max(u,Math.min(j,j-(p-r)));q&&("auto"===s&&j<B&&c+y+
q<A)&&(c+=q);g.width(c).height(j);e.width(c+y);a=e.width();p=e.height();e=(a>A||p>r)&&c>m&&j>u;c=h.aspectRatio?c<G&&j<C&&c<D&&j<B:(c<G||j<C)&&(c<D||j<B);f.extend(h,{dim:{width:x(a),height:x(p)},origWidth:D,origHeight:B,canShrink:e,canExpand:c,wPadding:y,hPadding:z,wrapSpace:p-k.outerHeight(!0),skinSpace:k.height()-j});!w&&(h.autoHeight&&j>u&&j<v&&!c)&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",
top:c[0],left:c[3]};d.autoCenter&&d.fixed&&!a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x);c.top=x(Math.max(c.top,c.top+(e.h-g)*d.topRatio));c.left=x(Math.max(c.left,c.left+(e.w-f)*d.leftRatio));return c},_afterZoomIn:function(){var a=b.current;a&&(b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){!f(d.target).is("a")&&!f(d.target).parent().is("a")&&
(d.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?b.play(!1):b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()))},_afterZoomOut:function(a){a=
a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,j=a.wPadding,m=b.getViewport();!e&&(a.isDom&&d.is(":visible"))&&(e=d.find("img:first"),e.length||(e=d));t(e)?(c=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):
(c.top=m.y+(m.h-g)*a.topRatio,c.left=m.x+(m.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)c.top-=m.y,c.left-=m.x;return c={top:x(c.top-h*a.topRatio),left:x(c.left-j*a.leftRatio),width:x(f+j),height:x(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;if("width"===f||"height"===f)e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](l("width"===f?c:c-g*e)),b.inner[f](l("width"===
f?c:c-g*e-h*e))},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,k=f.extend({opacity:1},d);delete k.position;c?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=0.1)):"fade"===e&&(d.opacity=0.1);b.wrap.css(d).animate(k,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:0.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&(c.opacity=0.1));b.wrap.animate(c,
{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction,g;e.opacity=0.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=x(l(e[g])-200),c[g]="+=200px"):(e[g]=x(l(e[g])+200),c[g]="-=200px"));"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=
b.previous,d=a.prevEffect,e={opacity:0.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===c?"-":"+")+"=200px");a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,create:function(a){a=f.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=f('<div class="fancybox-overlay"></div>').appendTo("body");
this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(q.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){f(a.target).hasClass("fancybox-overlay")&&(b.isActive?b.close():d.close())});this.overlay.css(a.css).show()},
close:function(){f(".fancybox-overlay").remove();q.unbind("resize.overlay");this.overlay=null;!1!==this.margin&&(f("body").css("margin-right",this.margin),this.margin=!1);this.el&&this.el.removeClass("fancybox-lock")},update:function(){var a="100%",b;this.overlay.width(a).height("100%");H?(b=Math.max(z.documentElement.offsetWidth,z.body.offsetWidth),n.width()>b&&(a=n.width())):n.width()>q.width()&&(a=n.width());this.overlay.width(a).height(n.height())},onReady:function(a,b){f(".fancybox-overlay").stop(!0,
!0);this.overlay||(this.margin=n.height()>q.height()||"scroll"===f("body").css("overflow-y")?f("body").css("margin-right"):!1,this.el=z.all&&!z.querySelector?f("html"):f("body"),this.create(a));a.locked&&this.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&f("body").css("margin-right",l(this.margin)+b.scrollbarWidth));this.open(a)},onUpdate:function(){this.fixed||
this.update()},afterClose:function(a){this.overlay&&!b.isActive&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(p(e)&&""!==f.trim(e)){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case "inside":c=b.skin;break;case "outside":c=b.wrap;break;case "over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),
H&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(l(d.css("margin-bottom")))}d["top"===a.position?"prependTo":"appendTo"](c)}}};f.fn.fancybox=function(a){var d,e=f(this),c=this.selector||"",k=function(g){var h=f(this).blur(),j=d,k,l;!g.ctrlKey&&(!g.altKey&&!g.shiftKey&&!g.metaKey)&&!h.is(".fancybox-wrap")&&(k=a.groupAttr||"data-fancybox-group",l=h.attr(k),l||(k="rel",l=h.get(0)[k]),l&&(""!==l&&"nofollow"!==l)&&(h=c.length?f(c):e,h=h.filter("["+k+'="'+l+
'"]'),j=h.index(this)),a.index=j,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;!c||!1===a.live?e.unbind("click.fb-start").bind("click.fb-start",k):n.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')","click.fb-start",k);this.filter("[data-fancybox-start=1]").trigger("click");return this};n.ready(function(){f.scrollbarWidth===r&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),
b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});if(f.support.fixedPosition===r){var a=f.support,d=f('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===d[0].offsetTop||15===d[0].offsetTop;d.remove();a.fixedPosition=e}f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")})})})(window,document,$jq18);;
// PhotoSwipe - http://www.photoswipe.com/
// Copyright (c) 2012 by Code Computerlove (http://www.codecomputerlove.com)
// Licensed under the MIT license
// version: 3.0.5
(function(e){if(!Function.prototype.bind)Function.prototype.bind=function(c){var a=[].slice,b=a.call(arguments,1),d=this,f=function(){},g=function(){return d.apply(this instanceof f?this:c||{},b.concat(a.call(arguments)))};f.prototype=d.prototype;g.prototype=new f;return g};if(typeof e.Code==="undefined")e.Code={};e.Code.Util={registerNamespace:function(){var c=arguments,a=null,b,d,f,g,h;b=0;for(g=c.length;b<g;b++){f=c[b];f=f.split(".");a=f[0];typeof e[a]==="undefined"&&(e[a]={});a=e[a];d=1;for(h=
f.length;d<h;++d)a[f[d]]=a[f[d]]||{},a=a[f[d]]}},coalesce:function(){var c,a;c=0;for(a=arguments.length;c<a;c++)if(!this.isNothing(arguments[c]))return arguments[c];return null},extend:function(c,a,b){var d;this.isNothing(b)&&(b=!0);if(c&&a&&this.isObject(a))for(d in a)this.objectHasProperty(a,d)&&(b?c[d]=a[d]:typeof c[d]==="undefined"&&(c[d]=a[d]))},clone:function(c){var a={};this.extend(a,c);return a},isObject:function(c){return c instanceof Object},isFunction:function(c){return{}.toString.call(c)===
"[object Function]"},isArray:function(c){return c instanceof Array},isLikeArray:function(c){return typeof c.length==="number"},isNumber:function(c){return typeof c==="number"},isString:function(c){return typeof c==="string"},isNothing:function(c){if(typeof c==="undefined"||c===null)return!0;return!1},swapArrayElements:function(c,a,b){var d=c[a];c[a]=c[b];c[b]=d},trim:function(c){return c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},toCamelCase:function(c){return c.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-",
"")})},toDashedCase:function(c){return c.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},arrayIndexOf:function(c,a,b){var d,f,g,e;g=-1;d=0;for(f=a.length;d<f;d++)if(e=a[d],this.isNothing(b)){if(e===c){g=d;break}}else if(this.objectHasProperty(e,b)&&e[b]===c){g=d;break}return g},objectHasProperty:function(c,a){return c.hasOwnProperty?c.hasOwnProperty(a):"undefined"!==typeof c[a]}}})(window);
(function(e,c){c.Browser={ua:null,version:null,safari:null,webkit:null,opera:null,msie:null,chrome:null,mozilla:null,android:null,blackberry:null,iPad:null,iPhone:null,iPod:null,iOS:null,is3dSupported:null,isCSSTransformSupported:null,isTouchSupported:null,isGestureSupported:null,_detect:function(){this.ua=e.navigator.userAgent;this.version=this.ua.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[];this.safari=/Safari/gi.test(e.navigator.appVersion);this.webkit=/webkit/i.test(this.ua);this.opera=/opera/i.test(this.ua);
this.msie=/msie/i.test(this.ua)&&!this.opera;this.chrome=/Chrome/i.test(this.ua);this.firefox=/Firefox/i.test(this.ua);this.fennec=/Fennec/i.test(this.ua);this.mozilla=/mozilla/i.test(this.ua)&&!/(compatible|webkit)/.test(this.ua);this.android=/android/i.test(this.ua);this.blackberry=/blackberry/i.test(this.ua);this.iOS=/iphone|ipod|ipad/gi.test(e.navigator.platform);this.iPad=/ipad/gi.test(e.navigator.platform);this.iPhone=/iphone/gi.test(e.navigator.platform);this.iPod=/ipod/gi.test(e.navigator.platform);
var a=document.createElement("div");this.is3dSupported=!c.isNothing(a.style.WebkitPerspective);this.isCSSTransformSupported=!c.isNothing(a.style.WebkitTransform)||!c.isNothing(a.style.MozTransform)||!c.isNothing(a.style.transformProperty);this.isTouchSupported=this.isEventSupported("touchstart");this.isGestureSupported=this.isEventSupported("gesturestart")},_eventTagNames:{select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},isEventSupported:function(a){var b=
document.createElement(this._eventTagNames[a]||"div"),d,a="on"+a;d=c.objectHasProperty(b,a);d||(b.setAttribute(a,"return;"),d=typeof b[a]==="function");return d},isLandscape:function(){return c.DOM.windowWidth()>c.DOM.windowHeight()}};c.Browser._detect()})(window,window.Code.Util);
(function(e,c){c.extend(c,{Events:{add:function(a,b,d){this._checkHandlersProperty(a);b==="mousewheel"&&(b=this._normaliseMouseWheelType());typeof a.__eventHandlers[b]==="undefined"&&(a.__eventHandlers[b]=[]);a.__eventHandlers[b].push(d);this._isBrowserObject(a)&&a.addEventListener(b,d,!1)},remove:function(a,b,d){this._checkHandlersProperty(a);b==="mousewheel"&&(b=this._normaliseMouseWheelType());if(a.__eventHandlers[b]instanceof Array){var f,g,e=a.__eventHandlers[b];if(c.isNothing(d)){if(this._isBrowserObject(a)){f=
0;for(g=e.length;f<g;f++)a.removeEventListener(b,e[f],!1)}a.__eventHandlers[b]=[]}else{f=0;for(g=e.length;f<g;f++)if(e[f]===d){e.splice(f,1);break}this._isBrowserObject(a)&&a.removeEventListener(b,d,!1)}}},fire:function(a,b){var d,f,g,h,j=Array.prototype.slice.call(arguments).splice(2);b==="mousewheel"&&(b=this._normaliseMouseWheelType());if(this._isBrowserObject(a)){if(typeof b!=="string")throw"type must be a string for DOM elements";g=this._NATIVE_EVENTS[b];d=document.createEvent(g?"HTMLEvents":
"UIEvents");d[g?"initEvent":"initUIEvent"](b,!0,!0,e,1);if(j.length<1){a.dispatchEvent(d);return}}this._checkHandlersProperty(a);d=typeof b==="string"?{type:b}:b;if(!d.target)d.target=a;if(!d.type)throw Error("Event object missing 'type' property.");if(a.__eventHandlers[d.type]instanceof Array){g=a.__eventHandlers[d.type];j.unshift(d);d=0;for(f=g.length;d<f;d++)h=g[d],c.isNothing(h)||h.apply(a,j)}},getMousePosition:function(a){var b={x:0,y:0};if(a.pageX)b.x=a.pageX;else if(a.clientX)b.x=a.clientX+
(document.documentElement.scrollLeft||document.body.scrollLeft);if(a.pageY)b.y=a.pageY;else if(a.clientY)b.y=a.clientY+(document.documentElement.scrollTop||document.body.scrollTop);return b},getTouchEvent:function(a){return a},getWheelDelta:function(a){var b=0;c.isNothing(a.wheelDelta)?c.isNothing(a.detail)||(b=-a.detail/3):b=a.wheelDelta/120;return b},domReady:function(a){document.addEventListener("DOMContentLoaded",a,!1)},_checkHandlersProperty:function(a){c.isNothing(a.__eventHandlers)&&c.extend(a,
{__eventHandlers:{}})},_isBrowserObject:function(a){if(a===e||a===e.document)return!0;return this._isElement(a)||this._isNode(a)},_isElement:function(a){return typeof e.HTMLElement==="object"?a instanceof e.HTMLElement:typeof a==="object"&&a.nodeType===1&&typeof a.nodeName==="string"},_isNode:function(a){return typeof e.Node==="object"?a instanceof e.Node:typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.nodeName==="string"},_normaliseMouseWheelType:function(){if(c.Browser.isEventSupported("mousewheel"))return"mousewheel";
return"DOMMouseScroll"},_NATIVE_EVENTS:{click:1,dblclick:1,mouseup:1,mousedown:1,contextmenu:1,mousewheel:1,DOMMouseScroll:1,mouseover:1,mouseout:1,mousemove:1,selectstart:1,selectend:1,keydown:1,keypress:1,keyup:1,orientationchange:1,touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,focus:1,blur:1,change:1,reset:1,select:1,submit:1,load:1,unload:1,beforeunload:1,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1}}})})(window,
window.Code.Util);
(function(e,c){c.extend(c,{DOM:{setData:function(a,b,d){if(c.isLikeArray(a)){var f,g;f=0;for(g=a.length;f<g;f++)c.DOM._setData(a[f],b,d)}else c.DOM._setData(a,b,d)},_setData:function(a,b,d){c.DOM.setAttribute(a,"data-"+b,d)},getData:function(a,b,d){return c.DOM.getAttribute(a,"data-"+b,d)},removeData:function(a,b){if(c.isLikeArray(a)){var d,f;d=0;for(f=a.length;d<f;d++)c.DOM._removeData(a[d],b)}else c.DOM._removeData(a,b)},_removeData:function(a,b){c.DOM.removeAttribute(a,"data-"+b)},isChildOf:function(a,
b){if(b===a)return!1;for(;a&&a!==b;)a=a.parentNode;return a===b},find:function(a,b){if(c.isNothing(b))b=e.document;var d=b.querySelectorAll(a),f=[],g,h;g=0;for(h=d.length;g<h;g++)f.push(d[g]);return f},createElement:function(a,b,d){var f,a=document.createElement(a);for(f in b)c.objectHasProperty(b,f)&&a.setAttribute(f,b[f]);a.innerHTML=d||"";return a},appendChild:function(a,b){b.appendChild(a)},insertBefore:function(a,b,d){d.insertBefore(a,b)},appendText:function(a,b){c.DOM.appendChild(document.createTextNode(a),
b)},appendToBody:function(a){this.appendChild(a,document.body)},removeChild:function(a,b){b.removeChild(a)},removeChildren:function(a){if(a.hasChildNodes())for(;a.childNodes.length>=1;)a.removeChild(a.childNodes[a.childNodes.length-1])},hasAttribute:function(a,b){return!c.isNothing(a.getAttribute(b))},getAttribute:function(a,b,d){a=a.getAttribute(b);c.isNothing(a)&&!c.isNothing(d)&&(a=d);return a},setAttribute:function(a,b,d){if(c.isLikeArray(a)){var f,g;f=0;for(g=a.length;f<g;f++)c.DOM._setAttribute(a[f],
b,d)}else c.DOM._setAttribute(a,b,d)},_setAttribute:function(a,b,d){a.setAttribute(b,d)},removeAttribute:function(a,b){if(c.isLikeArray(a)){var d,f;d=0;for(f=a.length;d<f;d++)c.DOM._removeAttribute(a[d],b)}else c.DOM._removeAttribute(a,b)},_removeAttribute:function(a,b){this.hasAttribute(a,b)&&a.removeAttribute(b)},addClass:function(a,b){if(c.isLikeArray(a)){var d,f;d=0;for(f=a.length;d<f;d++)c.DOM._addClass(a[d],b)}else c.DOM._addClass(a,b)},_addClass:function(a,b){var d=c.DOM.getAttribute(a,"class",
"");RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)").test(d)||(d!==""&&(d+=" "),d+=b,c.DOM.setAttribute(a,"class",d))},removeClass:function(a,b){if(c.isLikeArray(a)){var d,f;d=0;for(f=a.length;d<f;d++)c.DOM._removeClass(a[d],b)}else c.DOM._removeClass(a,b)},_removeClass:function(a,b){var d=c.DOM.getAttribute(a,"class",""),d=c.trim(d).split(" "),f="",g,e;g=0;for(e=d.length;g<e;g++)d[g]!==b&&(f!==""&&(f+=" "),f+=d[g]);f===""?c.DOM.removeAttribute(a,"class"):c.DOM.setAttribute(a,"class",f)},hasClass:function(a,b){return RegExp("(?:^|\\s+)"+
b+"(?:\\s+|$)").test(c.DOM.getAttribute(a,"class",""))},setStyle:function(a,b,d){if(c.isLikeArray(a)){var f,g;f=0;for(g=a.length;f<g;f++)c.DOM._setStyle(a[f],b,d)}else c.DOM._setStyle(a,b,d)},_setStyle:function(a,b,d){var f;if(c.isObject(b))for(f in b)c.objectHasProperty(b,f)&&(f==="width"?c.DOM.width(a,b[f]):f==="height"?c.DOM.height(a,b[f]):a.style[f]=b[f]);else a.style[b]=d},getStyle:function(a,b){var d=e.getComputedStyle(a,"").getPropertyValue(b);d===""&&(d=a.style[b]);return d},hide:function(a){if(c.isLikeArray(a)){var b,
d;b=0;for(d=a.length;b<d;b++)c.DOM._hide(a[b])}else c.DOM._hide(a)},_hide:function(a){c.DOM.setData(a,"ccl-disp",c.DOM.getStyle(a,"display"));c.DOM.setStyle(a,"display","none")},show:function(a){if(c.isLikeArray(a)){var b,d;b=0;for(d=a.length;b<d;b++)c.DOM._show(a[b])}else c.DOM._show(a)},_show:function(a){if(c.DOM.getStyle(a,"display")==="none"){var b=c.DOM.getData(a,"ccl-disp","block");if(b==="none"||b==="")b="block";c.DOM.setStyle(a,"display",b)}},width:function(a,b){if(!c.isNothing(b))c.isNumber(b)&&
(b+="px"),a.style.width=b;return this._getDimension(a,"width")},outerWidth:function(a){var b=c.DOM.width(a);b+=parseInt(c.DOM.getStyle(a,"padding-left"),10)+parseInt(c.DOM.getStyle(a,"padding-right"),10);b+=parseInt(c.DOM.getStyle(a,"margin-left"),10)+parseInt(c.DOM.getStyle(a,"margin-right"),10);b+=parseInt(c.DOM.getStyle(a,"border-left-width"),10)+parseInt(c.DOM.getStyle(a,"border-right-width"),10);return b},height:function(a,b){if(!c.isNothing(b))c.isNumber(b)&&(b+="px"),a.style.height=b;return this._getDimension(a,
"height")},_getDimension:function(a,b){var d=e.parseInt(e.getComputedStyle(a,"").getPropertyValue(b)),f;if(isNaN(d))f={display:a.style.display,left:a.style.left},a.style.display="block",a.style.left="-1000000px",d=e.parseInt(e.getComputedStyle(a,"").getPropertyValue(b)),a.style.display=f.display,a.style.left=f.left;return d},outerHeight:function(a){var b=c.DOM.height(a);b+=parseInt(c.DOM.getStyle(a,"padding-top"),10)+parseInt(c.DOM.getStyle(a,"padding-bottom"),10);b+=parseInt(c.DOM.getStyle(a,"margin-top"),
10)+parseInt(c.DOM.getStyle(a,"margin-bottom"),10);b+=parseInt(c.DOM.getStyle(a,"border-top-width"),10)+parseInt(c.DOM.getStyle(a,"border-bottom-width"),10);return b},documentWidth:function(){return c.DOM.width(document.documentElement)},documentHeight:function(){return c.DOM.height(document.documentElement)},documentOuterWidth:function(){return c.DOM.width(document.documentElement)},documentOuterHeight:function(){return c.DOM.outerHeight(document.documentElement)},bodyWidth:function(){return c.DOM.width(document.body)},
bodyHeight:function(){return c.DOM.height(document.body)},bodyOuterWidth:function(){return c.DOM.outerWidth(document.body)},bodyOuterHeight:function(){return c.DOM.outerHeight(document.body)},windowWidth:function(){return e.innerWidth},windowHeight:function(){return e.innerHeight},windowScrollLeft:function(){return e.pageXOffset},windowScrollTop:function(){return e.pageYOffset}}})})(window,window.Code.Util);
(function(e,c){c.extend(c,{Animation:{_applyTransitionDelay:50,_transitionEndLabel:e.document.documentElement.style.webkitTransition!==void 0?"webkitTransitionEnd":"transitionend",_transitionEndHandler:null,_transitionPrefix:e.document.documentElement.style.webkitTransition!==void 0?"webkitTransition":e.document.documentElement.style.MozTransition!==void 0?"MozTransition":"transition",_transformLabel:e.document.documentElement.style.webkitTransform!==void 0?"webkitTransform":e.document.documentElement.style.MozTransition!==
void 0?"MozTransform":"transform",_getTransitionEndHandler:function(){if(c.isNothing(this._transitionEndHandler))this._transitionEndHandler=this._onTransitionEnd.bind(this);return this._transitionEndHandler},stop:function(a){if(c.Browser.isCSSTransformSupported){var b={};c.Events.remove(a,this._transitionEndLabel,this._getTransitionEndHandler());c.isNothing(a.callbackLabel)&&delete a.callbackLabel;b[this._transitionPrefix+"Property"]="";b[this._transitionPrefix+"Duration"]="";b[this._transitionPrefix+
"TimingFunction"]="";b[this._transitionPrefix+"Delay"]="";b[this._transformLabel]="";c.DOM.setStyle(a,b)}else c.isNothing(e.jQuery)||e.jQuery(a).stop(!0,!0)},fadeIn:function(a,b,d,f,g){g=c.coalesce(g,1);g<=0&&(g=1);if(b<=0&&(c.DOM.setStyle(a,"opacity",g),!c.isNothing(d))){d(a);return}c.DOM.getStyle(a,"opacity")>=1&&c.DOM.setStyle(a,"opacity",0);c.Browser.isCSSTransformSupported?this._applyTransition(a,"opacity",g,b,d,f):c.isNothing(e.jQuery)||e.jQuery(a).fadeTo(b,g,d)},fadeTo:function(a,b,d,f,c){this.fadeIn(a,
d,f,c,b)},fadeOut:function(a,b,d,f){if(b<=0&&(c.DOM.setStyle(a,"opacity",0),!c.isNothing(d))){d(a);return}c.Browser.isCSSTransformSupported?this._applyTransition(a,"opacity",0,b,d,f):e.jQuery(a).fadeTo(b,0,d)},slideBy:function(a,b,d,f,g,h){var j={},b=c.coalesce(b,0),d=c.coalesce(d,0),h=c.coalesce(h,"ease-out");j[this._transitionPrefix+"Property"]="all";j[this._transitionPrefix+"Delay"]="0";f===0?(j[this._transitionPrefix+"Duration"]="",j[this._transitionPrefix+"TimingFunction"]=""):(j[this._transitionPrefix+
"Duration"]=f+"ms",j[this._transitionPrefix+"TimingFunction"]=c.coalesce(h,"ease-out"),c.Events.add(a,this._transitionEndLabel,this._getTransitionEndHandler()));j[this._transformLabel]=c.Browser.is3dSupported?"translate3d("+b+"px, "+d+"px, 0px)":"translate("+b+"px, "+d+"px)";if(!c.isNothing(g))a.cclallcallback=g;c.DOM.setStyle(a,j);f===0&&e.setTimeout(function(){this._leaveTransforms(a)}.bind(this),this._applyTransitionDelay)},resetTranslate:function(a){var b={};b[this._transformLabel]=b[this._transformLabel]=
c.Browser.is3dSupported?"translate3d(0px, 0px, 0px)":"translate(0px, 0px)";c.DOM.setStyle(a,b)},_applyTransition:function(a,b,d,f,g,h){var j={},h=c.coalesce(h,"ease-in");j[this._transitionPrefix+"Property"]=b;j[this._transitionPrefix+"Duration"]=f+"ms";j[this._transitionPrefix+"TimingFunction"]=h;j[this._transitionPrefix+"Delay"]="0";c.Events.add(a,this._transitionEndLabel,this._getTransitionEndHandler());c.DOM.setStyle(a,j);c.isNothing(g)||(a["ccl"+b+"callback"]=g);e.setTimeout(function(){c.DOM.setStyle(a,
b,d)},this._applyTransitionDelay)},_onTransitionEnd:function(a){c.Events.remove(a.currentTarget,this._transitionEndLabel,this._getTransitionEndHandler());this._leaveTransforms(a.currentTarget)},_leaveTransforms:function(a){var b=a.style[this._transitionPrefix+"Property"],d=b!==""?"ccl"+b+"callback":"cclallcallback",f,b=c.coalesce(a.style.webkitTransform,a.style.MozTransform,a.style.transform),g,h=e.parseInt(c.DOM.getStyle(a,"left"),0),j=e.parseInt(c.DOM.getStyle(a,"top"),0),i,l,k={};b!==""&&(b=c.Browser.is3dSupported?
b.match(/translate3d\((.*?)\)/):b.match(/translate\((.*?)\)/),c.isNothing(b)||(g=b[1].split(", "),i=e.parseInt(g[0],0),l=e.parseInt(g[1],0)));k[this._transitionPrefix+"Property"]="";k[this._transitionPrefix+"Duration"]="";k[this._transitionPrefix+"TimingFunction"]="";k[this._transitionPrefix+"Delay"]="";c.DOM.setStyle(a,k);e.setTimeout(function(){if(!c.isNothing(g))k={},k[this._transformLabel]="",k.left=h+i+"px",k.top=j+l+"px",c.DOM.setStyle(a,k);c.isNothing(a[d])||(f=a[d],delete a[d],f(a))}.bind(this),
this._applyTransitionDelay)}}})})(window,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.Util.TouchElement");a.TouchElement.EventTypes={onTouch:"CodeUtilTouchElementOnTouch"};a.TouchElement.ActionTypes={touchStart:"touchStart",touchMove:"touchMove",touchEnd:"touchEnd",touchMoveEnd:"touchMoveEnd",tap:"tap",doubleTap:"doubleTap",swipeLeft:"swipeLeft",swipeRight:"swipeRight",swipeUp:"swipeUp",swipeDown:"swipeDown",gestureStart:"gestureStart",gestureChange:"gestureChange",gestureEnd:"gestureEnd"}})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.Util.TouchElement");a.TouchElement.TouchElementClass=c({el:null,captureSettings:null,touchStartPoint:null,touchEndPoint:null,touchStartTime:null,doubleTapTimeout:null,touchStartHandler:null,touchMoveHandler:null,touchEndHandler:null,mouseDownHandler:null,mouseMoveHandler:null,mouseUpHandler:null,mouseOutHandler:null,gestureStartHandler:null,gestureChangeHandler:null,gestureEndHandler:null,swipeThreshold:null,swipeTimeThreshold:null,doubleTapSpeed:null,dispose:function(){var b;
this.removeEventHandlers();for(b in this)a.objectHasProperty(this,b)&&(this[b]=null)},initialize:function(b,d){this.el=b;this.captureSettings={swipe:!1,move:!1,gesture:!1,doubleTap:!1,preventDefaultTouchEvents:!0};a.extend(this.captureSettings,d);this.swipeThreshold=50;this.doubleTapSpeed=this.swipeTimeThreshold=250;this.touchStartPoint={x:0,y:0};this.touchEndPoint={x:0,y:0}},addEventHandlers:function(){if(a.isNothing(this.touchStartHandler))this.touchStartHandler=this.onTouchStart.bind(this),this.touchMoveHandler=
this.onTouchMove.bind(this),this.touchEndHandler=this.onTouchEnd.bind(this),this.mouseDownHandler=this.onMouseDown.bind(this),this.mouseMoveHandler=this.onMouseMove.bind(this),this.mouseUpHandler=this.onMouseUp.bind(this),this.mouseOutHandler=this.onMouseOut.bind(this),this.gestureStartHandler=this.onGestureStart.bind(this),this.gestureChangeHandler=this.onGestureChange.bind(this),this.gestureEndHandler=this.onGestureEnd.bind(this);a.Events.add(this.el,"touchstart",this.touchStartHandler);this.captureSettings.move&&
a.Events.add(this.el,"touchmove",this.touchMoveHandler);a.Events.add(this.el,"touchend",this.touchEndHandler);a.Events.add(this.el,"mousedown",this.mouseDownHandler);a.Browser.isGestureSupported&&this.captureSettings.gesture&&(a.Events.add(this.el,"gesturestart",this.gestureStartHandler),a.Events.add(this.el,"gesturechange",this.gestureChangeHandler),a.Events.add(this.el,"gestureend",this.gestureEndHandler))},removeEventHandlers:function(){a.Events.remove(this.el,"touchstart",this.touchStartHandler);
this.captureSettings.move&&a.Events.remove(this.el,"touchmove",this.touchMoveHandler);a.Events.remove(this.el,"touchend",this.touchEndHandler);a.Events.remove(this.el,"mousedown",this.mouseDownHandler);a.Browser.isGestureSupported&&this.captureSettings.gesture&&(a.Events.remove(this.el,"gesturestart",this.gestureStartHandler),a.Events.remove(this.el,"gesturechange",this.gestureChangeHandler),a.Events.remove(this.el,"gestureend",this.gestureEndHandler))},getTouchPoint:function(a){return{x:a[0].pageX,
y:a[0].pageY}},fireTouchEvent:function(b){var d=0,f=0,c=0,h,d=this.touchEndPoint.x-this.touchStartPoint.x,f=this.touchEndPoint.y-this.touchStartPoint.y,c=Math.sqrt(d*d+f*f);if(this.captureSettings.swipe&&(h=new Date,h-=this.touchStartTime,h<=this.swipeTimeThreshold)){if(e.Math.abs(d)>=this.swipeThreshold){a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:d<0?a.TouchElement.ActionTypes.swipeLeft:a.TouchElement.ActionTypes.swipeRight,targetEl:b.target,
currentTargetEl:b.currentTarget});return}if(e.Math.abs(f)>=this.swipeThreshold){a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:f<0?a.TouchElement.ActionTypes.swipeUp:a.TouchElement.ActionTypes.swipeDown,targetEl:b.target,currentTargetEl:b.currentTarget});return}}c>1?a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,action:a.TouchElement.ActionTypes.touchMoveEnd,point:this.touchEndPoint,targetEl:b.target,currentTargetEl:b.currentTarget}):
this.captureSettings.doubleTap?a.isNothing(this.doubleTapTimeout)?this.doubleTapTimeout=e.setTimeout(function(){this.doubleTapTimeout=null;a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:a.TouchElement.ActionTypes.tap,targetEl:b.target,currentTargetEl:b.currentTarget})}.bind(this),this.doubleTapSpeed):(e.clearTimeout(this.doubleTapTimeout),this.doubleTapTimeout=null,a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,
action:a.TouchElement.ActionTypes.doubleTap,targetEl:b.target,currentTargetEl:b.currentTarget})):a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:a.TouchElement.ActionTypes.tap,targetEl:b.target,currentTargetEl:b.currentTarget})},onTouchStart:function(b){this.captureSettings.preventDefaultTouchEvents&&b.preventDefault();a.Events.remove(this.el,"mousedown",this.mouseDownHandler);var d=a.Events.getTouchEvent(b).touches;d.length>1&&this.captureSettings.gesture?
this.isGesture=!0:(this.touchStartTime=new Date,this.isGesture=!1,this.touchStartPoint=this.getTouchPoint(d),a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,action:a.TouchElement.ActionTypes.touchStart,point:this.touchStartPoint,targetEl:b.target,currentTargetEl:b.currentTarget}))},onTouchMove:function(b){this.captureSettings.preventDefaultTouchEvents&&b.preventDefault();if(!this.isGesture||!this.captureSettings.gesture){var d=a.Events.getTouchEvent(b).touches;a.Events.fire(this,
{type:a.TouchElement.EventTypes.onTouch,target:this,action:a.TouchElement.ActionTypes.touchMove,point:this.getTouchPoint(d),targetEl:b.target,currentTargetEl:b.currentTarget})}},onTouchEnd:function(b){if(!this.isGesture||!this.captureSettings.gesture){this.captureSettings.preventDefaultTouchEvents&&b.preventDefault();var d=a.Events.getTouchEvent(b);this.touchEndPoint=this.getTouchPoint(!a.isNothing(d.changedTouches)?d.changedTouches:d.touches);a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,
target:this,action:a.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,targetEl:b.target,currentTargetEl:b.currentTarget});this.fireTouchEvent(b)}},onMouseDown:function(b){b.preventDefault();a.Events.remove(this.el,"touchstart",this.mouseDownHandler);a.Events.remove(this.el,"touchmove",this.touchMoveHandler);a.Events.remove(this.el,"touchend",this.touchEndHandler);this.captureSettings.move&&a.Events.add(this.el,"mousemove",this.mouseMoveHandler);a.Events.add(this.el,"mouseup",this.mouseUpHandler);
a.Events.add(this.el,"mouseout",this.mouseOutHandler);this.touchStartTime=new Date;this.isGesture=!1;this.touchStartPoint=a.Events.getMousePosition(b);a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,action:a.TouchElement.ActionTypes.touchStart,point:this.touchStartPoint,targetEl:b.target,currentTargetEl:b.currentTarget})},onMouseMove:function(b){b.preventDefault();a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,action:a.TouchElement.ActionTypes.touchMove,
point:a.Events.getMousePosition(b),targetEl:b.target,currentTargetEl:b.currentTarget})},onMouseUp:function(b){b.preventDefault();this.captureSettings.move&&a.Events.remove(this.el,"mousemove",this.mouseMoveHandler);a.Events.remove(this.el,"mouseup",this.mouseUpHandler);a.Events.remove(this.el,"mouseout",this.mouseOutHandler);this.touchEndPoint=a.Events.getMousePosition(b);a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,action:a.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,
targetEl:b.target,currentTargetEl:b.currentTarget});this.fireTouchEvent(b)},onMouseOut:function(b){var d=b.relatedTarget;if(!(this.el===d||a.DOM.isChildOf(d,this.el)))b.preventDefault(),this.captureSettings.move&&a.Events.remove(this.el,"mousemove",this.mouseMoveHandler),a.Events.remove(this.el,"mouseup",this.mouseUpHandler),a.Events.remove(this.el,"mouseout",this.mouseOutHandler),this.touchEndPoint=a.Events.getMousePosition(b),a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,
action:a.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,targetEl:b.target,currentTargetEl:b.currentTarget}),this.fireTouchEvent(b)},onGestureStart:function(b){b.preventDefault();var d=a.Events.getTouchEvent(b);a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,action:a.TouchElement.ActionTypes.gestureStart,scale:d.scale,rotation:d.rotation,targetEl:b.target,currentTargetEl:b.currentTarget})},onGestureChange:function(b){b.preventDefault();var d=a.Events.getTouchEvent(b);
a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,action:a.TouchElement.ActionTypes.gestureChange,scale:d.scale,rotation:d.rotation,targetEl:b.target,currentTargetEl:b.currentTarget})},onGestureEnd:function(b){b.preventDefault();var d=a.Events.getTouchEvent(b);a.Events.fire(this,{type:a.TouchElement.EventTypes.onTouch,target:this,action:a.TouchElement.ActionTypes.gestureEnd,scale:d.scale,rotation:d.rotation,targetEl:b.target,currentTargetEl:b.currentTarget})}})})(window,window.klass,
window.Code.Util);(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.Image");e.Code.PhotoSwipe.Image.EventTypes={onLoad:"onLoad",onError:"onError"}})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.Image");var b=e.Code.PhotoSwipe;b.Image.ImageClass=c({refObj:null,imageEl:null,src:null,caption:null,metaData:null,imageLoadHandler:null,imageErrorHandler:null,dispose:function(){var d;this.shrinkImage();for(d in this)a.objectHasProperty(this,d)&&(this[d]=null)},initialize:function(a,b,c,h){this.refObj=a;this.src=this.originalSrc=b;this.caption=c;this.metaData=h;this.imageEl=new e.Image;this.imageLoadHandler=this.onImageLoad.bind(this);this.imageErrorHandler=
this.onImageError.bind(this)},load:function(){this.imageEl.originalSrc=a.coalesce(this.imageEl.originalSrc,"");this.imageEl.originalSrc===this.src?this.imageEl.isError?a.Events.fire(this,{type:b.Image.EventTypes.onError,target:this}):a.Events.fire(this,{type:b.Image.EventTypes.onLoad,target:this}):(this.imageEl.isError=!1,this.imageEl.isLoading=!0,this.imageEl.naturalWidth=null,this.imageEl.naturalHeight=null,this.imageEl.isLandscape=!1,this.imageEl.onload=this.imageLoadHandler,this.imageEl.onerror=
this.imageErrorHandler,this.imageEl.onabort=this.imageErrorHandler,this.imageEl.originalSrc=this.src,this.imageEl.src=this.src)},shrinkImage:function(){if(!a.isNothing(this.imageEl)&&this.imageEl.src.indexOf(this.src)>-1)this.imageEl.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",a.isNothing(this.imageEl.parentNode)||a.DOM.removeChild(this.imageEl,this.imageEl.parentNode)},onImageLoad:function(){this.imageEl.onload=null;this.imageEl.naturalWidth=a.coalesce(this.imageEl.naturalWidth,
this.imageEl.width);this.imageEl.naturalHeight=a.coalesce(this.imageEl.naturalHeight,this.imageEl.height);this.imageEl.isLandscape=this.imageEl.naturalWidth>this.imageEl.naturalHeight;this.imageEl.isLoading=!1;a.Events.fire(this,{type:b.Image.EventTypes.onLoad,target:this})},onImageError:function(){this.imageEl.onload=null;this.imageEl.onerror=null;this.imageEl.onabort=null;this.imageEl.isLoading=!1;this.imageEl.isError=!0;a.Events.fire(this,{type:b.Image.EventTypes.onError,target:this})}})})(window,
window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.Cache");e=e.Code.PhotoSwipe;e.Cache.Mode={normal:"normal",aggressive:"aggressive"};e.Cache.Functions={getImageSource:function(a){return a.href},getImageCaption:function(b){if(b.nodeName==="IMG")return a.DOM.getAttribute(b,"alt");var d,f,c;d=0;for(f=b.childNodes.length;d<f;d++)if(c=b.childNodes[d],b.childNodes[d].nodeName==="IMG")return a.DOM.getAttribute(c,"alt")},getImageMetaData:function(){return{}}}})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.Cache");var b=e.Code.PhotoSwipe;b.Cache.CacheClass=c({images:null,settings:null,dispose:function(){var b,f,c;if(!a.isNothing(this.images)){f=0;for(c=this.images.length;f<c;f++)this.images[f].dispose();this.images.length=0}for(b in this)a.objectHasProperty(this,b)&&(this[b]=null)},initialize:function(a,f){var c,e,j,i,l,k;this.settings=f;this.images=[];c=0;for(e=a.length;c<e;c++)j=a[c],i=this.settings.getImageSource(j),l=this.settings.getImageCaption(j),
k=this.settings.getImageMetaData(j),this.images.push(new b.Image.ImageClass(j,i,l,k))},getImages:function(d){var f,c,e=[],j;f=0;for(c=d.length;f<c;f++){j=this.images[d[f]];if(this.settings.cacheMode===b.Cache.Mode.aggressive)j.cacheDoNotShrink=!0;e.push(j)}if(this.settings.cacheMode===b.Cache.Mode.aggressive){f=0;for(c=this.images.length;f<c;f++)j=this.images[f],a.objectHasProperty(j,"cacheDoNotShrink")?delete j.cacheDoNotShrink:j.shrinkImage()}return e}})})(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.Image);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.DocumentOverlay");e.Code.PhotoSwipe.DocumentOverlay.CssClasses={documentOverlay:"ps-document-overlay"}})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.DocumentOverlay");var b=e.Code.PhotoSwipe;b.DocumentOverlay.DocumentOverlayClass=c({el:null,settings:null,initialBodyHeight:null,dispose:function(){var b;a.Animation.stop(this.el);a.DOM.removeChild(this.el,this.el.parentNode);for(b in this)a.objectHasProperty(this,b)&&(this[b]=null)},initialize:function(d){this.settings=d;this.el=a.DOM.createElement("div",{"class":b.DocumentOverlay.CssClasses.documentOverlay},"");a.DOM.setStyle(this.el,{display:"block",
position:"absolute",left:0,top:0,zIndex:this.settings.zIndex});a.DOM.hide(this.el);this.settings.target===e?a.DOM.appendToBody(this.el):a.DOM.appendChild(this.el,this.settings.target);a.Animation.resetTranslate(this.el);this.initialBodyHeight=a.DOM.bodyOuterHeight()},resetPosition:function(){var b,f,c;if(this.settings.target===e){b=a.DOM.windowWidth();f=a.DOM.bodyOuterHeight()*2;c=this.settings.jQueryMobile?a.DOM.windowScrollTop()+"px":"0px";if(f<1)f=this.initialBodyHeight;a.DOM.windowHeight()>f&&
(f=a.DOM.windowHeight())}else b=a.DOM.width(this.settings.target),f=a.DOM.height(this.settings.target),c="0px";a.DOM.setStyle(this.el,{width:b,height:f,top:c})},fadeIn:function(b,f){this.resetPosition();a.DOM.setStyle(this.el,"opacity",0);a.DOM.show(this.el);a.Animation.fadeIn(this.el,b,f)}})})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.Carousel");e=e.Code.PhotoSwipe;e.Carousel.EventTypes={onSlideByEnd:"PhotoSwipeCarouselOnSlideByEnd",onSlideshowStart:"PhotoSwipeCarouselOnSlideshowStart",onSlideshowStop:"PhotoSwipeCarouselOnSlideshowStop"};e.Carousel.CssClasses={carousel:"ps-carousel",content:"ps-carousel-content",item:"ps-carousel-item",itemLoading:"ps-carousel-item-loading",itemError:"ps-carousel-item-error"};e.Carousel.SlideByAction={previous:"previous",current:"current",next:"next"}})(window,
window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.Carousel");var b=e.Code.PhotoSwipe;b.Carousel.CarouselClass=c({el:null,contentEl:null,settings:null,cache:null,slideByEndHandler:null,currentCacheIndex:null,isSliding:null,isSlideshowActive:null,lastSlideByAction:null,touchStartPoint:null,touchStartPosition:null,imageLoadHandler:null,imageErrorHandler:null,slideshowTimeout:null,dispose:function(){var d,f,c;f=0;for(c=this.cache.images.length;f<c;f++)a.Events.remove(this.cache.images[f],b.Image.EventTypes.onLoad,
this.imageLoadHandler),a.Events.remove(this.cache.images[f],b.Image.EventTypes.onError,this.imageErrorHandler);this.stopSlideshow();a.Animation.stop(this.el);a.DOM.removeChild(this.el,this.el.parentNode);for(d in this)a.objectHasProperty(this,d)&&(this[d]=null)},initialize:function(d,f){var c,h,j;this.cache=d;this.settings=f;this.slideByEndHandler=this.onSlideByEnd.bind(this);this.imageLoadHandler=this.onImageLoad.bind(this);this.imageErrorHandler=this.onImageError.bind(this);this.currentCacheIndex=
0;this.isSlideshowActive=this.isSliding=!1;if(this.cache.images.length<3)this.settings.loop=!1;this.el=a.DOM.createElement("div",{"class":b.Carousel.CssClasses.carousel},"");a.DOM.setStyle(this.el,{display:"block",position:"absolute",left:0,top:0,overflow:"hidden",zIndex:this.settings.zIndex});a.DOM.hide(this.el);this.contentEl=a.DOM.createElement("div",{"class":b.Carousel.CssClasses.content},"");a.DOM.setStyle(this.contentEl,{display:"block",position:"absolute",left:0,top:0});a.DOM.appendChild(this.contentEl,
this.el);h=d.images.length<3?d.images.length:3;for(c=0;c<h;c++)j=a.DOM.createElement("div",{"class":b.Carousel.CssClasses.item+" "+b.Carousel.CssClasses.item+"-"+c},""),a.DOM.setAttribute(j,"style","float: left;"),a.DOM.setStyle(j,{display:"block",position:"relative",left:0,top:0,overflow:"hidden"}),this.settings.margin>0&&a.DOM.setStyle(j,{marginRight:this.settings.margin+"px"}),a.DOM.appendChild(j,this.contentEl);this.settings.target===e?a.DOM.appendToBody(this.el):a.DOM.appendChild(this.el,this.settings.target)},
resetPosition:function(){var d,f,c,h,j,i;this.settings.target===e?(d=a.DOM.windowWidth(),f=a.DOM.windowHeight(),c=a.DOM.windowScrollTop()+"px"):(d=a.DOM.width(this.settings.target),f=a.DOM.height(this.settings.target),c="0px");h=this.settings.margin>0?d+this.settings.margin:d;j=a.DOM.find("."+b.Carousel.CssClasses.item,this.contentEl);h*=j.length;a.DOM.setStyle(this.el,{top:c,width:d,height:f});a.DOM.setStyle(this.contentEl,{width:h,height:f});c=0;for(h=j.length;c<h;c++)i=j[c],a.DOM.setStyle(i,{width:d,
height:f}),i=a.DOM.find("img",i)[0],a.isNothing(i)||this.resetImagePosition(i);this.setContentLeftPosition()},resetImagePosition:function(b){if(!a.isNothing(b)){a.DOM.getAttribute(b,"src");var c,e,h,j=a.DOM.width(this.el),i=a.DOM.height(this.el);this.settings.imageScaleMethod==="fitNoUpscale"?(e=b.naturalWidth,h=b.naturalHeight,e>j&&(c=j/e,e=Math.round(e*c),h=Math.round(h*c)),h>i&&(c=i/h,h=Math.round(h*c),e=Math.round(e*c))):(c=b.isLandscape?j/b.naturalWidth:i/b.naturalHeight,e=Math.round(b.naturalWidth*
c),h=Math.round(b.naturalHeight*c),this.settings.imageScaleMethod==="zoom"?(c=1,h<i?c=i/h:e<j&&(c=j/e),c!==1&&(e=Math.round(e*c),h=Math.round(h*c))):this.settings.imageScaleMethod==="fit"&&(c=1,e>j?c=j/e:h>i&&(c=i/h),c!==1&&(e=Math.round(e*c),h=Math.round(h*c))));a.DOM.setStyle(b,{position:"absolute",width:e,height:h,top:Math.round((i-h)/2)+"px",left:Math.round((j-e)/2)+"px",display:"block"})}},setContentLeftPosition:function(){var b,c,g;b=this.settings.target===e?a.DOM.windowWidth():a.DOM.width(this.settings.target);
c=this.getItemEls();g=0;this.settings.loop?g=(b+this.settings.margin)*-1:this.currentCacheIndex===this.cache.images.length-1?g=(c.length-1)*(b+this.settings.margin)*-1:this.currentCacheIndex>0&&(g=(b+this.settings.margin)*-1);a.DOM.setStyle(this.contentEl,{left:g+"px"})},show:function(d){this.currentCacheIndex=d;this.resetPosition();this.setImages(!1);a.DOM.show(this.el);a.Animation.resetTranslate(this.contentEl);var d=this.getItemEls(),c,e;c=0;for(e=d.length;c<e;c++)a.Animation.resetTranslate(d[c]);
a.Events.fire(this,{type:b.Carousel.EventTypes.onSlideByEnd,target:this,action:b.Carousel.SlideByAction.current,cacheIndex:this.currentCacheIndex})},setImages:function(a){var b,c=this.getItemEls();b=this.currentCacheIndex+1;var e=this.currentCacheIndex-1;this.settings.loop?(b>this.cache.images.length-1&&(b=0),e<0&&(e=this.cache.images.length-1),b=this.cache.getImages([e,this.currentCacheIndex,b]),a||this.addCacheImageToItemEl(b[1],c[1]),this.addCacheImageToItemEl(b[2],c[2]),this.addCacheImageToItemEl(b[0],
c[0])):c.length===1?a||(b=this.cache.getImages([this.currentCacheIndex]),this.addCacheImageToItemEl(b[0],c[0])):c.length===2?this.currentCacheIndex===0?(b=this.cache.getImages([this.currentCacheIndex,this.currentCacheIndex+1]),a||this.addCacheImageToItemEl(b[0],c[0]),this.addCacheImageToItemEl(b[1],c[1])):(b=this.cache.getImages([this.currentCacheIndex-1,this.currentCacheIndex]),a||this.addCacheImageToItemEl(b[1],c[1]),this.addCacheImageToItemEl(b[0],c[0])):this.currentCacheIndex===0?(b=this.cache.getImages([this.currentCacheIndex,
this.currentCacheIndex+1,this.currentCacheIndex+2]),a||this.addCacheImageToItemEl(b[0],c[0]),this.addCacheImageToItemEl(b[1],c[1]),this.addCacheImageToItemEl(b[2],c[2])):(this.currentCacheIndex===this.cache.images.length-1?(b=this.cache.getImages([this.currentCacheIndex-2,this.currentCacheIndex-1,this.currentCacheIndex]),a||this.addCacheImageToItemEl(b[2],c[2]),this.addCacheImageToItemEl(b[1],c[1])):(b=this.cache.getImages([this.currentCacheIndex-1,this.currentCacheIndex,this.currentCacheIndex+1]),
a||this.addCacheImageToItemEl(b[1],c[1]),this.addCacheImageToItemEl(b[2],c[2])),this.addCacheImageToItemEl(b[0],c[0]))},addCacheImageToItemEl:function(d,c){a.DOM.removeClass(c,b.Carousel.CssClasses.itemError);a.DOM.addClass(c,b.Carousel.CssClasses.itemLoading);a.DOM.removeChildren(c);a.DOM.setStyle(d.imageEl,{display:"none"});a.DOM.appendChild(d.imageEl,c);a.Animation.resetTranslate(d.imageEl);a.Events.add(d,b.Image.EventTypes.onLoad,this.imageLoadHandler);a.Events.add(d,b.Image.EventTypes.onError,
this.imageErrorHandler);d.load()},slideCarousel:function(d,c,g){if(!this.isSliding){var h,j;h=this.settings.target===e?a.DOM.windowWidth()+this.settings.margin:a.DOM.width(this.settings.target)+this.settings.margin;g=a.coalesce(g,this.settings.slideSpeed);if(!(e.Math.abs(j)<1)){switch(c){case a.TouchElement.ActionTypes.swipeLeft:d=h*-1;break;case a.TouchElement.ActionTypes.swipeRight:d=h;break;default:j=d.x-this.touchStartPoint.x,d=e.Math.abs(j)>h/2?j>0?h:h*-1:0}this.lastSlideByAction=d<0?b.Carousel.SlideByAction.next:
d>0?b.Carousel.SlideByAction.previous:b.Carousel.SlideByAction.current;if(!this.settings.loop&&(this.lastSlideByAction===b.Carousel.SlideByAction.previous&&this.currentCacheIndex===0||this.lastSlideByAction===b.Carousel.SlideByAction.next&&this.currentCacheIndex===this.cache.images.length-1))d=0,this.lastSlideByAction=b.Carousel.SlideByAction.current;this.isSliding=!0;this.doSlideCarousel(d,g)}}},moveCarousel:function(a){this.isSliding||this.settings.enableDrag&&this.doMoveCarousel(a.x-this.touchStartPoint.x)},
getItemEls:function(){return a.DOM.find("."+b.Carousel.CssClasses.item,this.contentEl)},previous:function(){this.stopSlideshow();this.slideCarousel({x:0,y:0},a.TouchElement.ActionTypes.swipeRight,this.settings.nextPreviousSlideSpeed)},next:function(){this.stopSlideshow();this.slideCarousel({x:0,y:0},a.TouchElement.ActionTypes.swipeLeft,this.settings.nextPreviousSlideSpeed)},slideshowNext:function(){this.slideCarousel({x:0,y:0},a.TouchElement.ActionTypes.swipeLeft)},startSlideshow:function(){this.stopSlideshow();
this.isSlideshowActive=!0;this.slideshowTimeout=e.setTimeout(this.slideshowNext.bind(this),this.settings.slideshowDelay);a.Events.fire(this,{type:b.Carousel.EventTypes.onSlideshowStart,target:this})},stopSlideshow:function(){if(!a.isNothing(this.slideshowTimeout))e.clearTimeout(this.slideshowTimeout),this.slideshowTimeout=null,this.isSlideshowActive=!1,a.Events.fire(this,{type:b.Carousel.EventTypes.onSlideshowStop,target:this})},onSlideByEnd:function(){if(!a.isNothing(this.isSliding)){var d=this.getItemEls();
this.isSliding=!1;this.lastSlideByAction===b.Carousel.SlideByAction.next?this.currentCacheIndex+=1:this.lastSlideByAction===b.Carousel.SlideByAction.previous&&(this.currentCacheIndex-=1);if(this.settings.loop)if(this.lastSlideByAction===b.Carousel.SlideByAction.next?a.DOM.appendChild(d[0],this.contentEl):this.lastSlideByAction===b.Carousel.SlideByAction.previous&&a.DOM.insertBefore(d[d.length-1],d[0],this.contentEl),this.currentCacheIndex<0)this.currentCacheIndex=this.cache.images.length-1;else{if(this.currentCacheIndex===
this.cache.images.length)this.currentCacheIndex=0}else this.cache.images.length>3&&(this.currentCacheIndex>1&&this.currentCacheIndex<this.cache.images.length-2?this.lastSlideByAction===b.Carousel.SlideByAction.next?a.DOM.appendChild(d[0],this.contentEl):this.lastSlideByAction===b.Carousel.SlideByAction.previous&&a.DOM.insertBefore(d[d.length-1],d[0],this.contentEl):this.currentCacheIndex===1?this.lastSlideByAction===b.Carousel.SlideByAction.previous&&a.DOM.insertBefore(d[d.length-1],d[0],this.contentEl):
this.currentCacheIndex===this.cache.images.length-2&&this.lastSlideByAction===b.Carousel.SlideByAction.next&&a.DOM.appendChild(d[0],this.contentEl));this.lastSlideByAction!==b.Carousel.SlideByAction.current&&(this.setContentLeftPosition(),this.setImages(!0));a.Events.fire(this,{type:b.Carousel.EventTypes.onSlideByEnd,target:this,action:this.lastSlideByAction,cacheIndex:this.currentCacheIndex});this.isSlideshowActive&&(this.lastSlideByAction!==b.Carousel.SlideByAction.current?this.startSlideshow():
this.stopSlideshow())}},onTouch:function(b,c){this.stopSlideshow();switch(b){case a.TouchElement.ActionTypes.touchStart:this.touchStartPoint=c;this.touchStartPosition={x:e.parseInt(a.DOM.getStyle(this.contentEl,"left"),0),y:e.parseInt(a.DOM.getStyle(this.contentEl,"top"),0)};break;case a.TouchElement.ActionTypes.touchMove:this.moveCarousel(c);break;case a.TouchElement.ActionTypes.touchMoveEnd:case a.TouchElement.ActionTypes.swipeLeft:case a.TouchElement.ActionTypes.swipeRight:this.slideCarousel(c,
b)}},onImageLoad:function(d){d=d.target;a.isNothing(d.imageEl.parentNode)||(a.DOM.removeClass(d.imageEl.parentNode,b.Carousel.CssClasses.itemLoading),this.resetImagePosition(d.imageEl));a.Events.remove(d,b.Image.EventTypes.onLoad,this.imageLoadHandler);a.Events.remove(d,b.Image.EventTypes.onError,this.imageErrorHandler)},onImageError:function(d){d=d.target;a.isNothing(d.imageEl.parentNode)||(a.DOM.removeClass(d.imageEl.parentNode,b.Carousel.CssClasses.itemLoading),a.DOM.addClass(d.imageEl.parentNode,
b.Carousel.CssClasses.itemError));a.Events.remove(d,b.Image.EventTypes.onLoad,this.imageLoadHandler);a.Events.remove(d,b.Image.EventTypes.onError,this.imageErrorHandler)}})})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.Carousel");c=e.Code.PhotoSwipe;c.Carousel.CarouselClass=c.Carousel.CarouselClass.extend({getStartingPos:function(){var b=this.touchStartPosition;a.isNothing(b)&&(b={x:e.parseInt(a.DOM.getStyle(this.contentEl,"left"),0),y:e.parseInt(a.DOM.getStyle(this.contentEl,"top"),0)});return b},doMoveCarousel:function(b){var d;a.Browser.isCSSTransformSupported?(d={},d[a.Animation._transitionPrefix+"Property"]="all",d[a.Animation._transitionPrefix+"Duration"]=
"",d[a.Animation._transitionPrefix+"TimingFunction"]="",d[a.Animation._transitionPrefix+"Delay"]="0",d[a.Animation._transformLabel]=a.Browser.is3dSupported?"translate3d("+b+"px, 0px, 0px)":"translate("+b+"px, 0px)",a.DOM.setStyle(this.contentEl,d)):a.isNothing(e.jQuery)||e.jQuery(this.contentEl).stop().css("left",this.getStartingPos().x+b+"px")},doSlideCarousel:function(b,d){var c;if(d<=0)this.slideByEndHandler();else if(a.Browser.isCSSTransformSupported)c=a.coalesce(this.contentEl.style.webkitTransform,
this.contentEl.style.MozTransform,this.contentEl.style.transform,""),c.indexOf("translate3d("+b)===0?this.slideByEndHandler():c.indexOf("translate("+b)===0?this.slideByEndHandler():a.Animation.slideBy(this.contentEl,b,0,d,this.slideByEndHandler,this.settings.slideTimingFunction);else if(!a.isNothing(e.jQuery)){c={left:this.getStartingPos().x+b+"px"};if(this.settings.animationTimingFunction==="ease-out")this.settings.animationTimingFunction="easeOutQuad";if(a.isNothing(e.jQuery.easing[this.settings.animationTimingFunction]))this.settings.animationTimingFunction=
"linear";e.jQuery(this.contentEl).animate(c,this.settings.slideSpeed,this.settings.animationTimingFunction,this.slideByEndHandler)}}})})(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.TouchElement);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.Toolbar");var b=e.Code.PhotoSwipe;b.Toolbar.CssClasses={toolbar:"ps-toolbar",toolbarContent:"ps-toolbar-content",toolbarTop:"ps-toolbar-top",caption:"ps-caption",captionBottom:"ps-caption-bottom",captionContent:"ps-caption-content",close:"ps-toolbar-close",play:"ps-toolbar-play",previous:"ps-toolbar-previous",previousDisabled:"ps-toolbar-previous-disabled",next:"ps-toolbar-next",nextDisabled:"ps-toolbar-next-disabled"};b.Toolbar.ToolbarAction=
{close:"close",play:"play",next:"next",previous:"previous",none:"none"};b.Toolbar.EventTypes={onTap:"PhotoSwipeToolbarOnClick",onBeforeShow:"PhotoSwipeToolbarOnBeforeShow",onShow:"PhotoSwipeToolbarOnShow",onBeforeHide:"PhotoSwipeToolbarOnBeforeHide",onHide:"PhotoSwipeToolbarOnHide"};b.Toolbar.getToolbar=function(){return'<div class="'+b.Toolbar.CssClasses.close+'"><div class="'+b.Toolbar.CssClasses.toolbarContent+'"></div></div><div class="'+b.Toolbar.CssClasses.play+'"><div class="'+b.Toolbar.CssClasses.toolbarContent+
'"></div></div><div class="'+b.Toolbar.CssClasses.previous+'"><div class="'+b.Toolbar.CssClasses.toolbarContent+'"></div></div><div class="'+b.Toolbar.CssClasses.next+'"><div class="'+b.Toolbar.CssClasses.toolbarContent+'"></div></div>'}})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.Toolbar");var b=e.Code.PhotoSwipe;b.Toolbar.ToolbarClass=c({toolbarEl:null,closeEl:null,playEl:null,previousEl:null,nextEl:null,captionEl:null,captionContentEl:null,currentCaption:null,settings:null,cache:null,timeout:null,isVisible:null,fadeOutHandler:null,touchStartHandler:null,touchMoveHandler:null,clickHandler:null,dispose:function(){var b;this.clearTimeout();this.removeEventHandlers();a.Animation.stop(this.toolbarEl);a.Animation.stop(this.captionEl);
a.DOM.removeChild(this.toolbarEl,this.toolbarEl.parentNode);a.DOM.removeChild(this.captionEl,this.captionEl.parentNode);for(b in this)a.objectHasProperty(this,b)&&(this[b]=null)},initialize:function(d,c){var g;this.settings=c;this.cache=d;this.isVisible=!1;this.fadeOutHandler=this.onFadeOut.bind(this);this.touchStartHandler=this.onTouchStart.bind(this);this.touchMoveHandler=this.onTouchMove.bind(this);this.clickHandler=this.onClick.bind(this);g=b.Toolbar.CssClasses.toolbar;this.settings.captionAndToolbarFlipPosition&&
(g=g+" "+b.Toolbar.CssClasses.toolbarTop);this.toolbarEl=a.DOM.createElement("div",{"class":g},this.settings.getToolbar());a.DOM.setStyle(this.toolbarEl,{left:0,position:"absolute",overflow:"hidden",zIndex:this.settings.zIndex});this.settings.target===e?a.DOM.appendToBody(this.toolbarEl):a.DOM.appendChild(this.toolbarEl,this.settings.target);a.DOM.hide(this.toolbarEl);this.closeEl=a.DOM.find("."+b.Toolbar.CssClasses.close,this.toolbarEl)[0];this.settings.preventHide&&!a.isNothing(this.closeEl)&&a.DOM.hide(this.closeEl);
this.playEl=a.DOM.find("."+b.Toolbar.CssClasses.play,this.toolbarEl)[0];this.settings.preventSlideshow&&!a.isNothing(this.playEl)&&a.DOM.hide(this.playEl);this.nextEl=a.DOM.find("."+b.Toolbar.CssClasses.next,this.toolbarEl)[0];this.previousEl=a.DOM.find("."+b.Toolbar.CssClasses.previous,this.toolbarEl)[0];g=b.Toolbar.CssClasses.caption;this.settings.captionAndToolbarFlipPosition&&(g=g+" "+b.Toolbar.CssClasses.captionBottom);this.captionEl=a.DOM.createElement("div",{"class":g},"");a.DOM.setStyle(this.captionEl,
{left:0,position:"absolute",overflow:"hidden",zIndex:this.settings.zIndex});this.settings.target===e?a.DOM.appendToBody(this.captionEl):a.DOM.appendChild(this.captionEl,this.settings.target);a.DOM.hide(this.captionEl);this.captionContentEl=a.DOM.createElement("div",{"class":b.Toolbar.CssClasses.captionContent},"");a.DOM.appendChild(this.captionContentEl,this.captionEl);this.addEventHandlers()},resetPosition:function(){var b,c,g;this.settings.target===e?(this.settings.captionAndToolbarFlipPosition?
(c=a.DOM.windowScrollTop(),g=a.DOM.windowScrollTop()+a.DOM.windowHeight()-a.DOM.height(this.captionEl)):(c=a.DOM.windowScrollTop()+a.DOM.windowHeight()-a.DOM.height(this.toolbarEl),g=a.DOM.windowScrollTop()),b=a.DOM.windowWidth()):(this.settings.captionAndToolbarFlipPosition?(c="0",g=a.DOM.height(this.settings.target)-a.DOM.height(this.captionEl)):(c=a.DOM.height(this.settings.target)-a.DOM.height(this.toolbarEl),g=0),b=a.DOM.width(this.settings.target));a.DOM.setStyle(this.toolbarEl,{top:c+"px",
width:b});a.DOM.setStyle(this.captionEl,{top:g+"px",width:b})},toggleVisibility:function(a){this.isVisible?this.fadeOut():this.show(a)},show:function(d){a.Animation.stop(this.toolbarEl);a.Animation.stop(this.captionEl);this.resetPosition();this.setToolbarStatus(d);a.Events.fire(this,{type:b.Toolbar.EventTypes.onBeforeShow,target:this});this.showToolbar();this.setCaption(d);this.showCaption();this.isVisible=!0;this.setTimeout();a.Events.fire(this,{type:b.Toolbar.EventTypes.onShow,target:this})},setTimeout:function(){if(this.settings.captionAndToolbarAutoHideDelay>
0)this.clearTimeout(),this.timeout=e.setTimeout(this.fadeOut.bind(this),this.settings.captionAndToolbarAutoHideDelay)},clearTimeout:function(){if(!a.isNothing(this.timeout))e.clearTimeout(this.timeout),this.timeout=null},fadeOut:function(){this.clearTimeout();a.Events.fire(this,{type:b.Toolbar.EventTypes.onBeforeHide,target:this});a.Animation.fadeOut(this.toolbarEl,this.settings.fadeOutSpeed);a.Animation.fadeOut(this.captionEl,this.settings.fadeOutSpeed,this.fadeOutHandler);this.isVisible=!1},addEventHandlers:function(){a.Browser.isTouchSupported&&
(a.Browser.blackberry||a.Events.add(this.toolbarEl,"touchstart",this.touchStartHandler),a.Events.add(this.toolbarEl,"touchmove",this.touchMoveHandler),a.Events.add(this.captionEl,"touchmove",this.touchMoveHandler));a.Events.add(this.toolbarEl,"click",this.clickHandler)},removeEventHandlers:function(){a.Browser.isTouchSupported&&(a.Browser.blackberry||a.Events.remove(this.toolbarEl,"touchstart",this.touchStartHandler),a.Events.remove(this.toolbarEl,"touchmove",this.touchMoveHandler),a.Events.remove(this.captionEl,
"touchmove",this.touchMoveHandler));a.Events.remove(this.toolbarEl,"click",this.clickHandler)},handleTap:function(d){this.clearTimeout();var c;if(d.target===this.nextEl||a.DOM.isChildOf(d.target,this.nextEl))c=b.Toolbar.ToolbarAction.next;else if(d.target===this.previousEl||a.DOM.isChildOf(d.target,this.previousEl))c=b.Toolbar.ToolbarAction.previous;else if(d.target===this.closeEl||a.DOM.isChildOf(d.target,this.closeEl))c=b.Toolbar.ToolbarAction.close;else if(d.target===this.playEl||a.DOM.isChildOf(d.target,
this.playEl))c=b.Toolbar.ToolbarAction.play;this.setTimeout();if(a.isNothing(c))c=b.Toolbar.ToolbarAction.none;a.Events.fire(this,{type:b.Toolbar.EventTypes.onTap,target:this,action:c,tapTarget:d.target})},setCaption:function(b){a.DOM.removeChildren(this.captionContentEl);this.currentCaption=a.coalesce(this.cache.images[b].caption,"\u00a0");if(a.isObject(this.currentCaption))a.DOM.appendChild(this.currentCaption,this.captionContentEl);else{if(this.currentCaption==="")this.currentCaption="\u00a0";
a.DOM.appendText(this.currentCaption,this.captionContentEl)}this.currentCaption=this.currentCaption==="\u00a0"?"":this.currentCaption;this.resetPosition()},showToolbar:function(){a.DOM.setStyle(this.toolbarEl,{opacity:this.settings.captionAndToolbarOpacity});a.DOM.show(this.toolbarEl)},showCaption:function(){(this.currentCaption===""||this.captionContentEl.childNodes.length<1)&&!this.settings.captionAndToolbarShowEmptyCaptions?a.DOM.hide(this.captionEl):(a.DOM.setStyle(this.captionEl,{opacity:this.settings.captionAndToolbarOpacity}),
a.DOM.show(this.captionEl))},setToolbarStatus:function(d){this.settings.loop||(a.DOM.removeClass(this.previousEl,b.Toolbar.CssClasses.previousDisabled),a.DOM.removeClass(this.nextEl,b.Toolbar.CssClasses.nextDisabled),d>0&&d<this.cache.images.length-1||(d===0&&(a.isNothing(this.previousEl)||a.DOM.addClass(this.previousEl,b.Toolbar.CssClasses.previousDisabled)),d===this.cache.images.length-1&&(a.isNothing(this.nextEl)||a.DOM.addClass(this.nextEl,b.Toolbar.CssClasses.nextDisabled))))},onFadeOut:function(){a.DOM.hide(this.toolbarEl);
a.DOM.hide(this.captionEl);a.Events.fire(this,{type:b.Toolbar.EventTypes.onHide,target:this})},onTouchStart:function(b){b.preventDefault();a.Events.remove(this.toolbarEl,"click",this.clickHandler);this.handleTap(b)},onTouchMove:function(a){a.preventDefault()},onClick:function(a){a.preventDefault();this.handleTap(a)}})})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.UILayer");e.Code.PhotoSwipe.UILayer.CssClasses={uiLayer:"ps-uilayer"}})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.UILayer");var b=e.Code.PhotoSwipe;b.UILayer.UILayerClass=a.TouchElement.TouchElementClass.extend({el:null,settings:null,dispose:function(){var b;this.removeEventHandlers();a.DOM.removeChild(this.el,this.el.parentNode);for(b in this)a.objectHasProperty(this,b)&&(this[b]=null)},initialize:function(d){this.settings=d;this.el=a.DOM.createElement("div",{"class":b.UILayer.CssClasses.uiLayer},"");a.DOM.setStyle(this.el,{display:"block",position:"absolute",
left:0,top:0,overflow:"hidden",zIndex:this.settings.zIndex,opacity:0});a.DOM.hide(this.el);this.settings.target===e?a.DOM.appendToBody(this.el):a.DOM.appendChild(this.el,this.settings.target);this.supr(this.el,{swipe:!0,move:!0,gesture:a.Browser.iOS,doubleTap:!0,preventDefaultTouchEvents:this.settings.preventDefaultTouchEvents})},resetPosition:function(){this.settings.target===e?a.DOM.setStyle(this.el,{top:a.DOM.windowScrollTop()+"px",width:a.DOM.windowWidth(),height:a.DOM.windowHeight()}):a.DOM.setStyle(this.el,
{top:"0px",width:a.DOM.width(this.settings.target),height:a.DOM.height(this.settings.target)})},show:function(){this.resetPosition();a.DOM.show(this.el);this.addEventHandlers()},addEventHandlers:function(){this.supr()},removeEventHandlers:function(){this.supr()}})})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.ZoomPanRotate");e=e.Code.PhotoSwipe;e.ZoomPanRotate.CssClasses={zoomPanRotate:"ps-zoom-pan-rotate"};e.ZoomPanRotate.EventTypes={onTransform:"PhotoSwipeZoomPanRotateOnTransform"}})(window,window.klass,window.Code.Util);
(function(e,c,a){a.registerNamespace("Code.PhotoSwipe.ZoomPanRotate");var b=e.Code.PhotoSwipe;b.ZoomPanRotate.ZoomPanRotateClass=c({el:null,settings:null,containerEl:null,imageEl:null,transformSettings:null,panStartingPoint:null,transformEl:null,dispose:function(){var b;a.DOM.removeChild(this.el,this.el.parentNode);for(b in this)a.objectHasProperty(this,b)&&(this[b]=null)},initialize:function(c,f,g){var h,j,i;this.settings=c;this.settings.target===e?(c=document.body,h=a.DOM.windowWidth(),j=a.DOM.windowHeight(),
i=a.DOM.windowScrollTop()+"px"):(c=this.settings.target,h=a.DOM.width(c),j=a.DOM.height(c),i="0px");this.imageEl=f.imageEl.cloneNode(!1);a.DOM.setStyle(this.imageEl,{zIndex:1});this.transformSettings={startingScale:1,scale:1,startingRotation:0,rotation:0,startingTranslateX:0,startingTranslateY:0,translateX:0,translateY:0};this.el=a.DOM.createElement("div",{"class":b.ZoomPanRotate.CssClasses.zoomPanRotate},"");a.DOM.setStyle(this.el,{left:0,top:i,position:"absolute",width:h,height:j,zIndex:this.settings.zIndex,
display:"block"});a.DOM.insertBefore(this.el,g.el,c);a.Browser.iOS?(this.containerEl=a.DOM.createElement("div","",""),a.DOM.setStyle(this.containerEl,{left:0,top:0,width:h,height:j,position:"absolute",zIndex:1}),a.DOM.appendChild(this.imageEl,this.containerEl),a.DOM.appendChild(this.containerEl,this.el),a.Animation.resetTranslate(this.containerEl),a.Animation.resetTranslate(this.imageEl),this.transformEl=this.containerEl):(a.DOM.appendChild(this.imageEl,this.el),this.transformEl=this.imageEl)},setStartingTranslateFromCurrentTransform:function(){var b=
a.coalesce(this.transformEl.style.webkitTransform,this.transformEl.style.MozTransform,this.transformEl.style.transform);if(!a.isNothing(b)&&(b=b.match(/translate\((.*?)\)/),!a.isNothing(b)))b=b[1].split(", "),this.transformSettings.startingTranslateX=e.parseInt(b[0],10),this.transformSettings.startingTranslateY=e.parseInt(b[1],10)},getScale:function(a){a*=this.transformSettings.startingScale;if(this.settings.minUserZoom!==0&&a<this.settings.minUserZoom)a=this.settings.minUserZoom;else if(this.settings.maxUserZoom!==
0&&a>this.settings.maxUserZoom)a=this.settings.maxUserZoom;return a},setStartingScaleAndRotation:function(a,b){this.transformSettings.startingScale=this.getScale(a);this.transformSettings.startingRotation=(this.transformSettings.startingRotation+b)%360},zoomRotate:function(a,b){this.transformSettings.scale=this.getScale(a);this.transformSettings.rotation=this.transformSettings.startingRotation+b;this.applyTransform()},panStart:function(a){this.setStartingTranslateFromCurrentTransform();this.panStartingPoint=
{x:a.x,y:a.y}},pan:function(a){var b=(a.y-this.panStartingPoint.y)/this.transformSettings.scale;this.transformSettings.translateX=this.transformSettings.startingTranslateX+(a.x-this.panStartingPoint.x)/this.transformSettings.scale;this.transformSettings.translateY=this.transformSettings.startingTranslateY+b;this.applyTransform()},zoomAndPanToPoint:function(b,c){if(this.settings.target===e){this.panStart({x:a.DOM.windowWidth()/2,y:a.DOM.windowHeight()/2});var g=(c.y-this.panStartingPoint.y)/this.transformSettings.scale;
this.transformSettings.translateX=(this.transformSettings.startingTranslateX+(c.x-this.panStartingPoint.x)/this.transformSettings.scale)*-1;this.transformSettings.translateY=(this.transformSettings.startingTranslateY+g)*-1}this.setStartingScaleAndRotation(b,0);this.transformSettings.scale=this.transformSettings.startingScale;this.transformSettings.rotation=0;this.applyTransform()},applyTransform:function(){var c=this.transformSettings.rotation%360,f=e.parseInt(this.transformSettings.translateX,10),
g=e.parseInt(this.transformSettings.translateY,10),h="scale("+this.transformSettings.scale+") rotate("+c+"deg) translate("+f+"px, "+g+"px)";a.DOM.setStyle(this.transformEl,{webkitTransform:h,MozTransform:h,msTransform:h,transform:h});a.Events.fire(this,{target:this,type:b.ZoomPanRotate.EventTypes.onTransform,scale:this.transformSettings.scale,rotation:this.transformSettings.rotation,rotationDegs:c,translateX:f,translateY:g})}})})(window,window.klass,window.Code.Util);
(function(e,c){c.registerNamespace("Code.PhotoSwipe");var a=e.Code.PhotoSwipe;a.CssClasses={buildingBody:"ps-building",activeBody:"ps-active"};a.EventTypes={onBeforeShow:"PhotoSwipeOnBeforeShow",onShow:"PhotoSwipeOnShow",onBeforeHide:"PhotoSwipeOnBeforeHide",onHide:"PhotoSwipeOnHide",onDisplayImage:"PhotoSwipeOnDisplayImage",onResetPosition:"PhotoSwipeOnResetPosition",onSlideshowStart:"PhotoSwipeOnSlideshowStart",onSlideshowStop:"PhotoSwipeOnSlideshowStop",onTouch:"PhotoSwipeOnTouch",onBeforeCaptionAndToolbarShow:"PhotoSwipeOnBeforeCaptionAndToolbarShow",
onCaptionAndToolbarShow:"PhotoSwipeOnCaptionAndToolbarShow",onBeforeCaptionAndToolbarHide:"PhotoSwipeOnBeforeCaptionAndToolbarHide",onCaptionAndToolbarHide:"PhotoSwipeOnCaptionAndToolbarHide",onToolbarTap:"PhotoSwipeOnToolbarTap",onBeforeZoomPanRotateShow:"PhotoSwipeOnBeforeZoomPanRotateShow",onZoomPanRotateShow:"PhotoSwipeOnZoomPanRotateShow",onBeforeZoomPanRotateHide:"PhotoSwipeOnBeforeZoomPanRotateHide",onZoomPanRotateHide:"PhotoSwipeOnZoomPanRotateHide",onZoomPanRotateTransform:"PhotoSwipeOnZoomPanRotateTransform"};
a.instances=[];a.activeInstances=[];a.setActivateInstance=function(b){if(c.arrayIndexOf(b.settings.target,a.activeInstances,"target")>-1)throw"Code.PhotoSwipe.activateInstance: Unable to active instance as another instance is already active for this target";a.activeInstances.push({target:b.settings.target,instance:b})};a.unsetActivateInstance=function(b){b=c.arrayIndexOf(b,a.activeInstances,"instance");a.activeInstances.splice(b,1)};a.attach=function(b,d,e){var g,h;g=a.createInstance(b,d,e);d=0;for(e=
b.length;d<e;d++)if(h=b[d],!c.isNothing(h.nodeType)&&h.nodeType===1)h.__photoSwipeClickHandler=a.onTriggerElementClick.bind(g),c.Events.remove(h,"click",h.__photoSwipeClickHandler),c.Events.add(h,"click",h.__photoSwipeClickHandler);return g};if(e.jQuery)e.jQuery.fn.photoSwipe=function(b,c){return a.attach(this,b,c)};a.detatch=function(b){var d,e,g;d=0;for(e=b.originalImages.length;d<e;d++)g=b.originalImages[d],!c.isNothing(g.nodeType)&&g.nodeType===1&&(c.Events.remove(g,"click",g.__photoSwipeClickHandler),
delete g.__photoSwipeClickHandler);a.disposeInstance(b)};a.createInstance=function(b,d,e){var g;if(c.isNothing(b))throw"Code.PhotoSwipe.attach: No images passed.";if(!c.isLikeArray(b))throw"Code.PhotoSwipe.createInstance: Images must be an array of elements or image urls.";if(b.length<1)throw"Code.PhotoSwipe.createInstance: No images to passed.";d=c.coalesce(d,{});g=a.getInstance(e);if(c.isNothing(g))g=new a.PhotoSwipeClass(b,d,e),a.instances.push(g);else throw'Code.PhotoSwipe.createInstance: Instance with id "'+
e+' already exists."';return g};a.disposeInstance=function(b){var c=a.getInstanceIndex(b);if(c<0)throw"Code.PhotoSwipe.disposeInstance: Unable to find instance to dispose.";b.dispose();a.instances.splice(c,1)};a.onTriggerElementClick=function(a){a.preventDefault();this.show(a.currentTarget)};a.getInstance=function(b){var c,e,g;c=0;for(e=a.instances.length;c<e;c++)if(g=a.instances[c],g.id===b)return g;return null};a.getInstanceIndex=function(b){var c,e,g=-1;c=0;for(e=a.instances.length;c<e;c++)if(a.instances[c]===
b){g=c;break}return g}})(window,window.Code.Util);
(function(e,c,a,b,d,f,g,h,j){a.registerNamespace("Code.PhotoSwipe");var i=e.Code.PhotoSwipe;i.PhotoSwipeClass=c({id:null,settings:null,isBackEventSupported:null,backButtonClicked:null,currentIndex:null,originalImages:null,mouseWheelStartTime:null,windowDimensions:null,cache:null,documentOverlay:null,carousel:null,uiLayer:null,toolbar:null,zoomPanRotate:null,windowOrientationChangeHandler:null,windowScrollHandler:null,windowHashChangeHandler:null,keyDownHandler:null,windowOrientationEventName:null,
uiLayerTouchHandler:null,carouselSlideByEndHandler:null,carouselSlideshowStartHandler:null,carouselSlideshowStopHandler:null,toolbarTapHandler:null,toolbarBeforeShowHandler:null,toolbarShowHandler:null,toolbarBeforeHideHandler:null,toolbarHideHandler:null,mouseWheelHandler:null,zoomPanRotateTransformHandler:null,_isResettingPosition:null,_uiWebViewResetPositionTimeout:null,dispose:function(){var b;a.Events.remove(this,i.EventTypes.onBeforeShow);a.Events.remove(this,i.EventTypes.onShow);a.Events.remove(this,
i.EventTypes.onBeforeHide);a.Events.remove(this,i.EventTypes.onHide);a.Events.remove(this,i.EventTypes.onDisplayImage);a.Events.remove(this,i.EventTypes.onResetPosition);a.Events.remove(this,i.EventTypes.onSlideshowStart);a.Events.remove(this,i.EventTypes.onSlideshowStop);a.Events.remove(this,i.EventTypes.onTouch);a.Events.remove(this,i.EventTypes.onBeforeCaptionAndToolbarShow);a.Events.remove(this,i.EventTypes.onCaptionAndToolbarShow);a.Events.remove(this,i.EventTypes.onBeforeCaptionAndToolbarHide);
a.Events.remove(this,i.EventTypes.onCaptionAndToolbarHide);a.Events.remove(this,i.EventTypes.onZoomPanRotateTransform);this.removeEventHandlers();a.isNothing(this.documentOverlay)||this.documentOverlay.dispose();a.isNothing(this.carousel)||this.carousel.dispose();a.isNothing(this.uiLayer)||this.uiLayer.dispose();a.isNothing(this.toolbar)||this.toolbar.dispose();this.destroyZoomPanRotate();a.isNothing(this.cache)||this.cache.dispose();for(b in this)a.objectHasProperty(this,b)&&(this[b]=null)},initialize:function(c,
d,f){this.id=a.isNothing(f)?"PhotoSwipe"+(new Date).getTime().toString():f;this.originalImages=c;if(a.Browser.android&&!a.Browser.firefox&&e.navigator.userAgent.match(/Android (\d+.\d+)/).toString().replace(/^.*\,/,"")>=2.1)this.isBackEventSupported=!0;if(!this.isBackEventSupported)this.isBackEventSupported=a.objectHasProperty(e,"onhashchange");this.settings={fadeInSpeed:250,fadeOutSpeed:250,preventHide:!1,preventSlideshow:!1,zIndex:1E3,backButtonHideEnabled:!0,enableKeyboard:!0,enableMouseWheel:!0,
mouseWheelSpeed:350,autoStartSlideshow:!1,jQueryMobile:!a.isNothing(e.jQuery)&&!a.isNothing(e.jQuery.mobile),jQueryMobileDialogHash:"&ui-state=dialog",enableUIWebViewRepositionTimeout:!1,uiWebViewResetPositionDelay:500,target:e,preventDefaultTouchEvents:!0,loop:!0,slideSpeed:250,nextPreviousSlideSpeed:0,enableDrag:!0,swipeThreshold:50,swipeTimeThreshold:250,slideTimingFunction:"ease-out",slideshowDelay:3E3,doubleTapSpeed:250,margin:20,imageScaleMethod:"fit",captionAndToolbarHide:!1,captionAndToolbarFlipPosition:!1,
captionAndToolbarAutoHideDelay:5E3,captionAndToolbarOpacity:0.8,captionAndToolbarShowEmptyCaptions:!0,getToolbar:i.Toolbar.getToolbar,allowUserZoom:!0,allowRotationOnUserZoom:!1,maxUserZoom:5,minUserZoom:0.5,doubleTapZoomLevel:2.5,getImageSource:i.Cache.Functions.getImageSource,getImageCaption:i.Cache.Functions.getImageCaption,getImageMetaData:i.Cache.Functions.getImageMetaData,cacheMode:i.Cache.Mode.normal};a.extend(this.settings,d);this.settings.target!==e&&(d=a.DOM.getStyle(this.settings.target,
"position"),(d!=="relative"||d!=="absolute")&&a.DOM.setStyle(this.settings.target,"position","relative"));if(this.settings.target!==e)this.isBackEventSupported=!1,this.settings.backButtonHideEnabled=!1;else if(this.settings.preventHide)this.settings.backButtonHideEnabled=!1;this.cache=new b.CacheClass(c,this.settings)},show:function(b){var c,d;this.backButtonClicked=this._isResettingPosition=!1;if(a.isNumber(b))this.currentIndex=b;else{this.currentIndex=-1;c=0;for(d=this.originalImages.length;c<d;c++)if(this.originalImages[c]===
b){this.currentIndex=c;break}}if(this.currentIndex<0||this.currentIndex>this.originalImages.length-1)throw"Code.PhotoSwipe.PhotoSwipeClass.show: Starting index out of range";this.isAlreadyGettingPage=this.getWindowDimensions();i.setActivateInstance(this);this.windowDimensions=this.getWindowDimensions();this.settings.target===e?a.DOM.addClass(e.document.body,i.CssClasses.buildingBody):a.DOM.addClass(this.settings.target,i.CssClasses.buildingBody);this.createComponents();a.Events.fire(this,{type:i.EventTypes.onBeforeShow,
target:this});this.documentOverlay.fadeIn(this.settings.fadeInSpeed,this.onDocumentOverlayFadeIn.bind(this))},getWindowDimensions:function(){return{width:a.DOM.windowWidth(),height:a.DOM.windowHeight()}},createComponents:function(){this.documentOverlay=new d.DocumentOverlayClass(this.settings);this.carousel=new f.CarouselClass(this.cache,this.settings);this.uiLayer=new h.UILayerClass(this.settings);if(!this.settings.captionAndToolbarHide)this.toolbar=new g.ToolbarClass(this.cache,this.settings)},
resetPosition:function(){if(!this._isResettingPosition){var b=this.getWindowDimensions();if(a.isNothing(this.windowDimensions)||!(b.width===this.windowDimensions.width&&b.height===this.windowDimensions.height))this._isResettingPosition=!0,this.windowDimensions=b,this.destroyZoomPanRotate(),this.documentOverlay.resetPosition(),this.carousel.resetPosition(),a.isNothing(this.toolbar)||this.toolbar.resetPosition(),this.uiLayer.resetPosition(),this._isResettingPosition=!1,a.Events.fire(this,{type:i.EventTypes.onResetPosition,
target:this})}},addEventHandler:function(b,c){a.Events.add(this,b,c)},addEventHandlers:function(){if(a.isNothing(this.windowOrientationChangeHandler))this.windowOrientationChangeHandler=this.onWindowOrientationChange.bind(this),this.windowScrollHandler=this.onWindowScroll.bind(this),this.keyDownHandler=this.onKeyDown.bind(this),this.windowHashChangeHandler=this.onWindowHashChange.bind(this),this.uiLayerTouchHandler=this.onUILayerTouch.bind(this),this.carouselSlideByEndHandler=this.onCarouselSlideByEnd.bind(this),
this.carouselSlideshowStartHandler=this.onCarouselSlideshowStart.bind(this),this.carouselSlideshowStopHandler=this.onCarouselSlideshowStop.bind(this),this.toolbarTapHandler=this.onToolbarTap.bind(this),this.toolbarBeforeShowHandler=this.onToolbarBeforeShow.bind(this),this.toolbarShowHandler=this.onToolbarShow.bind(this),this.toolbarBeforeHideHandler=this.onToolbarBeforeHide.bind(this),this.toolbarHideHandler=this.onToolbarHide.bind(this),this.mouseWheelHandler=this.onMouseWheel.bind(this),this.zoomPanRotateTransformHandler=
this.onZoomPanRotateTransform.bind(this);a.Browser.android?this.orientationEventName="resize":a.Browser.iOS&&!a.Browser.safari?a.Events.add(e.document.body,"orientationchange",this.windowOrientationChangeHandler):this.orientationEventName=!a.isNothing(e.onorientationchange)?"orientationchange":"resize";a.isNothing(this.orientationEventName)||a.Events.add(e,this.orientationEventName,this.windowOrientationChangeHandler);this.settings.target===e&&a.Events.add(e,"scroll",this.windowScrollHandler);this.settings.enableKeyboard&&
a.Events.add(e.document,"keydown",this.keyDownHandler);if(this.isBackEventSupported&&this.settings.backButtonHideEnabled)this.windowHashChangeHandler=this.onWindowHashChange.bind(this),this.settings.jQueryMobile?e.location.hash=this.settings.jQueryMobileDialogHash:(this.currentHistoryHashValue="PhotoSwipe"+(new Date).getTime().toString(),e.location.hash=this.currentHistoryHashValue),a.Events.add(e,"hashchange",this.windowHashChangeHandler);this.settings.enableMouseWheel&&a.Events.add(e,"mousewheel",
this.mouseWheelHandler);a.Events.add(this.uiLayer,a.TouchElement.EventTypes.onTouch,this.uiLayerTouchHandler);a.Events.add(this.carousel,f.EventTypes.onSlideByEnd,this.carouselSlideByEndHandler);a.Events.add(this.carousel,f.EventTypes.onSlideshowStart,this.carouselSlideshowStartHandler);a.Events.add(this.carousel,f.EventTypes.onSlideshowStop,this.carouselSlideshowStopHandler);a.isNothing(this.toolbar)||(a.Events.add(this.toolbar,g.EventTypes.onTap,this.toolbarTapHandler),a.Events.add(this.toolbar,
g.EventTypes.onBeforeShow,this.toolbarBeforeShowHandler),a.Events.add(this.toolbar,g.EventTypes.onShow,this.toolbarShowHandler),a.Events.add(this.toolbar,g.EventTypes.onBeforeHide,this.toolbarBeforeHideHandler),a.Events.add(this.toolbar,g.EventTypes.onHide,this.toolbarHideHandler))},removeEventHandlers:function(){a.Browser.iOS&&!a.Browser.safari&&a.Events.remove(e.document.body,"orientationchange",this.windowOrientationChangeHandler);a.isNothing(this.orientationEventName)||a.Events.remove(e,this.orientationEventName,
this.windowOrientationChangeHandler);a.Events.remove(e,"scroll",this.windowScrollHandler);this.settings.enableKeyboard&&a.Events.remove(e.document,"keydown",this.keyDownHandler);this.isBackEventSupported&&this.settings.backButtonHideEnabled&&a.Events.remove(e,"hashchange",this.windowHashChangeHandler);this.settings.enableMouseWheel&&a.Events.remove(e,"mousewheel",this.mouseWheelHandler);a.isNothing(this.uiLayer)||a.Events.remove(this.uiLayer,a.TouchElement.EventTypes.onTouch,this.uiLayerTouchHandler);
a.isNothing(this.toolbar)||(a.Events.remove(this.carousel,f.EventTypes.onSlideByEnd,this.carouselSlideByEndHandler),a.Events.remove(this.carousel,f.EventTypes.onSlideshowStart,this.carouselSlideshowStartHandler),a.Events.remove(this.carousel,f.EventTypes.onSlideshowStop,this.carouselSlideshowStopHandler));a.isNothing(this.toolbar)||(a.Events.remove(this.toolbar,g.EventTypes.onTap,this.toolbarTapHandler),a.Events.remove(this.toolbar,g.EventTypes.onBeforeShow,this.toolbarBeforeShowHandler),a.Events.remove(this.toolbar,
g.EventTypes.onShow,this.toolbarShowHandler),a.Events.remove(this.toolbar,g.EventTypes.onBeforeHide,this.toolbarBeforeHideHandler),a.Events.remove(this.toolbar,g.EventTypes.onHide,this.toolbarHideHandler))},hide:function(){if(!this.settings.preventHide){if(a.isNothing(this.documentOverlay))throw"Code.PhotoSwipe.PhotoSwipeClass.hide: PhotoSwipe instance is already hidden";if(a.isNothing(this.hiding)){this.clearUIWebViewResetPositionTimeout();this.destroyZoomPanRotate();this.removeEventHandlers();a.Events.fire(this,
{type:i.EventTypes.onBeforeHide,target:this});this.uiLayer.dispose();this.uiLayer=null;if(!a.isNothing(this.toolbar))this.toolbar.dispose(),this.toolbar=null;this.carousel.dispose();this.carousel=null;a.DOM.removeClass(e.document.body,i.CssClasses.activeBody);this.documentOverlay.dispose();this.documentOverlay=null;this._isResettingPosition=!1;i.unsetActivateInstance(this);a.Events.fire(this,{type:i.EventTypes.onHide,target:this});this.goBackInHistory()}}},goBackInHistory:function(){this.isBackEventSupported&&
this.settings.backButtonHideEnabled&&(this.backButtonClicked||e.history.back())},play:function(){!this.isZoomActive()&&!this.settings.preventSlideshow&&!a.isNothing(this.carousel)&&(!a.isNothing(this.toolbar)&&this.toolbar.isVisible&&this.toolbar.fadeOut(),this.carousel.startSlideshow())},stop:function(){this.isZoomActive()||a.isNothing(this.carousel)||this.carousel.stopSlideshow()},previous:function(){this.isZoomActive()||a.isNothing(this.carousel)||this.carousel.previous()},next:function(){this.isZoomActive()||
a.isNothing(this.carousel)||this.carousel.next()},toggleToolbar:function(){this.isZoomActive()||a.isNothing(this.toolbar)||this.toolbar.toggleVisibility(this.currentIndex)},fadeOutToolbarIfVisible:function(){!a.isNothing(this.toolbar)&&this.toolbar.isVisible&&this.settings.captionAndToolbarAutoHideDelay>0&&this.toolbar.fadeOut()},createZoomPanRotate:function(){this.stop();if(this.canUserZoom()&&!this.isZoomActive())a.Events.fire(this,i.EventTypes.onBeforeZoomPanRotateShow),this.zoomPanRotate=new j.ZoomPanRotateClass(this.settings,
this.cache.images[this.currentIndex],this.uiLayer),this.uiLayer.captureSettings.preventDefaultTouchEvents=!0,a.Events.add(this.zoomPanRotate,i.ZoomPanRotate.EventTypes.onTransform,this.zoomPanRotateTransformHandler),a.Events.fire(this,i.EventTypes.onZoomPanRotateShow),!a.isNothing(this.toolbar)&&this.toolbar.isVisible&&this.toolbar.fadeOut()},destroyZoomPanRotate:function(){if(!a.isNothing(this.zoomPanRotate))a.Events.fire(this,i.EventTypes.onBeforeZoomPanRotateHide),a.Events.remove(this.zoomPanRotate,
i.ZoomPanRotate.EventTypes.onTransform,this.zoomPanRotateTransformHandler),this.zoomPanRotate.dispose(),this.zoomPanRotate=null,this.uiLayer.captureSettings.preventDefaultTouchEvents=this.settings.preventDefaultTouchEvents,a.Events.fire(this,i.EventTypes.onZoomPanRotateHide)},canUserZoom:function(){var b;if(a.Browser.msie){if(b=document.createElement("div"),a.isNothing(b.style.msTransform))return!1}else if(!a.Browser.isCSSTransformSupported)return!1;if(!this.settings.allowUserZoom)return!1;if(this.carousel.isSliding)return!1;
b=this.cache.images[this.currentIndex];if(a.isNothing(b))return!1;if(b.isLoading)return!1;return!0},isZoomActive:function(){return!a.isNothing(this.zoomPanRotate)},getCurrentImage:function(){return this.cache.images[this.currentIndex]},onDocumentOverlayFadeIn:function(){e.setTimeout(function(){var b=this.settings.target===e?e.document.body:this.settings.target;a.DOM.removeClass(b,i.CssClasses.buildingBody);a.DOM.addClass(b,i.CssClasses.activeBody);this.addEventHandlers();this.carousel.show(this.currentIndex);
this.uiLayer.show();this.settings.autoStartSlideshow?this.play():a.isNothing(this.toolbar)||this.toolbar.show(this.currentIndex);a.Events.fire(this,{type:i.EventTypes.onShow,target:this});this.setUIWebViewResetPositionTimeout()}.bind(this),250)},setUIWebViewResetPositionTimeout:function(){if(this.settings.enableUIWebViewRepositionTimeout&&a.Browser.iOS&&!a.Browser.safari)a.isNothing(this._uiWebViewResetPositionTimeout)||e.clearTimeout(this._uiWebViewResetPositionTimeout),this._uiWebViewResetPositionTimeout=
e.setTimeout(function(){this.resetPosition();this.setUIWebViewResetPositionTimeout()}.bind(this),this.settings.uiWebViewResetPositionDelay)},clearUIWebViewResetPositionTimeout:function(){a.isNothing(this._uiWebViewResetPositionTimeout)||e.clearTimeout(this._uiWebViewResetPositionTimeout)},onWindowScroll:function(){this.resetPosition()},onWindowOrientationChange:function(){this.resetPosition()},onWindowHashChange:function(){if(e.location.hash!=="#"+(this.settings.jQueryMobile?this.settings.jQueryMobileDialogHash:
this.currentHistoryHashValue))this.backButtonClicked=!0,this.hide()},onKeyDown:function(a){a.keyCode===37?(a.preventDefault(),this.previous()):a.keyCode===39?(a.preventDefault(),this.next()):a.keyCode===38||a.keyCode===40?a.preventDefault():a.keyCode===27?(a.preventDefault(),this.hide()):a.keyCode===32?(this.settings.hideToolbar?this.hide():this.toggleToolbar(),a.preventDefault()):a.keyCode===13&&(a.preventDefault(),this.play())},onUILayerTouch:function(b){if(this.isZoomActive())switch(b.action){case a.TouchElement.ActionTypes.gestureChange:this.zoomPanRotate.zoomRotate(b.scale,
this.settings.allowRotationOnUserZoom?b.rotation:0);break;case a.TouchElement.ActionTypes.gestureEnd:this.zoomPanRotate.setStartingScaleAndRotation(b.scale,this.settings.allowRotationOnUserZoom?b.rotation:0);break;case a.TouchElement.ActionTypes.touchStart:this.zoomPanRotate.panStart(b.point);break;case a.TouchElement.ActionTypes.touchMove:this.zoomPanRotate.pan(b.point);break;case a.TouchElement.ActionTypes.doubleTap:this.destroyZoomPanRotate();this.toggleToolbar();break;case a.TouchElement.ActionTypes.swipeLeft:this.destroyZoomPanRotate();
this.next();this.toggleToolbar();break;case a.TouchElement.ActionTypes.swipeRight:this.destroyZoomPanRotate(),this.previous(),this.toggleToolbar()}else switch(b.action){case a.TouchElement.ActionTypes.touchMove:case a.TouchElement.ActionTypes.swipeLeft:case a.TouchElement.ActionTypes.swipeRight:this.fadeOutToolbarIfVisible();this.carousel.onTouch(b.action,b.point);break;case a.TouchElement.ActionTypes.touchStart:case a.TouchElement.ActionTypes.touchMoveEnd:this.carousel.onTouch(b.action,b.point);
break;case a.TouchElement.ActionTypes.tap:this.toggleToolbar();break;case a.TouchElement.ActionTypes.doubleTap:this.settings.target===e&&(b.point.x-=a.DOM.windowScrollLeft(),b.point.y-=a.DOM.windowScrollTop());var c=this.cache.images[this.currentIndex].imageEl,d=e.parseInt(a.DOM.getStyle(c,"top"),10),f=e.parseInt(a.DOM.getStyle(c,"left"),10),g=f+a.DOM.width(c),c=d+a.DOM.height(c);if(b.point.x<f)b.point.x=f;else if(b.point.x>g)b.point.x=g;if(b.point.y<d)b.point.y=d;else if(b.point.y>c)b.point.y=c;
this.createZoomPanRotate();this.isZoomActive()&&this.zoomPanRotate.zoomAndPanToPoint(this.settings.doubleTapZoomLevel,b.point);break;case a.TouchElement.ActionTypes.gestureStart:this.createZoomPanRotate()}a.Events.fire(this,{type:i.EventTypes.onTouch,target:this,point:b.point,action:b.action})},onCarouselSlideByEnd:function(b){this.currentIndex=b.cacheIndex;a.isNothing(this.toolbar)||(this.toolbar.setCaption(this.currentIndex),this.toolbar.setToolbarStatus(this.currentIndex));a.Events.fire(this,{type:i.EventTypes.onDisplayImage,
target:this,action:b.action,index:b.cacheIndex})},onToolbarTap:function(b){switch(b.action){case g.ToolbarAction.next:this.next();break;case g.ToolbarAction.previous:this.previous();break;case g.ToolbarAction.close:this.hide();break;case g.ToolbarAction.play:this.play()}a.Events.fire(this,{type:i.EventTypes.onToolbarTap,target:this,toolbarAction:b.action,tapTarget:b.tapTarget})},onMouseWheel:function(b){var c=a.Events.getWheelDelta(b);if(!(b.timeStamp-(this.mouseWheelStartTime||0)<this.settings.mouseWheelSpeed))this.mouseWheelStartTime=
b.timeStamp,this.settings.invertMouseWheel&&(c*=-1),c<0?this.next():c>0&&this.previous()},onCarouselSlideshowStart:function(){a.Events.fire(this,{type:i.EventTypes.onSlideshowStart,target:this})},onCarouselSlideshowStop:function(){a.Events.fire(this,{type:i.EventTypes.onSlideshowStop,target:this})},onToolbarBeforeShow:function(){a.Events.fire(this,{type:i.EventTypes.onBeforeCaptionAndToolbarShow,target:this})},onToolbarShow:function(){a.Events.fire(this,{type:i.EventTypes.onCaptionAndToolbarShow,
target:this})},onToolbarBeforeHide:function(){a.Events.fire(this,{type:i.EventTypes.onBeforeCaptionAndToolbarHide,target:this})},onToolbarHide:function(){a.Events.fire(this,{type:i.EventTypes.onCaptionAndToolbarHide,target:this})},onZoomPanRotateTransform:function(b){a.Events.fire(this,{target:this,type:i.EventTypes.onZoomPanRotateTransform,scale:b.scale,rotation:b.rotation,rotationDegs:b.rotationDegs,translateX:b.translateX,translateY:b.translateY})}})})(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.Cache,
window.Code.PhotoSwipe.DocumentOverlay,window.Code.PhotoSwipe.Carousel,window.Code.PhotoSwipe.Toolbar,window.Code.PhotoSwipe.UILayer,window.Code.PhotoSwipe.ZoomPanRotate);
;
/**
 * Isotope v1.5.25
 * An exquisite jQuery plugin for magical layouts
 * http://isotope.metafizzy.co
 *
 * Commercial use requires one-time purchase of a commercial license
 * http://isotope.metafizzy.co/docs/license.html
 *
 * Non-commercial use is licensed under the MIT License
 *
 * Copyright 2013 Metafizzy
 */
(function(a,b,c){"use strict";var d=a.document,e=a.Modernizr,f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},g="Moz Webkit O Ms".split(" "),h=function(a){var b=d.documentElement.style,c;if(typeof b[a]=="string")return a;a=f(a);for(var e=0,h=g.length;e<h;e++){c=g[e]+a;if(typeof b[c]=="string")return c}},i=h("transform"),j=h("transitionProperty"),k={csstransforms:function(){return!!i},csstransforms3d:function(){var a=!!h("perspective");if(a){var c=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),d="@media ("+c.join("transform-3d),(")+"modernizr)",e=b("<style>"+d+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),f=b('<div id="modernizr" />').appendTo("html");a=f.height()===3,f.remove(),e.remove()}return a},csstransitions:function(){return!!j}},l;if(e)for(l in k)e.hasOwnProperty(l)||e.addTest(l,k[l]);else{e=a.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var m=" ",n;for(l in k)n=k[l](),e[l]=n,m+=" "+(n?"":"no-")+l;b("html").addClass(m)}if(e.csstransforms){var o=e.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},p=function(a,c,d){var e=b.data(a,"isoTransform")||{},f={},g,h={},j;f[c]=d,b.extend(e,f);for(g in e)j=e[g],h[g]=o[g](j);var k=h.translate||"",l=h.scale||"",m=k+l;b.data(a,"isoTransform",e),a.style[i]=m};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){p(a,"scale",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.scale?d.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){p(a,"translate",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.translate?d.translate:[0,0]}}}var q,r;e.csstransitions&&(q={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[j],r=h("transitionDuration"));var s=b.event,t=b.event.handle?"handle":"dispatch",u;s.special.smartresize={setup:function(){b(this).bind("resize",s.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",s.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",u&&clearTimeout(u),u=setTimeout(function(){s[t].apply(c,d)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Isotope=function(a,c,d){this.element=b(c),this._create(a),this._init(d)};var v=["width","height"],w=b(a);b.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(a){this.options=b.extend({},b.Isotope.settings,a),this.styleQueue=[],this.elemCount=0;var c=this.element[0].style;this.originalStyle={};var d=v.slice(0);for(var e in this.options.containerStyle)d.push(e);for(var f=0,g=d.length;f<g;f++)e=d[f],this.originalStyle[e]=c[e]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var h={"original-order":function(a,b){return b.elemCount++,b.elemCount},random:function(){return Math.random()}};this.options.getSortData=b.extend(this.options.getSortData,h),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var i=this;setTimeout(function(){i.element.addClass(i.options.containerClass)},0),this.options.resizable&&w.bind("smartresize.isotope",function(){i.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:"absolute"};return c=c.filter(function(a,b){return b.nodeType===1}),this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0),c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);var c;for(var d in a)c="_update"+f(d),this[c]&&this[c]()}},_updateAnimationEngine:function(){var a=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),b;switch(a){case"css":case"none":b=!1;break;case"jquery":b=!0;break;default:b=!e.csstransitions}this.isUsingJQueryAnimation=b,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&e.csstransforms&&e.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=a?this._translate:this._positionAbs},_filter:function(a){var b=this.options.filter===""?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),f=e;if(b!=="*"){f=e.filter(b);var g=a.not(d).not(b).addClass(c);this.styleQueue.push({$el:g,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c),a.filter(b)},updateSortData:function(a,c){var d=this,e=this.options.getSortData,f,g;a.each(function(){f=b(this),g={};for(var a in e)!c&&a==="original-order"?g[a]=b.data(this,"isotope-sort-data")[a]:g[a]=e[a](f,d);b.data(this,"isotope-sort-data",g)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);return f===g&&a!=="original-order"&&(f=b(d,"original-order"),g=b(e,"original-order")),(f>g?1:f<g?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b=Math.round(b+this.offset.left),c=Math.round(c+this.offset.top);var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);if(this.options.resizesContainer){var d=this["_"+c+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:d})}this._processStyleQueue(a,b),this.isLaidOut=!0},_processStyleQueue:function(a,c){var d=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",f=this.options.animationOptions,g=this.options.onLayout,h,i,j,k;i=function(a,b){b.$el[d](b.style,f)};if(this._isInserting&&this.isUsingJQueryAnimation)i=function(a,b){h=b.$el.hasClass("no-transition")?"css":d,b.$el[h](b.style,f)};else if(c||g||f.complete){var l=!1,m=[c,g,f.complete],n=this;j=!0,k=function(){if(l)return;var b;for(var c=0,d=m.length;c<d;c++)b=m[c],typeof b=="function"&&b.call(n.element,a,n);l=!0};if(this.isUsingJQueryAnimation&&d==="animate")f.complete=k,j=!1;else if(e.csstransitions){var o=0,p=this.styleQueue[0],s=p&&p.$el,t;while(!s||!s.length){t=this.styleQueue[o++];if(!t)return;s=t.$el}var u=parseFloat(getComputedStyle(s[0])[r]);u>0&&(i=function(a,b){b.$el[d](b.style,f).one(q,k)},j=!1)}}b.each(this.styleQueue,i),j&&k(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var d=c._filter(a);c._addHideAppended(d),c._sort(),c.reLayout(),c._revealAppended(d,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a),c.layout(a),c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a),a.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition"),c.styleQueue.push({$el:a,style:c.options.visibleStyle}),c._isInserting=!1,c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){this.$allAtoms=this.$allAtoms.not(a),this.$filteredAtoms=this.$filteredAtoms.not(a);var c=this,d=function(){a.remove(),b&&b.call(c.element)};a.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this._sort(),this.reLayout(d)):d()},shuffle:function(a){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+" "+b.itemClass).each(function(){var b=this.style;b.position="",b.top="",b.left="",b.opacity="",a&&(b[i]="")});var c=this.element[0].style;for(var d in this.originalStyle)c[d]=this.originalStyle[d];this.element.unbind(".isotope").undelegate("."+b.hiddenClass,"click").removeClass(b.containerClass).removeData("isotope"),w.unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,c=a?"rowHeight":"columnWidth",d=a?"height":"width",e=a?"rows":"cols",g=this.element[d](),h,i=this.options[b]&&this.options[b][c]||this.$filteredAtoms["outer"+f(d)](!0)||g;h=Math.floor(g/i),h=Math.max(h,1),this[b][e]=h,this[b][c]=i},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",d=this[b][c];return this._getSegments(a),this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;this.masonry.colYs=[];while(a--)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);e=Math.min(e,d.cols);if(e===1)c._masonryPlaceBrick(a,d.colYs);else{var f=d.cols+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.colYs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(a,g)}})},_masonryPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=this.masonry.columnWidth*d,h=c;this._pushPosition(a,g,h);var i=c+a.outerHeight(!0),j=this.masonry.cols+1-f;for(e=0;e<j;e++)this.masonry.colYs[d+e]=i},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.x!==0&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=Math.floor(d.index/d.cols),g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,0,c.straightDown.y),c.straightDown.y+=d.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(a--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);e=Math.min(e,d.rows);if(e===1)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f=d.rows+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.rowXs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(a,g)}})},_masonryHorizontalPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=c,h=this.masonryHorizontal.rowHeight*d;this._pushPosition(a,g,h);var i=c+a.outerWidth(!0),j=this.masonryHorizontal.rows+1-f;for(e=0;e<j;e++)this.masonryHorizontal.rowXs[d+e]=i},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.y!==0&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=Math.floor(d.index/d.rows),f=d.index%d.rows,g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,c.straightAcross.x,0),c.straightAcross.x+=d.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){function h(){a.call(c,d)}function i(a){var c=a.target;c.src!==f&&b.inArray(c,g)===-1&&(g.push(c),--e<=0&&(setTimeout(h),d.unbind(".imagesLoaded",i)))}var c=this,d=c.find("img").add(c.filter("img")),e=d.length,f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",g=[];return e||h(),d.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var a=this.src;this.src=f,this.src=a}),c};var x=function(b){a.console&&a.console.error(b)};b.fn.isotope=function(a,c){if(typeof a=="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var c=b.data(this,"isotope");if(!c){x("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'");return}if(!b.isFunction(c[a])||a.charAt(0)==="_"){x("no such method '"+a+"' for isotope instance");return}c[a].apply(c,d)})}else this.each(function(){var d=b.data(this,"isotope");d?(d.option(a),d._init(c)):b.data(this,"isotope",new b.Isotope(a,this,c))});return this}})(window,$jq18);;
jQuery(function(){
    console.log(jQuery("#content").width());
});

;
/********************************************/
/*Revisions*/
/*#27717 to change image button onto css */
/********************************************/

<!-- #27717 script to change value  -->
jQuery(document).ready(function(){
jQuery(".comment-wrapper #edit-submit").val('POST COMMENT');
});

jQuery(document).ready(function(){
jQuery(".merchBuyLink").text('BUY NOW');

});


<!--end of script--->

/************************************************************************/
/******** ===[ NAMESPACE PATTERN - STOYAN'S PATTERN ]=== *************************/

var WMG = WMG || {}

WMG.namespace = function(ns_string){
    var parts = ns_string.split('.');
    var parent = WMG;   
    if (parts[0] === "WMG") {
        parts = parts.slice(1);
    }    
    for (var i = 0, pLen = parts.length; i < pLen; i += 1) {
        if (typeof parent[parts[i]] === "undefined") {
            parent[parts[i]] = {};
        }
        parent = parent[parts[i]];
    }
    return parent;
}



/****** ===[ BRIGHTCOVE PLAYER INSTATIATOR ]=== ***************/
/*
 * dependencies - The brightcove experiences code
 * */
var BCL = (function(){
    var player;
    var videoPlayer;
    //a reference to the videoPlayer module
    var modCon;
    var modExp;
    var config = {
        data: {
            "playerID": "1654994504001",
            "playerKey": "AQ~~,AAAAABRLSKk~,dbvviZzv6JWE9Hl85aCvh931v2fJvJJb",
            "width": "100%",
            "height": "100%"
        },
        template: "<div style=\"display:none\"></div><object id=\"myExperience\" class=\"BrightcoveExperience\"><param name=\"bgcolor\" value=\"#000000\" /><param name=\"wmode\" value=\"transparent\" /><param name=\"width\" value=\"{{width}}\" /><param name=\"height\" value=\"{{height}}\" /><param name=\"playerID\" value=\"{{playerID}}\" /><param name=\"playerKey\" value=\"{{playerKey}}\" /><param name=\"isVid\" value=\"true\" /><param name=\"isUI\" value=\"true\" /><param name=\"dynamicStreaming\" value=\"true\" /><param name=\"@videoPlayer\" value=\"{{videoID}}\"; /><param name=\"templateLoadHandler\" value=\"BCL.onTemplateLoaded\"</object>",
        isPlayerAdded: false,
        container: "#block-views-video-block-1 .media-embed-wrapper"
    }
    
    var markup = function(html, data){
        var m;
        var i = 0;
        var match = html.match(data instanceof Array ? /{{\d+}}/g : /{{\w+}}/g) || [];
        while (m = match[i++]) {
            html = html.replace(m, data[m.substr(2, m.length - 4)]);
        }
        return html;
    }
    var loadbCovePlayer = function(myExperience){
    
        //Making sure that video ID is unique, that way.
        if (typeof myExperience === "undefined") {
            return
        }
        
        if (jQuery('body.msie9').length > 0) {
            var bodyelementht = jQuery(window).height();
            var bodyelementwd = jQuery(window).width();
            config.data.height = bodyelementht;
            config.data.width = bodyelementwd;
        }
        
        if (!config.isPlayerAdded) {
            var playerHTML = "";
            config.isPlayerAdded = true;
            config.data.videoID = myExperience;
            
            // populate the player object template
            playerHTML = markup(config.template, config.data);
            
            jQuery(config.container).html(playerHTML);
            // instantiate the player
            brightcove.createExperiences();
        }
        else {
            BCL.videoPlayer.loadVideo(myExperience);
        }
    }
    var onTemplateLoaded = function(experienceId){
        player = brightcove.getExperience(experienceId);
        videoPlayer = player.getModule(APIModules.VIDEO_PLAYER);
        
        modExp = player.getModule(APIModules.EXPERIENCE);
        modCon = player.getModule(APIModules.CONTENT);
        
        modExp.addEventListener(BCExperienceEvent.CONTENT_LOAD, onContentLoad);
        modCon.addEventListener(BCContentEvent.VIDEO_LOAD, onVideoLoad);
        
    }
    var init = function(options){
        options = options ||
        {}
        jQuery.extend(true, config, options);
    }
    // event listener for the player being ready
    window.onPlayerReady = function(event){
        BCL.videoPlayer.play(true);
    }
    return {
        init: init,
        player: player,
        videoPlayer: videoPlayer,
        onTemplateLoaded: onTemplateLoaded,
        loadbCovePlayer: loadbCovePlayer
    }
})();
/************************************************************************/


/****** ===[ USER AGENT ]=== ***************/
WMG.namespace('userAgent');
WMG.userAgent = (function(){
    var os = 'other';
    var isMobile = false;
    if (/iPhone|iPod|iPad/i.test(navigator.userAgent)) {
        os = 'iOS';
        isMobile = true;
    }
    if (/Android/i.test(navigator.userAgent)) {
        os = 'Android';
        isMobile = true;
    }
    return {
        os: os,
        isMobile: isMobile
    }
})();
/************************************************************************/;

if(brightcove==undefined){var brightcove={};brightcove.getExperience=function(){alert("Please import APIModules_all.js in order to use the API.");};}
if(brightcove.experiences==undefined){brightcove.servicesURL='http://c.brightcove.com/services';brightcove.cdnURL='http://admin.brightcove.com';brightcove.secureCDNURL='https://sadmin.brightcove.com';brightcove.secureServicesURL='https://secure.brightcove.com/services';brightcove.pubHost='c.$pubcode$.$zoneprefix$$zone$';brightcove.pubSecureHost='secure.$pubcode$.$zoneprefix$$zone$';brightcove.pubSubdomain='ariessaucetown.local';brightcove.experiences={};brightcove.experienceObjects={};brightcove.timeouts={};brightcove.flashTimeoutInterval=10000;brightcove.htmlTimeoutInterval=10000;brightcove.experienceNum=0;brightcove.majorVersion=9;brightcove.majorRevision=0;brightcove.minorRevision=28;brightcove.servlet={AS3:"federated_f9",HTML:"htmlFederated"};brightcove.playerType={FLASH:"flash",HTML:"html",INSTALLER:"installer",NO_SUPPORT:"nosupport"};brightcove.errorCodes={UNKNOWN:0,DOMAIN_RESTRICTED:1,GEO_RESTRICTED:2,INVALID_ID:3,NO_CONTENT:4,UNAVAILABLE_CONTENT:5,UPGRADE_REQUIRED_FOR_VIDEO:6,UPGRADE_REQUIRED_FOR_PLAYER:7,SERVICE_UNAVAILABLE:8};brightcove.defaultParam={};brightcove.defaultParam.width='100%';brightcove.defaultParam.height='100%';brightcove.defaultFlashParam={};brightcove.defaultFlashParam.allowScriptAccess='always';brightcove.defaultFlashParam.allowFullScreen='true';brightcove.defaultFlashParam.seamlessTabbing=false;brightcove.defaultFlashParam.swliveconnect=true;brightcove.defaultFlashParam.wmode='window';brightcove.defaultFlashParam.quality='high';brightcove.defaultFlashParam.bgcolor='#999999';brightcove.isIE=(window.ActiveXObject!=undefined);brightcove.userAgent=navigator.userAgent;brightcove._queuedAPICalls=[];var brightcoveJS=brightcove;brightcove.createExperiences=function(pEvent,pElementID){var experiences=[];var params;var experience;var requestedMinorRevision;var requestedMajorVersion;var flashSupport=brightcove.checkFlashSupport();var htmlSupport=brightcove.checkHtmlSupport();if(pElementID!=null){experiences.push(document.getElementById(pElementID));}else{experiences=brightcove.collectExperiences();}
if(brightcove.isIE){params=document.getElementsByTagName('param');}
var urlParams=brightcove.cacheUrlParams();var numExperiences=experiences.length;for(var i=0;i<numExperiences;i++){experience=experiences[i];experience=brightcove.copyDefaultParams(experience);experience=brightcove.copySnippetParams(experience,params);experience=brightcove.copyUrlParams(experience,urlParams,numExperiences);var playerType=brightcove.determinePlayerType(experience,flashSupport,htmlSupport);var secureConnections=(experience.params.secureConnections=="true");if(playerType==brightcove.playerType.HTML){secureConnections=false;}
if(playerType==brightcove.playerType.NO_SUPPORT){brightcove.renderInstallGif(experience,secureConnections);brightcove.reportUpgradeRequired(experience);continue;}
if(playerType==brightcove.playerType.HTML){delete experience.params.linkBaseURL;}else{if(experience.params.includeAPI&&experience.params.templateReadyHandler!=null){experience.params.originalTemplateReadyHandler=experience.params.templateReadyHandler;var handlerName="templateReadyHandler"+experience.id;brightcove[handlerName]=(function(id){return function(event){if(brightcove.internal!=null&&brightcove.internal._instances[id]!=null){brightcove._addModuleToEvent(id,event);}
var player=brightcove.experienceObjects[id];brightcove.callHandlerForPlayer(player,"originalTemplateReadyHandler",event);};})(experience.id);experience.params.templateReadyHandler="brightcove."+handlerName;}}
var file=brightcove.generateRequestUrl(experience,playerType,secureConnections);if(document.location.protocol=="http:"){var event='http://goku.brightcove.com/1pix.gif?';var gokuParams=["dcsuri=/viewer/player_load_req","playerType="+playerType,"playerURL="+encodeURIComponent(document.location||"")];var image=brightcove.createElement('image');for(var j in experience.params){gokuParams.push([encodeURIComponent(j)+"="+encodeURIComponent(experience.params[j])]);}
event+=gokuParams.join('&');image.src=event;}
brightcove.renderExperience(experience,file,playerType,secureConnections);}};brightcove.collectExperiences=function(){var experiences=[];var allObjects=document.getElementsByTagName('object');var numObjects=allObjects.length;for(var i=0;i<numObjects;i++){if(/\bBrightcoveExperience\b/.test(allObjects[i].className)){if(allObjects[i].type!='application/x-shockwave-flash'){experiences.push(allObjects[i]);}}}
return experiences;};brightcove.cacheUrlParams=function(){var urlParams={};urlParams.playerKey=decodeURIComponent(brightcove.getParameter("bckey"));urlParams.playerID=brightcove.getParameter("bcpid");urlParams.titleID=brightcove.getParameter("bctid");urlParams.lineupID=brightcove.getParameter("bclid");urlParams.autoStart=brightcove.getParameter("autoStart");urlParams.debuggerID=brightcove.getParameter("debuggerID");urlParams.forceHTML=brightcove.getParameter("forceHTML");urlParams.debug=brightcove.getParameter("debug");urlParams.showNoContentMessage=brightcove.getParameter("showNoContentMessage");return urlParams;};brightcove.copyDefaultParams=function(experience){if(!experience.params)experience.params={};if(!experience.flashParams)experience.flashParams={};for(var i in brightcove.defaultParam){experience.params[i]=brightcove.defaultParam[i];}
for(var j in brightcove.defaultFlashParam){experience.flashParams[j]=brightcove.defaultFlashParam[j];}
if(experience.id.length>0){experience.params.flashID=experience.id;}else{experience.id=experience.params.flashID='bcExperienceObj'+(brightcove.experienceNum++);}
return experience;};brightcove.copySnippetParams=function(experience,params){if(!brightcove.isIE){params=experience.getElementsByTagName('param');}
var numParams=params.length;var param;for(var j=0;j<numParams;j++){param=params[j];if(brightcove.isIE&&param.parentNode.id!=experience.id){continue;}
experience.params[param.name]=param.value;}
if(experience.params.bgcolor!=undefined)experience.flashParams.bgcolor=experience.params.bgcolor;if(experience.params.wmode!=undefined)experience.flashParams.wmode=experience.params.wmode;if(experience.params.seamlessTabbing!=undefined)experience.flashParams.seamlessTabbing=experience.params.seamlessTabbing;return experience;};brightcove.copyUrlParams=function(experience,urlParams,numExperiences){if(experience.params.autoStart==undefined&&urlParams.autoStart!=undefined){experience.params.autoStart=urlParams.autoStart;}
if(urlParams.debuggerID!=undefined){experience.params.debuggerID=urlParams.debuggerID;}
if(urlParams.forceHTML!=undefined&&urlParams.forceHTML!==''){experience.params.forceHTML=urlParams.forceHTML;}
if(urlParams.debug!=undefined&&urlParams.debug!==''){experience.params.debug=urlParams.debug;}
if(urlParams.showNoContentMessage!=undefined&&urlParams.showNoContentMessage!=''){experience.params.showNoContentMessage=urlParams.showNoContentMessage;}
var overrideContent=(urlParams.playerID.length<1&&urlParams.playerKey.length<1)||(urlParams.playerID==experience.params.playerID)||(urlParams.playerKey==experience.params.playerKey);if(overrideContent){if(urlParams.titleID.length>0){experience.params.videoID=urlParams.titleID;experience.params["@videoPlayer"]=urlParams.titleID;experience.params.autoStart=(experience.params.autoStart!="false"&&urlParams.autoStart!="false");}
if(urlParams.lineupID.length>0){experience.params.lineupID=urlParams.lineupID;}}
return experience;};brightcove.determinePlayerType=function(experience,flashSupport,htmlSupport){if(flashSupport==null&&htmlSupport==false){return brightcove.playerType.NO_SUPPORT;}
if(experience.params.forceHTML){if(window.console){var message="The forceHTML parameter was used for the Brightcove player. This value should ONLY be used for";message+=" development and testing purposes and is not supported in production environments.";console.log(message);}
return brightcove.playerType.HTML;}
if(flashSupport!=null){if(brightcove.isFlashVersionSufficient(experience,flashSupport)){return brightcove.playerType.FLASH;}else{return brightcove.playerType.INSTALLER;}}
if(htmlSupport){if(brightcove.isSupportedHTMLDevice()||experience.params.htmlFallback){return brightcove.playerType.HTML;}}
return brightcove.playerType.NO_SUPPORT;};brightcove.isFlashVersionSufficient=function(experience,flashSupport){if(flashSupport==null)return false;var setMajorVersion=false;var requestedMajorVersion;var requestedMajorRevision;var requestedMinorRevision;if(experience.params.majorVersion!=undefined){requestedMajorVersion=parseInt(experience.params.majorVersion,10);setMajorVersion=true;}else{requestedMajorVersion=brightcove.majorVersion;}
if(experience.params.majorRevision!=undefined){requestedMajorRevision=parseInt(experience.params.majorRevision,10);}else{if(setMajorVersion){requestedMajorRevision=0;}else{requestedMajorRevision=brightcove.majorRevision;}}
if(experience.params.minorRevision!=undefined){requestedMinorRevision=parseInt(experience.params.minorRevision,10);}else{if(setMajorVersion){requestedMinorRevision=0;}else{requestedMinorRevision=brightcove.minorRevision;}}
if(flashSupport.majorVersion>requestedMajorVersion||(flashSupport.majorVersion==requestedMajorVersion&&flashSupport.majorRevision>requestedMajorRevision)||(flashSupport.majorVersion==requestedMajorVersion&&flashSupport.majorRevision==requestedMajorRevision&&flashSupport.minorRevision>=requestedMinorRevision)){return true;}
return false;};brightcove.generateRequestUrl=function(experience,playerType,secureConnections){var file;if(playerType==brightcove.playerType.INSTALLER){file=brightcove.cdnURL+"/viewer/playerProductInstall.swf";var MMPlayerType=brightcove.isIE?"ActiveX":"PlugIn";document.title=document.title.slice(0,47)+" - Flash Player Installation";var MMdoctitle=document.title;file+="?&MMredirectURL="+window.location+'&MMplayerType='+MMPlayerType+'&MMdoctitle='+MMdoctitle;brightcove.reportUpgradeRequired(experience);}else{if(secureConnections){file=brightcove.getPubURL(brightcove.secureServicesURL,brightcove.pubSecureHost,experience.params.pubCode);}else{file=brightcove.getPubURL(brightcove.servicesURL,brightcove.pubHost,experience.params.pubCode);}
var servlet=(playerType==brightcove.playerType.HTML)?brightcove.servlet.HTML:brightcove.servlet.AS3;file+=('/viewer/'+servlet+'?'+brightcove.getOverrides());for(var config in experience.params){file+='&'+encodeURIComponent(config)+'='+encodeURIComponent(experience.params[config]);}}
return file;};brightcove.renderInstallGif=function(experience,secureConnections){var containerID='_container'+experience.id;var container=brightcove.createElement('span');if(experience.params.height.charAt(experience.params.height.length-1)=="%"){container.style.display='block';}else{container.style.display='inline-block';}
container.id=containerID;var cdnURL=secureConnections?brightcove.secureCDNURL:brightcove.cdnURL;var linkHTML="<a href='http://www.adobe.com/go/getflash/' target='_blank'><img src='"+cdnURL+"/viewer/upgrade_flash_player2.gif' alt='Get Flash Player' width='314' height='200' border='0'></a>";experience.parentNode.replaceChild(container,experience);document.getElementById(containerID).innerHTML=linkHTML;};brightcove.renderExperience=function(experience,file,playerType,secureConnections){var experienceElement;var experienceID=experience.id;var container;var containerID='_container'+experienceID;var timeout=brightcove.flashTimeoutInterval;if(experience.params.playerKey||experience.params.playerID||experience.params.playerId||experience.params.playerid){brightcove.experienceObjects[experienceID]=experience;var unminified=(brightcove.getParameter("unminified")=="true")||(experience.params.unminified==="true");if(experience.params.includeAPI==="true"&&!(brightcove._apiRequested||brightcove.api)){var source="/js/api/";if(unminified){source+="unminified/";}
source+="SmartPlayerAPI.js";var apiInclude=brightcove.createElement('script');apiInclude.type="text/javascript";var cdnURL=secureConnections?brightcove.secureCDNURL:brightcove.cdnURL;apiInclude.src=cdnURL+source;experience.parentNode.appendChild(apiInclude);brightcove._apiRequested=true;}
if(playerType===brightcove.playerType.FLASH){file+="&startTime="+new Date().getTime();}
if(playerType===brightcove.playerType.HTML){timeout=brightcove.htmlTimeoutInterval;file+="&startTime="+new Date().getTime();file+="&refURL="+(window.document.referrer?window.document.referrer:'not available');if(unminified){file+="&unminified=true";}
experienceElement=brightcove.createElement('iframe');experienceElement.id=experienceID;experienceElement.width=experience.params.width;experienceElement.height=experience.params.height;experienceElement.className=experience.className;experienceElement.frameborder=0;experienceElement.scrolling="no";experienceElement.style.borderStyle="none";experience.parentNode.replaceChild(experienceElement,experience);brightcove.experiences[experienceID]=experienceElement;experience.element=experienceElement;if(experience.params.videoID||experience.params.videoId){file+="&"+encodeURIComponent("@videoPlayer")+"="+encodeURIComponent(experience.params.videoID||experience.params.videoId);}
experienceElement.src=file;}else{if(brightcove.isIE){container=brightcove.createElement('span');if(experience.params.height.charAt(experience.params.height.length-1)=="%"){container.style.display='block';}else{container.style.display='inline-block';}
container.id=containerID;experience.flashParams.movie=file;var options='';for(var pOption in experience.flashParams){options+='<param name="'+pOption+'" value="'+experience.flashParams[pOption]+'" />';}
var protocol=secureConnections?"https":"http";var experienceHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'
+' codebase="'+protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version='+brightcove.majorVersion+','+brightcove.majorRevision+','+brightcove.minorRevision+',0"'
+' id="'+experienceID+'"'
+' width="'+experience.params.width+'"'
+' height="'+experience.params.height+'"'
+' type="application/x-shockwave-flash"'
+' class="BrightcoveExperience">'
+options
+'</object>';experience.parentNode.replaceChild(container,experience);document.getElementById(containerID).innerHTML=experienceHTML;brightcove.experiences[experienceID]=container;}else{experienceElement=brightcove.createElement('object');experienceElement.type='application/x-shockwave-flash';experienceElement.data=file;experienceElement.id=experience.params.flashID;experienceElement.width=experience.params.width;experienceElement.height=experience.params.height;experienceElement.className=experience.className;experienceElement.setAttribute("seamlesstabbing",experience.flashParams.seamlessTabbing);var tempParam;for(var config in experience.flashParams){tempParam=brightcove.createElement('param');tempParam.name=config;tempParam.value=experience.flashParams[config];experienceElement.appendChild(tempParam);}
experience.parentNode.replaceChild(experienceElement,experience);brightcove.experiences[experienceID]=experienceElement;}}
brightcove.timeouts[experience.id]=setTimeout(function(){brightcove.handleExperienceTimeout(experienceID);},timeout);}};brightcove.handleExperienceTimeout=function(pID){brightcove.executeErrorHandlerForExperience(brightcove.experienceObjects[pID],{type:"templateError",errorType:"serviceUnavailable",code:brightcove.errorCodes.SERVICE_UNAVAILABLE,info:pID});};brightcove.reportPlayerLoad=function(pID){var timeout=brightcove.timeouts[pID];if(timeout){clearTimeout(timeout);}};brightcove.reportUpgradeRequired=function(pExperience){brightcove.executeErrorHandlerForExperience(pExperience,{type:"templateError",errorType:"upgradeRequiredForPlayer",code:brightcove.errorCodes.UPGRADE_REQUIRED_FOR_PLAYER,info:pExperience.id});};brightcove.checkFlashSupport=function(){var isIE=(window.ActiveXObject!=undefined);var versions=(isIE)?brightcove.checkFlashSupportIE():brightcove.checkFlashSupportStandard();return versions;};brightcove.checkFlashSupportIE=function(){var versions;try{var flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");var version=flash.GetVariable('$version');versions=/ ([0-9]+),([0-9]+),([0-9]+),/.exec(version);}catch(exception){return null;}
return{majorVersion:versions[1],majorRevision:versions[2],minorRevision:versions[3]};};brightcove.checkFlashSupportStandard=function(){var versions;var majorVersion;var majorRevision;var minorRevision;try{if(typeof navigator.plugins!='undefined'&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swfVersion=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var description=navigator.plugins["Shockwave Flash"+swfVersion].description;var filename=navigator.plugins["Shockwave Flash"+swfVersion].filename;if(filename.match){if(filename.toLowerCase().match(/lite/)){throw new Error();}}
versions=description.split(" ");majorVersion=versions[2].split(".")[0];majorRevision=versions[2].split(".")[1];minorRevision=versions[3];if(minorRevision==""){minorRevision=versions[4];}
if(minorRevision[0]=="d"){minorRevision=minorRevision.substring(1);}else if(minorRevision[0]=="r"){minorRevision=minorRevision.substring(1);if(minorRevision.indexOf("d")>0){minorRevision=minorRevision.substring(0,minorRevision.indexOf("d"));}}}else{throw new Error();}}else{return null;}}catch(exception){return null;}
return{majorVersion:majorVersion,majorRevision:majorRevision,minorRevision:minorRevision};};brightcove.checkHtmlSupport=function(){var v=brightcove.createElement('video');var c=brightcove.createElement('canvas');var videoSupport=true;if(!brightcove.userAgent.match(new RegExp("android","i"))){videoSupport=!!(v.canPlayType&&v.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,''));}
if(brightcove.userAgent.match(/BlackBerry.*Version\/6\.0/)){return false;}
var canvasSupport=!!brightcove.createElement('canvas').getContext;return videoSupport&&canvasSupport;};brightcove.isSupportedHTMLDevice=function(pUAString){var types=["iPad","iPhone","iPod","android","Silk"];var numTypes=types.length;var uaString=pUAString||brightcove.userAgent;for(var i=0;i<numTypes;i++){if(uaString.match(new RegExp(types[i],"i"))){return true;}}
return false;};brightcove.getTechnology=function(pExperienceId){for(var id in brightcove.experiences){if(pExperienceId==id){return(brightcove.experiences[id].tagName=="object")?brightcove.playerType.FLASH:brightcove.playerType.HTML;}}
return brightcove.playerType.NO_SUPPORT;};brightcove.respondToMessages=function(pMessage){if(brightcove.verifyMessage(pMessage)){var messageParts=pMessage.data.split("::");var type=messageParts[1];var messageJson=messageParts[2].split("\n").join(" ");var messageDataObject;if(window.JSON){messageDataObject=window.JSON.parse(messageJson);}else{messageDataObject=brightcove.json_parse(messageJson);}
switch(type){case"error":brightcove.executeMessageCallback(messageDataObject,brightcove.executeErrorHandlerForExperience);break;case"api":brightcove.handleAPICallForHTML(messageDataObject);break;case"handler":var event=brightcove.internal._convertDates(messageDataObject.event);try{brightcove.internal._handlers[messageDataObject.handler](event);}catch(e){}
break;case"asyncGetter":var data=brightcove.internal._convertDates(messageDataObject.data);brightcove.internal._handlers[messageDataObject.handler](data);break;}}};brightcove.verifyMessage=function(pMessage){return pMessage.data.match(/brightcove.player/);};brightcove.handleAPICallForHTML=function(pMessageObject){var experience=brightcove.experienceObjects[pMessageObject.id];if(experience==null){return;}
var id=experience.id;var method=pMessageObject.method;switch(method){case"initializeBridge":brightcove.reportPlayerLoad(id);if(pMessageObject.arguments[0]){if(brightcove.internal!=null){brightcove.internal._setAPICallback(id,null,pMessageObject.arguments[1]);brightcove.callHandlerForPlayer(experience,"templateLoadHandler",id);}else if(brightcove._apiRequested){brightcove._queuedAPICalls.push(pMessageObject);}}
break;case"callTemplateReady":if(brightcove._apiRequested&&!brightcove.internal){brightcove._queuedAPICalls.push(pMessageObject);}else{var event=pMessageObject.arguments;brightcove._addModuleToEvent(id,event);brightcove.callHandlerForPlayer(experience,"templateReadyHandler",event);}
break;}};brightcove._addModuleToEvent=function(pID,pEvent){if(pEvent.type!=null&&brightcove.api){var experience=brightcove.api.getExperience(pID);if(experience){var module=experience.getModule("experience");pEvent.target=module;}}};brightcove.callHandlerForPlayer=function(pExperience,pHandler,pArgument){if(pExperience&&pExperience.params&&pExperience.params[pHandler]){var namespaceArray=pExperience.params[pHandler].split(".");var namespaces;if((namespaces=namespaceArray.length)>1){var trace=window;for(var i=0;i<namespaces;i++){trace=trace[namespaceArray[i]];}
if(typeof trace==="function"){trace(pArgument);}}else{window[pExperience.params[pHandler]](pArgument);}}};brightcove.executeErrorHandlerForExperience=function(pExperience,pErrorObject){brightcove.callHandlerForPlayer(pExperience,"templateErrorHandler",pErrorObject);};brightcove.executeMessageCallback=function(pMessageDataObject,pCallback){var experience;for(var experienceKey in brightcove.experienceObjects){experience=brightcove.experienceObjects[experienceKey];if(experience.element.src===pMessageDataObject.__srcUrl){delete pMessageDataObject.__srcUrl;pCallback(experience,pMessageDataObject);break;}}};brightcove.createExperience=function(pElement,pParentOrSibling,pAppend){if(!pElement.id||pElement.id.length<1){pElement.id='bcExperienceObj'+(brightcove.experienceNum++);}
if(pAppend){pParentOrSibling.appendChild(pElement);}else{pParentOrSibling.parentNode.insertBefore(pElement,pParentOrSibling);}
brightcove.createExperiences(null,pElement.id);};brightcove.removeExperience=function(pID){if(brightcove.experiences[pID]!=null){brightcove.experiences[pID].parentNode.removeChild(brightcove.experiences[pID]);}};brightcove.getURL=function(){var url;if(typeof window.location.search!='undefined'){url=window.location.search;}else{url=/(\?.*)$/.exec(document.location.href);}
return url;};brightcove.getOverrides=function(){var url=brightcove.getURL();var query=new RegExp('@[\\w\\.]+=[^&]+','g');var value=query.exec(url);var overrides="";while(value!=null){overrides+="&"+value;value=query.exec(url);}
return overrides;};brightcove.getParameter=function(pName,pDefaultValue){if(pDefaultValue==null)pDefaultValue="";var url=brightcove.getURL();var query=new RegExp(pName+'=([^&]*)');var value=query.exec(url);if(value!=null){return value[1];}else{return pDefaultValue;}};brightcove.createElement=function(el){if(document.createElementNS){return document.createElementNS('http://www.w3.org/1999/xhtml',el);}else{return document.createElement(el);}};brightcove.i18n={'BROWSER_TOO_OLD':'The browser you are using is too old. Please upgrade to the latest version of your browser.'};brightcove.removeListeners=function(){if(/KHTML/i.test(navigator.userAgent)){clearInterval(checkLoad);document.removeEventListener('load',brightcove.createExperiences,false);}
if(typeof document.addEventListener!='undefined'){document.removeEventListener('DOMContentLoaded',brightcove.createExperiences,false);document.removeEventListener('load',brightcove.createExperiences,false);}else if(typeof window.attachEvent!='undefined'){window.detachEvent('onload',brightcove.createExperiences);}};brightcove.getPubURL=function(source,host,pubCode){if(!pubCode||pubCode=="")return source;var re=/^([htps]{4,5}\:\/\/)([^\/\:]+)/i;host=host.replace("$pubcode$",pubCode).replace("$zoneprefix$$zone$",brightcove.pubSubdomain);return source.replace(re,"$1"+host);};brightcove.createExperiencesPostLoad=function(){brightcove.removeListeners();brightcove.createExperiences();};brightcove.encode=function(string){string=escape(string);string=string.replace(/\+/g,"%2B");string=string.replace(/\-/g,"%2D");string=string.replace(/\*/g,"%2A");string=string.replace(/\//g,"%2F");string=string.replace(/\./g,"%2E");string=string.replace(/_/g,"%5F");string=string.replace(/@/g,"%40");return string;};if(/KHTML/i.test(navigator.userAgent)){var checkLoad=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(checkLoad);brightcove.createExperiencesPostLoad();}},70);document.addEventListener('load',brightcove.createExperiencesPostLoad,false);}
if(typeof document.addEventListener!='undefined'){document.addEventListener('DOMContentLoaded',brightcove.createExperiencesPostLoad,false);document.addEventListener('load',brightcove.createExperiencesPostLoad,false);window.addEventListener("message",brightcove.respondToMessages,false);}else if(typeof window.attachEvent!='undefined'){window.attachEvent('onload',brightcove.createExperiencesPostLoad);}else{alert(brightcove.i18n.BROWSER_TOO_OLD);}}
brightcove.json_parse=(function(){"use strict";var state,stack,container,key,value,escapes={'\\':'\\','"':'"','/':'/','t':'\t','n':'\n','r':'\r','f':'\f','b':'\b'},string={go:function(){state='ok';},firstokey:function(){key=value;state='colon';},okey:function(){key=value;state='colon';},ovalue:function(){state='ocomma';},firstavalue:function(){state='acomma';},avalue:function(){state='acomma';}},number={go:function(){state='ok';},ovalue:function(){state='ocomma';},firstavalue:function(){state='acomma';},avalue:function(){state='acomma';}},action={'{':{go:function(){stack.push({state:'ok'});container={};state='firstokey';},ovalue:function(){stack.push({container:container,state:'ocomma',key:key});container={};state='firstokey';},firstavalue:function(){stack.push({container:container,state:'acomma'});container={};state='firstokey';},avalue:function(){stack.push({container:container,state:'acomma'});container={};state='firstokey';}},'}':{firstokey:function(){var pop=stack.pop();value=container;container=pop.container;key=pop.key;state=pop.state;},ocomma:function(){var pop=stack.pop();container[key]=value;value=container;container=pop.container;key=pop.key;state=pop.state;}},'[':{go:function(){stack.push({state:'ok'});container=[];state='firstavalue';},ovalue:function(){stack.push({container:container,state:'ocomma',key:key});container=[];state='firstavalue';},firstavalue:function(){stack.push({container:container,state:'acomma'});container=[];state='firstavalue';},avalue:function(){stack.push({container:container,state:'acomma'});container=[];state='firstavalue';}},']':{firstavalue:function(){var pop=stack.pop();value=container;container=pop.container;key=pop.key;state=pop.state;},acomma:function(){var pop=stack.pop();container.push(value);value=container;container=pop.container;key=pop.key;state=pop.state;}},':':{colon:function(){if(Object.hasOwnProperty.call(container,key)){throw new SyntaxError('Duplicate key "'+key+'"');}
state='ovalue';}},',':{ocomma:function(){container[key]=value;state='okey';},acomma:function(){container.push(value);state='avalue';}},'true':{go:function(){value=true;state='ok';},ovalue:function(){value=true;state='ocomma';},firstavalue:function(){value=true;state='acomma';},avalue:function(){value=true;state='acomma';}},'false':{go:function(){value=false;state='ok';},ovalue:function(){value=false;state='ocomma';},firstavalue:function(){value=false;state='acomma';},avalue:function(){value=false;state='acomma';}},'null':{go:function(){value=null;state='ok';},ovalue:function(){value=null;state='ocomma';},firstavalue:function(){value=null;state='acomma';},avalue:function(){value=null;state='acomma';}}};function debackslashify(text){return text.replace(/\\(?:u(.{4})|([^u]))/g,function(a,b,c){return b?String.fromCharCode(parseInt(b,16)):escapes[c];});}
return function(source,reviver){var r,tx=/^[\x20\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;state='go';stack=[];try{for(;;){r=tx.exec(source);if(!r){break;}
if(r[1]){action[r[1]][state]();}else if(r[2]){value=+r[2];number[state]();}else{value=debackslashify(r[3]);string[state]();}
source=source.slice(r[0].length);}}catch(e){state=e;}
if(state!=='ok'||(/[^\x20\t\n\r]/).test(source)){throw state instanceof SyntaxError?state:new SyntaxError('JSON');}
return typeof reviver==='function'?(function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}({'':value},'')):value;};}());;
window._require=window.require,window.require=void 0,window._define=window.define,window.define=void 0,require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===f||b===k?62:b===g||b===l?63:b<h?-1:b<h+10?b-h+26+26:b<j+26?b-j:b<i+26?b-i+26:void 0}function c(a){function c(a){j[l++]=a}var d,f,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new e(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,f=0;d<g;d+=4,f+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function d(a){function b(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a)}var c,d,e,f=a.length%3,g="";for(c=0,e=a.length-f;c<e;c+=3)d=(a[c]<<16)+(a[c+1]<<8)+a[c+2],g+=function(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}(d);switch(f){case 1:d=a[a.length-1],g+=b(d>>2),g+=b(d<<4&63),g+="==";break;case 2:d=(a[a.length-2]<<8)+a[a.length-1],g+=b(d>>10),g+=b(d>>4&63),g+=b(d<<2&63),g+="="}return g}var e="undefined"!=typeof Uint8Array?Uint8Array:Array,f="+".charCodeAt(0),g="/".charCodeAt(0),h="0".charCodeAt(0),i="a".charCodeAt(0),j="A".charCodeAt(0),k="-".charCodeAt(0),l="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=d}(void 0===c?this.base64js={}:c)},{}],2:[function(a,b,c){(function(b){"use strict";function d(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(a){return this instanceof e?(e.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof a?f(this,a):"string"==typeof a?g(this,a,arguments.length>1?arguments[1]:"utf8"):h(this,a)):arguments.length>1?new e(a,arguments[1]):new e(a)}function f(a,b){if(a=o(a,b<0?0:0|p(b)),!e.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;c++)a[c]=0;return a}function g(a,b,c){return"string"==typeof c&&""!==c||(c="utf8"),a=o(a,0|r(b,c)),a.write(b,c),a}function h(a,b){if(e.isBuffer(b))return i(a,b);if(X(b))return j(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return k(a,b);if(b instanceof ArrayBuffer)return l(a,b)}return b.length?m(a,b):n(a,b)}function i(a,b){var c=0|p(b.length);return a=o(a,c),b.copy(a,0,0,c),a}function j(a,b){var c=0|p(b.length);a=o(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function k(a,b){var c=0|p(b.length);a=o(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function l(a,b){return e.TYPED_ARRAY_SUPPORT?(b.byteLength,a=e._augment(new Uint8Array(b))):a=k(a,new Uint8Array(b)),a}function m(a,b){var c=0|p(b.length);a=o(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function n(a,b){var c,d=0;"Buffer"===b.type&&X(b.data)&&(c=b.data,d=0|p(c.length)),a=o(a,d);for(var e=0;e<d;e+=1)a[e]=255&c[e];return a}function o(a,b){return e.TYPED_ARRAY_SUPPORT?(a=e._augment(new Uint8Array(b)),a.__proto__=e.prototype):(a.length=b,a._isBuffer=!0),0!==b&&b<=e.poolSize>>>1&&(a.parent=Y),a}function p(a){if(a>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|a}function q(a,b){if(!(this instanceof q))return new q(a,b);var c=new e(a,b);return delete c.parent,c}function r(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return Q(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return T(a).length;default:if(d)return Q(a).length;b=(""+b).toLowerCase(),d=!0}}function s(a,b,c){var d=!1;if(b|=0,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),b<0&&(b=0),c>this.length&&(c=this.length),c<=b)return"";for(;;)switch(a){case"hex":return E(this,b,c);case"utf8":case"utf-8":return A(this,b,c);case"ascii":return C(this,b,c);case"binary":return D(this,b,c);case"base64":return z(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function t(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function u(a,b,c,d){return U(Q(b,a.length-c),a,c,d)}function v(a,b,c,d){return U(R(b),a,c,d)}function w(a,b,c,d){return v(a,b,c,d)}function x(a,b,c,d){return U(T(b),a,c,d)}function y(a,b,c,d){return U(S(b,a.length-c),a,c,d)}function z(a,b,c){return 0===b&&c===a.length?V.fromByteArray(a):V.fromByteArray(a.slice(b,c))}function A(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128==(192&i)&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return B(d)}function B(a){var b=a.length;if(b<=Z)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=Z));return c}function C(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(127&a[e]);return d}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(a[e]);return d}function E(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;f++)e+=P(a[f]);return e}function F(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function G(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function H(a,b,c,d,f,g){if(!e.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>f||b<g)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function I(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function J(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function K(a,b,c,d,e,f){if(b>e||b<f)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(c<0)throw new RangeError("index out of range")}function L(a,b,c,d,e){return e||K(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(a,b,c,d,23,4),c+4}function M(a,b,c,d,e){return e||K(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(a,b,c,d,52,8),c+8}function N(a){if(a=O(a).replace(_,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function O(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function P(a){return a<16?"0"+a.toString(16):a.toString(16)}function Q(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;g++){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function R(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function S(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function T(a){return V.toByteArray(N(a))}function U(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var V=a("base64-js"),W=a("ieee754"),X=a("isarray");c.Buffer=e,c.SlowBuffer=q,c.INSPECT_MAX_BYTES=50,e.poolSize=8192;var Y={};e.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:function(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(a){return!1}}(),e.TYPED_ARRAY_SUPPORT?(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array):(e.prototype.length=void 0,e.prototype.parent=void 0),e.isBuffer=function(a){return!(null==a||!a._isBuffer)},e.compare=function(a,b){if(!e.isBuffer(a)||!e.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,f=0,g=Math.min(c,d);f<g&&a[f]===b[f];)++f;return f!==g&&(c=a[f],d=b[f]),c<d?-1:d<c?1:0},e.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(a,b){if(!X(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new e(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new e(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,f),f+=g.length}return d},e.byteLength=r,e.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?A(this,0,a):s.apply(this,arguments)},e.prototype.equals=function(a){if(!e.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===e.compare(this,a)},e.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},e.prototype.compare=function(a){if(!e.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:e.compare(this,a)},e.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(b<0&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(e.isBuffer(a))return c(this,a,b);if("number"==typeof a)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},e.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},e.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return t(this,a,b,c);case"utf8":case"utf-8":return u(this,a,b,c);case"ascii":return v(this,a,b,c);case"binary":return w(this,a,b,c);case"base64":return x(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;e.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(e.TYPED_ARRAY_SUPPORT)d=e._augment(this.subarray(a,b));else{var f=b-a;d=new e(f,void 0);for(var g=0;g<f;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},e.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||G(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},e.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||G(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},e.prototype.readUInt8=function(a,b){return b||G(a,1,this.length),this[a]},e.prototype.readUInt16LE=function(a,b){return b||G(a,2,this.length),this[a]|this[a+1]<<8},e.prototype.readUInt16BE=function(a,b){return b||G(a,2,this.length),this[a]<<8|this[a+1]},e.prototype.readUInt32LE=function(a,b){return b||G(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},e.prototype.readUInt32BE=function(a,b){return b||G(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},e.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||G(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},e.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||G(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},e.prototype.readInt8=function(a,b){return b||G(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},e.prototype.readInt16LE=function(a,b){b||G(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},e.prototype.readInt16BE=function(a,b){b||G(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},e.prototype.readInt32LE=function(a,b){return b||G(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},e.prototype.readInt32BE=function(a,b){return b||G(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},e.prototype.readFloatLE=function(a,b){return b||G(a,4,this.length),W.read(this,a,!0,23,4)},e.prototype.readFloatBE=function(a,b){return b||G(a,4,this.length),W.read(this,a,!1,23,4)},e.prototype.readDoubleLE=function(a,b){return b||G(a,8,this.length),W.read(this,a,!0,52,8)},e.prototype.readDoubleBE=function(a,b){return b||G(a,8,this.length),W.read(this,a,!1,52,8)},e.prototype.writeUIntLE=function(a,b,c,d){a=+a,b|=0,c|=0,d||H(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},e.prototype.writeUIntBE=function(a,b,c,d){a=+a,b|=0,c|=0,d||H(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},e.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,1,255,0),e.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},e.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):I(this,a,b,!0),b+2},e.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):I(this,a,b,!1),b+2},e.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):J(this,a,b,!0),b+4},e.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):J(this,a,b,!1),b+4},e.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);H(this,a,b,c,e-1,-e)}var f=0,g=1,h=a<0?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},e.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);H(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=a<0?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},e.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,1,127,-128),e.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},e.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):I(this,a,b,!0),b+2},e.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):I(this,a,b,!1),b+2},e.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):J(this,a,b,!0),b+4},e.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||H(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):J(this,a,b,!1),b+4},e.prototype.writeFloatLE=function(a,b,c){return L(this,a,b,!0,c)},e.prototype.writeFloatBE=function(a,b,c){return L(this,a,b,!1,c)},e.prototype.writeDoubleLE=function(a,b,c){return M(this,a,b,!0,c)},e.prototype.writeDoubleBE=function(a,b,c){return M(this,a,b,!1,c)},e.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var f,g=d-c;if(this===a&&c<b&&b<d)for(f=g-1;f>=0;f--)a[f+b]=this[f+c];else if(g<1e3||!e.TYPED_ARRAY_SUPPORT)for(f=0;f<g;f++)a[f+b]=this[f+c];else a._set(this.subarray(c,c+g),b);return g},e.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),c<b)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(b<0||b>=this.length)throw new RangeError("start out of bounds");if(c<0||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;d<c;d++)this[d]=a;else{var e=Q(a.toString()),f=e.length;for(d=b;d<c;d++)this[d]=e[d%f]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;b<c;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=e.prototype;e._augment=function(a){return a.constructor=e,a._isBuffer=!0,a._set=a.set,a.get=$.get,a.set=$.set,a.write=$.write,a.toString=$.toString,a.toLocaleString=$.toString,a.toJSON=$.toJSON,a.equals=$.equals,a.compare=$.compare,a.indexOf=$.indexOf,a.copy=$.copy,a.slice=$.slice,a.readUIntLE=$.readUIntLE,a.readUIntBE=$.readUIntBE,a.readUInt8=$.readUInt8,a.readUInt16LE=$.readUInt16LE,a.readUInt16BE=$.readUInt16BE,a.readUInt32LE=$.readUInt32LE,a.readUInt32BE=$.readUInt32BE,a.readIntLE=$.readIntLE,a.readIntBE=$.readIntBE,a.readInt8=$.readInt8,a.readInt16LE=$.readInt16LE,a.readInt16BE=$.readInt16BE,a.readInt32LE=$.readInt32LE,a.readInt32BE=$.readInt32BE,a.readFloatLE=$.readFloatLE,a.readFloatBE=$.readFloatBE,a.readDoubleLE=$.readDoubleLE,a.readDoubleBE=$.readDoubleBE,a.writeUInt8=$.writeUInt8,a.writeUIntLE=$.writeUIntLE,a.writeUIntBE=$.writeUIntBE,a.writeUInt16LE=$.writeUInt16LE,a.writeUInt16BE=$.writeUInt16BE,a.writeUInt32LE=$.writeUInt32LE,a.writeUInt32BE=$.writeUInt32BE,a.writeIntLE=$.writeIntLE,a.writeIntBE=$.writeIntBE,a.writeInt8=$.writeInt8,a.writeInt16LE=$.writeInt16LE,a.writeInt16BE=$.writeInt16BE,a.writeInt32LE=$.writeInt32LE,a.writeInt32BE=$.writeInt32BE,a.writeFloatLE=$.writeFloatLE,a.writeFloatBE=$.writeFloatBE,a.writeDoubleLE=$.writeDoubleLE,a.writeDoubleBE=$.writeDoubleBE,a.fill=$.fill,a.inspect=$.inspect,a.toArrayBuffer=$.toArrayBuffer,a};var _=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:5,isarray:7}],3:[function(a,b,c){"use strict";function d(a){return a.replace(/[A-Z](?:(?=[^A-Z])|[A-Z]*(?=[A-Z][^A-Z]|$))/g,function(a,b){return(b>0?"-":"")+a.toLowerCase()})}function e(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}function f(a,b,c){if(a.reduce)return a.reduce(b,c);for(var d=0;d<a.length;d++)c=b(c,a[d],d);return c}function g(a){return a&&"object"==typeof a?i(a)||j(a)?a:h(a)?e(a,g):f(l(a),function(b,c){return b[d(c)]=g(a[c]),b},{}):a}var h=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},i=function(a){return"[object Date]"===Object.prototype.toString.call(a)},j=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},k=Object.prototype.hasOwnProperty,l=Object.keys||function(a){var b=[];for(var c in a)k.call(a,c)&&b.push(c);return b};b.exports=function(a){return"string"==typeof a?d(a):g(a)}},{}],4:[function(a,b,c){!function(b,d){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(a,c,e){b.Backbone=b.Exoskeleton=d(b,e,a,c)});else if(void 0!==c){var e,f;try{e=a("underscore")}catch(a){}try{f=a("jquery")}catch(a){}d(b,c,e,f)}else b.Backbone=b.Exoskeleton=d(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)}(this,function(a,b,c,d){"use strict";var e=a.Backbone,f=a.Exoskeleton,g=b.utils=c=c||{};b.$=d;var h=[],i=h.slice,j={}.toString;b.noConflict=function(){return a.Backbone=e,a.Exoskeleton=f,this},b.extend=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};var k=function(){throw new Error('A "url" property or function must be specified')},l=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}},m=function(a){return"function"==typeof c[a]};g.result=function(a,b){var c=a?a[b]:void 0;return"function"==typeof c?a[b]():c},g.defaults=function(a){return i.call(arguments,1).forEach(function(b){for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},g.extend=function(a){return i.call(arguments,1).forEach(function(b){for(var c in b)a[c]=b[c]}),a};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};g.escape=function(a){return null==a?"":String(a).replace(/[&<>"']/g,function(a){return n[a]})},g.sortBy=function(a,b,c){var d="function"==typeof b?b:function(a){return a[b]};return a.map(function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}).map(function(a){return a.value})};var o=0;g.uniqueId=function(a){var b=++o+"";return a?a+b:b},g.has=function(a,b){return Object.hasOwnProperty.call(a,b)};var p=function(a,b,d,e){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;var f=j.call(a);if(f!=j.call(b))return!1;switch(f){case"[object String]":return a==String(b);case"[object Number]":return a!==+a?b!==+b:0===a?1/a==1/b:a===+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var g=d.length;g--;)if(d[g]==a)return e[g]==b;var h=a.constructor,i=b.constructor;if(h!==i&&!("function"==typeof h&&h instanceof h&&"function"==typeof i&&i instanceof i))return!1;d.push(a),e.push(b);var k=0,l=!0;if("[object Array]"===f){if(k=a.length,l=k===b.length)for(;k--&&(l=p(a[k],b[k],d,e)););}else{for(var m in a)if(c.has(a,m)&&(k++,!(l=c.has(b,m)&&p(a[m],b[m],d,e))))break;if(l){for(m in b)if(c.has(b,m)&&!k--)break;l=!k}}return d.pop(),e.pop(),l};g.isEqual=function(a,b){return p(a,b,[],[])};var q=b.Events={on:function(a,b,c){return s(this,"on",a,[b,c])&&b?(this._events||(this._events={}),(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this}),this):this},once:function(a,b,c){if(!s(this,"once",a,[b,c])||!b)return this;var d,e=this,f=function(){d||(d=!0,e.off(a,f),b.apply(this,arguments))};return f._callback=b,this.on(a,f,c)},off:function(a,b,c){var d,e,f,g,h,i,j,k;if(!this._events||!s(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events=void 0,this;for(g=a?[a]:Object.keys(this._events),h=0,i=g.length;h<i;h++)if(a=g[h],f=this._events[a]){if(this._events[a]=d=[],b||c)for(j=0,k=f.length;j<k;j++)e=f[j],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=i.call(arguments,1);if(!s(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&t(c,b),d&&t(d,arguments),this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var e=!b&&!c;c||"object"!=typeof b||(c=this),a&&((d={})[a._listenId]=a);for(var f in d)a=d[f],a.off(b,c,this),!e&&Object.keys(a._events).length||delete this._listeningTo[f];return this}},r=/\s+/,s=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(r.test(c)){for(var f=c.split(r),g=0,h=f.length;g<h;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},t=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},u={listenTo:"on",listenToOnce:"once"};Object.keys(u).forEach(function(a){var b=u[a];q[a]=function(a,d,e){return(this._listeningTo||(this._listeningTo={}))[a._listenId||(a._listenId=c.uniqueId("l"))]=a,e||"object"!=typeof d||(e=this),a[b](d,e,this),this}}),q.bind=q.on,q.unbind=q.off,c.extend(b,q);var v=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes=Object.create(null),b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed=Object.create(null),this.initialize.apply(this,arguments)};if(c.extend(v.prototype,q,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.extend({},this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.extend(Object.create(null),this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;m<n;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!!Object.keys(this.changed).length:c.has(this.changed,a)},changedAttributes:function(a){if(!a)return!!this.hasChanged()&&c.extend(Object.create(null),this.changed);var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.extend(Object.create(null),this._previousAttributes)},fetch:function(a){a=a?c.extend({},a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){if(!b.set(b.parse(c,a),a))return!1;d&&d(b,c,a),b.trigger("sync",b,c,a)},l(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend(Object.create(null),h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);if(d.wait&&(b=c.extend(e||{},b)),b&&"object"==typeof b&&!i.set(b,d))return!1;j&&j(i,a,d),i.trigger("sync",i,a,d)},l(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.extend({},a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;l(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||k();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend(Object.create(null),this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return!d||(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1)}}),c.keys){["keys","values","pairs","invert","pick","omit"].filter(m).forEach(function(a){v.prototype[a]=function(){var b=i.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}})}var w=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},x={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};if(c.extend(w.prototype,q,{model:void 0===v?null:v,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,y))},remove:function(a,b){var c=!Array.isArray(a);a=c?[a]:a.slice(),b||(b={});var d,e,f,g;for(d=0,e=a.length;d<e;d++)(g=a[d]=this.get(a[d]))&&(delete this._byId[g.id],delete this._byId[g.cid],f=this.indexOf(g),this.models.splice(f,1),this.length--,b.silent||(b.index=f,g.trigger("remove",g,this,b)),this._removeReference(g,b));return c?a[0]:a},set:function(a,b){b=c.defaults({},b,x),b.parse&&(a=this.parse(a,b));var d=!Array.isArray(a);a=d?a?[a]:[]:a.slice();var e,f,g,h,i,j,k,l=b.at,m=this.model,n=this.comparator&&null==l&&!1!==b.sort,o="string"==typeof this.comparator?this.comparator:null,p=[],q=[],r={},s=b.add,t=b.merge,u=b.remove,w=!(n||!s||!u)&&[];for(e=0,f=a.length;e<f;e++){if(i=a[e]||{},
g=i instanceof v?h=i:i[m.prototype.idAttribute||"id"],j=this.get(g))u&&(r[j.cid]=!0),t&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),n&&!k&&j.hasChanged(o)&&(k=!0)),a[e]=j;else if(s){if(!(h=a[e]=this._prepareModel(i,b)))continue;p.push(h),this._addReference(h,b)}h=j||h,!w||!h.isNew()&&r[h.id]||w.push(h),r[h.id]=!0}if(u){for(e=0,f=this.length;e<f;++e)r[(h=this.models[e]).cid]||q.push(h);q.length&&this.remove(q,b)}if(p.length||w&&w.length)if(n&&(k=!0),this.length+=p.length,null!=l)for(e=0,f=p.length;e<f;e++)this.models.splice(l+e,0,p[e]);else{w&&(this.models.length=0);var y=w||p;for(e=0,f=y.length;e<f;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=p.length;e<f;e++)(h=p[e]).trigger("add",h,this,b);(k||w&&w.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;d<e;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return i.apply(this.models,arguments)},get:function(a){if(null!=a)return this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return a&&Object.keys(a).length?this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0}):b?void 0:[]},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),"string"==typeof this.comparator||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(this.comparator.bind(this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return this.models.map(function(b){return b.get(a)})},fetch:function(a){a=a?c.extend({},a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},l(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.extend({},b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId=Object.create(null)},_prepareModel:function(a,b){if(a instanceof v)return a;b=c.extend({},b),b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a,b){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}}),m("each")){["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"].filter(m).forEach(function(a){w.prototype[a]=function(){var b=i.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});["groupBy","countBy","sortBy"].filter(m).forEach(function(a){w.prototype[a]=function(b,d){var e="function"==typeof b?b:function(a){return a.get(b)};return c[a](this.models,e,d)}})}else["forEach","map","filter","some","every","reduce","reduceRight","indexOf","lastIndexOf"].forEach(function(a){w.prototype[a]=function(b,c){return this.models[a](b,c)}}),w.prototype.find=function(a,b){var c;return this.some(function(d,e,f){if(a.call(b,d,e,f))return c=d,!0}),c},["sortBy"].forEach(function(a){w.prototype[a]=function(b,d){var e="function"==typeof b?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var z=b.View=function(a){this.cid=c.uniqueId("view"),a&&Object.keys(a).forEach(function(b){-1!==B.indexOf(b)&&(this[b]=a[b])},this),this._ensureElement(),this.initialize.apply(this,arguments)},A=/^(\S+)\s*(.*)$/,B=["model","collection","el","id","attributes","className","tagName","events"];c.extend(z.prototype,q,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(a){return this.undelegateEvents(),this._setElement(a),this.delegateEvents(),this},_setElement:function(a){this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0]},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];"function"!=typeof d&&(d=this[a[b]]);var e=b.match(A);this.delegate(e[1],e[2],d.bind(this))}return this},delegate:function(a,b,c){this.$el.on(a+".delegateEvents"+this.cid,b,c)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c)},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"));else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a.class=c.result(this,"className")),this.setElement(this._createElement(c.result(this,"tagName"))),this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}}),b.sync=function(a,d,e){e||(e={});var f=C[a],g={type:f,dataType:"json"};e.url||(g.url=c.result(d,"url")||k()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),"GET"!==g.type&&(g.processData=!1);var h=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,h,e),h};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var D=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,G=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g,I=function(a){return!!a&&("object"==typeof a&&"[object RegExp]"===j.call(a))};c.extend(D.prototype,q,{initialize:function(){},route:function(a,c,d){I(a)||(a=this._routeToRegExp(a)),"function"==typeof c&&(d=c,c=""),d||(d=this[c]);var e=this;return b.history.route(a,function(f){var g=e._extractParameters(a,f);e.execute(d,g),e.trigger.apply(e,["route:"+c].concat(g)),e.trigger("route",c,g),b.history.trigger("route",e,c,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=Object.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(H,"\\$&").replace(E,"(?:$1)?").replace(F,function(a,b){return b?a:"([^/?]+)"}).replace(G,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return c.map(function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var J=b.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},K=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,M=/\/$/,N=/[#].*$/;return J.started=!1,c.extend(J.prototype,q,{atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._wantsPushState||!this._wantsHashChange){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(M,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(K,"")},start:function(a){if(J.started)throw new Error("Backbone.history has already been started");J.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState;var b=this.getFragment();this.root=("/"+this.root+"/").replace(L,"/"),this._wantsPushState?window.addEventListener("popstate",this.checkUrl,!1):this._wantsHashChange&&window.addEventListener("hashchange",this.checkUrl,!1),this.fragment=b;var d=this.location;if(this._wantsHashChange&&this._wantsPushState&&this.atRoot()&&d.hash&&(this.fragment=this.getHash().replace(K,""),this.history.replaceState({},document.title,this.root+this.fragment)),!this.options.silent)return this.loadUrl()},stop:function(){window.removeEventListener("popstate",this.checkUrl),window.removeEventListener("hashchange",this.checkUrl),J.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){if(this.getFragment()===this.fragment)return!1;this.loadUrl()},loadUrl:function(a){return a=this.fragment=this.getFragment(a),this.handlers.some(function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!J.started)return!1;b&&!0!==b||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(N,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._wantsPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace)}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),["Model","Collection","Router","View","History"].forEach(function(a){var c=b[a];c&&(c.extend=b.extend)}),c.extend(b,q),J&&(b.history=new J),b})},{jquery:8,underscore:20}],5:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],6:[function(a,b,c){var d={};b.exports=function(a,b){if(!d[a]){d[a]=!0;var c=document.createElement("style");c.setAttribute("type","text/css"),"textContent"in c?c.textContent=a:c.styleSheet.cssText=a;var e=document.getElementsByTagName("head")[0];b&&b.prepend?e.insertBefore(c,e.childNodes[0]):e.appendChild(c)}}},{}],7:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],8:[function(a,b,c){!function(a,c){"object"==typeof b&&"object"==typeof b.exports?b.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=!!a&&"length"in a&&a.length,c=ea.type(a);return"function"!==c&&!ea.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a,b,c){if(ea.isFunction(b))return ea.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ea.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(oa.test(b))return ea.filter(b,a,c);b=ea.filter(b,a)}return ea.grep(a,function(a){return _.call(b,a)>-1!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b={};return ea.each(a.match(ta)||[],function(a,c){b[c]=!0}),b}function g(){X.removeEventListener("DOMContentLoaded",g),a.removeEventListener("load",g),ea.ready()}function h(){this.expando=ea.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Aa,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:za.test(c)?ea.parseJSON(c):c)}catch(a){}ya.set(a,b,c)}else c=void 0;return c}function j(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return ea.css(a,b,"")},i=h(),j=c&&c[3]||(ea.cssNumber[b]?"":"px"),k=(ea.cssNumber[b]||"px"!==j&&+i)&&Ca.exec(ea.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do{f=f||".5",k/=f,ea.style(a,b,k+j)}while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function k(a,b){var c=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&ea.nodeName(a,b)?ea.merge([a],c):c}function l(a,b){for(var c=0,d=a.length;c<d;c++)xa.set(a[c],"globalEval",!b||xa.get(b[c],"globalEval"))}function m(a,b,c,d,e){for(var f,g,h,i,j,m,n=b.createDocumentFragment(),o=[],p=0,q=a.length;p<q;p++)if((f=a[p])||0===f)if("object"===ea.type(f))ea.merge(o,f.nodeType?[f]:f);else if(Ja.test(f)){for(g=g||n.appendChild(b.createElement("div")),h=(Ga.exec(f)||["",""])[1].toLowerCase(),i=Ia[h]||Ia._default,g.innerHTML=i[1]+ea.htmlPrefilter(f)+i[2],m=i[0];m--;)g=g.lastChild;ea.merge(o,g.childNodes),g=n.firstChild,g.textContent=""}else o.push(b.createTextNode(f));for(n.textContent="",p=0;f=o[p++];)if(d&&ea.inArray(f,d)>-1)e&&e.push(f);else if(j=ea.contains(f.ownerDocument,f),g=k(n.appendChild(f),"script"),j&&l(g),c)for(m=0;f=g[m++];)Ha.test(f.type||"")&&c.push(f);return n}function n(){return!0}function o(){return!1}function p(){try{return X.activeElement}catch(a){}}function q(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)q(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),!1===e)e=o;else if(!e)return a;return 1===f&&(g=e,e=function(a){return ea().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=ea.guid++)),a.each(function(){ea.event.add(this,b,e,d,c)})}function r(a,b){return ea.nodeName(a,"table")&&ea.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function s(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function t(a){var b=Qa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function u(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(xa.hasData(a)&&(f=xa.access(a),g=xa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)ea.event.add(b,e,j[e][c])}ya.hasData(a)&&(h=ya.access(a),i=ea.extend({},h),ya.set(b,i))}}function v(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Fa.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function w(a,b,c,d){b=Z.apply([],b);var e,f,g,h,i,j,l=0,n=a.length,o=n-1,p=b[0],q=ea.isFunction(p);if(q||n>1&&"string"==typeof p&&!da.checkClone&&Pa.test(p))return a.each(function(e){var f=a.eq(e);q&&(b[0]=p.call(this,e,f.html())),w(f,b,c,d)});if(n&&(e=m(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(g=ea.map(k(e,"script"),s),h=g.length;l<n;l++)i=e,l!==o&&(i=ea.clone(i,!0,!0),h&&ea.merge(g,k(i,"script"))),c.call(a[l],i,l);if(h)for(j=g[g.length-1].ownerDocument,ea.map(g,t),l=0;l<h;l++)i=g[l],Ha.test(i.type||"")&&!xa.access(i,"globalEval")&&ea.contains(j,i)&&(i.src?ea._evalUrl&&ea._evalUrl(i.src):ea.globalEval(i.textContent.replace(Ra,"")))}return a}function x(a,b,c){for(var d,e=b?ea.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||ea.cleanData(k(d)),d.parentNode&&(c&&ea.contains(d.ownerDocument,d)&&l(k(d,"script")),d.parentNode.removeChild(d));return a}function y(a,b){var c=ea(b.createElement(a)).appendTo(b.body),d=ea.css(c[0],"display");return c.detach(),d}function z(a){var b=X,c=Ta[a];return c||(c=y(a,b),"none"!==c&&c||(Sa=(Sa||ea("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Sa[0].contentDocument,b.write(),b.close(),c=y(a,b),Sa.detach()),Ta[a]=c),c}function A(a,b,c){var d,e,f,g,h=a.style;return c=c||Wa(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||ea.contains(a.ownerDocument,a)||(g=ea.style(a,b)),c&&!da.pixelMarginRight()&&Va.test(g)&&Ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function B(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function C(a){if(a in bb)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=ab.length;c--;)if((a=ab[c]+b)in bb)return a}function D(a,b,c){var d=Ca.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=ea.css(a,c+Da[f],!0,e)),d?("content"===c&&(g-=ea.css(a,"padding"+Da[f],!0,e)),"margin"!==c&&(g-=ea.css(a,"border"+Da[f]+"Width",!0,e))):(g+=ea.css(a,"padding"+Da[f],!0,e),"padding"!==c&&(g+=ea.css(a,"border"+Da[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Wa(a),g="border-box"===ea.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=A(a,b,f),(e<0||null==e)&&(e=a.style[b]),Va.test(e))return e;d=g&&(da.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=xa.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ea(d)&&(f[g]=xa.access(d,"olddisplay",z(d.nodeName)))):(e=Ea(d),"none"===c&&e||xa.set(d,"olddisplay",e?c:ea.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function H(a,b,c,d,e){return new H.prototype.init(a,b,c,d,e)}function I(){return a.setTimeout(function(){cb=void 0}),cb=ea.now()}function J(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=Da[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function K(a,b,c){for(var d,e=(N.tweeners[b]||[]).concat(N.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function L(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&Ea(a),o=xa.get(a,"fxshow");c.queue||(h=ea._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,ea.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=ea.css(a,"display"),"inline"===("none"===j?xa.get(a,"olddisplay")||z(a.nodeName):j)&&"none"===ea.css(a,"float")&&(m.display="inline-block")),c.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],eb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!o||void 0===o[d])continue;n=!0}l[d]=o&&o[d]||ea.style(a,d)}else j=void 0;if(ea.isEmptyObject(l))"inline"===("none"===j?z(a.nodeName):j)&&(m.display=j);else{o?"hidden"in o&&(n=o.hidden):o=xa.access(a,"fxshow",{}),f&&(o.hidden=!n),n?ea(a).show():k.done(function(){ea(a).hide()}),k.done(function(){var b;xa.remove(a,"fxshow");for(b in l)ea.style(a,b,l[b])});for(d in l)g=K(n?o[d]:0,d,k),d in o||(o[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function M(a,b){var c,d,e,f,g;for(c in a)if(d=ea.camelCase(c),e=b[d],f=a[c],ea.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=ea.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function N(a,b,c){var d,e,f=0,g=N.prefilters.length,h=ea.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=cb||I(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ea.extend({},b),opts:ea.extend(!0,{specialEasing:{},easing:ea.easing._default},c),originalProperties:b,originalOptions:c,startTime:cb||I(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ea.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(M(k,j.opts.specialEasing);f<g;f++)if(d=N.prefilters[f].call(j,a,k,j.opts))return ea.isFunction(d.stop)&&(ea._queueHooks(j.elem,j.opts.queue).stop=ea.proxy(d.stop,d)),d;return ea.map(k,K,j),ea.isFunction(j.opts.start)&&j.opts.start.call(a,j),ea.fx.timer(ea.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function O(a){return a.getAttribute&&a.getAttribute("class")||""}function P(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ta)||[];if(ea.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Q(a,b,c,d){function e(h){var i;return f[h]=!0,ea.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===yb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function R(a,b){var c,d,e=ea.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&ea.extend(!0,a,d),a}function S(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function T(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function U(a,b,c,d){var e;if(ea.isArray(b))ea.each(b,function(b,e){c||Cb.test(a)?d(a,e):U(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==ea.type(b))d(a,b);else for(e in b)U(a+"["+e+"]",b[e],c,d)}function V(a){return ea.isWindow(a)?a:9===a.nodeType&&a.defaultView}var W=[],X=a.document,Y=W.slice,Z=W.concat,$=W.push,_=W.indexOf,aa={},ba=aa.toString,ca=aa.hasOwnProperty,da={},ea=function(a,b){return new ea.fn.init(a,b)},fa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ga=/^-ms-/,ha=/-([\da-z])/gi,ia=function(a,b){return b.toUpperCase()};ea.fn=ea.prototype={jquery:"2.2.4",constructor:ea,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:Y.call(this)},pushStack:function(a){var b=ea.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return ea.each(this,a)},map:function(a){return this.pushStack(ea.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:$,sort:W.sort,splice:W.splice},ea.extend=ea.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ea.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(ea.isPlainObject(d)||(e=ea.isArray(d)))?(e?(e=!1,f=c&&ea.isArray(c)?c:[]):f=c&&ea.isPlainObject(c)?c:{},g[b]=ea.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},ea.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===ea.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!ea.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==ea.type(a)||a.nodeType||ea.isWindow(a))return!1;if(a.constructor&&!ca.call(a,"constructor")&&!ca.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||ca.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?aa[ba.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;(a=ea.trim(a))&&(1===a.indexOf("use strict")?(b=X.createElement("script"),b.text=a,X.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ga,"ms-").replace(ha,ia)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,e=0;if(c(a))for(d=a.length;e<d&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(fa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ea.merge(d,"string"==typeof a?[a]:a):$.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:_.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,d){var e,f,g=0,h=[];if(c(a))for(e=a.length;g<e;g++)null!=(f=b(a[g],g,d))&&h.push(f);else for(g in a)null!=(f=b(a[g],g,d))&&h.push(f);return Z.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),ea.isFunction(a))return d=Y.call(arguments,2),e=function(){return a.apply(b||this,d.concat(Y.call(arguments)))},e.guid=a.guid=a.guid||ea.guid++,e},now:Date.now,support:da}),"function"==typeof Symbol&&(ea.fn[Symbol.iterator]=W[Symbol.iterator]),ea.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){aa["[object "+b+"]"]=b.toLowerCase()});var ja=function(a){function b(a,b,c,d){var e,f,g,h,j,l,m,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:M)!==E&&D(b),b=b||E,G)){if(11!==p&&(l=pa.exec(a)))if(e=l[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&K(b,g)&&g.id===e)return c.push(g),c}else{if(l[2])return Y.apply(c,b.getElementsByTagName(a)),c;if((e=l[3])&&t.getElementsByClassName&&b.getElementsByClassName)return Y.apply(c,b.getElementsByClassName(e)),c}if(t.qsa&&!R[a+" "]&&(!H||!H.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ra,"\\$&"):b.setAttribute("id",h=L),m=x(a),f=m.length,j=ka.test(h)?"#"+h:"[id='"+h+"']";f--;)m[f]=j+" "+k(m[f]);n=m.join(","),o=qa.test(a)&&i(b.parentNode)||b}if(n)try{return Y.apply(c,o.querySelectorAll(n)),c}catch(a){}finally{h===L&&b.removeAttribute("id")}}}return z(a.replace(fa,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>u.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[L]=!0,a}function e(a){var b=E.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)u.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||T)-(~a.sourceIndex||T);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function i(a){return a&&void 0!==a.getElementsByTagName&&a}function j(){}function k(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function l(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=O++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[N,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[L]||(b[L]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===N&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function m(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function n(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function o(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function p(a,b,c,e,f,g){return e&&!e[L]&&(e=p(e)),f&&!f[L]&&(f=p(f,g)),d(function(d,g,h,i){var j,k,l,m=[],p=[],q=g.length,r=d||n(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:o(r,m,a,h,i),t=c?f||(d?a:q||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=o(t,p),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[p[k]]=!(s[p[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?$(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=o(t===g?t.splice(q,t.length):t),f?f(null,g,t,i):Y.apply(g,t)})}function q(a){for(var b,c,d,e=a.length,f=u.relative[a[0].type],g=f||u.relative[" "],h=f?1:0,i=l(function(a){return a===b},g,!0),j=l(function(a){return $(b,a)>-1},g,!0),n=[function(a,c,d){var e=!f&&(d||c!==A)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=u.relative[a[h].type])n=[l(m(n),c)];else{if(c=u.filter[a[h].type].apply(null,a[h].matches),c[L]){for(d=++h;d<e&&!u.relative[a[d].type];d++);return p(h>1&&m(n),h>1&&k(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(fa,"$1"),c,h<d&&q(a.slice(h,d)),d<e&&q(a=a.slice(d)),d<e&&k(a))}n.push(c)}return m(n)}function r(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,p="0",q=d&&[],r=[],s=A,t=d||f&&u.find.TAG("*",j),v=N+=null==s?1:Math.random()||.1,w=t.length;for(j&&(A=g===E||g||j);p!==w&&null!=(k=t[p]);p++){if(f&&k){for(l=0,g||k.ownerDocument===E||(D(k),h=!G);m=a[l++];)if(m(k,g||E,h)){i.push(k);break}j&&(N=v)}e&&((k=!m&&k)&&n--,d&&q.push(k))}if(n+=p,e&&p!==n){for(l=0;m=c[l++];)m(q,r,g,h);if(d){if(n>0)for(;p--;)q[p]||r[p]||(r[p]=W.call(i));r=o(r)}Y.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(N=v,A=s),q};return e?d(g):g}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L="sizzle"+1*new Date,M=a.document,N=0,O=0,P=c(),Q=c(),R=c(),S=function(a,b){
return a===b&&(C=!0),0},T=1<<31,U={}.hasOwnProperty,V=[],W=V.pop,X=V.push,Y=V.push,Z=V.slice,$=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",aa="[\\x20\\t\\r\\n\\f]",ba="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ca="\\["+aa+"*("+ba+")(?:"+aa+"*([*^$|!~]?=)"+aa+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ba+"))|)"+aa+"*\\]",da=":("+ba+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ca+")*)|.*)\\)|)",ea=new RegExp(aa+"+","g"),fa=new RegExp("^"+aa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+aa+"+$","g"),ga=new RegExp("^"+aa+"*,"+aa+"*"),ha=new RegExp("^"+aa+"*([>+~]|"+aa+")"+aa+"*"),ia=new RegExp("="+aa+"*([^\\]'\"]*?)"+aa+"*\\]","g"),ja=new RegExp(da),ka=new RegExp("^"+ba+"$"),la={ID:new RegExp("^#("+ba+")"),CLASS:new RegExp("^\\.("+ba+")"),TAG:new RegExp("^("+ba+"|[*])"),ATTR:new RegExp("^"+ca),PSEUDO:new RegExp("^"+da),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+aa+"*(even|odd|(([+-]|)(\\d*)n|)"+aa+"*(?:([+-]|)"+aa+"*(\\d+)|))"+aa+"*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),needsContext:new RegExp("^"+aa+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+aa+"*((?:-\\d)?\\d*)"+aa+"*\\)|)(?=[^-]|$)","i")},ma=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,oa=/^[^{]+\{\s*\[native \w/,pa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qa=/[+~]/,ra=/'|\\/g,sa=new RegExp("\\\\([\\da-f]{1,6}"+aa+"?|("+aa+")|.)","ig"),ta=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ua=function(){D()};try{Y.apply(V=Z.call(M.childNodes),M.childNodes),V[M.childNodes.length].nodeType}catch(a){Y={apply:V.length?function(a,b){X.apply(a,Z.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}t=b.support={},w=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},D=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:M;return d!==E&&9===d.nodeType&&d.documentElement?(E=d,F=E.documentElement,G=!w(E),(c=E.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",ua,!1):c.attachEvent&&c.attachEvent("onunload",ua)),t.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),t.getElementsByTagName=e(function(a){return a.appendChild(E.createComment("")),!a.getElementsByTagName("*").length}),t.getElementsByClassName=oa.test(E.getElementsByClassName),t.getById=e(function(a){return F.appendChild(a).id=L,!E.getElementsByName||!E.getElementsByName(L).length}),t.getById?(u.find.ID=function(a,b){if(void 0!==b.getElementById&&G){var c=b.getElementById(a);return c?[c]:[]}},u.filter.ID=function(a){var b=a.replace(sa,ta);return function(a){return a.getAttribute("id")===b}}):(delete u.find.ID,u.filter.ID=function(a){var b=a.replace(sa,ta);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),u.find.TAG=t.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):t.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},u.find.CLASS=t.getElementsByClassName&&function(a,b){if(void 0!==b.getElementsByClassName&&G)return b.getElementsByClassName(a)},I=[],H=[],(t.qsa=oa.test(E.querySelectorAll))&&(e(function(a){F.appendChild(a).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+aa+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||H.push("\\["+aa+"*(?:value|"+_+")"),a.querySelectorAll("[id~="+L+"-]").length||H.push("~="),a.querySelectorAll(":checked").length||H.push(":checked"),a.querySelectorAll("a#"+L+"+*").length||H.push(".#.+[+~]")}),e(function(a){var b=E.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&H.push("name"+aa+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),H.push(",.*:")})),(t.matchesSelector=oa.test(J=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&e(function(a){t.disconnectedMatch=J.call(a,"div"),J.call(a,"[s!='']:x"),I.push("!=",da)}),H=H.length&&new RegExp(H.join("|")),I=I.length&&new RegExp(I.join("|")),b=oa.test(F.compareDocumentPosition),K=b||oa.test(F.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},S=b?function(a,b){if(a===b)return C=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c||(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!t.sortDetached&&b.compareDocumentPosition(a)===c?a===E||a.ownerDocument===M&&K(M,a)?-1:b===E||b.ownerDocument===M&&K(M,b)?1:B?$(B,a)-$(B,b):0:4&c?-1:1)}:function(a,b){if(a===b)return C=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===E?-1:b===E?1:e?-1:f?1:B?$(B,a)-$(B,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===M?-1:i[d]===M?1:0},E):E},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==E&&D(a),c=c.replace(ia,"='$1']"),t.matchesSelector&&G&&!R[c+" "]&&(!I||!I.test(c))&&(!H||!H.test(c)))try{var d=J.call(a,c);if(d||t.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,E,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==E&&D(a),K(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==E&&D(a);var c=u.attrHandle[b.toLowerCase()],d=c&&U.call(u.attrHandle,b.toLowerCase())?c(a,b,!G):void 0;return void 0!==d?d:t.attributes||!G?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(C=!t.detectDuplicates,B=!t.sortStable&&a.slice(0),a.sort(S),C){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return B=null,a},v=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=v(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=v(b);return c},u=b.selectors={cacheLength:50,createPseudo:d,match:la,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(sa,ta),a[3]=(a[3]||a[4]||a[5]||"").replace(sa,ta),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return la.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ja.test(c)&&(b=x(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(sa,ta).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=P[a+" "];return b||(b=new RegExp("(^|"+aa+")"+a+"("+aa+"|$)"))&&P(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ea," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[L]||(m[L]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===N&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[N,n,t];break}}else if(s&&(m=b,l=m[L]||(m[L]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===N&&j[1],t=n),!1===t)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[L]||(m[L]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[N,t]),m!==b)););return(t-=e)===d||t%d==0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=u.pseudos[a]||u.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[L]?f(c):f.length>1?(e=[a,a,"",c],u.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=$(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=y(a.replace(fa,"$1"));return e[L]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(sa,ta),function(b){return(b.textContent||b.innerText||v(b)).indexOf(a)>-1}}),lang:d(function(a){return ka.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(sa,ta).toLowerCase(),function(b){var c;do{if(c=G?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===F},focus:function(a){return a===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!u.pseudos.empty(a)},header:function(a){return na.test(a.nodeName)},input:function(a){return ma.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:h(function(){return[0]}),last:h(function(a,b){return[b-1]}),eq:h(function(a,b,c){return[c<0?c+b:c]}),even:h(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:h(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:h(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:h(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},u.pseudos.nth=u.pseudos.eq;for(s in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[s]=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}(s);for(s in{submit:!0,reset:!0})u.pseudos[s]=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}(s);return j.prototype=u.filters=u.pseudos,u.setFilters=new j,x=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=Q[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=u.preFilter;h;){d&&!(e=ga.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ha.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(fa," ")}),h=h.slice(d.length));for(g in u.filter)!(e=la[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):Q(a,i).slice(0)},y=b.compile=function(a,b){var c,d=[],e=[],f=R[a+" "];if(!f){for(b||(b=x(a)),c=b.length;c--;)f=q(b[c]),f[L]?d.push(f):e.push(f);f=R(a,r(e,d)),f.selector=a}return f},z=b.select=function(a,b,c,d){var e,f,g,h,j,l="function"==typeof a&&a,m=!d&&x(a=l.selector||a);if(c=c||[],1===m.length){if(f=m[0]=m[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&t.getById&&9===b.nodeType&&G&&u.relative[f[1].type]){if(!(b=(u.find.ID(g.matches[0].replace(sa,ta),b)||[])[0]))return c;l&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=la.needsContext.test(a)?0:f.length;e--&&(g=f[e],!u.relative[h=g.type]);)if((j=u.find[h])&&(d=j(g.matches[0].replace(sa,ta),qa.test(f[0].type)&&i(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&k(f)))return Y.apply(c,d),c;break}}return(l||y(a,m))(d,b,!G,c,!b||qa.test(a)&&i(b.parentNode)||b),c},t.sortStable=L.split("").sort(S).join("")===L,t.detectDuplicates=!!C,D(),t.sortDetached=e(function(a){return 1&a.compareDocumentPosition(E.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),t.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(_,function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);ea.find=ja,ea.expr=ja.selectors,ea.expr[":"]=ea.expr.pseudos,ea.uniqueSort=ea.unique=ja.uniqueSort,ea.text=ja.getText,ea.isXMLDoc=ja.isXML,ea.contains=ja.contains;var ka=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&ea(a).is(c))break;d.push(a)}return d},la=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},ma=ea.expr.match.needsContext,na=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,oa=/^.[^:#\[\.,]*$/;ea.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ea.find.matchesSelector(d,a)?[d]:[]:ea.find.matches(a,ea.grep(b,function(a){return 1===a.nodeType}))},ea.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(ea(a).filter(function(){for(b=0;b<c;b++)if(ea.contains(e[b],this))return!0}));for(b=0;b<c;b++)ea.find(a,e[b],d);return d=this.pushStack(c>1?ea.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&ma.test(a)?ea(a):a||[],!1).length}});var pa,qa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ea.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||pa,"string"==typeof a){if(!(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:qa.exec(a))||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof ea?b[0]:b,ea.merge(this,ea.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:X,!0)),na.test(d[1])&&ea.isPlainObject(b))for(d in b)ea.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=X.getElementById(d[2]),e&&e.parentNode&&(this.length=1,this[0]=e),this.context=X,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ea.isFunction(a)?void 0!==c.ready?c.ready(a):a(ea):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),ea.makeArray(a,this))}).prototype=ea.fn,pa=ea(X);var ra=/^(?:parents|prev(?:Until|All))/,sa={children:!0,contents:!0,next:!0,prev:!0};ea.fn.extend({has:function(a){var b=ea(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(ea.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=ma.test(a)||"string"!=typeof a?ea(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ea.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ea.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?_.call(ea(a),this[0]):_.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ea.uniqueSort(ea.merge(this.get(),ea(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ea.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ka(a,"parentNode")},parentsUntil:function(a,b,c){return ka(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return ka(a,"nextSibling")},prevAll:function(a){return ka(a,"previousSibling")},nextUntil:function(a,b,c){return ka(a,"nextSibling",c)},prevUntil:function(a,b,c){return ka(a,"previousSibling",c)},siblings:function(a){return la((a.parentNode||{}).firstChild,a)},children:function(a){return la(a.firstChild)},contents:function(a){return a.contentDocument||ea.merge([],a.childNodes)}},function(a,b){ea.fn[a]=function(c,d){var e=ea.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ea.filter(d,e)),this.length>1&&(sa[a]||ea.uniqueSort(e),ra.test(a)&&e.reverse()),this.pushStack(e)}});var ta=/\S+/g;ea.Callbacks=function(a){a="string"==typeof a?f(a):ea.extend({},a);var b,c,d,e,g=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)!1===g[i].apply(c[0],c[1])&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,e&&(g=c?[]:"")},k={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),function b(c){ea.each(c,function(c,d){ea.isFunction(d)?a.unique&&k.has(d)||g.push(d):d&&d.length&&"string"!==ea.type(d)&&b(d)})}(arguments),c&&!b&&j()),this},remove:function(){return ea.each(arguments,function(a,b){for(var c;(c=ea.inArray(b,g,c))>-1;)g.splice(c,1),c<=i&&i--}),this},has:function(a){return a?ea.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return e=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return e=h=[],c||(g=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},ea.extend({Deferred:function(a){var b=[["resolve","done",ea.Callbacks("once memory"),"resolved"],["reject","fail",ea.Callbacks("once memory"),"rejected"],["notify","progress",ea.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ea.Deferred(function(c){ea.each(b,function(b,f){var g=ea.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&ea.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ea.extend(a,d):d}},e={};return d.pipe=d.then,ea.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=Y.call(arguments),g=f.length,h=1!==g||a&&ea.isFunction(a.promise)?g:0,i=1===h?a:ea.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?Y.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&ea.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var ua;ea.fn.ready=function(a){return ea.ready.promise().done(a),this},ea.extend({isReady:!1,readyWait:1,holdReady:function(a){a?ea.readyWait++:ea.ready(!0)},ready:function(a){(!0===a?--ea.readyWait:ea.isReady)||(ea.isReady=!0,!0!==a&&--ea.readyWait>0||(ua.resolveWith(X,[ea]),ea.fn.triggerHandler&&(ea(X).triggerHandler("ready"),ea(X).off("ready"))))}}),ea.ready.promise=function(b){return ua||(ua=ea.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?a.setTimeout(ea.ready):(X.addEventListener("DOMContentLoaded",g),a.addEventListener("load",g))),ua.promise(b)},ea.ready.promise();var va=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===ea.type(c)){e=!0;for(h in c)va(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,ea.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(ea(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},wa=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};h.uid=1,h.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!wa(a))return{};var b=a[this.expando];return b||(b={},wa(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,ea.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{ea.isArray(b)?d=b.concat(b.map(ea.camelCase)):(e=ea.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(ta)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||ea.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!ea.isEmptyObject(b)}};var xa=new h,ya=new h,za=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Aa=/[A-Z]/g;ea.extend({hasData:function(a){return ya.hasData(a)||xa.hasData(a)},data:function(a,b,c){return ya.access(a,b,c)},removeData:function(a,b){ya.remove(a,b)},_data:function(a,b,c){return xa.access(a,b,c)},_removeData:function(a,b){xa.remove(a,b)}}),ea.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ya.get(f),1===f.nodeType&&!xa.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=ea.camelCase(d.slice(5)),i(f,d,e[d])));xa.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ya.set(this,a)}):va(this,function(b){var c,d;if(f&&void 0===b){if(void 0!==(c=ya.get(f,a)||ya.get(f,a.replace(Aa,"-$&").toLowerCase())))return c;if(d=ea.camelCase(a),void 0!==(c=ya.get(f,d)))return c;if(void 0!==(c=i(f,d,void 0)))return c}else d=ea.camelCase(a),this.each(function(){var c=ya.get(this,d);ya.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&ya.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){ya.remove(this,a)})}}),ea.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=xa.get(a,b),c&&(!d||ea.isArray(c)?d=xa.access(a,b,ea.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=ea.queue(a,b),d=c.length,e=c.shift(),f=ea._queueHooks(a,b),g=function(){ea.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return xa.get(a,c)||xa.access(a,c,{empty:ea.Callbacks("once memory").add(function(){xa.remove(a,[b+"queue",c])})})}}),ea.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ea.queue(this[0],a):void 0===b?this:this.each(function(){var c=ea.queue(this,a,b);ea._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ea.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ea.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ea.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=xa.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ba=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ca=new RegExp("^(?:([+-])=|)("+Ba+")([a-z%]*)$","i"),Da=["Top","Right","Bottom","Left"],Ea=function(a,b){return a=b||a,"none"===ea.css(a,"display")||!ea.contains(a.ownerDocument,a)},Fa=/^(?:checkbox|radio)$/i,Ga=/<([\w:-]+)/,Ha=/^$|\/(?:java|ecma)script/i,Ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ia.optgroup=Ia.option,Ia.tbody=Ia.tfoot=Ia.colgroup=Ia.caption=Ia.thead,Ia.th=Ia.td;var Ja=/<|&#?\w+;/;!function(){var a=X.createDocumentFragment(),b=a.appendChild(X.createElement("div")),c=X.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),da.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",da.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Ka=/^key/,La=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ma=/^([^.]*)(?:\.(.+)|)/;ea.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=xa.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=ea.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return void 0!==ea&&ea.event.triggered!==b.type?ea.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(ta)||[""],j=b.length;j--;)h=Ma.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=ea.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=ea.event.special[n]||{},k=ea.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ea.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,o,g)||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),ea.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=xa.hasData(a)&&xa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(ta)||[""],j=b.length;j--;)if(h=Ma.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ea.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||ea.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)ea.event.remove(a,n+b[j],c,d,!0);ea.isEmptyObject(i)&&xa.remove(a,"handle events")}},dispatch:function(a){a=ea.event.fix(a);var b,c,d,e,f,g=[],h=Y.call(arguments),i=(xa.get(this,"events")||{})[a.type]||[],j=ea.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||!1!==j.preDispatch.call(this,a)){for(g=ea.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(f.namespace)||(a.handleObj=f,a.data=f.data,void 0!==(d=((ea.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h))&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(!0!==i.disabled||"click"!==a.type)){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?ea(e,this).index(i)>-1:ea.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||X,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[ea.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=La.test(e)?this.mouseHooks:Ka.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ea.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=X),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ea.nodeName(this,"input"))return this.click(),!1},_default:function(a){return ea.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},ea.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},ea.Event=function(a,b){if(!(this instanceof ea.Event))return new ea.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?n:o):this.type=a,b&&ea.extend(this,b),this.timeStamp=a&&a.timeStamp||ea.now(),this[ea.expando]=!0},ea.Event.prototype={constructor:ea.Event,isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=n,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=n,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},ea.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){ea.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||ea.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ea.fn.extend({on:function(a,b,c,d){
return q(this,a,b,c,d)},one:function(a,b,c,d){return q(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ea(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=o),this.each(function(){ea.event.remove(this,a,c,b)})}});var Na=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Oa=/<script|<style|<link/i,Pa=/checked\s*(?:[^=]|=\s*.checked.)/i,Qa=/^true\/(.*)/,Ra=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ea.extend({htmlPrefilter:function(a){return a.replace(Na,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=ea.contains(a.ownerDocument,a);if(!(da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ea.isXMLDoc(a)))for(g=k(h),f=k(a),d=0,e=f.length;d<e;d++)v(f[d],g[d]);if(b)if(c)for(f=f||k(a),g=g||k(h),d=0,e=f.length;d<e;d++)u(f[d],g[d]);else u(a,h);return g=k(h,"script"),g.length>0&&l(g,!i&&k(a,"script")),h},cleanData:function(a){for(var b,c,d,e=ea.event.special,f=0;void 0!==(c=a[f]);f++)if(wa(c)){if(b=c[xa.expando]){if(b.events)for(d in b.events)e[d]?ea.event.remove(c,d):ea.removeEvent(c,d,b.handle);c[xa.expando]=void 0}c[ya.expando]&&(c[ya.expando]=void 0)}}}),ea.fn.extend({domManip:w,detach:function(a){return x(this,a,!0)},remove:function(a){return x(this,a)},text:function(a){return va(this,function(a){return void 0===a?ea.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){r(this,a).appendChild(a)}})},prepend:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(ea.cleanData(k(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return ea.clone(this,a,b)})},html:function(a){return va(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Oa.test(a)&&!Ia[(Ga.exec(a)||["",""])[1].toLowerCase()]){a=ea.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(ea.cleanData(k(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return w(this,arguments,function(b){var c=this.parentNode;ea.inArray(this,a)<0&&(ea.cleanData(k(this)),c&&c.replaceChild(b,this))},a)}}),ea.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ea.fn[a]=function(a){for(var c,d=[],e=ea(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),ea(e[g])[b](c),$.apply(d,c.get());return this.pushStack(d)}});var Sa,Ta={HTML:"block",BODY:"block"},Ua=/^margin/,Va=new RegExp("^("+Ba+")(?!px)[a-z%]+$","i"),Wa=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Xa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ya=X.documentElement;!function(){function b(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ya.appendChild(g);var b=a.getComputedStyle(h);c="1%"!==b.top,f="2px"===b.marginLeft,d="4px"===b.width,h.style.marginRight="50%",e="4px"===b.marginRight,Ya.removeChild(g)}var c,d,e,f,g=X.createElement("div"),h=X.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),ea.extend(da,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},pixelMarginRight:function(){return null==d&&b(),e},reliableMarginLeft:function(){return null==d&&b(),f},reliableMarginRight:function(){var b,c=h.appendChild(X.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ya.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ya.removeChild(g),h.removeChild(c),b}}))}();var Za=/^(none|table(?!-c[ea]).+)/,$a={position:"absolute",visibility:"hidden",display:"block"},_a={letterSpacing:"0",fontWeight:"400"},ab=["Webkit","O","Moz","ms"],bb=X.createElement("div").style;ea.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=A(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=ea.camelCase(b),i=a.style;if(b=ea.cssProps[h]||(ea.cssProps[h]=C(h)||h),g=ea.cssHooks[b]||ea.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];f=typeof c,"string"===f&&(e=Ca.exec(c))&&e[1]&&(c=j(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(ea.cssNumber[h]?"":"px")),da.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))}},css:function(a,b,c,d){var e,f,g,h=ea.camelCase(b);return b=ea.cssProps[h]||(ea.cssProps[h]=C(h)||h),g=ea.cssHooks[b]||ea.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=A(a,b,d)),"normal"===e&&b in _a&&(e=_a[b]),""===c||c?(f=parseFloat(e),!0===c||isFinite(f)?f||0:e):e}}),ea.each(["height","width"],function(a,b){ea.cssHooks[b]={get:function(a,c,d){if(c)return Za.test(ea.css(a,"display"))&&0===a.offsetWidth?Xa(a,$a,function(){return F(a,b,d)}):F(a,b,d)},set:function(a,c,d){var e,f=d&&Wa(a),g=d&&E(a,b,d,"border-box"===ea.css(a,"boxSizing",!1,f),f);return g&&(e=Ca.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=ea.css(a,b)),D(a,c,g)}}}),ea.cssHooks.marginLeft=B(da.reliableMarginLeft,function(a,b){if(b)return(parseFloat(A(a,"marginLeft"))||a.getBoundingClientRect().left-Xa(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),ea.cssHooks.marginRight=B(da.reliableMarginRight,function(a,b){if(b)return Xa(a,{display:"inline-block"},A,[a,"marginRight"])}),ea.each({margin:"",padding:"",border:"Width"},function(a,b){ea.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Da[d]+b]=f[d]||f[d-2]||f[0];return e}},Ua.test(a)||(ea.cssHooks[a+b].set=D)}),ea.fn.extend({css:function(a,b){return va(this,function(a,b,c){var d,e,f={},g=0;if(ea.isArray(b)){for(d=Wa(a),e=b.length;g<e;g++)f[b[g]]=ea.css(a,b[g],!1,d);return f}return void 0!==c?ea.style(a,b,c):ea.css(a,b)},a,b,arguments.length>1)},show:function(){return G(this,!0)},hide:function(){return G(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ea(this)?ea(this).show():ea(this).hide()})}}),ea.Tween=H,H.prototype={constructor:H,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||ea.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ea.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];return this.options.duration?this.pos=b=ea.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=ea.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){ea.fx.step[a.prop]?ea.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[ea.cssProps[a.prop]]&&!ea.cssHooks[a.prop]?a.elem[a.prop]=a.now:ea.style(a.elem,a.prop,a.now+a.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ea.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},ea.fx=H.prototype.init,ea.fx.step={};var cb,db,eb=/^(?:toggle|show|hide)$/,fb=/queueHooks$/;ea.Animation=ea.extend(N,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return j(c.elem,a,Ca.exec(b),c),c}]},tweener:function(a,b){ea.isFunction(a)?(b=a,a=["*"]):a=a.match(ta);for(var c,d=0,e=a.length;d<e;d++)c=a[d],N.tweeners[c]=N.tweeners[c]||[],N.tweeners[c].unshift(b)},prefilters:[L],prefilter:function(a,b){b?N.prefilters.unshift(a):N.prefilters.push(a)}}),ea.speed=function(a,b,c){var d=a&&"object"==typeof a?ea.extend({},a):{complete:c||!c&&b||ea.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ea.isFunction(b)&&b};return d.duration=ea.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ea.fx.speeds?ea.fx.speeds[d.duration]:ea.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){ea.isFunction(d.old)&&d.old.call(this),d.queue&&ea.dequeue(this,d.queue)},d},ea.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ea).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ea.isEmptyObject(a),f=ea.speed(b,c,d),g=function(){var b=N(this,ea.extend({},a),f);(e||xa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ea.timers,g=xa.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&fb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||ea.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=xa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ea.timers,g=d?d.length:0;for(c.finish=!0,ea.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ea.each(["toggle","show","hide"],function(a,b){var c=ea.fn[b];ea.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(J(b,!0),a,d,e)}}),ea.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ea.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ea.timers=[],ea.fx.tick=function(){var a,b=0,c=ea.timers;for(cb=ea.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||ea.fx.stop(),cb=void 0},ea.fx.timer=function(a){ea.timers.push(a),a()?ea.fx.start():ea.timers.pop()},ea.fx.interval=13,ea.fx.start=function(){db||(db=a.setInterval(ea.fx.tick,ea.fx.interval))},ea.fx.stop=function(){a.clearInterval(db),db=null},ea.fx.speeds={slow:600,fast:200,_default:400},ea.fn.delay=function(b,c){return b=ea.fx?ea.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=X.createElement("input"),b=X.createElement("select"),c=b.appendChild(X.createElement("option"));a.type="checkbox",da.checkOn=""!==a.value,da.optSelected=c.selected,b.disabled=!0,da.optDisabled=!c.disabled,a=X.createElement("input"),a.value="t",a.type="radio",da.radioValue="t"===a.value}();var gb,hb=ea.expr.attrHandle;ea.fn.extend({attr:function(a,b){return va(this,ea.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ea.removeAttr(this,a)})}}),ea.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return void 0===a.getAttribute?ea.prop(a,b,c):(1===f&&ea.isXMLDoc(a)||(b=b.toLowerCase(),e=ea.attrHooks[b]||(ea.expr.match.bool.test(b)?gb:void 0)),void 0!==c?null===c?void ea.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=ea.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!da.radioValue&&"radio"===b&&ea.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ta);if(f&&1===a.nodeType)for(;c=f[e++];)d=ea.propFix[c]||c,ea.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),gb={set:function(a,b,c){return!1===b?ea.removeAttr(a,c):a.setAttribute(c,c),c}},ea.each(ea.expr.match.bool.source.match(/\w+/g),function(a,b){var c=hb[b]||ea.find.attr;hb[b]=function(a,b,d){var e,f;return d||(f=hb[b],hb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,hb[b]=f),e}});var ib=/^(?:input|select|textarea|button)$/i,jb=/^(?:a|area)$/i;ea.fn.extend({prop:function(a,b){return va(this,ea.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[ea.propFix[a]||a]})}}),ea.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&ea.isXMLDoc(a)||(b=ea.propFix[b]||b,e=ea.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=ea.find.attr(a,"tabindex");return b?parseInt(b,10):ib.test(a.nodeName)||jb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),da.optSelected||(ea.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),ea.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ea.propFix[this.toLowerCase()]=this});var kb=/[\t\r\n\f]/g;ea.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(ea.isFunction(a))return this.each(function(b){ea(this).addClass(a.call(this,b,O(this)))});if("string"==typeof a&&a)for(b=a.match(ta)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(kb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=ea.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(ea.isFunction(a))return this.each(function(b){ea(this).removeClass(a.call(this,b,O(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(ta)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(kb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=ea.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):ea.isFunction(a)?this.each(function(c){ea(this).toggleClass(a.call(this,c,O(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=ea(this),f=a.match(ta)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=O(this),b&&xa.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":xa.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+O(c)+" ").replace(kb," ").indexOf(b)>-1)return!0;return!1}});var lb=/\r/g,mb=/[\x20\t\r\n\f]+/g;ea.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=ea.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ea(this).val()):a,null==e?e="":"number"==typeof e?e+="":ea.isArray(e)&&(e=ea.map(e,function(a){return null==a?"":a+""})),(b=ea.valHooks[this.type]||ea.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return(b=ea.valHooks[e.type]||ea.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)}}}),ea.extend({valHooks:{option:{get:function(a){var b=ea.find.attr(a,"value");return null!=b?b:ea.trim(ea.text(a)).replace(mb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(da.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!ea.nodeName(c.parentNode,"optgroup"))){if(b=ea(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ea.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=ea.inArray(ea.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),ea.each(["radio","checkbox"],function(){ea.valHooks[this]={set:function(a,b){if(ea.isArray(b))return a.checked=ea.inArray(ea(a).val(),b)>-1}},da.checkOn||(ea.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nb=/^(?:focusinfocus|focusoutblur)$/;ea.extend(ea.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||X],n=ca.call(b,"type")?b.type:b,o=ca.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||X,3!==d.nodeType&&8!==d.nodeType&&!nb.test(n+ea.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[ea.expando]?b:new ea.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ea.makeArray(c,[b]),l=ea.event.special[n]||{},e||!l.trigger||!1!==l.trigger.apply(d,c))){if(!e&&!l.noBubble&&!ea.isWindow(d)){for(i=l.delegateType||n,nb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||X)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(xa.get(g,"events")||{})[b.type]&&xa.get(g,"handle"),k&&k.apply(g,c),(k=j&&g[j])&&k.apply&&wa(g)&&(b.result=k.apply(g,c),!1===b.result&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(m.pop(),c)||!wa(d)||j&&ea.isFunction(d[n])&&!ea.isWindow(d)&&(h=d[j],h&&(d[j]=null),ea.event.triggered=n,d[n](),ea.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=ea.extend(new ea.Event,c,{type:a,isSimulated:!0});ea.event.trigger(d,null,b)}}),ea.fn.extend({trigger:function(a,b){return this.each(function(){ea.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return ea.event.trigger(a,b,c,!0)}}),ea.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ea.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ea.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),da.focusin="onfocusin"in a,da.focusin||ea.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ea.event.simulate(b,a.target,ea.event.fix(a))};ea.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=xa.access(d,b);e||d.addEventListener(a,c,!0),xa.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=xa.access(d,b)-1;e?xa.access(d,b,e):(d.removeEventListener(a,c,!0),xa.remove(d,b))}}});var ob=a.location,pb=ea.now(),qb=/\?/;ea.parseJSON=function(a){return JSON.parse(a+"")},ea.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(a){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||ea.error("Invalid XML: "+b),c};var rb=/#.*$/,sb=/([?&])_=[^&]*/,tb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ub=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vb=/^(?:GET|HEAD)$/,wb=/^\/\//,xb={},yb={},zb="*/".concat("*"),Ab=X.createElement("a");Ab.href=ob.href,ea.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob.href,type:"GET",isLocal:ub.test(ob.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ea.parseJSON,"text xml":ea.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?R(R(a,ea.ajaxSettings),b):R(ea.ajaxSettings,a)},ajaxPrefilter:P(xb),ajaxTransport:P(yb),ajax:function(b,c){function d(b,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&a.clearTimeout(i),e=void 0,g=h||"",w.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(t=S(m,w,d)),t=T(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(ea.lastModified[f]=v),(v=w.getResponseHeader("etag"))&&(ea.etag[f]=v)),204===b||"HEAD"===m.type?x="nocontent":304===b?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,!b&&x||(x="error",b<0&&(b=0))),w.status=b,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--ea.active||ea.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=ea.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?ea(n):ea.event,p=ea.Deferred(),q=ea.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=tb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(u<2)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((b||m.url||ob.href)+"").replace(rb,"").replace(wb,ob.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=ea.trim(m.dataType||"*").toLowerCase().match(ta)||[""],null==m.crossDomain){j=X.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=Ab.protocol+"//"+Ab.host!=j.protocol+"//"+j.host}catch(a){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ea.param(m.data,m.traditional)),Q(xb,m,c,w),2===u)return w;k=ea.event&&m.global,k&&0==ea.active++&&ea.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!vb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(qb.test(f)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=sb.test(f)?f.replace(sb,"$1_="+pb++):f+(qb.test(f)?"&":"?")+"_="+pb++)),m.ifModified&&(ea.lastModified[f]&&w.setRequestHeader("If-Modified-Since",ea.lastModified[f]),ea.etag[f]&&w.setRequestHeader("If-None-Match",ea.etag[f])),(m.data&&m.hasContent&&!1!==m.contentType||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+zb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(!1===m.beforeSend.call(n,w,m)||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=Q(yb,m,c,w)){if(w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=a.setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(a){if(!(u<2))throw a;d(-1,a)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return ea.get(a,b,c,"json")},getScript:function(a,b){return ea.get(a,void 0,b,"script")}}),ea.each(["get","post"],function(a,b){ea[b]=function(a,c,d,e){return ea.isFunction(c)&&(e=e||d,d=c,c=void 0),ea.ajax(ea.extend({url:a,type:b,dataType:e,data:c,success:d},ea.isPlainObject(a)&&a))}}),ea._evalUrl=function(a){return ea.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ea.fn.extend({wrapAll:function(a){var b;return ea.isFunction(a)?this.each(function(b){ea(this).wrapAll(a.call(this,b))}):(this[0]&&(b=ea(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return ea.isFunction(a)?this.each(function(b){ea(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ea(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ea.isFunction(a);return this.each(function(c){ea(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ea.nodeName(this,"body")||ea(this).replaceWith(this.childNodes)}).end()}}),ea.expr.filters.hidden=function(a){return!ea.expr.filters.visible(a)},ea.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;ea.param=function(a,b){var c,d=[],e=function(a,b){b=ea.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=ea.ajaxSettings&&ea.ajaxSettings.traditional),ea.isArray(a)||a.jquery&&!ea.isPlainObject(a))ea.each(a,function(){e(this.name,this.value)});else for(c in a)U(c,a[c],b,e);return d.join("&").replace(Bb,"+")},ea.fn.extend({serialize:function(){return ea.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ea.prop(this,"elements");return a?ea.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ea(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!Fa.test(a))}).map(function(a,b){var c=ea(this).val();return null==c?null:ea.isArray(c)?ea.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),ea.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(a){}};var Gb={0:200,1223:204},Hb=ea.ajaxSettings.xhr();da.cors=!!Hb&&"withCredentials"in Hb,da.ajax=Hb=!!Hb,ea.ajaxTransport(function(b){var c,d;if(da.cors||Hb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Gb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(a){if(c)throw a}},abort:function(){c&&c()}}}),ea.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return ea.globalEval(a),a}}}),ea.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),ea.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=ea("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),X.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Ib=[],Jb=/(=)\?(?=&|$)|\?\?/;ea.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ib.pop()||ea.expando+"_"+pb++;return this[a]=!0,a}}),ea.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Jb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=ea.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Jb,"$1"+e):!1!==b.jsonp&&(b.url+=(qb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ea.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?ea(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Ib.push(e)),g&&ea.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),ea.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||X;var d=na.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m([a],b,e),e&&e.length&&ea(e).remove(),ea.merge([],d.childNodes))};var Kb=ea.fn.load;ea.fn.load=function(a,b,c){if("string"!=typeof a&&Kb)return Kb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=ea.trim(a.slice(h)),a=a.slice(0,h)),ea.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&ea.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?ea("<div>").append(ea.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},ea.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ea.fn[b]=function(a){return this.on(b,a)}}),ea.expr.filters.animated=function(a){return ea.grep(ea.timers,function(b){return a===b.elem}).length},ea.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ea.css(a,"position"),l=ea(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ea.css(a,"top"),i=ea.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ea.isFunction(b)&&(b=b.call(a,c,ea.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ea.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ea.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,ea.contains(b,d)?(e=d.getBoundingClientRect(),c=V(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===ea.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ea.nodeName(a[0],"html")||(d=a.offset()),d.top+=ea.css(a[0],"borderTopWidth",!0),d.left+=ea.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-ea.css(c,"marginTop",!0),left:b.left-d.left-ea.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){
for(var a=this.offsetParent;a&&"static"===ea.css(a,"position");)a=a.offsetParent;return a||Ya})}}),ea.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;ea.fn[a]=function(d){return va(this,function(a,d,e){var f=V(a);if(void 0===e)return f?f[b]:a[d];f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e},a,d,arguments.length)}}),ea.each(["top","left"],function(a,b){ea.cssHooks[b]=B(da.pixelPosition,function(a,c){if(c)return c=A(a,b),Va.test(c)?ea(a).position()[b]+"px":c})}),ea.each({Height:"height",Width:"width"},function(a,b){ea.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ea.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return va(this,function(b,c,d){var e;return ea.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?ea.css(b,c,g):ea.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),ea.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),ea.fn.andSelf=ea.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ea});var Lb=a.jQuery,Mb=a.$;return ea.noConflict=function(b){return a.$===ea&&(a.$=Mb),b&&a.jQuery===ea&&(a.jQuery=Lb),ea},b||(a.jQuery=a.$=ea),ea})},{}],9:[function(a,b,c){!function(a,b){a(function(){"use strict";function a(a,b){return null!=a&&null!=b&&a.toLowerCase()===b.toLowerCase()}function b(a,b){var c,d,e=a.length;if(!e||!b)return!1;for(c=b.toLowerCase(),d=0;d<e;++d)if(c===a[d].toLowerCase())return!0;return!1}function c(a){for(var b in a)g.call(a,b)&&(a[b]=new RegExp(a[b],"i"))}function d(a,b){this.ua=a||"",this._cache={},this.maxPhoneWidth=b||600}var e={};e.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"\\bSamsung\\b|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris [E|M]10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},e.detectMobileBrowsers={
fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var f,g=Object.prototype.hasOwnProperty;return e.FALLBACK_PHONE="UnknownPhone",e.FALLBACK_TABLET="UnknownTablet",e.FALLBACK_MOBILE="UnknownMobile",f="isArray"in Array?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},function(){var a,b,d,h,i,j,k=e.mobileDetectRules;for(a in k.props)if(g.call(k.props,a)){for(b=k.props[a],f(b)||(b=[b]),i=b.length,h=0;h<i;++h)d=b[h],j=d.indexOf("[VER]"),j>=0&&(d=d.substring(0,j)+"([\\w._\\+]+)"+d.substring(j+5)),b[h]=new RegExp(d,"i");k.props[a]=b}c(k.oss),c(k.phones),c(k.tablets),c(k.uas),c(k.utils),k.oss0={WindowsPhoneOS:k.oss.WindowsPhoneOS,WindowsMobileOS:k.oss.WindowsMobileOS}}(),e.findMatch=function(a,b){for(var c in a)if(g.call(a,c)&&a[c].test(b))return c;return null},e.findMatches=function(a,b){var c=[];for(var d in a)g.call(a,d)&&a[d].test(b)&&c.push(d);return c},e.getVersionStr=function(a,b){var c,d,f,h,i=e.mobileDetectRules.props;if(g.call(i,a))for(c=i[a],f=c.length,d=0;d<f;++d)if(null!==(h=c[d].exec(b)))return h[1];return null},e.getVersion=function(a,b){var c=e.getVersionStr(a,b);return c?e.prepareVersionNo(c):NaN},e.prepareVersionNo=function(a){var b;return b=a.split(/[a-z._ \/\-]/i),1===b.length&&(a=b[0]),b.length>1&&(a=b[0]+".",b.shift(),a+=b.join("")),Number(a)},e.isMobileFallback=function(a){return e.detectMobileBrowsers.fullPattern.test(a)||e.detectMobileBrowsers.shortPattern.test(a.substr(0,4))},e.isTabletFallback=function(a){return e.detectMobileBrowsers.tabletPattern.test(a)},e.prepareDetectionCache=function(a,b,c){if(void 0===a.mobile){var f,g,h;if(g=e.findMatch(e.mobileDetectRules.tablets,b))return a.mobile=a.tablet=g,void(a.phone=null);if(f=e.findMatch(e.mobileDetectRules.phones,b))return a.mobile=a.phone=f,void(a.tablet=null);e.isMobileFallback(b)?(h=d.isPhoneSized(c),void 0===h?(a.mobile=e.FALLBACK_MOBILE,a.tablet=a.phone=null):h?(a.mobile=a.phone=e.FALLBACK_PHONE,a.tablet=null):(a.mobile=a.tablet=e.FALLBACK_TABLET,a.phone=null)):e.isTabletFallback(b)?(a.mobile=a.tablet=e.FALLBACK_TABLET,a.phone=null):a.mobile=a.tablet=a.phone=null}},e.mobileGrade=function(a){var b=null!==a.mobile();return a.os("iOS")&&a.version("iPad")>=4.3||a.os("iOS")&&a.version("iPhone")>=3.1||a.os("iOS")&&a.version("iPod")>=3.1||a.version("Android")>2.1&&a.is("Webkit")||a.version("Windows Phone OS")>=7||a.is("BlackBerry")&&a.version("BlackBerry")>=6||a.match("Playbook.*Tablet")||a.version("webOS")>=1.4&&a.match("Palm|Pre|Pixi")||a.match("hp.*TouchPad")||a.is("Firefox")&&a.version("Firefox")>=12||a.is("Chrome")&&a.is("AndroidOS")&&a.version("Android")>=4||a.is("Skyfire")&&a.version("Skyfire")>=4.1&&a.is("AndroidOS")&&a.version("Android")>=2.3||a.is("Opera")&&a.version("Opera Mobi")>11&&a.is("AndroidOS")||a.is("MeeGoOS")||a.is("Tizen")||a.is("Dolfin")&&a.version("Bada")>=2||(a.is("UC Browser")||a.is("Dolfin"))&&a.version("Android")>=2.3||a.match("Kindle Fire")||a.is("Kindle")&&a.version("Kindle")>=3||a.is("AndroidOS")&&a.is("NookTablet")||a.version("Chrome")>=11&&!b||a.version("Safari")>=5&&!b||a.version("Firefox")>=4&&!b||a.version("MSIE")>=7&&!b||a.version("Opera")>=10&&!b?"A":a.os("iOS")&&a.version("iPad")<4.3||a.os("iOS")&&a.version("iPhone")<3.1||a.os("iOS")&&a.version("iPod")<3.1||a.is("Blackberry")&&a.version("BlackBerry")>=5&&a.version("BlackBerry")<6||a.version("Opera Mini")>=5&&a.version("Opera Mini")<=6.5&&(a.version("Android")>=2.3||a.is("iOS"))||a.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||a.version("Opera Mobi")>=11&&a.is("SymbianOS")?"B":(a.version("BlackBerry")<5||a.match("MSIEMobile|Windows CE.*Mobile")||a.version("Windows Mobile"),"C")},e.detectOS=function(a){return e.findMatch(e.mobileDetectRules.oss0,a)||e.findMatch(e.mobileDetectRules.oss,a)},e.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},d.prototype={constructor:d,mobile:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return void 0===this._cache.userAgent&&(this._cache.userAgent=e.findMatch(e.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return void 0===this._cache.userAgents&&(this._cache.userAgents=e.findMatches(e.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return void 0===this._cache.os&&(this._cache.os=e.detectOS(this.ua)),this._cache.os},version:function(a){return e.getVersion(a,this.ua)},versionStr:function(a){return e.getVersionStr(a,this.ua)},is:function(c){return b(this.userAgents(),c)||a(c,this.os())||a(c,this.phone())||a(c,this.tablet())||b(e.findMatches(e.mobileDetectRules.utils,this.ua),c)},match:function(a){return a instanceof RegExp||(a=new RegExp(a,"i")),a.test(this.ua)},isPhoneSized:function(a){return d.isPhoneSized(a||this.maxPhoneWidth)},mobileGrade:function(){return void 0===this._cache.grade&&(this._cache.grade=e.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?d.isPhoneSized=function(a){return a<0?void 0:e.getDeviceSmallerSide()<=a}:d.isPhoneSized=function(){},d._impl=e,d.version="1.3.7 2017-09-06",d})}(function(a){if(void 0!==b&&b.exports)return function(a){b.exports=a()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(a){window.MobileDetect=a()};throw new Error("unknown environment")}())},{}],10:[function(a,b,c){!function(d,e){"object"==typeof c&&void 0!==b&&"function"==typeof a?e(a("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(d.moment)}(this,function(a){"use strict";function b(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}return a.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:b,mm:"%d Minuten",h:b,hh:"%d Stunden",d:b,dd:b,M:b,MM:b,y:b,yy:b},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},{"../moment":16}],11:[function(a,b,c){!function(d,e){"object"==typeof c&&void 0!==b&&"function"==typeof a?e(a("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(d.moment)}(this,function(a){"use strict";var b="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),c="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),d=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],e=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return a.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(a,d){return a?/-MMM-/.test(d)?c[a.month()]:b[a.month()]:b},monthsRegex:e,monthsShortRegex:e,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},{"../moment":16}],12:[function(a,b,c){!function(d,e){"object"==typeof c&&void 0!==b&&"function"==typeof a?e(a("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(d.moment)}(this,function(a){"use strict";return a.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(a,b){switch(b){case"D":return a+(1===a?"er":"");default:case"M":case"Q":case"DDD":case"d":return a+(1===a?"er":"e");case"w":case"W":return a+(1===a?"re":"e")}},week:{dow:1,doy:4}})})},{"../moment":16}],13:[function(a,b,c){!function(d,e){"object"==typeof c&&void 0!==b&&"function"==typeof a?e(a("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(d.moment)}(this,function(a){"use strict";return a.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},{"../moment":16}],14:[function(a,b,c){!function(d,e){"object"==typeof c&&void 0!==b&&"function"==typeof a?e(a("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(d.moment)}(this,function(a){"use strict";return a.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日 HH:mm dddd"},meridiemParse:/午前|午後/i,isPM:function(a){return"午後"===a},meridiem:function(a,b,c){return a<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";default:return a}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})})},{"../moment":16}],15:[function(a,b,c){!function(d,e){"object"==typeof c&&void 0!==b&&"function"==typeof a?e(a("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(d.moment)}(this,function(a){"use strict";return a.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},{"../moment":16}],16:[function(a,b,c){!function(a,d){"object"==typeof c&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.moment=d()}(this,function(){"use strict";function c(){return Bd.apply(null,arguments)}function d(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function e(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function f(a){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(a).length;var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}function g(a){return void 0===a}function h(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function i(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function j(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function k(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function l(a,b){for(var c in b)k(b,c)&&(a[c]=b[c]);return k(b,"toString")&&(a.toString=b.toString),k(b,"valueOf")&&(a.valueOf=b.valueOf),a}function m(a,b,c,d){return zb(a,b,c,d,!0).utc()}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function o(a){return null==a._pf&&(a._pf=n()),a._pf}function p(a){if(null==a._isValid){var b=o(a),c=Cd.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function q(a){var b=m(NaN);return null!=a?l(o(b),a):o(b).userInvalidated=!0,b}function r(a,b){var c,d,e;if(g(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),g(b._i)||(a._i=b._i),g(b._f)||(a._f=b._f),g(b._l)||(a._l=b._l),g(b._strict)||(a._strict=b._strict),g(b._tzm)||(a._tzm=b._tzm),g(b._isUTC)||(a._isUTC=b._isUTC),g(b._offset)||(a._offset=b._offset),g(b._pf)||(a._pf=o(b)),g(b._locale)||(a._locale=b._locale),Dd.length>0)for(c=0;c<Dd.length;c++)d=Dd[c],e=b[d],g(e)||(a[d]=e);return a}function s(a){r(this,a),this._d=new Date(null!=a._d?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ed&&(Ed=!0,c.updateOffset(this),Ed=!1)}function t(a){return a instanceof s||null!=a&&null!=a._isAMomentObject}function u(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function v(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=u(b)),c}function w(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&v(a[d])!==v(b[d]))&&g++;return g+f}function x(a){!1===c.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function y(a,b){var d=!0;return l(function(){if(null!=c.deprecationHandler&&c.deprecationHandler(null,a),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}x(a+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return b.apply(this,arguments)},b)}function z(a,b){null!=c.deprecationHandler&&c.deprecationHandler(a,b),Fd[a]||(x(b),Fd[a]=!0)}function A(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function B(a){var b,c;for(c in a)b=a[c],A(b)?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(a,b){var c,d=l({},a);for(c in b)k(b,c)&&(e(a[c])&&e(b[c])?(d[c]={},l(d[c],a[c]),l(d[c],b[c])):null!=b[c]?d[c]=b[c]:delete d[c]);for(c in a)k(a,c)&&!k(b,c)&&e(a[c])&&(d[c]=l({},d[c]));return d}function D(a){null!=a&&this.set(a)}function E(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return A(d)?d.call(b,c):d}function F(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function G(){return this._invalidDate}function H(a){return this._ordinal.replace("%d",a)}function I(a,b,c,d){var e=this._relativeTime[c];return A(e)?e(a,b,c,d):e.replace(/%d/i,a)}function J(a,b){var c=this._relativeTime[a>0?"future":"past"];return A(c)?c(b):c.replace(/%s/i,b)}function K(a,b){var c=a.toLowerCase();Ld[c]=Ld[c+"s"]=Ld[b]=a}function L(a){return"string"==typeof a?Ld[a]||Ld[a.toLowerCase()]:void 0}function M(a){var b,c,d={};for(c in a)k(a,c)&&(b=L(c))&&(d[b]=a[c]);return d}function N(a,b){Md[a]=b}function O(a){var b=[];for(var c in a)b.push({unit:c,priority:Md[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function P(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(a>=0?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function Q(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Qd[a]=e),b&&(Qd[b[0]]=function(){return P(e.apply(this,arguments),b[1],b[2])}),c&&(Qd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function R(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function S(a){var b,c,d=a.match(Nd);for(b=0,c=d.length;b<c;b++)Qd[d[b]]?d[b]=Qd[d[b]]:d[b]=R(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=A(d[e])?d[e].call(b,a):d[e];return f}}function T(a,b){return a.isValid()?(b=U(b,a.localeData()),Pd[b]=Pd[b]||S(b),Pd[b](a)):a.localeData().invalidDate()}function U(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Od.lastIndex=0;d>=0&&Od.test(a);)a=a.replace(Od,c),Od.lastIndex=0,d-=1;return a}function V(a,b,c){ge[a]=A(b)?b:function(a,d){return a&&c?c:b}}function W(a,b){return k(ge,a)?ge[a](b._strict,b._locale):new RegExp(X(a))}function X(a){return Y(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function Y(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),h(b)&&(d=function(a,c){c[b]=v(a)}),c=0;c<a.length;c++)he[a[c]]=d}function $(a,b){Z(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function _(a,b,c){null!=b&&k(he,a)&&he[a](b,c._a,c,a)}function aa(a){return ba(a)?366:365}function ba(a){return a%4==0&&a%100!=0||a%400==0}function ca(){return ba(this.year())}function da(a,b){return function(d){return null!=d?(fa(this,a,d),c.updateOffset(this,b),this):ea(this,a)}}function ea(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function fa(a,b,c){a.isValid()&&!isNaN(c)&&("FullYear"===b&&ba(a.year())?a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),ja(c,a.month())):a._d["set"+(a._isUTC?"UTC":"")+b](c))}function ga(a){return a=L(a),A(this[a])?this[a]():this}function ha(a,b){if("object"==typeof a){a=M(a);for(var c=O(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=L(a),A(this[a]))return this[a](b);return this}function ia(a,b){return(a%b+b)%b}function ja(a,b){if(isNaN(a)||isNaN(b))return NaN;var c=ia(b,12);return a+=(b-c)/12,1===c?ba(a)?29:28:31-c%7%2}function ka(a,b){return a?d(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||te).test(b)?"format":"standalone"][a.month()]:d(this._months)?this._months:this._months.standalone}function la(a,b){return a?d(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[te.test(b)?"format":"standalone"][a.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ma(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=m([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=re.call(this._shortMonthsParse,g),-1!==e?e:null):(e=re.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?-1!==(e=re.call(this._shortMonthsParse,g))?e:(e=re.call(this._longMonthsParse,g),-1!==e?e:null):-1!==(e=re.call(this._longMonthsParse,g))?e:(e=re.call(this._shortMonthsParse,g),-1!==e?e:null)}function na(a,b,c){var d,e,f;if(this._monthsParseExact)return ma.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=m([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function oa(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=v(b);else if(b=a.localeData().monthsParse(b),!h(b))return a;return c=Math.min(a.date(),ja(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function pa(a){return null!=a?(oa(this,a),c.updateOffset(this,!0),this):ea(this,"Month")}function qa(){return ja(this.year(),this.month())}function ra(a){return this._monthsParseExact?(k(this,"_monthsRegex")||ta.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(k(this,"_monthsShortRegex")||(this._monthsShortRegex=we),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function sa(a){return this._monthsParseExact?(k(this,"_monthsRegex")||ta.call(this),a?this._monthsStrictRegex:this._monthsRegex):(k(this,"_monthsRegex")||(this._monthsRegex=xe),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function ta(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=m([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=Y(d[b]),e[b]=Y(e[b]);for(b=0;b<24;b++)f[b]=Y(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function ua(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function va(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function wa(a,b,c){var d=7+b-c;return-(7+va(a,0,d).getUTCDay()-b)%7+d-1}function xa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=wa(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=aa(f)+j):j>aa(a)?(f=a+1,g=j-aa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function ya(a,b,c){var d,e,f=wa(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+za(e,b,c)):g>za(a.year(),b,c)?(d=g-za(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function za(a,b,c){var d=wa(a,b,c),e=wa(a+1,b,c);return(aa(a)-d+e)/7}function Aa(a){return ya(a,this._week.dow,this._week.doy).week}function Ba(){return this._week.dow}function Ca(){return this._week.doy}function Da(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ea(a){var b=ya(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Fa(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Ga(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Ha(a,b){return a?d(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:d(this._weekdays)?this._weekdays:this._weekdays.standalone}function Ia(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ja(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ka(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=m([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=re.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=re.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=re.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?-1!==(e=re.call(this._weekdaysParse,g))?e:-1!==(e=re.call(this._shortWeekdaysParse,g))?e:(e=re.call(this._minWeekdaysParse,g),-1!==e?e:null):"ddd"===b?-1!==(e=re.call(this._shortWeekdaysParse,g))?e:-1!==(e=re.call(this._weekdaysParse,g))?e:(e=re.call(this._minWeekdaysParse,g),-1!==e?e:null):-1!==(e=re.call(this._minWeekdaysParse,g))?e:-1!==(e=re.call(this._weekdaysParse,g))?e:(e=re.call(this._shortWeekdaysParse,g),-1!==e?e:null)}function La(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ka.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=m([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ma(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Fa(a,this.localeData()),this.add(a-b,"d")):b}function Na(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Oa(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Ga(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Pa(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=Ce),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qa(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=De),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ra(a){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ee),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Sa(){function a(a,b){return b.length-a.length}
var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)c=m([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=Y(h[b]),i[b]=Y(i[b]),j[b]=Y(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ta(){return this.hours()%12||12}function Ua(){return this.hours()||24}function Va(a,b){Q(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Wa(a,b){return b._meridiemParse}function Xa(a){return"p"===(a+"").toLowerCase().charAt(0)}function Ya(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Za(a){return a?a.toLowerCase().replace("_","-"):a}function $a(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Za(a[f]).split("-"),b=e.length,c=Za(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=_a(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&w(e,c,!0)>=b-1)break;b--}f++}return null}function _a(c){var d=null;if(!Je[c]&&void 0!==b&&b&&b.exports)try{d=Fe._abbr;a("./locale/"+c),ab(d)}catch(a){}return Je[c]}function ab(a,b){var c;return a&&(c=g(b)?db(a):bb(a,b))&&(Fe=c),Fe._abbr}function bb(a,b){if(null!==b){var c=Ie;if(b.abbr=a,null!=Je[a])z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=Je[a]._config;else if(null!=b.parentLocale){if(null==Je[b.parentLocale])return Ke[b.parentLocale]||(Ke[b.parentLocale]=[]),Ke[b.parentLocale].push({name:a,config:b}),null;c=Je[b.parentLocale]._config}return Je[a]=new D(C(c,b)),Ke[a]&&Ke[a].forEach(function(a){bb(a.name,a.config)}),ab(a),Je[a]}return delete Je[a],null}function cb(a,b){if(null!=b){var c,d=Ie;null!=Je[a]&&(d=Je[a]._config),b=C(d,b),c=new D(b),c.parentLocale=Je[a],Je[a]=c,ab(a)}else null!=Je[a]&&(null!=Je[a].parentLocale?Je[a]=Je[a].parentLocale:null!=Je[a]&&delete Je[a]);return Je[a]}function db(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Fe;if(!d(a)){if(b=_a(a))return b;a=[a]}return $a(a)}function eb(){return Gd(Je)}function fb(a){var b,c=a._a;return c&&-2===o(a).overflow&&(b=c[je]<0||c[je]>11?je:c[ke]<1||c[ke]>ja(c[ie],c[je])?ke:c[le]<0||c[le]>24||24===c[le]&&(0!==c[me]||0!==c[ne]||0!==c[oe])?le:c[me]<0||c[me]>59?me:c[ne]<0||c[ne]>59?ne:c[oe]<0||c[oe]>999?oe:-1,o(a)._overflowDayOfYear&&(b<ie||b>ke)&&(b=ke),o(a)._overflowWeeks&&-1===b&&(b=pe),o(a)._overflowWeekday&&-1===b&&(b=qe),o(a).overflow=b),a}function gb(a,b,c){return null!=a?a:null!=b?b:c}function hb(a){var b=new Date(c.now());return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ib(a){var b,c,d,e,f=[];if(!a._d){for(d=hb(a),a._w&&null==a._a[ke]&&null==a._a[je]&&jb(a),null!=a._dayOfYear&&(e=gb(a._a[ie],d[ie]),(a._dayOfYear>aa(e)||0===a._dayOfYear)&&(o(a)._overflowDayOfYear=!0),c=va(e,0,a._dayOfYear),a._a[je]=c.getUTCMonth(),a._a[ke]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[le]&&0===a._a[me]&&0===a._a[ne]&&0===a._a[oe]&&(a._nextDay=!0,a._a[le]=0),a._d=(a._useUTC?va:ua).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[le]=24),a._w&&void 0!==a._w.d&&a._w.d!==a._d.getDay()&&(o(a).weekdayMismatch=!0)}}function jb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=gb(b.GG,a._a[ie],ya(Ab(),1,4).year),d=gb(b.W,1),((e=gb(b.E,1))<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=ya(Ab(),f,g);c=gb(b.gg,a._a[ie],j.year),d=gb(b.w,j.week),null!=b.d?((e=b.d)<0||e>6)&&(i=!0):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}d<1||d>za(c,f,g)?o(a)._overflowWeeks=!0:null!=i?o(a)._overflowWeekday=!0:(h=xa(c,d,e,f,g),a._a[ie]=h.year,a._dayOfYear=h.dayOfYear)}function kb(a){var b,c,d,e,f,g,h=a._i,i=Le.exec(h)||Me.exec(h);if(i){for(o(a).iso=!0,b=0,c=Oe.length;b<c;b++)if(Oe[b][1].exec(i[1])){e=Oe[b][0],d=!1!==Oe[b][2];break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Pe.length;b<c;b++)if(Pe[b][1].exec(i[3])){f=(i[2]||" ")+Pe[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Ne.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),sb(a)}else a._isValid=!1}function lb(a,b,c,d,e,f){var g=[mb(a),ve.indexOf(b),parseInt(c,10),parseInt(d,10),parseInt(e,10)];return f&&g.push(parseInt(f,10)),g}function mb(a){var b=parseInt(a,10);return b<=49?2e3+b:b<=999?1900+b:b}function nb(a){return a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function ob(a,b,c){if(a){if(Ae.indexOf(a)!==new Date(b[0],b[1],b[2]).getDay())return o(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function pb(a,b,c){if(a)return Se[a];if(b)return 0;var d=parseInt(c,10),e=d%100;return(d-e)/100*60+e}function qb(a){var b=Re.exec(nb(a._i));if(b){var c=lb(b[4],b[3],b[2],b[5],b[6],b[7]);if(!ob(b[1],c,a))return;a._a=c,a._tzm=pb(b[8],b[9],b[10]),a._d=va.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),o(a).rfc2822=!0}else a._isValid=!1}function rb(a){var b=Qe.exec(a._i);if(null!==b)return void(a._d=new Date(+b[1]));kb(a),!1===a._isValid&&(delete a._isValid,qb(a),!1===a._isValid&&(delete a._isValid,c.createFromInputFallback(a)))}function sb(a){if(a._f===c.ISO_8601)return void kb(a);if(a._f===c.RFC_2822)return void qb(a);a._a=[],o(a).empty=!0;var b,d,e,f,g,h=""+a._i,i=h.length,j=0;for(e=U(a._f,a._locale).match(Nd)||[],b=0;b<e.length;b++)f=e[b],d=(h.match(W(f,a))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&o(a).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Qd[f]?(d?o(a).empty=!1:o(a).unusedTokens.push(f),_(f,d,a)):a._strict&&!d&&o(a).unusedTokens.push(f);o(a).charsLeftOver=i-j,h.length>0&&o(a).unusedInput.push(h),a._a[le]<=12&&!0===o(a).bigHour&&a._a[le]>0&&(o(a).bigHour=void 0),o(a).parsedDateParts=a._a.slice(0),o(a).meridiem=a._meridiem,a._a[le]=tb(a._locale,a._a[le],a._meridiem),ib(a),fb(a)}function tb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function ub(a){var b,c,d,e,f;if(0===a._f.length)return o(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=r({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],sb(b),p(b)&&(f+=o(b).charsLeftOver,f+=10*o(b).unusedTokens.length,o(b).score=f,(null==d||f<d)&&(d=f,c=b));l(a,c||b)}function vb(a){if(!a._d){var b=M(a._i);a._a=j([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ib(a)}}function wb(a){var b=new s(fb(xb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function xb(a){var b=a._i,c=a._f;return a._locale=a._locale||db(a._l),null===b||void 0===c&&""===b?q({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),t(b)?new s(fb(b)):(i(b)?a._d=b:d(c)?ub(a):c?sb(a):yb(a),p(a)||(a._d=null),a))}function yb(a){var b=a._i;g(b)?a._d=new Date(c.now()):i(b)?a._d=new Date(b.valueOf()):"string"==typeof b?rb(a):d(b)?(a._a=j(b.slice(0),function(a){return parseInt(a,10)}),ib(a)):e(b)?vb(a):h(b)?a._d=new Date(b):c.createFromInputFallback(a)}function zb(a,b,c,g,h){var i={};return!0!==c&&!1!==c||(g=c,c=void 0),(e(a)&&f(a)||d(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=c,i._i=a,i._f=b,i._strict=g,wb(i)}function Ab(a,b,c,d){return zb(a,b,c,d,!1)}function Bb(a,b){var c,e;if(1===b.length&&d(b[0])&&(b=b[0]),!b.length)return Ab();for(c=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](c)||(c=b[e]);return c}function Cb(){return Bb("isBefore",[].slice.call(arguments,0))}function Db(){return Bb("isAfter",[].slice.call(arguments,0))}function Eb(a){for(var b in a)if(-1===re.call(We,b)||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<We.length;++d)if(a[We[d]]){if(c)return!1;parseFloat(a[We[d]])!==v(a[We[d]])&&(c=!0)}return!0}function Fb(){return this._isValid}function Gb(){return Zb(NaN)}function Hb(a){var b=M(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=Eb(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=db(),this._bubble()}function Ib(a){return a instanceof Hb}function Jb(a){return a<0?-1*Math.round(-1*a):Math.round(a)}function Kb(a,b){Q(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+P(~~(a/60),2)+b+P(~~a%60,2)})}function Lb(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(Xe)||["-",0,0],f=60*e[1]+v(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Mb(a,b){var d,e;return b._isUTC?(d=b.clone(),e=(t(a)||i(a)?a.valueOf():Ab(a).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),c.updateOffset(d,!1),d):Ab(a).local()}function Nb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ob(a,b,d){var e,f=this._offset||0;if(!this.isValid())return null!=a?this:NaN;if(null!=a){if("string"==typeof a){if(null===(a=Lb(de,a)))return this}else Math.abs(a)<16&&!d&&(a*=60);return!this._isUTC&&b&&(e=Nb(this)),this._offset=a,this._isUTC=!0,null!=e&&this.add(e,"m"),f!==a&&(!b||this._changeInProgress?cc(this,Zb(a-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?f:Nb(this)}function Pb(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Qb(a){return this.utcOffset(0,a)}function Rb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Nb(this),"m")),this}function Sb(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=Lb(ce,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Tb(a){return!!this.isValid()&&(a=a?Ab(a).utcOffset():0,(this.utcOffset()-a)%60==0)}function Ub(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vb(){if(!g(this._isDSTShifted))return this._isDSTShifted;var a={};if(r(a,this),a=xb(a),a._a){var b=a._isUTC?m(a._a):Ab(a._a);this._isDSTShifted=this.isValid()&&w(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wb(){return!!this.isValid()&&!this._isUTC}function Xb(){return!!this.isValid()&&this._isUTC}function Yb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Zb(a,b){var c,d,e,f=a,g=null;return Ib(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:h(a)?(f={},b?f[b]=a:f.milliseconds=a):(g=Ye.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:v(g[ke])*c,h:v(g[le])*c,m:v(g[me])*c,s:v(g[ne])*c,ms:v(Jb(1e3*g[oe]))*c}):(g=Ze.exec(a))?(c="-"===g[1]?-1:(g[1],1),f={y:$b(g[2],c),M:$b(g[3],c),w:$b(g[4],c),d:$b(g[5],c),h:$b(g[6],c),m:$b(g[7],c),s:$b(g[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=ac(Ab(f.from),Ab(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Hb(f),Ib(a)&&k(a,"_locale")&&(d._locale=a._locale),d}function $b(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function _b(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function ac(a,b){var c;return a.isValid()&&b.isValid()?(b=Mb(b,a),a.isBefore(b)?c=_b(a,b):(c=_b(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function bc(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(z(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Zb(c,d),cc(this,e,a),this}}function cc(a,b,d,e){var f=b._milliseconds,g=Jb(b._days),h=Jb(b._months);a.isValid()&&(e=null==e||e,h&&oa(a,ea(a,"Month")+h*d),g&&fa(a,"Date",ea(a,"Date")+g*d),f&&a._d.setTime(a._d.valueOf()+f*d),e&&c.updateOffset(a,g||h))}function dc(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function ec(a,b){var d=a||Ab(),e=Mb(d,this).startOf("day"),f=c.calendarFormat(this,e)||"sameElse",g=b&&(A(b[f])?b[f].call(this,d):b[f]);return this.format(g||this.localeData().calendar(f,this,Ab(d)))}function fc(){return new s(this)}function gc(a,b){var c=t(a)?a:Ab(a);return!(!this.isValid()||!c.isValid())&&(b=L(g(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function hc(a,b){var c=t(a)?a:Ab(a);return!(!this.isValid()||!c.isValid())&&(b=L(g(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function ic(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function jc(a,b){var c,d=t(a)?a:Ab(a);return!(!this.isValid()||!d.isValid())&&(b=L(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function kc(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function lc(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function mc(a,b,c){var d,e,f;if(!this.isValid())return NaN;if(d=Mb(a,this),!d.isValid())return NaN;switch(e=6e4*(d.utcOffset()-this.utcOffset()),b=L(b)){case"year":f=nc(this,d)/12;break;case"month":f=nc(this,d);break;case"quarter":f=nc(this,d)/3;break;case"second":f=(this-d)/1e3;break;case"minute":f=(this-d)/6e4;break;case"hour":f=(this-d)/36e5;break;case"day":f=(this-d-e)/864e5;break;case"week":f=(this-d-e)/6048e5;break;default:f=this-d}return c?f:u(f)}function nc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function oc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pc(){if(!this.isValid())return null;var a=this.clone().utc();return a.year()<0||a.year()>9999?T(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(Date.prototype.toISOString)?this.toDate().toISOString():T(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function qc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e=b+'[")]';return this.format(c+d+"-MM-DD[T]HH:mm:ss.SSS"+e)}function rc(a){a||(a=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var b=T(this,a);return this.localeData().postformat(b)}function sc(a,b){return this.isValid()&&(t(a)&&a.isValid()||Ab(a).isValid())?Zb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function tc(a){return this.from(Ab(),a)}function uc(a,b){return this.isValid()&&(t(a)&&a.isValid()||Ab(a).isValid())?Zb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function vc(a){return this.to(Ab(),a)}function wc(a){var b;return void 0===a?this._locale._abbr:(b=db(a),null!=b&&(this._locale=b),this)}function xc(){return this._locale}function yc(a){switch(a=L(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function zc(a){return void 0===(a=L(a))||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function Ac(){return this._d.valueOf()-6e4*(this._offset||0)}function Bc(){return Math.floor(this.valueOf()/1e3)}function Cc(){return new Date(this.valueOf())}function Dc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Ec(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Fc(){return this.isValid()?this.toISOString():null}function Gc(){return p(this)}function Hc(){return l({},o(this))}function Ic(){return o(this).overflow}function Jc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Kc(a,b){Q(0,[a,a.length],0,b)}function Lc(a){return Pc.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Mc(a){return Pc.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Nc(){return za(this.year(),1,4)}function Oc(){var a=this.localeData()._week;return za(this.year(),a.dow,a.doy)}function Pc(a,b,c,d,e){var f;return null==a?ya(this,d,e).year:(f=za(a,d,e),b>f&&(b=f),Qc.call(this,a,b,c,d,e))}function Qc(a,b,c,d,e){var f=xa(a,b,c,d,e),g=va(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Rc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Sc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Tc(a,b){b[oe]=v(1e3*("0."+a))}function Uc(){return this._isUTC?"UTC":""}function Vc(){return this._isUTC?"Coordinated Universal Time":""}function Wc(a){return Ab(1e3*a)}function Xc(){return Ab.apply(null,arguments).parseZone()}function Yc(a){return a}function Zc(a,b,c,d){var e=db(),f=m().set(d,b);return e[c](f,a)}function $c(a,b,c){if(h(a)&&(b=a,a=void 0),a=a||"",null!=b)return Zc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Zc(a,d,c,"month");return e}function _c(a,b,c,d){"boolean"==typeof a?(h(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,h(b)&&(c=b,b=void 0),b=b||"");var e=db(),f=a?e._week.dow:0;if(null!=c)return Zc(b,(c+f)%7,d,"day");var g,i=[];for(g=0;g<7;g++)i[g]=Zc(b,(g+f)%7,d,"day");return i}function ad(a,b){return $c(a,b,"months")}function bd(a,b){return $c(a,b,"monthsShort")}function cd(a,b,c){return _c(a,b,c,"weekdays")}function dd(a,b,c){return _c(a,b,c,"weekdaysShort")}function ed(a,b,c){return _c(a,b,c,"weekdaysMin")}function fd(){var a=this._data;return this._milliseconds=jf(this._milliseconds),this._days=jf(this._days),this._months=jf(this._months),a.milliseconds=jf(a.milliseconds),a.seconds=jf(a.seconds),a.minutes=jf(a.minutes),a.hours=jf(a.hours),a.months=jf(a.months),a.years=jf(a.years),this}function gd(a,b,c,d){var e=Zb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function hd(a,b){return gd(this,a,b,1)}function id(a,b){return gd(this,a,b,-1)}function jd(a){return a<0?Math.floor(a):Math.ceil(a)}function kd(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*jd(md(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=u(f/1e3),i.seconds=a%60,b=u(a/60),i.minutes=b%60,c=u(b/60),i.hours=c%24,g+=u(c/24),e=u(ld(g)),h+=e,g-=jd(md(e)),d=u(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function ld(a){return 4800*a/146097}function md(a){return 146097*a/4800}function nd(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if("month"===(a=L(a))||"year"===a)return b=this._days+d/864e5,c=this._months+ld(b),"month"===a?c:c/12;switch(b=this._days+Math.round(md(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function od(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN}function pd(a){return function(){return this.as(a)}}function qd(){return Zb(this)}function rd(a){return a=L(a),this.isValid()?this[a+"s"]():NaN}function sd(a){return function(){return this.isValid()?this._data[a]:NaN}}function td(){return u(this.days()/7)}function ud(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function vd(a,b,c){var d=Zb(a).abs(),e=zf(d.as("s")),f=zf(d.as("m")),g=zf(d.as("h")),h=zf(d.as("d")),i=zf(d.as("M")),j=zf(d.as("y")),k=e<=Af.ss&&["s",e]||e<Af.s&&["ss",e]||f<=1&&["m"]||f<Af.m&&["mm",f]||g<=1&&["h"]||g<Af.h&&["hh",g]||h<=1&&["d"]||h<Af.d&&["dd",h]||i<=1&&["M"]||i<Af.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,ud.apply(null,k)}function wd(a){return void 0===a?zf:"function"==typeof a&&(zf=a,!0)}function xd(a,b){return void 0!==Af[a]&&(void 0===b?Af[a]:(Af[a]=b,"s"===a&&(Af.ss=b-1),!0))}function yd(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=vd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function zd(a){return(a>0)-(a<0)||+a}function Ad(){if(!this.isValid())return this.localeData().invalidDate();var a,b,c,d=Bf(this._milliseconds)/1e3,e=Bf(this._days),f=Bf(this._months);a=u(d/60),b=u(a/60),d%=60,a%=60,c=u(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d?d.toFixed(3).replace(/\.?0+$/,""):"",m=this.asSeconds();if(!m)return"P0D";var n=m<0?"-":"",o=zd(this._months)!==zd(m)?"-":"",p=zd(this._days)!==zd(m)?"-":"",q=zd(this._milliseconds)!==zd(m)?"-":"";return n+"P"+(g?o+g+"Y":"")+(h?o+h+"M":"")+(i?p+i+"D":"")+(j||k||l?"T":"")+(j?q+j+"H":"")+(k?q+k+"M":"")+(l?q+l+"S":"")}var Bd,Cd;Cd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var Dd=c.momentProperties=[],Ed=!1,Fd={};c.suppressDeprecationWarnings=!1,c.deprecationHandler=null;var Gd;Gd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)k(a,b)&&c.push(b);return c};var Hd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Id={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Jd=/\d{1,2}/,Kd={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ld={},Md={},Nd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Od=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pd={},Qd={},Rd=/\d/,Sd=/\d\d/,Td=/\d{3}/,Ud=/\d{4}/,Vd=/[+-]?\d{6}/,Wd=/\d\d?/,Xd=/\d\d\d\d?/,Yd=/\d\d\d\d\d\d?/,Zd=/\d{1,3}/,$d=/\d{1,4}/,_d=/[+-]?\d{1,6}/,ae=/\d+/,be=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,ee=/[+-]?\d+(\.\d{1,3})?/,fe=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ge={},he={},ie=0,je=1,ke=2,le=3,me=4,ne=5,oe=6,pe=7,qe=8;Q("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),Q(0,["YY",2],0,function(){return this.year()%100}),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),K("year","y"),N("year",1),V("Y",be),V("YY",Wd,Sd),V("YYYY",$d,Ud),V("YYYYY",_d,Vd),V("YYYYYY",_d,Vd),Z(["YYYYY","YYYYYY"],ie),Z("YYYY",function(a,b){b[ie]=2===a.length?c.parseTwoDigitYear(a):v(a)}),Z("YY",function(a,b){b[ie]=c.parseTwoDigitYear(a)}),Z("Y",function(a,b){b[ie]=parseInt(a,10)}),c.parseTwoDigitYear=function(a){return v(a)+(v(a)>68?1900:2e3)};var re,se=da("FullYear",!0);re=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},Q("M",["MM",2],"Mo",function(){return this.month()+1}),Q("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),Q("MMMM",0,0,function(a){return this.localeData().months(this,a)}),K("month","M"),N("month",8),V("M",Wd),V("MM",Wd,Sd),V("MMM",function(a,b){return b.monthsShortRegex(a)}),V("MMMM",function(a,b){return b.monthsRegex(a)}),Z(["M","MM"],function(a,b){b[je]=v(a)-1}),Z(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[je]=e:o(c).invalidMonth=a});var te=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ue="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ve="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),we=fe,xe=fe;Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),K("week","w"),K("isoWeek","W"),N("week",5),N("isoWeek",5),V("w",Wd),V("ww",Wd,Sd),V("W",Wd),V("WW",Wd,Sd),$(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=v(a)});var ye={dow:0,doy:6};Q("d",0,"do","day"),Q("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),Q("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),Q("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),K("day","d"),K("weekday","e"),K("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),V("d",Wd),V("e",Wd),V("E",Wd),V("dd",function(a,b){return b.weekdaysMinRegex(a)}),V("ddd",function(a,b){return b.weekdaysShortRegex(a)}),V("dddd",function(a,b){return b.weekdaysRegex(a)}),$(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:o(c).invalidWeekday=a}),$(["d","e","E"],function(a,b,c,d){b[d]=v(a)});var ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ae="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Be="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ce=fe,De=fe,Ee=fe;Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,Ta),Q("k",["kk",2],0,Ua),Q("hmm",0,0,function(){return""+Ta.apply(this)+P(this.minutes(),2)}),Q("hmmss",0,0,function(){return""+Ta.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),Q("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),Q("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),Va("a",!0),Va("A",!1),K("hour","h"),N("hour",13),V("a",Wa),V("A",Wa),V("H",Wd),V("h",Wd),V("k",Wd),V("HH",Wd,Sd),V("hh",Wd,Sd),V("kk",Wd,Sd),V("hmm",Xd),V("hmmss",Yd),V("Hmm",Xd),V("Hmmss",Yd),Z(["H","HH"],le),Z(["k","kk"],function(a,b,c){var d=v(a);b[le]=24===d?0:d}),Z(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Z(["h","hh"],function(a,b,c){b[le]=v(a),o(c).bigHour=!0}),Z("hmm",function(a,b,c){var d=a.length-2;b[le]=v(a.substr(0,d)),b[me]=v(a.substr(d)),o(c).bigHour=!0}),Z("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[le]=v(a.substr(0,d)),b[me]=v(a.substr(d,2)),b[ne]=v(a.substr(e)),o(c).bigHour=!0}),Z("Hmm",function(a,b,c){var d=a.length-2;b[le]=v(a.substr(0,d)),b[me]=v(a.substr(d))}),Z("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[le]=v(a.substr(0,d)),b[me]=v(a.substr(d,2)),b[ne]=v(a.substr(e))});var Fe,Ge=/[ap]\.?m?\.?/i,He=da("Hours",!0),Ie={calendar:Hd,longDateFormat:Id,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Jd,relativeTime:Kd,months:ue,monthsShort:ve,week:ye,weekdays:ze,weekdaysMin:Be,weekdaysShort:Ae,meridiemParse:Ge},Je={},Ke={},Le=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Me=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ne=/Z|[+-]\d\d(?::?\d\d)?/,Oe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Qe=/^\/?Date\((\-?\d+)/i,Re=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Se={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};c.createFromInputFallback=y("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),c.ISO_8601=function(){},c.RFC_2822=function(){};var Te=y("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=Ab.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:q()}),Ue=y("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=Ab.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:q()}),Ve=function(){return Date.now?Date.now():+new Date},We=["year","quarter","month","week","day","hour","minute","second","millisecond"];Kb("Z",":"),Kb("ZZ",""),V("Z",de),V("ZZ",de),Z(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Lb(de,a)});var Xe=/([\+\-]|\d\d)/gi;c.updateOffset=function(){};var Ye=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ze=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Zb.fn=Hb.prototype,Zb.invalid=Gb;var $e=bc(1,"add"),_e=bc(-1,"subtract");c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var af=y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});Q(0,["gg",2],0,function(){return this.weekYear()%100}),Q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Kc("gggg","weekYear"),Kc("ggggg","weekYear"),Kc("GGGG","isoWeekYear"),Kc("GGGGG","isoWeekYear"),K("weekYear","gg"),K("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),V("G",be),V("g",be),V("GG",Wd,Sd),V("gg",Wd,Sd),V("GGGG",$d,Ud),V("gggg",$d,Ud),V("GGGGG",_d,Vd),V("ggggg",_d,Vd),$(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=v(a)}),$(["gg","GG"],function(a,b,d,e){b[e]=c.parseTwoDigitYear(a)}),Q("Q",0,"Qo","quarter"),K("quarter","Q"),N("quarter",7),V("Q",Rd),Z("Q",function(a,b){b[je]=3*(v(a)-1)}),Q("D",["DD",2],"Do","date"),K("date","D"),N("date",9),V("D",Wd),V("DD",Wd,Sd),V("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),Z(["D","DD"],ke),Z("Do",function(a,b){b[ke]=v(a.match(Wd)[0],10)});var bf=da("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear"),K("dayOfYear","DDD"),N("dayOfYear",4),V("DDD",Zd),V("DDDD",Td),Z(["DDD","DDDD"],function(a,b,c){c._dayOfYear=v(a)}),Q("m",["mm",2],0,"minute"),K("minute","m"),N("minute",14),V("m",Wd),V("mm",Wd,Sd),Z(["m","mm"],me);var cf=da("Minutes",!1);Q("s",["ss",2],0,"second"),K("second","s"),N("second",15),V("s",Wd),V("ss",Wd,Sd),Z(["s","ss"],ne);var df=da("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)}),Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Q(0,["SSS",3],0,"millisecond"),
Q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),K("millisecond","ms"),N("millisecond",16),V("S",Zd,Rd),V("SS",Zd,Sd),V("SSS",Zd,Td);var ef;for(ef="SSSS";ef.length<=9;ef+="S")V(ef,ae);for(ef="S";ef.length<=9;ef+="S")Z(ef,Tc);var ff=da("Milliseconds",!1);Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");var gf=s.prototype;gf.add=$e,gf.calendar=ec,gf.clone=fc,gf.diff=mc,gf.endOf=zc,gf.format=rc,gf.from=sc,gf.fromNow=tc,gf.to=uc,gf.toNow=vc,gf.get=ga,gf.invalidAt=Ic,gf.isAfter=gc,gf.isBefore=hc,gf.isBetween=ic,gf.isSame=jc,gf.isSameOrAfter=kc,gf.isSameOrBefore=lc,gf.isValid=Gc,gf.lang=af,gf.locale=wc,gf.localeData=xc,gf.max=Ue,gf.min=Te,gf.parsingFlags=Hc,gf.set=ha,gf.startOf=yc,gf.subtract=_e,gf.toArray=Dc,gf.toObject=Ec,gf.toDate=Cc,gf.toISOString=pc,gf.inspect=qc,gf.toJSON=Fc,gf.toString=oc,gf.unix=Bc,gf.valueOf=Ac,gf.creationData=Jc,gf.year=se,gf.isLeapYear=ca,gf.weekYear=Lc,gf.isoWeekYear=Mc,gf.quarter=gf.quarters=Rc,gf.month=pa,gf.daysInMonth=qa,gf.week=gf.weeks=Da,gf.isoWeek=gf.isoWeeks=Ea,gf.weeksInYear=Oc,gf.isoWeeksInYear=Nc,gf.date=bf,gf.day=gf.days=Ma,gf.weekday=Na,gf.isoWeekday=Oa,gf.dayOfYear=Sc,gf.hour=gf.hours=He,gf.minute=gf.minutes=cf,gf.second=gf.seconds=df,gf.millisecond=gf.milliseconds=ff,gf.utcOffset=Ob,gf.utc=Qb,gf.local=Rb,gf.parseZone=Sb,gf.hasAlignedHourOffset=Tb,gf.isDST=Ub,gf.isLocal=Wb,gf.isUtcOffset=Xb,gf.isUtc=Yb,gf.isUTC=Yb,gf.zoneAbbr=Uc,gf.zoneName=Vc,gf.dates=y("dates accessor is deprecated. Use date instead.",bf),gf.months=y("months accessor is deprecated. Use month instead",pa),gf.years=y("years accessor is deprecated. Use year instead",se),gf.zone=y("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pb),gf.isDSTShifted=y("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Vb);var hf=D.prototype;hf.calendar=E,hf.longDateFormat=F,hf.invalidDate=G,hf.ordinal=H,hf.preparse=Yc,hf.postformat=Yc,hf.relativeTime=I,hf.pastFuture=J,hf.set=B,hf.months=ka,hf.monthsShort=la,hf.monthsParse=na,hf.monthsRegex=sa,hf.monthsShortRegex=ra,hf.week=Aa,hf.firstDayOfYear=Ca,hf.firstDayOfWeek=Ba,hf.weekdays=Ha,hf.weekdaysMin=Ja,hf.weekdaysShort=Ia,hf.weekdaysParse=La,hf.weekdaysRegex=Pa,hf.weekdaysShortRegex=Qa,hf.weekdaysMinRegex=Ra,hf.isPM=Xa,hf.meridiem=Ya,ab("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===v(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),c.lang=y("moment.lang is deprecated. Use moment.locale instead.",ab),c.langData=y("moment.langData is deprecated. Use moment.localeData instead.",db);var jf=Math.abs,kf=pd("ms"),lf=pd("s"),mf=pd("m"),nf=pd("h"),of=pd("d"),pf=pd("w"),qf=pd("M"),rf=pd("y"),sf=sd("milliseconds"),tf=sd("seconds"),uf=sd("minutes"),vf=sd("hours"),wf=sd("days"),xf=sd("months"),yf=sd("years"),zf=Math.round,Af={ss:44,s:45,m:45,h:22,d:26,M:11},Bf=Math.abs,Cf=Hb.prototype;return Cf.isValid=Fb,Cf.abs=fd,Cf.add=hd,Cf.subtract=id,Cf.as=nd,Cf.asMilliseconds=kf,Cf.asSeconds=lf,Cf.asMinutes=mf,Cf.asHours=nf,Cf.asDays=of,Cf.asWeeks=pf,Cf.asMonths=qf,Cf.asYears=rf,Cf.valueOf=od,Cf._bubble=kd,Cf.clone=qd,Cf.get=rd,Cf.milliseconds=sf,Cf.seconds=tf,Cf.minutes=uf,Cf.hours=vf,Cf.days=wf,Cf.weeks=td,Cf.months=xf,Cf.years=yf,Cf.humanize=yd,Cf.toISOString=Ad,Cf.toString=Ad,Cf.toJSON=Ad,Cf.locale=wc,Cf.localeData=xc,Cf.toIsoString=y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ad),Cf.lang=af,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),V("x",be),V("X",ee),Z("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Z("x",function(a,b,c){c._d=new Date(v(a))}),c.version="2.19.1",function(a){Bd=a}(Ab),c.fn=gf,c.min=Cb,c.max=Db,c.now=Ve,c.utc=m,c.unix=Wc,c.months=ad,c.isDate=i,c.locale=ab,c.invalid=q,c.duration=Zb,c.isMoment=t,c.weekdays=cd,c.parseZone=Xc,c.localeData=db,c.isDuration=Ib,c.monthsShort=bd,c.weekdaysMin=ed,c.defineLocale=bb,c.updateLocale=cb,c.locales=eb,c.weekdaysShort=dd,c.normalizeUnits=L,c.relativeTimeRounding=wd,c.relativeTimeThreshold=xd,c.calendarFormat=dc,c.prototype=gf,c})},{}],17:[function(a,b,c){var d=a("turf-invariant").getCoord,e=a("turf-helpers").radiansToDistance;b.exports=function(a,b,c){var f=Math.PI/180,g=d(a),h=d(b),i=f*(h[1]-g[1]),j=f*(h[0]-g[0]),k=f*g[1],l=f*h[1],m=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(j/2),2)*Math.cos(k)*Math.cos(l);return e(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)),c)}},{"turf-helpers":18,"turf-invariant":19}],18:[function(a,b,c){function d(a,b){return{type:"Feature",properties:b||{},geometry:a}}b.exports.feature=d,b.exports.point=function(a,b){if(!Array.isArray(a))throw new Error("Coordinates must be an array");if(a.length<2)throw new Error("Coordinates must be at least 2 numbers long");return d({type:"Point",coordinates:a.slice()},b)},b.exports.polygon=function(a,b){if(!a)throw new Error("No coordinates passed");for(var c=0;c<a.length;c++){var e=a[c];if(e.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<e[e.length-1].length;f++)if(e[e.length-1][f]!==e[0][f])throw new Error("First and last Position are not equivalent.")}return d({type:"Polygon",coordinates:a},b)},b.exports.lineString=function(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"LineString",coordinates:a},b)},b.exports.featureCollection=function(a){return{type:"FeatureCollection",features:a}},b.exports.multiLineString=function(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"MultiLineString",coordinates:a},b)},b.exports.multiPoint=function(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"MultiPoint",coordinates:a},b)},b.exports.multiPolygon=function(a,b){if(!a)throw new Error("No coordinates passed");return d({type:"MultiPolygon",coordinates:a},b)},b.exports.geometryCollection=function(a,b){return d({type:"GeometryCollection",geometries:a},b)};var e={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};b.exports.radiansToDistance=function(a,b){var c=e[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a*c},b.exports.distanceToRadians=function(a,b){var c=e[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a/c},b.exports.distanceToDegrees=function(a,b){var c=e[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a/c*57.2958}},{}],19:[function(a,b,c){function d(a){if(Array.isArray(a)&&"number"==typeof a[0]&&"number"==typeof a[1])return a;if(a){if("Feature"===a.type&&a.geometry&&"Point"===a.geometry.type&&Array.isArray(a.geometry.coordinates))return a.geometry.coordinates;if("Point"===a.type&&Array.isArray(a.coordinates))return a.coordinates}throw new Error("A coordinate, feature, or point geometry is required")}function e(a,b,c){if(!b||!c)throw new Error("type and name required");if(!a||a.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.type)}function f(a,b,c){if(!c)throw new Error(".featureOf() requires a name");if(!a||"Feature"!==a.type||!a.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!a.geometry||a.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.geometry.type)}function g(a,b,c){if(!c)throw new Error(".collectionOf() requires a name");if(!a||"FeatureCollection"!==a.type)throw new Error("Invalid input to "+c+", FeatureCollection required");for(var d=0;d<a.features.length;d++){var e=a.features[d];if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!e.geometry||e.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+e.geometry.type)}}b.exports.geojsonType=e,b.exports.collectionOf=g,b.exports.featureOf=f,b.exports.getCoord=d},{}],20:[function(a,b,c){(function(){function a(a){function b(b,c,d,e,f,g){for(;f>=0&&f<g;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=v(d,f,4);var g=!C(c)&&u.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function d(a){return function(b,c,d){c=w(c,d);for(var e=B(b),f=a>0?0:e-1;f>=0&&f<e;f+=a)if(c(b[f],f,b))return f;return-1}}function e(a,b,c){return function(d,e,f){var g=0,h=B(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(m.call(d,g,h),u.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&f<h;f+=a)if(d[f]===e)return f;return-1}}function f(a,b){var c=H.length,d=a.constructor,e=u.isFunction(d)&&d.prototype||j,f="constructor";for(u.has(a,f)&&!u.contains(b,f)&&b.push(f);c--;)(f=H[c])in a&&a[f]!==e[f]&&!u.contains(b,f)&&b.push(f)}var g=this,h=g._,i=Array.prototype,j=Object.prototype,k=Function.prototype,l=i.push,m=i.slice,n=j.toString,o=j.hasOwnProperty,p=Array.isArray,q=Object.keys,r=k.bind,s=Object.create,t=function(){},u=function(a){return a instanceof u?a:this instanceof u?void(this._wrapped=a):new u(a)};void 0!==c?(void 0!==b&&b.exports&&(c=b.exports=u),c._=u):g._=u,u.VERSION="1.8.3";var v=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},w=function(a,b,c){return null==a?u.identity:u.isFunction(a)?v(a,b,c):u.isObject(a)?u.matcher(a):u.property(a)};u.iteratee=function(a,b){return w(a,b,1/0)};var x=function(a,b){return function(c){var d=arguments.length;if(d<2||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;i<h;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},y=function(a){if(!u.isObject(a))return{};if(s)return s(a);t.prototype=a;var b=new t;return t.prototype=null,b},z=function(a){return function(b){return null==b?void 0:b[a]}},A=Math.pow(2,53)-1,B=z("length"),C=function(a){var b=B(a);return"number"==typeof b&&b>=0&&b<=A};u.each=u.forEach=function(a,b,c){b=v(b,c);var d,e;if(C(a))for(d=0,e=a.length;d<e;d++)b(a[d],d,a);else{var f=u.keys(a);for(d=0,e=f.length;d<e;d++)b(a[f[d]],f[d],a)}return a},u.map=u.collect=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=Array(e),g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},u.reduce=u.foldl=u.inject=a(1),u.reduceRight=u.foldr=a(-1),u.find=u.detect=function(a,b,c){var d;if(void 0!==(d=C(a)?u.findIndex(a,b,c):u.findKey(a,b,c))&&-1!==d)return a[d]},u.filter=u.select=function(a,b,c){var d=[];return b=w(b,c),u.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},u.reject=function(a,b,c){return u.filter(a,u.negate(w(b)),c)},u.every=u.all=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},u.some=u.any=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},u.contains=u.includes=u.include=function(a,b,c,d){return C(a)||(a=u.values(a)),("number"!=typeof c||d)&&(c=0),u.indexOf(a,b,c)>=0},u.invoke=function(a,b){var c=m.call(arguments,2),d=u.isFunction(b);return u.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},u.pluck=function(a,b){return u.map(a,u.property(b))},u.where=function(a,b){return u.filter(a,u.matcher(b))},u.findWhere=function(a,b){return u.find(a,u.matcher(b))},u.max=function(a,b,c){var d,e,f=-1/0,g=-1/0;if(null==b&&null!=a){a=C(a)?a:u.values(a);for(var h=0,i=a.length;h<i;h++)(d=a[h])>f&&(f=d)}else b=w(b,c),u.each(a,function(a,c,d){((e=b(a,c,d))>g||e===-1/0&&f===-1/0)&&(f=a,g=e)});return f},u.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=C(a)?a:u.values(a);for(var h=0,i=a.length;h<i;h++)(d=a[h])<f&&(f=d)}else b=w(b,c),u.each(a,function(a,c,d){((e=b(a,c,d))<g||e===1/0&&f===1/0)&&(f=a,g=e)});return f},u.shuffle=function(a){for(var b,c=C(a)?a:u.values(a),d=c.length,e=Array(d),f=0;f<d;f++)b=u.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},u.sample=function(a,b,c){return null==b||c?(C(a)||(a=u.values(a)),a[u.random(a.length-1)]):u.shuffle(a).slice(0,Math.max(0,b))},u.sortBy=function(a,b,c){return b=w(b,c),u.pluck(u.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var D=function(a){return function(b,c,d){var e={};return c=w(c,d),u.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};u.groupBy=D(function(a,b,c){u.has(a,c)?a[c].push(b):a[c]=[b]}),u.indexBy=D(function(a,b,c){a[c]=b}),u.countBy=D(function(a,b,c){u.has(a,c)?a[c]++:a[c]=1}),u.toArray=function(a){return a?u.isArray(a)?m.call(a):C(a)?u.map(a,u.identity):u.values(a):[]},u.size=function(a){return null==a?0:C(a)?a.length:u.keys(a).length},u.partition=function(a,b,c){b=w(b,c);var d=[],e=[];return u.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},u.first=u.head=u.take=function(a,b,c){if(null!=a)return null==b||c?a[0]:u.initial(a,a.length-b)},u.initial=function(a,b,c){return m.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},u.last=function(a,b,c){if(null!=a)return null==b||c?a[a.length-1]:u.rest(a,Math.max(0,a.length-b))},u.rest=u.tail=u.drop=function(a,b,c){return m.call(a,null==b||c?1:b)},u.compact=function(a){return u.filter(a,u.identity)};var E=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=B(a);g<h;g++){var i=a[g];if(C(i)&&(u.isArray(i)||u.isArguments(i))){b||(i=E(i,b,c));var j=0,k=i.length;for(e.length+=k;j<k;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};u.flatten=function(a,b){return E(a,b,!1)},u.without=function(a){return u.difference(a,m.call(arguments,1))},u.uniq=u.unique=function(a,b,c,d){u.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=w(c,d));for(var e=[],f=[],g=0,h=B(a);g<h;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?u.contains(f,j)||(f.push(j),e.push(i)):u.contains(e,i)||e.push(i)}return e},u.union=function(){return u.uniq(E(arguments,!0,!0))},u.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=B(a);d<e;d++){var f=a[d];if(!u.contains(b,f)){for(var g=1;g<c&&u.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},u.difference=function(a){var b=E(arguments,!0,!0,1);return u.filter(a,function(a){return!u.contains(b,a)})},u.zip=function(){return u.unzip(arguments)},u.unzip=function(a){for(var b=a&&u.max(a,B).length||0,c=Array(b),d=0;d<b;d++)c[d]=u.pluck(a,d);return c},u.object=function(a,b){for(var c={},d=0,e=B(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},u.findIndex=d(1),u.findLastIndex=d(-1),u.sortedIndex=function(a,b,c,d){c=w(c,d,1);for(var e=c(b),f=0,g=B(a);f<g;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},u.indexOf=e(1,u.findIndex,u.sortedIndex),u.lastIndexOf=e(-1,u.findLastIndex),u.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;f<d;f++,a+=c)e[f]=a;return e};var F=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=y(a.prototype),g=a.apply(f,e);return u.isObject(g)?g:f};u.bind=function(a,b){if(r&&a.bind===r)return r.apply(a,m.call(arguments,1));if(!u.isFunction(a))throw new TypeError("Bind must be called on a function");var c=m.call(arguments,2),d=function(){return F(a,d,b,this,c.concat(m.call(arguments)))};return d},u.partial=function(a){var b=m.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;g<e;g++)f[g]=b[g]===u?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return F(a,c,this,this,f)};return c},u.bindAll=function(a){var b,c,d=arguments.length;if(d<=1)throw new Error("bindAll must be passed function names");for(b=1;b<d;b++)c=arguments[b],a[c]=u.bind(a[c],a);return a},u.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return u.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},u.delay=function(a,b){var c=m.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},u.defer=u.partial(u.delay,u,1),u.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=!1===c.leading?0:u.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=u.now();h||!1!==c.leading||(h=j);var k=b-(j-h);return d=this,e=arguments,k<=0||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||!1===c.trailing||(g=setTimeout(i,k)),f}},u.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=u.now()-g;j<b&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=u.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},u.wrap=function(a,b){return u.partial(b,a)},u.negate=function(a){return function(){return!a.apply(this,arguments)}},u.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},u.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},u.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=null),c}},u.once=u.partial(u.before,2);var G=!{toString:null}.propertyIsEnumerable("toString"),H=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];u.keys=function(a){if(!u.isObject(a))return[];if(q)return q(a);var b=[];for(var c in a)u.has(a,c)&&b.push(c);return G&&f(a,b),b},u.allKeys=function(a){if(!u.isObject(a))return[];var b=[];for(var c in a)b.push(c);return G&&f(a,b),b},u.values=function(a){for(var b=u.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d},u.mapObject=function(a,b,c){b=w(b,c);for(var d,e=u.keys(a),f=e.length,g={},h=0;h<f;h++)d=e[h],g[d]=b(a[d],d,a);return g},u.pairs=function(a){for(var b=u.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},u.invert=function(a){for(var b={},c=u.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b},u.functions=u.methods=function(a){var b=[];for(var c in a)u.isFunction(a[c])&&b.push(c);return b.sort()},u.extend=x(u.allKeys),u.extendOwn=u.assign=x(u.keys),u.findKey=function(a,b,c){b=w(b,c);for(var d,e=u.keys(a),f=0,g=e.length;f<g;f++)if(d=e[f],b(a[d],d,a))return d},u.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;u.isFunction(b)?(e=u.allKeys(g),d=v(b,c)):(e=E(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;h<i;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},u.omit=function(a,b,c){if(u.isFunction(b))b=u.negate(b);else{var d=u.map(E(arguments,!1,!1,1),String);b=function(a,b){return!u.contains(d,b)}}return u.pick(a,b,c)},u.defaults=x(u.allKeys,!0),u.create=function(a,b){var c=y(a);return b&&u.extendOwn(c,b),c},u.clone=function(a){return u.isObject(a)?u.isArray(a)?a.slice():u.extend({},a):a},u.tap=function(a,b){return b(a),a},u.isMatch=function(a,b){var c=u.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var I=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof u&&(a=a._wrapped),b instanceof u&&(b=b._wrapped);var e=n.call(a);if(e!==n.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(u.isFunction(g)&&g instanceof g&&u.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if((i=a.length)!==b.length)return!1;for(;i--;)if(!I(a[i],b[i],c,d))return!1}else{var j,k=u.keys(a);if(i=k.length,u.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!u.has(b,j)||!I(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};u.isEqual=function(a,b){return I(a,b)},u.isEmpty=function(a){return null==a||(C(a)&&(u.isArray(a)||u.isString(a)||u.isArguments(a))?0===a.length:0===u.keys(a).length)},u.isElement=function(a){return!(!a||1!==a.nodeType)},u.isArray=p||function(a){return"[object Array]"===n.call(a)},u.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},u.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){u["is"+a]=function(b){return n.call(b)==="[object "+a+"]"}}),u.isArguments(arguments)||(u.isArguments=function(a){return u.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(u.isFunction=function(a){return"function"==typeof a||!1}),u.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},u.isNaN=function(a){return u.isNumber(a)&&a!==+a},u.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===n.call(a)},u.isNull=function(a){return null===a},u.isUndefined=function(a){return void 0===a},u.has=function(a,b){return null!=a&&o.call(a,b)},u.noConflict=function(){return g._=h,this},u.identity=function(a){return a},u.constant=function(a){return function(){return a}},u.noop=function(){},u.property=z,u.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},u.matcher=u.matches=function(a){return a=u.extendOwn({},a),function(b){return u.isMatch(b,a)}},u.times=function(a,b,c){var d=Array(Math.max(0,a));b=v(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d},u.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},u.now=Date.now||function(){return(new Date).getTime()};var J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},K=u.invert(J),L=function(a){var b=function(b){return a[b]},c="(?:"+u.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};u.escape=L(J),u.unescape=L(K),u.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),u.isFunction(d)?d.call(a):d};var M=0;u.uniqueId=function(a){var b=++M+"";return a?a+b:b},u.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(a){return"\\"+O[a]};u.template=function(a,b,c){!b&&c&&(b=c),b=u.defaults({},b,u.templateSettings);var d=RegExp([(b.escape||N).source,(b.interpolate||N).source,(b.evaluate||N).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(P,Q),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(a){throw a.source=f,a}var h=function(a){return g.call(this,a,u)};return h.source="function("+(b.variable||"obj")+"){\n"+f+"}",h},u.chain=function(a){var b=u(a);return b._chain=!0,b};var R=function(a,b){return a._chain?u(b).chain():b};u.mixin=function(a){u.each(u.functions(a),function(b){var c=u[b]=a[b];u.prototype[b]=function(){var a=[this._wrapped];return l.apply(a,arguments),R(this,c.apply(u,a))}})},u.mixin(u),u.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=i[a];u.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],R(this,c)}}),u.each(["concat","join","slice"],function(a){var b=i[a];u.prototype[a]=function(){return R(this,b.apply(this._wrapped,arguments))}}),u.prototype.value=function(){return this._wrapped},u.prototype.valueOf=u.prototype.toJSON=u.prototype.value,u.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return u})}).call(this)},{}],21:[function(a,b,c){!function(a,c){"use strict";"object"==typeof b&&b.exports?b.exports=c():"function"==typeof define&&define.amd?define(c):a.IPv6=c(a)}(this,function(a){"use strict";function b(a){var b=a.toLowerCase(),c=b.split(":"),d=c.length,e=8;""===c[0]&&""===c[1]&&""===c[2]?(c.shift(),c.shift()):""===c[0]&&""===c[1]?c.shift():""===c[d-1]&&""===c[d-2]&&c.pop(),d=c.length,-1!==c[d-1].indexOf(".")&&(e=7);var f;for(f=0;f<d&&""!==c[f];f++);if(f<e)for(c.splice(f,1,"0000");c.length<e;)c.splice(f,0,"0000");for(var g,h=0;h<e;h++){g=c[h].split("");for(var i=0;i<3&&("0"===g[0]&&g.length>1);i++)g.splice(0,1);c[h]=g.join("")}var j=-1,k=0,l=0,m=-1,n=!1;for(h=0;h<e;h++)n?"0"===c[h]?l+=1:(n=!1,l>k&&(j=m,k=l)):"0"===c[h]&&(n=!0,m=h,l=1);l>k&&(j=m,k=l),k>1&&c.splice(j,k,""),d=c.length;var o="";for(""===c[0]&&(o=":"),h=0;h<d&&(o+=c[h],h!==d-1);h++)o+=":";return""===c[d-1]&&(o+=":"),o}function c(){return a.IPv6===this&&(a.IPv6=d),this}var d=a&&a.IPv6;return{best:b,noConflict:c}})},{}],22:[function(a,b,c){!function(a,c){"use strict";"object"==typeof b&&b.exports?b.exports=c():"function"==typeof define&&define.amd?define(c):a.SecondLevelDomains=c(a)}(this,function(a){"use strict";var b=a&&a.SecondLevelDomains,c={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",
ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(a){var b=a.lastIndexOf(".");if(b<=0||b>=a.length-1)return!1;var d=a.lastIndexOf(".",b-1);if(d<=0||d>=b-1)return!1;var e=c.list[a.slice(b+1)];return!!e&&e.indexOf(" "+a.slice(d+1,b)+" ")>=0},is:function(a){var b=a.lastIndexOf(".");if(b<=0||b>=a.length-1)return!1;if(a.lastIndexOf(".",b-1)>=0)return!1;var d=c.list[a.slice(b+1)];return!!d&&d.indexOf(" "+a.slice(0,b)+" ")>=0},get:function(a){var b=a.lastIndexOf(".");if(b<=0||b>=a.length-1)return null;var d=a.lastIndexOf(".",b-1);if(d<=0||d>=b-1)return null;var e=c.list[a.slice(b+1)];return e?e.indexOf(" "+a.slice(d+1,b)+" ")<0?null:a.slice(d+1):null},noConflict:function(){return a.SecondLevelDomains===this&&(a.SecondLevelDomains=b),this}};return c})},{}],23:[function(a,b,c){!function(c,d){"use strict";"object"==typeof b&&b.exports?b.exports=d(a("./punycode"),a("./IPv6"),a("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],d):c.URI=d(c.punycode,c.IPv6,c.SecondLevelDomains,c)}(this,function(a,b,c,d){"use strict";function e(a,b){var c=arguments.length>=1,d=arguments.length>=2;if(!(this instanceof e))return c?d?new e(a,b):new e(a):new e;if(void 0===a){if(c)throw new TypeError("undefined is not a valid argument for URI");a="undefined"!=typeof location?location.href+"":""}if(null===a&&c)throw new TypeError("null is not a valid argument for URI");return this.href(a),void 0!==b?this.absoluteTo(b):this}function f(a){return/^[0-9]+$/.test(a)}function g(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function h(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function i(a){return"Array"===h(a)}function j(a,b){var c,d,e={};if("RegExp"===h(b))e=null;else if(i(b))for(c=0,d=b.length;c<d;c++)e[b[c]]=!0;else e[b]=!0;for(c=0,d=a.length;c<d;c++){(e&&void 0!==e[a[c]]||!e&&b.test(a[c]))&&(a.splice(c,1),d--,c--)}return a}function k(a,b){var c,d;if(i(b)){for(c=0,d=b.length;c<d;c++)if(!k(a,b[c]))return!1;return!0}var e=h(b);for(c=0,d=a.length;c<d;c++)if("RegExp"===e){if("string"==typeof a[c]&&a[c].match(b))return!0}else if(a[c]===b)return!0;return!1}function l(a,b){if(!i(a)||!i(b))return!1;if(a.length!==b.length)return!1;a.sort(),b.sort();for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function m(a){var b=/^\/+|\/+$/g;return a.replace(b,"")}function n(a){return escape(a)}function o(a){return encodeURIComponent(a).replace(/[!'()*]/g,n).replace(/\*/g,"%2A")}function p(a){return function(b,c){return void 0===b?this._parts[a]||"":(this._parts[a]=b||null,this.build(!c),this)}}function q(a,b){return function(c,d){return void 0===c?this._parts[a]||"":(null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1))),this._parts[a]=c,this.build(!d),this)}}var r=d&&d.URI;e.version="1.19.0";var s=e.prototype,t=Object.prototype.hasOwnProperty;e._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:e.preventInvalidHostname,duplicateQueryParameters:e.duplicateQueryParameters,escapeQuerySpace:e.escapeQuerySpace}},e.preventInvalidHostname=!1,e.duplicateQueryParameters=!1,e.escapeQuerySpace=!0,e.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,e.idn_expression=/[^a-z0-9\._-]/i,e.punycode_expression=/(xn--)/i,e.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,e.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,e.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},e.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},e.hostProtocols=["http","https"],e.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,e.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},e.getDomAttribute=function(a){if(a&&a.nodeName){var b=a.nodeName.toLowerCase();if("input"!==b||"image"===a.type)return e.domAttributes[b]}},e.encode=o,e.decode=decodeURIComponent,e.iso8859=function(){e.encode=escape,e.decode=unescape},e.unicode=function(){e.encode=o,e.decode=decodeURIComponent},e.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},e.encodeQuery=function(a,b){var c=e.encode(a+"");return void 0===b&&(b=e.escapeQuerySpace),b?c.replace(/%20/g,"+"):c},e.decodeQuery=function(a,b){a+="",void 0===b&&(b=e.escapeQuerySpace);try{return e.decode(b?a.replace(/\+/g,"%20"):a)}catch(b){return a}};var u,v={encode:"encode",decode:"decode"},w=function(a,b){return function(c){try{return e[b](c+"").replace(e.characters[a][b].expression,function(c){return e.characters[a][b].map[c]})}catch(a){return c}}};for(u in v)e[u+"PathSegment"]=w("pathname",v[u]),e[u+"UrnPathSegment"]=w("urnpath",v[u]);var x=function(a,b,c){return function(d){var f;f=c?function(a){return e[b](e[c](a))}:e[b];for(var g=(d+"").split(a),h=0,i=g.length;h<i;h++)g[h]=f(g[h]);return g.join(a)}};e.decodePath=x("/","decodePathSegment"),e.decodeUrnPath=x(":","decodeUrnPathSegment"),e.recodePath=x("/","encodePathSegment","decode"),e.recodeUrnPath=x(":","encodeUrnPathSegment","decode"),e.encodeReserved=w("reserved","encode"),e.parse=function(a,b){var c;return b||(b={preventInvalidHostname:e.preventInvalidHostname}),c=a.indexOf("#"),c>-1&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c)),c=a.indexOf("?"),c>-1&&(b.query=a.substring(c+1)||null,a=a.substring(0,c)),"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=e.parseAuthority(a,b)):(c=a.indexOf(":"))>-1&&(b.protocol=a.substring(0,c)||null,b.protocol&&!b.protocol.match(e.protocol_expression)?b.protocol=void 0:"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=e.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0)),b.path=a,b},e.parseHost=function(a,b){a||(a=""),a=a.replace(/\\/g,"/");var c,d,f=a.indexOf("/");if(-1===f&&(f=a.length),"["===a.charAt(0))c=a.indexOf("]"),b.hostname=a.substring(1,c)||null,b.port=a.substring(c+2,f)||null,"/"===b.port&&(b.port=null);else{var g=a.indexOf(":"),h=a.indexOf("/"),i=a.indexOf(":",g+1);-1!==i&&(-1===h||i<h)?(b.hostname=a.substring(0,f)||null,b.port=null):(d=a.substring(0,f).split(":"),b.hostname=d[0]||null,b.port=d[1]||null)}return b.hostname&&"/"!==a.substring(f).charAt(0)&&(f++,a="/"+a),b.preventInvalidHostname&&e.ensureValidHostname(b.hostname,b.protocol),b.port&&e.ensureValidPort(b.port),a.substring(f)||"/"},e.parseAuthority=function(a,b){return a=e.parseUserinfo(a,b),e.parseHost(a,b)},e.parseUserinfo=function(a,b){var c,d=a.indexOf("/"),f=a.lastIndexOf("@",d>-1?d:a.length-1);return f>-1&&(-1===d||f<d)?(c=a.substring(0,f).split(":"),b.username=c[0]?e.decode(c[0]):null,c.shift(),b.password=c[0]?e.decode(c.join(":")):null,a=a.substring(f+1)):(b.username=null,b.password=null),a},e.parseQuery=function(a,b){if(!a)return{};if(!(a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var c,d,f,g={},h=a.split("&"),i=h.length,j=0;j<i;j++)c=h[j].split("="),d=e.decodeQuery(c.shift(),b),f=c.length?e.decodeQuery(c.join("="),b):null,t.call(g,d)?("string"!=typeof g[d]&&null!==g[d]||(g[d]=[g[d]]),g[d].push(f)):g[d]=f;return g},e.build=function(a){var b="";return a.protocol&&(b+=a.protocol+":"),a.urn||!b&&!a.hostname||(b+="//"),b+=e.buildAuthority(a)||"","string"==typeof a.path&&("/"!==a.path.charAt(0)&&"string"==typeof a.hostname&&(b+="/"),b+=a.path),"string"==typeof a.query&&a.query&&(b+="?"+a.query),"string"==typeof a.fragment&&a.fragment&&(b+="#"+a.fragment),b},e.buildHost=function(a){var b="";return a.hostname?(e.ip6_expression.test(a.hostname)?b+="["+a.hostname+"]":b+=a.hostname,a.port&&(b+=":"+a.port),b):""},e.buildAuthority=function(a){return e.buildUserinfo(a)+e.buildHost(a)},e.buildUserinfo=function(a){var b="";return a.username&&(b+=e.encode(a.username)),a.password&&(b+=":"+e.encode(a.password)),b&&(b+="@"),b},e.buildQuery=function(a,b,c){var d,f,g,h,j="";for(f in a)if(t.call(a,f)&&f)if(i(a[f]))for(d={},g=0,h=a[f].length;g<h;g++)void 0!==a[f][g]&&void 0===d[a[f][g]+""]&&(j+="&"+e.buildQueryParameter(f,a[f][g],c),!0!==b&&(d[a[f][g]+""]=!0));else void 0!==a[f]&&(j+="&"+e.buildQueryParameter(f,a[f],c));return j.substring(1)},e.buildQueryParameter=function(a,b,c){return e.encodeQuery(a,c)+(null!==b?"="+e.encodeQuery(b,c):"")},e.addQuery=function(a,b,c){if("object"==typeof b)for(var d in b)t.call(b,d)&&e.addQuery(a,d,b[d]);else{if("string"!=typeof b)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===a[b])return void(a[b]=c);"string"==typeof a[b]&&(a[b]=[a[b]]),i(c)||(c=[c]),a[b]=(a[b]||[]).concat(c)}},e.setQuery=function(a,b,c){if("object"==typeof b)for(var d in b)t.call(b,d)&&e.setQuery(a,d,b[d]);else{if("string"!=typeof b)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");a[b]=void 0===c?null:c}},e.removeQuery=function(a,b,c){var d,f,g;if(i(b))for(d=0,f=b.length;d<f;d++)a[b[d]]=void 0;else if("RegExp"===h(b))for(g in a)b.test(g)&&(a[g]=void 0);else if("object"==typeof b)for(g in b)t.call(b,g)&&e.removeQuery(a,g,b[g]);else{if("string"!=typeof b)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==c?"RegExp"===h(c)?!i(a[b])&&c.test(a[b])?a[b]=void 0:a[b]=j(a[b],c):a[b]!==String(c)||i(c)&&1!==c.length?i(a[b])&&(a[b]=j(a[b],c)):a[b]=void 0:a[b]=void 0}},e.hasQuery=function(a,b,c,d){switch(h(b)){case"String":break;case"RegExp":for(var f in a)if(t.call(a,f)&&b.test(f)&&(void 0===c||e.hasQuery(a,f,c)))return!0;return!1;case"Object":for(var g in b)if(t.call(b,g)&&!e.hasQuery(a,g,b[g]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(h(c)){case"Undefined":return b in a;case"Boolean":return c===Boolean(i(a[b])?a[b].length:a[b]);case"Function":return!!c(a[b],b,a);case"Array":if(!i(a[b]))return!1;return(d?k:l)(a[b],c);case"RegExp":return i(a[b])?!!d&&k(a[b],c):Boolean(a[b]&&a[b].match(c));case"Number":c=String(c);case"String":return i(a[b])?!!d&&k(a[b],c):a[b]===c;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},e.joinPaths=function(){for(var a=[],b=[],c=0,d=0;d<arguments.length;d++){var f=new e(arguments[d]);a.push(f);for(var g=f.segment(),h=0;h<g.length;h++)"string"==typeof g[h]&&b.push(g[h]),g[h]&&c++}if(!b.length||!c)return new e("");var i=new e("").segment(b);return""!==a[0].path()&&"/"!==a[0].path().slice(0,1)||i.path("/"+i.path()),i.normalize()},e.commonPath=function(a,b){var c,d=Math.min(a.length,b.length);for(c=0;c<d;c++)if(a.charAt(c)!==b.charAt(c)){c--;break}return c<1?a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"":("/"===a.charAt(c)&&"/"===b.charAt(c)||(c=a.substring(0,c).lastIndexOf("/")),a.substring(0,c+1))},e.withinString=function(a,b,c){c||(c={});var d=c.start||e.findUri.start,f=c.end||e.findUri.end,g=c.trim||e.findUri.trim,h=c.parens||e.findUri.parens,i=/[a-z0-9-]=["']?$/i;for(d.lastIndex=0;;){var j=d.exec(a);if(!j)break;var k=j.index;if(c.ignoreHtml){var l=a.slice(Math.max(k-3,0),k);if(l&&i.test(l))continue}for(var m=k+a.slice(k).search(f),n=a.slice(k,m),o=-1;;){var p=h.exec(n);if(!p)break;var q=p.index+p[0].length;o=Math.max(o,q)}if(n=o>-1?n.slice(0,o)+n.slice(o).replace(g,""):n.replace(g,""),!(n.length<=j[0].length||c.ignore&&c.ignore.test(n))){m=k+n.length;var r=b(n,k,m,a);void 0!==r?(r=String(r),a=a.slice(0,k)+r+a.slice(m),d.lastIndex=k+r.length):d.lastIndex=m}}return d.lastIndex=0,a},e.ensureValidHostname=function(b,c){var d=!!b,f=!!c,g=!1;if(f&&(g=k(e.hostProtocols,c)),g&&!d)throw new TypeError("Hostname cannot be empty, if protocol is "+c);if(b&&b.match(e.invalid_hostname_characters)){if(!a)throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(a.toASCII(b).match(e.invalid_hostname_characters))throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-:_]')}},e.ensureValidPort=function(a){if(a){var b=Number(a);if(!(f(b)&&b>0&&b<65536))throw new TypeError('Port "'+a+'" is not a valid port')}},e.noConflict=function(a){if(a){var b={URI:this.noConflict()};return d.URITemplate&&"function"==typeof d.URITemplate.noConflict&&(b.URITemplate=d.URITemplate.noConflict()),d.IPv6&&"function"==typeof d.IPv6.noConflict&&(b.IPv6=d.IPv6.noConflict()),d.SecondLevelDomains&&"function"==typeof d.SecondLevelDomains.noConflict&&(b.SecondLevelDomains=d.SecondLevelDomains.noConflict()),b}return d.URI===this&&(d.URI=r),this},s.build=function(a){return!0===a?this._deferred_build=!0:(void 0===a||this._deferred_build)&&(this._string=e.build(this._parts),this._deferred_build=!1),this},s.clone=function(){return new e(this)},s.valueOf=s.toString=function(){return this.build(!1)._string},s.protocol=p("protocol"),s.username=p("username"),s.password=p("password"),s.hostname=p("hostname"),s.port=p("port"),s.query=q("query","?"),s.fragment=q("fragment","#"),s.search=function(a,b){var c=this.query(a,b);return"string"==typeof c&&c.length?"?"+c:c},s.hash=function(a,b){var c=this.fragment(a,b);return"string"==typeof c&&c.length?"#"+c:c},s.pathname=function(a,b){if(void 0===a||!0===a){var c=this._parts.path||(this._parts.hostname?"/":"");return a?(this._parts.urn?e.decodeUrnPath:e.decodePath)(c):c}return this._parts.urn?this._parts.path=a?e.recodeUrnPath(a):"":this._parts.path=a?e.recodePath(a):"/",this.build(!b),this},s.path=s.pathname,s.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="",this._parts=e._parts();var d=a instanceof e,f="object"==typeof a&&(a.hostname||a.path||a.pathname);if(a.nodeName){a=a[e.getDomAttribute(a)]||"",f=!1}if(!d&&f&&void 0!==a.pathname&&(a=a.toString()),"string"==typeof a||a instanceof String)this._parts=e.parse(String(a),this._parts);else{if(!d&&!f)throw new TypeError("invalid input");var g=d?a._parts:a;for(c in g)t.call(this._parts,c)&&(this._parts[c]=g[c])}return this.build(!b),this},s.is=function(a){var b=!1,d=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!this._parts.urn;switch(this._parts.hostname&&(k=!1,d=e.ip4_expression.test(this._parts.hostname),f=e.ip6_expression.test(this._parts.hostname),b=d||f,g=!b,h=g&&c&&c.has(this._parts.hostname),i=g&&e.idn_expression.test(this._parts.hostname),j=g&&e.punycode_expression.test(this._parts.hostname)),a.toLowerCase()){case"relative":return k;case"absolute":return!k;case"domain":case"name":return g;case"sld":return h;case"ip":return b;case"ip4":case"ipv4":case"inet4":return d;case"ip6":case"ipv6":case"inet6":return f;case"idn":return i;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return j}return null};var y=s.protocol,z=s.port,A=s.hostname;s.protocol=function(a,b){if(a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(e.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return y.call(this,a,b)},s.scheme=s.protocol,s.port=function(a,b){return this._parts.urn?void 0===a?"":this:(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),e.ensureValidPort(a))),z.call(this,a,b))},s.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==e.parseHost(a,c))throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');a=c.hostname,this._parts.preventInvalidHostname&&e.ensureValidHostname(a,this._parts.protocol)}return A.call(this,a,b)},s.origin=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){var c=this.protocol();return this.authority()?(c?c+"://":"")+this.authority():""}var d=e(a);return this.protocol(d.protocol()).authority(d.authority()).build(!b),this},s.host=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?e.buildHost(this._parts):"";if("/"!==e.parseHost(a,this._parts))throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');return this.build(!b),this},s.authority=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?e.buildAuthority(this._parts):"";if("/"!==e.parseAuthority(a,this._parts))throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');return this.build(!b),this},s.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){var c=e.buildUserinfo(this._parts);return c?c.substring(0,c.length-1):c}return"@"!==a[a.length-1]&&(a+="@"),e.parseUserinfo(a,this._parts),this.build(!b),this},s.resource=function(a,b){var c;return void 0===a?this.path()+this.search()+this.hash():(c=e.parse(a),this._parts.path=c.path,this._parts.query=c.query,this._parts.fragment=c.fragment,this.build(!b),this)},s.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,c)||""}var d=this._parts.hostname.length-this.domain().length,f=this._parts.hostname.substring(0,d),h=new RegExp("^"+g(f));if(a&&"."!==a.charAt(a.length-1)&&(a+="."),-1!==a.indexOf(":"))throw new TypeError("Domains cannot contain colons");return a&&e.ensureValidHostname(a,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(h,a),this.build(!b),this},s.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.match(/\./g);if(c&&c.length<2)return this._parts.hostname;var d=this._parts.hostname.length-this.tld(b).length-1;return d=this._parts.hostname.lastIndexOf(".",d-1)+1,this._parts.hostname.substring(d)||""}if(!a)throw new TypeError("cannot set domain empty");if(-1!==a.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(e.ensureValidHostname(a,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=a;else{var f=new RegExp(g(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(f,a)}return this.build(!b),this},s.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.lastIndexOf("."),e=this._parts.hostname.substring(d+1);return!0!==b&&c&&c.list[e.toLowerCase()]?c.get(this._parts.hostname)||e:e}var f;if(!a)throw new TypeError("cannot set TLD empty");if(a.match(/[^a-zA-Z0-9-]/)){if(!c||!c.is(a))throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');f=new RegExp(g(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(f,a)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");f=new RegExp(g(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(f,a)}return this.build(!b),this},s.directory=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var c=this._parts.path.length-this.filename().length-1,d=this._parts.path.substring(0,c)||(this._parts.hostname?"/":"");return a?e.decodePath(d):d}var f=this._parts.path.length-this.filename().length,h=this._parts.path.substring(0,f),i=new RegExp("^"+g(h));return this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a)),a&&"/"!==a.charAt(a.length-1)&&(a+="/"),a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a),this.build(!b),this},s.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("string"!=typeof a){if(!this._parts.path||"/"===this._parts.path)return"";var c=this._parts.path.lastIndexOf("/"),d=this._parts.path.substring(c+1);return a?e.decodePathSegment(d):d}var f=!1;"/"===a.charAt(0)&&(a=a.substring(1)),a.match(/\.?\//)&&(f=!0);var h=new RegExp(g(this.filename())+"$");return a=e.recodePath(a),this._parts.path=this._parts.path.replace(h,a),f?this.normalizePath(b):this.build(!b),this},s.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c,d,f=this.filename(),h=f.lastIndexOf(".");return-1===h?"":(c=f.substring(h+1),d=/^[a-z0-9%]+$/i.test(c)?c:"",a?e.decodePathSegment(d):d)}"."===a.charAt(0)&&(a=a.substring(1));var i,j=this.suffix();if(j)i=a?new RegExp(g(j)+"$"):new RegExp(g("."+j)+"$");else{if(!a)return this;this._parts.path+="."+e.recodePath(a)}return i&&(a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a)),this.build(!b),this},s.segment=function(a,b,c){var d=this._parts.urn?":":"/",e=this.path(),f="/"===e.substring(0,1),g=e.split(d);if(void 0!==a&&"number"!=typeof a&&(c=b,b=a,a=void 0),void 0!==a&&"number"!=typeof a)throw new Error('Bad segment "'+a+'", must be 0-based integer');if(f&&g.shift(),a<0&&(a=Math.max(g.length+a,0)),void 0===b)return void 0===a?g:g[a];if(null===a||void 0===g[a])if(i(b)){g=[];for(var h=0,j=b.length;h<j;h++)(b[h].length||g.length&&g[g.length-1].length)&&(g.length&&!g[g.length-1].length&&g.pop(),g.push(m(b[h])))}else(b||"string"==typeof b)&&(b=m(b),""===g[g.length-1]?g[g.length-1]=b:g.push(b));else b?g[a]=m(b):g.splice(a,1);return f&&g.unshift(""),this.path(g.join(d),c)},s.segmentCoded=function(a,b,c){var d,f,g;if("number"!=typeof a&&(c=b,b=a,a=void 0),void 0===b){if(d=this.segment(a,b,c),i(d))for(f=0,g=d.length;f<g;f++)d[f]=e.decode(d[f]);else d=void 0!==d?e.decode(d):void 0;return d}if(i(b))for(f=0,g=b.length;f<g;f++)b[f]=e.encode(b[f]);else b="string"==typeof b||b instanceof String?e.encode(b):b;return this.segment(a,b,c)};var B=s.query;return s.query=function(a,b){if(!0===a)return e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof a){var c=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace),d=a.call(this,c);return this._parts.query=e.buildQuery(d||c,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this}return void 0!==a&&"string"!=typeof a?(this._parts.query=e.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):B.call(this,a,b)},s.setQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof a||a instanceof String)d[a]=void 0!==b?b:null;else{if("object"!=typeof a)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var f in a)t.call(a,f)&&(d[f]=a[f])}return this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},s.addQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.addQuery(d,a,void 0===b?null:b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},s.removeQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.removeQuery(d,a,b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},s.hasQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.hasQuery(d,a,b,c)},s.setSearch=s.setQuery,s.addSearch=s.addQuery,s.removeSearch=s.removeQuery,s.hasSearch=s.hasQuery,s.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},s.normalizeProtocol=function(a){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a)),this},s.normalizeHostname=function(c){return this._parts.hostname&&(this.is("IDN")&&a?this._parts.hostname=a.toASCII(this._parts.hostname):this.is("IPv6")&&b&&(this._parts.hostname=b.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!c)),this},s.normalizePort=function(a){return"string"==typeof this._parts.protocol&&this._parts.port===e.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a)),this},s.normalizePath=function(a){var b=this._parts.path;if(!b)return this;if(this._parts.urn)return this._parts.path=e.recodeUrnPath(this._parts.path),this.build(!a),this;if("/"===this._parts.path)return this;b=e.recodePath(b);var c,d,f,g="";for("/"!==b.charAt(0)&&(c=!0,b="/"+b),"/.."!==b.slice(-3)&&"/."!==b.slice(-2)||(b+="/"),b=b.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),c&&(g=b.substring(1).match(/^(\.\.\/)+/)||"")&&(g=g[0]);;){if(-1===(d=b.search(/\/\.\.(\/|$)/)))break;0!==d?(f=b.substring(0,d).lastIndexOf("/"),-1===f&&(f=d),b=b.substring(0,f)+b.substring(d+3)):b=b.substring(3)}return c&&this.is("relative")&&(b=g+b.substring(1)),this._parts.path=b,this.build(!a),this},s.normalizePathname=s.normalizePath,s.normalizeQuery=function(a){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(e.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a)),this},s.normalizeFragment=function(a){return this._parts.fragment||(this._parts.fragment=null,this.build(!a)),this},s.normalizeSearch=s.normalizeQuery,s.normalizeHash=s.normalizeFragment,s.iso8859=function(){var a=e.encode,b=e.decode;e.encode=escape,e.decode=decodeURIComponent;try{this.normalize()}finally{e.encode=a,e.decode=b}return this},s.unicode=function(){var a=e.encode,b=e.decode;e.encode=o,e.decode=unescape;try{this.normalize()}finally{e.encode=a,e.decode=b}return this},s.readable=function(){var b=this.clone();b.username("").password("").normalize();var c="";if(b._parts.protocol&&(c+=b._parts.protocol+"://"),b._parts.hostname&&(b.is("punycode")&&a?(c+=a.toUnicode(b._parts.hostname),b._parts.port&&(c+=":"+b._parts.port)):c+=b.host()),b._parts.hostname&&b._parts.path&&"/"!==b._parts.path.charAt(0)&&(c+="/"),c+=b.path(!0),b._parts.query){for(var d="",f=0,g=b._parts.query.split("&"),h=g.length;f<h;f++){var i=(g[f]||"").split("=");d+="&"+e.decodeQuery(i[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==i[1]&&(d+="="+e.decodeQuery(i[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}c+="?"+d.substring(1)}return c+=e.decodeQuery(b.hash(),!0)},s.absoluteTo=function(a){var b,c,d,f=this.clone(),g=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a instanceof e||(a=new e(a)),f._parts.protocol)return f;if(f._parts.protocol=a._parts.protocol,this._parts.hostname)return f;for(c=0;d=g[c];c++)f._parts[d]=a._parts[d];return f._parts.path?(".."===f._parts.path.substring(-2)&&(f._parts.path+="/"),"/"!==f.path().charAt(0)&&(b=a.directory(),b=b||(0===a.path().indexOf("/")?"/":""),f._parts.path=(b?b+"/":"")+f._parts.path,f.normalizePath())):(f._parts.path=a._parts.path,f._parts.query||(f._parts.query=a._parts.query)),f.build(),f},s.relativeTo=function(a){var b,c,d,f,g,h=this.clone().normalize();if(h._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a=new e(a).normalize(),b=h._parts,c=a._parts,f=h.path(),g=a.path(),"/"!==f.charAt(0))throw new Error("URI is already relative");if("/"!==g.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(b.protocol===c.protocol&&(b.protocol=null),b.username!==c.username||b.password!==c.password)return h.build();if(null!==b.protocol||null!==b.username||null!==b.password)return h.build();if(b.hostname!==c.hostname||b.port!==c.port)return h.build();if(b.hostname=null,b.port=null,f===g)return b.path="",h.build();if(!(d=e.commonPath(f,g)))return h.build();var i=c.path.substring(d.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return b.path=i+b.path.substring(d.length)||"./",h.build()},s.equals=function(a){var b,c,d,f=this.clone(),g=new e(a),h={},j={},k={};if(f.normalize(),g.normalize(),f.toString()===g.toString())return!0;if(b=f.query(),c=g.query(),f.query(""),g.query(""),f.toString()!==g.toString())return!1;if(b.length!==c.length)return!1;h=e.parseQuery(b,this._parts.escapeQuerySpace),j=e.parseQuery(c,this._parts.escapeQuerySpace);for(d in h)if(t.call(h,d)){if(i(h[d])){if(!l(h[d],j[d]))return!1}else if(h[d]!==j[d])return!1;k[d]=!0}for(d in j)if(t.call(j,d)&&!k[d])return!1;return!0},s.preventInvalidHostname=function(a){return this._parts.preventInvalidHostname=!!a,this},s.duplicateQueryParameters=function(a){return this._parts.duplicateQueryParameters=!!a,this},s.escapeQuerySpace=function(a){return this._parts.escapeQuerySpace=!!a,this},e})},{"./IPv6":21,"./SecondLevelDomains":22,"./punycode":24}],24:[function(a,b,c){(function(a){
!function(d){function e(a){throw new RangeError(H[a])}function f(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function g(a,b){var c=a.split("@"),d="";return c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(G,"."),d+f(a.split("."),b).join(".")}function h(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function i(a){return f(a,function(a){var b="";return a>65535&&(a-=65536,b+=K(a>>>10&1023|55296),a=56320|1023&a),b+=K(a)}).join("")}function j(a){return a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:w}function k(a,b){return a+22+75*(a<26)-((0!=b)<<5)}function l(a,b,c){var d=0;for(a=c?J(a/A):a>>1,a+=J(a/b);a>I*y>>1;d+=w)a=J(a/I);return J(d+(I+1)*a/(a+z))}function m(a){var b,c,d,f,g,h,k,m,n,o,p=[],q=a.length,r=0,s=C,t=B;for(c=a.lastIndexOf(D),c<0&&(c=0),d=0;d<c;++d)a.charCodeAt(d)>=128&&e("not-basic"),p.push(a.charCodeAt(d));for(f=c>0?c+1:0;f<q;){for(g=r,h=1,k=w;f>=q&&e("invalid-input"),m=j(a.charCodeAt(f++)),(m>=w||m>J((v-r)/h))&&e("overflow"),r+=m*h,n=k<=t?x:k>=t+y?y:k-t,!(m<n);k+=w)o=w-n,h>J(v/o)&&e("overflow"),h*=o;b=p.length+1,t=l(r-g,b,0==g),J(r/b)>v-s&&e("overflow"),s+=J(r/b),r%=b,p.splice(r++,0,s)}return i(p)}function n(a){var b,c,d,f,g,i,j,m,n,o,p,q,r,s,t,u=[];for(a=h(a),q=a.length,b=C,c=0,g=B,i=0;i<q;++i)(p=a[i])<128&&u.push(K(p));for(d=f=u.length,f&&u.push(D);d<q;){for(j=v,i=0;i<q;++i)(p=a[i])>=b&&p<j&&(j=p);for(r=d+1,j-b>J((v-c)/r)&&e("overflow"),c+=(j-b)*r,b=j,i=0;i<q;++i)if(p=a[i],p<b&&++c>v&&e("overflow"),p==b){for(m=c,n=w;o=n<=g?x:n>=g+y?y:n-g,!(m<o);n+=w)t=m-o,s=w-o,u.push(K(k(o+t%s,0))),m=J(t/s);u.push(K(k(m,0))),g=l(c,r,d==f),c=0,++d}++c,++b}return u.join("")}function o(a){return g(a,function(a){return E.test(a)?m(a.slice(4).toLowerCase()):a})}function p(a){return g(a,function(a){return F.test(a)?"xn--"+n(a):a})}var q="object"==typeof c&&c&&!c.nodeType&&c,r="object"==typeof b&&b&&!b.nodeType&&b,s="object"==typeof a&&a;s.global!==s&&s.window!==s&&s.self!==s||(d=s);var t,u,v=2147483647,w=36,x=1,y=26,z=38,A=700,B=72,C=128,D="-",E=/^xn--/,F=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=w-x,J=Math.floor,K=String.fromCharCode;if(t={version:"1.3.2",ucs2:{decode:h,encode:i},decode:m,encode:n,toASCII:p,toUnicode:o},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return t});else if(q&&r)if(b.exports==q)r.exports=t;else for(u in t)t.hasOwnProperty(u)&&(q[u]=t[u]);else d.punycode=t}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(a,b,c){b.exports={widgetOptions:["artistName","displayLimit","autoStyle","divId","facebookPageId","displayLocalDates","displayPastDates","appId","affilCode","language"],styleOptions:["textColor","linkColor","backgroundColor","separatorColor","widgetWidth","popupBackgroundColor","linkTextColor","font"]}},{}],26:[function(a,b,c){window.BIT=window.BIT||{};var d=window.BIT,e=a("jquery"),f=a("views/initializer");d.onReady=d.onReady||function(){},e(function(){d.widgetInitializer=new f({el:e("body")}).render(),d.onReady()})},{jquery:8,"views/initializer":"views/initializer"}],"collections/events_base":[function(a,b,c){eventsParser=a("lib/events_parser"),windowMethods=a("lib/utils/window_methods"),b.exports={comparator:"datetime",initialize:function(a,b){this.options=b},parse:function(a){return eventsParser.parse(a)},limit:function(a){return this.slice(0,a)},appID:function(){return this.options.generalOptions.appId?this.options.generalOptions.appId:this.hostID()},affilCode:function(){return this.options.generalOptions.affilCode?this.options.generalOptions.affilCode:this.hostID()},hostID:function(){return"js_"+windowMethods.hostname()},artistIdentifier:function(){return this.options.generalOptions.facebookPageId?"fbid_"+this.options.generalOptions.facebookPageId:this.options.generalOptions.artistName?this.options.generalOptions.artistName:void 0},artistID:function(){return this.models[0]?this.models[0].get("artist_id"):this.artistModel?this.artistModel.get("id"):void 0}}},{"lib/events_parser":"lib/events_parser","lib/utils/window_methods":"lib/utils/window_methods"}],"collections/events":[function(a,b,c){var d=a("exoskeleton"),e=a("models/event"),f=(a("lib/events_parser"),a("lib/utils/window_methods"),a("collections/events_base")),g=a("lib/utils/mobile"),h=(a("lib/utils/google_pixel_iframe_url_builder"),a("jquery"),a("underscore")),i=a("urijs"),j=a("lib/utils/number");b.exports=d.Collection.extend(f).extend({model:e,initialize:function(a,b){this.options=b,this.userIsOnMobile=g.userIsOnMobile(),this.jsonpCallbackName=this.buildJsonpCallbackName()},url:function(){var a="https://rest.bandsintown.com/artists/"+encodeURIComponent(this.artistIdentifier())+"/events",b={app_id:this.appID(),callback:this.jsonpCallbackName};return i(a).setQuery(b).toString()},eventQueryParams:function(){return{came_from:242,affil_code:this.affilCode(),app_id:this.appID(),artist:this.artistIdentifier()}},eventPopupQueryParams:function(){return{came_from:242,affil_code:this.affilCode(),app_id:this.appID(),style:this.encodedStyleOptions(),artist:this.artistIdentifier(),language:this.language(),artist_id:this.artistID()}},encodedStyleOptions:function(){return btoa(JSON.stringify(this.options.styleOptions))},localEvents:function(a){return this.filter(function(b){return b.isLocal(a)})},localEventsCollection:function(a){return new d.Collection(this.localEvents(a),{comparator:"datetime"})},language:function(){return this.options.generalOptions.language},buildJsonpCallbackName:function(){return"bitJsonp_"+j.getRandomInteger(1,9007199254740991)},addData:function(a){this.reset(this.parse(a)),this.trigger("sync")},fetch:function(a){var b=h.bind(this.addData,this),c=this.jsonpCallbackName;window[c]=function(a){b(a),delete window[c]};var d=document.createElement("script");d.type="text/javascript",d.src=this.url(),d.async=!0;var e=document.getElementsByTagName("head")[0]||document.documentElement;e.insertBefore(d,e.firstChild)}})},{"collections/events_base":"collections/events_base",exoskeleton:4,jquery:8,"lib/events_parser":"lib/events_parser","lib/utils/google_pixel_iframe_url_builder":"lib/utils/google_pixel_iframe_url_builder","lib/utils/mobile":"lib/utils/mobile","lib/utils/number":"lib/utils/number","lib/utils/window_methods":"lib/utils/window_methods","models/event":"models/event",underscore:20,urijs:23}],"collections/past_events":[function(a,b,c){var d=a("exoskeleton"),e=a("models/past_event"),f=a("moment"),g=a("collections/events_base"),h=a("urijs");b.exports=d.Collection.extend(g).extend({model:e,comparator:function(a){return-1*parseInt(f(a.get("datetime")).format("x"))},initialize:function(a,b){this.options=b},url:function(){var a="https://rest.bandsintown.com/artists/"+encodeURIComponent(this.artistIdentifier())+"/events",b={app_id:this.appID(),date:this.pastDateRangeString()};return h(a).setQuery(b).toString()},pastDateRangeString:function(){var a,b;return a=f().subtract(1,"day"),b=f().subtract(3,"year"),b.format("YYYY-MM-DD")+","+a.format("YYYY-MM-DD")},eventQueryParams:function(){return{came_from:242,affiliate_code:this.affilCode(),app_id:this.appID()}}})},{"collections/events_base":"collections/events_base",exoskeleton:4,"models/past_event":"models/past_event",moment:16,urijs:23}],"lib/events_parser":[function(a,b,c){var d=a("underscore"),e=a("models/venue");b.exports={parse:function(a){return d.map(a,function(a){return venue=new e(a.venue),eventWithVenue=d.extend(a,{venue:venue}),eventWithVenue})}}},{"models/venue":"models/venue",underscore:20}],"lib/json_ld_events_converter":[function(a,b,c){var d=a("lib/utils/text"),e=a("urijs");b.exports={convertEvents:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(this.convertEvent(a[c]));return b},convertEvent:function(a){var b=a.venue.toJSON();return{"@context":"http://schema.org","@type":"MusicEvent",name:this.buildArtistListString(a.lineup)+" @ "+b.name,startDate:a.datetime,url:this.buildEventUrl(a),location:this.convertLocation(b),offers:this.buildOffers(a.offers),performers:this.buildPerformerArray(a.lineup)}},buildEventUrl:function(a){return eventUrlParams={came_from:242},e(a.url).setQuery(eventUrlParams).toString()},buildPerformerArray:function(a){var b=[];for(i=0;i<a.length;i++)b.push({"@type":"MusicGroup",name:a[i]});return b},buildOffers:function(a){for(var b=[],c=0;c<a.length;c++){var d={"@type":"Offer",url:this.buildOfferUrl(a[c]),availability:this.convertStatus(a[c].status),category:a[c].type};b.push(d)}return b},buildOfferUrl:function(a,b){var c={came_from:242};return e(a.url).setQuery(c).toString()},convertStatus:function(a){return{available:"InStock",unavailable:"SoldOut"}[a]},convertLocation:function(a){var b="United States"==a.country;return{"@type":"Place",name:d.stripHTMLText(a.name),address:{"@type":"PostalAddress",addressCountry:a.country,addressRegion:b?a.region:"",addressLocality:a.city},geo:{"@type":"GeoCoordinates",latitude:a.latitude,longitude:a.longitude}}},buildArtistListString:function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].toString());return b.join(", ")}}},{"lib/utils/text":"lib/utils/text",urijs:23}],"lib/options_factory":[function(a,b,c){var d=a("../config/widget_options"),e=a("underscore"),f=a("models/options"),g=a("models/auto_style_options"),h=a("models/style_options");b.exports={computeGeneralOptions:function(a){var b=e.pick(a,d.widgetOptions);return new f(b)},computeStyleOptions:function(a,b){var c=b?g:h,f=e.pick(a,d.styleOptions);return new c(e.mapObject(f,function(a,b){return a.trim()}))}}},{"../config/widget_options":25,"models/auto_style_options":"models/auto_style_options","models/options":"models/options","models/style_options":"models/style_options",underscore:20}],"lib/translate":[function(a,b,c){var d=a("underscore"),e={en:JSON.parse('{\n  "Local Dates": "Local Dates",\n  "Past Dates": "Past Dates",\n  "Upcoming Dates": "Upcoming Dates",\n  "Tickets": "Tickets",\n  "Presale": "Presale",\n  "Merch": "Merch",\n  "VIP": "VIP",\n  "Sold Out": "Sold Out",\n  "More Info": "More Info",\n  "Show All Dates": "Show All Dates",\n  "Going": "Going",\n  "Interested": "Interested",\n  "with": "with",\n  "Tickets & More": "Tickets & More",\n  "No Upcoming Tour Dates": "No Upcoming Tour Dates",\n  "<b>Track</b> to get notified about upcoming shows in your area.": "<b>Track</b> to get notified about upcoming shows in your area.",\n  "Track": "Track",\n  "": ""\n}\n'),fr:JSON.parse('{\n  "Local Dates":"Dates Locales",\n  "Past Dates":"Anciennes Dates",\n  "Upcoming Dates":"Prochaines Dates",\n  "Tickets":"Billets",\n  "Presale":"Avant-Vente",\n  "Merch":"Goodies",\n  "VIP":"VIP",\n  "Sold Out":"Épuisé",\n  "More Info":"Plus d\'info",\n  "Show All Dates":"Afficher toutes les Dates",\n  "Going":"J\'y vais",\n  "Interested":"Intéressé",\n  "with":"avec",\n  "Tickets & More":"Billets & Autre",\n  "":"",\n  "No Upcoming Tour Dates":"Pas de dates à venir",\n  "<b>Track</b> to get notified about upcoming shows in your area.":"<b>Suivre</b> pour recevoir les dates des prochains concerts dans votre région.",\n  "Track":"Suivre"\n}'),es:JSON.parse('{\n  "Local Dates":"Fechas Locales",\n  "Past Dates":"Fechas Pasadas",\n  "Upcoming Dates":"Fechas Próximas",\n  "Tickets":"Entradas",\n  "Presale":"Preventa",\n  "Merch":"Mercancía",\n  "VIP":"VIP",\n  "Sold Out":"Agotado",\n  "More Info":"Más Info",\n  "Show All Dates":"Mostrar todas las fechas",\n  "Going":"Acudiendo",\n  "Interested":"Interesado",\n  "with":"con",\n  "Tickets & More":"Entradas y más",\n  "":"",\n  "No Upcoming Tour Dates":"No hay fechas de giras próximas",\n  "<b>Track</b> to get notified about upcoming shows in your area.":"<b>Seguir</b> para obtener notificaciones sobre fechas próximas en tu área.",\n  "Track":"Seguir"\n}'),de:JSON.parse('{\n  "Local Dates":"Lokale Daten",\n  "Past Dates":"Alte Daten",\n  "Upcoming Dates":"Zukünftige Daten",\n  "Tickets":"Karten",\n  "Presale":"Vorverkauf",\n  "Merch":"Verkauf",\n  "VIP":"VIP",\n  "Sold Out":"Ausverkauft",\n  "More Info":"Weitere Infos",\n  "Show All Dates":"Alle Termine",\n  "Going":"Ausgehen",\n  "Interested":"Interessiert",\n  "with":"mit",\n  "Tickets & More":"Tickets und mehr",\n  "":"",\n  "No Upcoming Tour Dates":"Keine Zukünftige Daten",\n  "<b>Track</b> to get notified about upcoming shows in your area.":"<b>Folgen</b> um zukünftige Konzerte in deiner Region zu finden.",\n  "Track":"Folgen"\n}'),ja:JSON.parse('{\n  "Local Dates":"現地の日付け",\n  "Past Dates":"過去の日付け",\n  "Upcoming Dates":"未来の日付け",\n  "Tickets":"チケット",\n  "Presale":"先行販売",\n  "Merch":"商品",\n  "VIP":"VIP",\n  "Sold Out":"売り切れ",\n  "More Info":"詳細情報",\n  "Show All Dates":"日付をすべて表示",\n  "Going":"行く",\n  "Interested":"興味あり",\n  "with":"一緒に",\n  "Tickets & More":"チケットその他の情報",\n  "":"",\n  "No Upcoming Tour Dates":"今後のツアー日程はありません",\n  "<b>Track</b> to get notified about upcoming shows in your area.":"<b>フォロー</b>して、お住まいの地域で近日開催予定のショーに関する通知を受け取ってください。",\n  "Track":"フォロー"\n}'),it:JSON.parse('{\n  "Local Dates":"Date Locali",\n  "Past Dates":"Date Passate",\n  "Upcoming Dates":"Date Future",\n  "Tickets":"Biglietti",\n  "Presale":"Prevendita",\n  "Merch":"Prodotti",\n  "VIP":"VIP",\n  "Sold Out":"Tutto esaurito",\n  "More Info":"Più Info",\n  "Show All Dates":"Mostra tutte le date",\n  "Going":"In corso",\n  "Interested":"Interessato",\n  "with":"con",\n  "Tickets & More":"Biglietti e altro",\n  "":"",\n  "No Upcoming Tour Dates":"Nessuna data del tour in programma",\n  "<b>Track</b> to get notified about upcoming shows in your area.":"<b>Segui</b> per ricevere le notifiche sugli spettacoli in programma nella tua zona.",\n  "Track":"Segui"\n}'),pt:JSON.parse('{\n  "Local Dates":"Datas locais",\n  "Past Dates":"Datas Passadas",\n  "Upcoming Dates":"Datas Futuras",\n  "Tickets":"Bilhetes",\n  "Presale":"Pré-Venda",\n  "Merch":"Mercadoria",\n  "VIP":"VIP",\n  "Sold Out":"Esgotado",\n  "More Info":"Mais Info",\n  "Show All Dates":"Mostrar todas as datas",\n  "Going":"Vou",\n  "Interested":"Interessado",\n  "with":"com",\n  "Tickets & More":"Bilhetes e mais",\n  "":"",\n  "No Upcoming Tour Dates":"Não há datas de digressão marcadas",\n  "<b>Track</b> to get notified about upcoming shows in your area.":"<b>Seguir</b> para receber notificações dos próximos concertos na tua área.",\n  "Track":"Seguir"\n}')},f=d.keys(e);a("lib/utils/window_methods");b.exports={stringFor:function(a,b){return e[b]&&e[b][a]?e[b][a]:e.en[a]?e.en[a]:a},setDateLanguage:function(a,b){d.contains(f,b)?a.locale(b):a.locale("en")}}},{"lib/utils/window_methods":"lib/utils/window_methods",underscore:20}],"lib/utils/date":[function(a,b,c){var d=a("moment");b.exports={buildDate:function(a,b){return a.year()===d().year()?this.formatDate(a,b):this.formatDateNotInCurrentYear(a,b)},formatDate:function(a,b){return"en"===b?a.format("MMM DD"):"de"===b?a.format("DD. MMM"):"es"===b?a.format("DD MMM"):"fr"===b?a.format("DD MMM"):"it"===b?a.format("DD MMM"):"pt"===b?a.format("DD MMM"):"ja"===b?a.format("MMMDo"):a.format("MMM DD")},formatDateNotInCurrentYear:function(a,b){return"en"===b?a.format("MMM DD, YYYY"):"de"===b?a.format("DD. MMM YYYY"):"es"===b?a.format("DD MMM YYYY"):"fr"===b?a.format("DD MMM YYYY"):"it"===b?a.format("DD MMM YYYY"):"pt"===b?a.format("DD MMM YYYY"):"ja"===b?a.format("Y年MMMDo"):a.format("MMM DD, YYYY")}}},{moment:16}],"lib/utils/document_methods":[function(a,b,c){b.exports={appendToBody:function(a){document.body.appendChild(a)}}},{}],"lib/utils/google_pixel_iframe_url_builder":[function(a,b,c){var d=a("lib/utils/uri");b.exports={build:function(a){var b=a.artistID()||0,c={came_from_code:242,affil_code:a.affilCode(),app_id:a.appID(),artist_name:a.artistIdentifier(),artist_id:b};return d.build("https://widget.bandsintown.com/widget_iframe.html",c)}}},{"lib/utils/uri":"lib/utils/uri"}],"lib/utils/mobile":[function(a,b,c){var d=a("mobile-detect");b.exports={userIsOnMobile:function(){var a=new d(windowMethods.userAgent());return a.is("iOS")||a.is("AndroidOS")}}},{"mobile-detect":9}],"lib/utils/number":[function(a,b,c){b.exports={getRandomInteger:function(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a))+a}}},{}],"lib/utils/object":[function(a,b,c){b.exports={isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},isEmpty:function(a){if(this.isArray(a))return 0===a.length;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},keys:function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)b.push(c);return b}}},{}],"lib/utils/text":[function(a,b,c){b.exports={defaultTruncateOptions:{length:100,omission:"...",maxLines:3},lastWordWithPrecedingWhitespaceRegexp:/\s*\S+$/,precedingAndTrailingWhitespaceRegexp:/^\s*|\s*$/g,truncate:function(a,b){b=b||{};var c=b.length||this.defaultTruncateOptions.length,d="string"==typeof b.omission?b.omission:this.defaultTruncateOptions.omission,e=b.maxLines||this.defaultTruncateOptions.maxLines,f=new RegExp("(?:.*?\\n){"+e+"}"),g=this.strip(a);if(g.length<=c&&!g.match(f))return g;for(g.match(f)&&(g=this.strip(g.match(f)[0]));g.length>c;)g=g.replace(this.lastWordWithPrecedingWhitespaceRegexp,"");return g+d},strip:function(a){return a.replace(this.precedingAndTrailingWhitespaceRegexp,"").replace(/\r\n/g,"\n")},htmlEscapeLookup:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},htmlEscapeRegexp:/[&<>"']/g,escapeHtml:function(a){return a?(""+a).replace(this.htmlEscapeRegexp,function(a){return this.htmlEscapeLookup[a]}):""},autoLink:function(a,b){b=b||{};var c=a.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1">$1</a>');return b.emailAddresses&&(c=c.replace(/(\w+@\w+\.\w+)/,'<a href="mailto:$1">$1</a>')),c},stripHTMLText:function(a){var b=document.createElement("div");return b.innerHTML=a,this.strip(b.firstChild.textContent)||this.strip(b.firstChild.innerText)||""}}},{}],"lib/utils/uri":[function(a,b,c){var d=a("lib/utils/object"),e=a("underscore");b.exports={parse:function(a){var b=document.createElement("a");return b.href=a,b},build:function(a,b){var c=d.keys(b).sort();return e.each(c,function(c){var d=b[c],e=a.match(/\?/)?"&":"?";a+=e+c+"="+encodeURIComponent(d)}),a}}},{"lib/utils/object":"lib/utils/object",underscore:20}],"lib/utils/window_methods":[function(a,b,c){b.exports={userLanguage:function(){return window.navigator.language||window.navigator.userLanguage},hostname:function(){return window.location.hostname},openWindow:function(a,b,c){return window.open(a,b,c)},redirect:function(a){return window.location=a},userAgent:function(){return window.navigator.userAgent}}},{}],"models/auto_style_options":[function(a,b,c){var d=a("exoskeleton");b.exports=d.Model.extend({defaults:{linkTextColor:"white",backgroundColor:"transparent",separatorColor:"rgba(124,124,124,0.25)",widgetWidth:"100%",popupBackgroundColor:"white"}})},{exoskeleton:4}],"models/event":[function(a,b,c){var d=a("exoskeleton"),e=a("moment"),f=a("underscore"),g=a("urijs"),h={distance:a("turf-distance")},i=(a("moment/locale/fr.js"),a("moment/locale/es.js"),a("moment/locale/de.js"),a("moment/locale/it.js"),a("moment/locale/ja.js"),a("moment/locale/pt.js"),a("lib/translate")),j=(a("lib/utils/window_methods"),a("lib/utils/date"));THRESHOLD_MILES=50,helpers={formatOffers:function(a){var b=a.get("offers"),c=a.collection.options.generalOptions.language;return 1===a.get("offers").length?"Tickets"===a.get("offers")[0].type?i.stringFor("Tickets & More",c):i.stringFor(b[0].type,c):0===a.get("offers").length?i.stringFor("More Info",c):f.map(b,function(a){return i.stringFor(a.type,c)}).reverse().join(" & ")}},b.exports=d.Model.extend({toTemplateData:function(){var a=this.collection.options.generalOptions.language;return i.setDateLanguage(e,a),{date:j.buildDate(e(this.get("datetime")),a),location:this.get("venue").locationString(),venue:this.get("venue").get("name"),offers:helpers.formatOffers(this),eventURL:this.eventURL()}},isLocal:function(a){return!f.isUndefined(this.get("venue"))&&h.distance(a,this.get("venue").locationObject(),"miles")<=THRESHOLD_MILES},eventURL:function(){var a=g(this.get("url")),b=this.collection.eventQueryParams();return a.setQuery(b).toString()},eventPopupURL:function(){var a="https://tourdates.bandsintown.com/event/"+this.id;return g(a).setQuery(this.collection.eventPopupQueryParams()).toString()}})},{exoskeleton:4,"lib/translate":"lib/translate","lib/utils/date":"lib/utils/date","lib/utils/window_methods":"lib/utils/window_methods",moment:16,"moment/locale/de.js":10,"moment/locale/es.js":11,"moment/locale/fr.js":12,"moment/locale/it.js":13,"moment/locale/ja.js":14,"moment/locale/pt.js":15,"turf-distance":17,underscore:20,urijs:23}],"models/options":[function(a,b,c){var d=a("exoskeleton"),e=a("lib/utils/window_methods");b.exports=d.Model.extend({initialize:function(a){a.language||this.set("language",e.userLanguage().split("-")[0])},defaults:{autoStyle:!0,displayLocalDates:!1,displayPastDates:!1}})},{exoskeleton:4,"lib/utils/window_methods":"lib/utils/window_methods"}],"models/past_event":[function(a,b,c){var d=a("exoskeleton"),e=a("moment"),f=(a("underscore"),a("moment/locale/fr.js"),a("moment/locale/es.js"),a("lib/translate")),g=a("urijs"),h=(a("lib/utils/window_methods"),a("lib/utils/date"));b.exports=d.Model.extend({toTemplateData:function(){var a=this.collection.options.generalOptions.language;return f.setDateLanguage(e,a),{date:h.buildDate(e(this.get("datetime")),a),venue:this.get("venue").get("name"),location:this.get("venue").locationString(),offers:f.stringFor("More Info",a),eventURL:this.eventURL()}},eventURL:function(){var a=g(this.get("url")),b=this.collection.eventQueryParams();return a.setQuery(b).toString()}})},{exoskeleton:4,"lib/translate":"lib/translate","lib/utils/date":"lib/utils/date","lib/utils/window_methods":"lib/utils/window_methods",moment:16,"moment/locale/es.js":11,"moment/locale/fr.js":12,underscore:20,urijs:23}],"models/style_options":[function(a,b,c){var d=a("exoskeleton");b.exports=d.Model.extend({defaults:{fontSize:"13px",font:"'helvetica', 'arial', sans-serif",textColor:"#000000",linkColor:"#000000",linkTextColor:"white",backgroundColor:"transparent",separatorColor:"rgba(124,124,124,0.25)",widgetWidth:"100%",popupBackgroundColor:"white"}})},{exoskeleton:4}],"models/user":[function(a,b,c){var d=a("exoskeleton"),e=a("jquery");b.exports=d.Model.extend({fetchLocation:function(){var a=e.Deferred();return navigator.geolocation?navigator.geolocation.getCurrentPosition(a.resolve,a.reject,{timeout:1e4}):a.reject(new Error("Your browser does not support Geo Location.")),a.promise()},setLocation:function(a){this.set("location",{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[a.coords.latitude,a.coords.longitude]}})}})},{exoskeleton:4,jquery:8}],"models/venue":[function(a,b,c){var d=a("exoskeleton");b.exports=d.Model.extend({locationString:function(){return"United States"===this.get("country")?this.get("city")+", "+this.get("region"):this.get("city")+", "+this.get("country")},locationObject:function(){return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[this.get("latitude"),this.get("longitude")]}}}})},{exoskeleton:4}],"templates/css/style":[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+=".bit-widget {\n  font-size:"+(null==(__t=fontSize)?"":__t)+";\n  font-family:"+(null==(__t=font)?"":__t)+";\n  width:"+(null==(__t=widgetWidth)?"":__t)+";\n  color:"+(null==(__t=textColor)?"":__t)+";\n  background-color:"+(null==(__t=backgroundColor)?"":__t)+";\n}\n\n.bit-widget .bit-offers {\n  background-color:"+(null==(__t=linkColor)?"":__t)+";\n  font-size:"+(null==(__t=fontSize)?"":__t)+"\n}\n\n.bit-widget .bit-event {\n  border-top: 1px solid "+(null==(__t=separatorColor)?"":__t)+";\n  color: "+(null==(__t=textColor)?"":__t)+";\n}\n\n.bit-widget .bit-button {\n  background-color: "+(null==(__t=linkColor)?"":__t)+";\n  color: "+(null==(__t=linkTextColor)?"":__t)+";\n}\n\n.bit-widget .bit-upcoming-events, bit-past-events {\n  border-bottom: 1px solid "+(null==(__t=separatorColor)?"":__t)+";\n}\n\n.bit-widget .bit-upcoming-events-show-all-button, .bit-past-events-show-all-button {\n  color: "+(null==(__t=linkColor)?"":__t)+";\n  border: 1px solid "+(null==(__t=linkColor)?"":__t)+";\n}\n\n.bit-widget .bit-clickable {\n  color: "+(null==(__t=linkColor)?"":__t)+";\n}";return __p}},{underscore:20}],"templates/html/event":[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<a class="bit-event" href="'+(null==(__t=eventURL)?"":__t)+'" target="_blank">\n  <div class="bit-details">\n    <div class="bit-date">'+(null==(__t=date)?"":_.escape(__t))+'</div>\n    <div class="bit-venue">'+(null==(__t=venue)?"":_.escape(__t))+'</div>\n    <div class="bit-location">'+(null==(__t=location)?"":_.escape(__t))+'</div>\n  </div>\n  <div class="bit-offers bit-button">'+(null==(__t=offers)?"":__t)+"</div>\n</a>";return __p}},{underscore:20}],"templates/html/layout":[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="bit-widget">\n  <div class="bit-event-lists">\n    <div class="bit-local-events-container"></div>\n    <div class="bit-nav-bar-container">\n    </div>\n    <div class="bit-events-container">\n      <img class="bit-widget-loading" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHdpZHRoPSc1MHB4JyBoZWlnaHQ9JzUwcHgnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiBjbGFzcz0idWlsLXNwaW4iPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiPjwvcmVjdD48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MCA1MCkiPjxnIHRyYW5zZm9ybT0icm90YXRlKDApIHRyYW5zbGF0ZSgzNCAwKSI+PGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YThhOGEiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwcyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBmcm9tPSIxLjUiIHRvPSIxIiBiZWdpbj0iMHMiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9jaXJjbGU+PC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDQ1KSB0cmFuc2xhdGUoMzQgMCkiPjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGE4YThhIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMC4xMnMiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iMSIgYmVnaW49IjAuMTJzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSg5MCkgdHJhbnNsYXRlKDM0IDApIj48Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhhOGE4YSI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAuMSIgYmVnaW49IjAuMjVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89IjEiIGJlZ2luPSIwLjI1cyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT48L2NpcmNsZT48L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTM1KSB0cmFuc2xhdGUoMzQgMCkiPjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGE4YThhIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMC4zN3MiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iMSIgYmVnaW49IjAuMzdzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxODApIHRyYW5zbGF0ZSgzNCAwKSI+PGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YThhOGEiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwLjVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89IjEiIGJlZ2luPSIwLjVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgyMjUpIHRyYW5zbGF0ZSgzNCAwKSI+PGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YThhOGEiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwLjYycyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBmcm9tPSIxLjUiIHRvPSIxIiBiZWdpbj0iMC42MnMiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9jaXJjbGU+PC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDI3MCkgdHJhbnNsYXRlKDM0IDApIj48Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhhOGE4YSI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAuMSIgYmVnaW49IjAuNzVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89IjEiIGJlZ2luPSIwLjc1cyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT48L2NpcmNsZT48L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMzE1KSB0cmFuc2xhdGUoMzQgMCkiPjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGE4YThhIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMC44N3MiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iMSIgYmVnaW49IjAuODdzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48L2c+PC9zdmc+">\n    </div>\n  </div>\n</div>';return __p}},{underscore:20}],"templates/html/local_events":[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="bit-event-list-title">'+(null==(__t=title)?"":__t)+'</div>\n<div class="bit-local-events"></div>\n<div class="bit-spacer"></div>';return __p}},{underscore:20}],"templates/html/navigation_bar":[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="bit-nav-bar">\n  <span class="bit-event-list-title bit-show-upcoming">'+(null==(__t=upcomingDates)?"":__t)+"</span>\n  ",displayPastDates&&(__p+='\n  <span class="bit-event-list-title bit-show-past bit-clickable">'+(null==(__t=pastDates)?"":__t)+"</span>\n  "),__p+="\n</div>";return __p}},{underscore:20}],"templates/html/no_dates":[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="bit-no-dates-container">\n  <div class="bit-no-dates-title">\n    '+(null==(__t=noUpcomingTourDates)?"":__t)+"\n  </div>\n  ","undefined"!=typeof trackDescription&&(__p+="\n    <div>\n      "+(null==(__t=trackDescription)?"":__t)+'\n    </div>\n    <div>\n      <a class="bit-button bit-track-button" href="'+(null==(__t=trackUrl)?"":__t)+'">'+(null==(__t=track)?"":__t)+"</a>\n    </div>\n  "),__p+="\n</div>";return __p}},{underscore:20}],"templates/html/past_events":[function(require,module,exports){var _=require("underscore");module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")}
;with(obj||{})__p+='<div class="bit-past-events">\n  <img class="bit-widget-loading" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHdpZHRoPSc1MHB4JyBoZWlnaHQ9JzUwcHgnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiBjbGFzcz0idWlsLXNwaW4iPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiPjwvcmVjdD48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MCA1MCkiPjxnIHRyYW5zZm9ybT0icm90YXRlKDApIHRyYW5zbGF0ZSgzNCAwKSI+PGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YThhOGEiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwcyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBmcm9tPSIxLjUiIHRvPSIxIiBiZWdpbj0iMHMiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9jaXJjbGU+PC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDQ1KSB0cmFuc2xhdGUoMzQgMCkiPjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGE4YThhIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMC4xMnMiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iMSIgYmVnaW49IjAuMTJzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSg5MCkgdHJhbnNsYXRlKDM0IDApIj48Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhhOGE4YSI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAuMSIgYmVnaW49IjAuMjVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89IjEiIGJlZ2luPSIwLjI1cyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT48L2NpcmNsZT48L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTM1KSB0cmFuc2xhdGUoMzQgMCkiPjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGE4YThhIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMC4zN3MiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iMSIgYmVnaW49IjAuMzdzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxODApIHRyYW5zbGF0ZSgzNCAwKSI+PGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YThhOGEiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwLjVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89IjEiIGJlZ2luPSIwLjVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgyMjUpIHRyYW5zbGF0ZSgzNCAwKSI+PGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YThhOGEiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwLjYycyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBmcm9tPSIxLjUiIHRvPSIxIiBiZWdpbj0iMC42MnMiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9jaXJjbGU+PC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDI3MCkgdHJhbnNsYXRlKDM0IDApIj48Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhhOGE4YSI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAuMSIgYmVnaW49IjAuNzVzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89IjEiIGJlZ2luPSIwLjc1cyIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT48L2NpcmNsZT48L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMzE1KSB0cmFuc2xhdGUoMzQgMCkiPjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGE4YThhIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMC44N3MiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iMSIgYmVnaW49IjAuODdzIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlVHJhbnNmb3JtPjwvY2lyY2xlPjwvZz48L2c+PC9zdmc+">\n</div>';return __p}},{underscore:20}],"views/event_list":[function(a,b,c){var d=(a("underscore"),a("jquery"),a("exoskeleton")),e=a("views/event");Events=a("collections/events"),b.exports=d.View.extend({render:function(a){var b=this.renderEvents(this.getCollection(a));return this.$el.html(b),this},getCollection:function(a){return a?this.collection.slice(0,a):this.collection},renderEvents:function(a){return a.map(function(a){return new e({model:a}).render().$el})}})},{"collections/events":"collections/events",exoskeleton:4,jquery:8,underscore:20,"views/event":"views/event"}],"views/event":[function(a,b,c){var d=(a("underscore"),a("jquery"),a("exoskeleton")),e=a("lib/utils/window_methods");b.exports=d.View.extend({template:a("templates/html/event"),events:{click:"handleClick"},render:function(){var a=this.model.toTemplateData(),b=this.template(a);return this.setElement(b),this},handleClick:function(a){if(a.preventDefault(),this.model.collection.userIsOnMobile){var b=this.model.eventPopupURL();e.redirect(b)}else{var b=this.model.eventPopupURL();this.openPopupWindow(b)}},openPopupWindow:function(a){var b="event_"+this.model.get("id");this.popupWindow=e.openWindow(a,b,this.popupOptions(375,627)),this.popupWindow.focus&&this.popupWindow.focus()},popupOptions:function(a,b){var c,d,e,f,g,h;return c=void 0!=window.screenLeft?window.screenLeft:screen.left,d=void 0!=window.screenTop?window.screenTop:screen.top,e=window.screen.width,f=window.screen.height,g=e/2-a/2+c,h=f/2-b/2+d,"width="+a+", height="+b+", top="+h+", left="+g}})},{exoskeleton:4,jquery:8,"lib/utils/window_methods":"lib/utils/window_methods","templates/html/event":"templates/html/event",underscore:20}],"views/initializer":[function(a,b,c){var d=a("underscore"),e=a("jquery"),f=a("exoskeleton"),g=a("dasherize"),h=a("views/widget");a("collections/events");b.exports=f.View.extend({initialize:function(){this.initializers=this.$(".bit-widget-initializer"),this.widgets=this.widgets||[]},append:function(a,b){var c=e("<div>",{class:"bit-widget-initializer"});return d.each(b,function(a,b){c.attr("data-"+g(b),a)}),e(a).append(c),this.buildWidget(c).render()},render:function(){var a=this;return this.initializers.each(function(){a.buildWidget(this)}),this.renderWidgets(),this},renderWidgets:function(){d.each(this.widgets,function(a){a.render()})},prepareElement:function(a,b){return a&&1===this.$("#"+a).length?this.useDivId(a,b):this.replaceInitializer(b)},replaceInitializer:function(a){var b=e("<div class='bit-widget-container'>");return e(a).replaceWith(b),b},useDivId:function(a,b){return e(b).remove(),this.$("#"+a)},viewOptions:function(a){var b=e(a).data(),c=this.prepareElement(b.divId,a);return d.extend({el:c},b)},buildWidget:function(a){return widget=new h(this.viewOptions(a)),this.widgets.push(widget),widget}})},{"collections/events":"collections/events",dasherize:3,exoskeleton:4,jquery:8,underscore:20,"views/widget":"views/widget"}],"views/local_events":[function(a,b,c){var d=a("underscore"),e=(a("jquery"),a("exoskeleton")),f=a("models/user"),g=a("views/event_list"),h=a("lib/translate");b.exports=e.View.extend({template:a("templates/html/local_events"),initialize:function(){this.user=new f({}),this.fetchUserLocation(),this.renderOnSync()},strings:function(){var a=this.collection.options.generalOptions.language;return{title:h.stringFor("Local Dates",a)}},renderOnSync:function(){this.collection.on("sync",this.render,this)},render:function(){if(!this.dataIsReady())return this;this.localEventsCollection=this.buildLocalEventsCollection(),this.localEventsCollection.size()>0&&this.renderLocalEventList()},renderLocalEventList:function(){var a=this.template(this.strings());return this.$el.html(a),this.eventList=this.buildEventList(),this.eventList.render(),this},fetchUserLocation:function(){userLocation=this.user.fetchLocation(),afterLocation=d.bind(this.handleAfterLocation,this),locationError=d.bind(this.userLocationError,this),userLocation.then(afterLocation,locationError)},handleAfterLocation:function(a){this.user.setLocation(a),this.render()},userLocationError:function(){},dataIsReady:function(){return this.collection.size()>0&&d.isObject(this.user.get("location"))},buildEventList:function(){return new g({collection:this.localEventsCollection,el:this.$(".bit-local-events")})},buildLocalEventsCollection:function(){return this.collection.localEventsCollection(this.user.get("location"))}})},{exoskeleton:4,jquery:8,"lib/translate":"lib/translate","models/user":"models/user","templates/html/local_events":"templates/html/local_events",underscore:20,"views/event_list":"views/event_list"}],"views/navigation_bar":[function(a,b,c){var d=a("underscore"),e=(a("jquery"),a("exoskeleton"));translate=a("lib/translate"),b.exports=e.View.extend({events:{"click .bit-show-upcoming":"showUpcomingEvents","click .bit-show-past":"showPastEvents"},template:a("templates/html/navigation_bar"),templateData:function(){var a=this.upcomingEvents.collection.options.generalOptions.language;return{pastDates:translate.stringFor("Past Dates",a),upcomingDates:translate.stringFor("Upcoming Dates",a),displayPastDates:d.isObject(this.pastEvents)}},initialize:function(a){this.upcomingEvents=a.upcomingEvents,this.pastEvents=a.pastEvents},render:function(){var a=this.template(this.templateData());return this.$el.html(a),this},showUpcomingEvents:function(){this.$(".bit-show-past").addClass("bit-clickable"),this.pastEvents.remove(),this.$(".bit-show-upcoming").removeClass("bit-clickable"),this.upcomingEvents.render()},showPastEvents:function(){this.$(".bit-show-upcoming").addClass("bit-clickable"),this.$(".bit-show-past").removeClass("bit-clickable"),this.upcomingEvents.remove(),this.pastEvents.show()}})},{exoskeleton:4,jquery:8,"lib/translate":"lib/translate","templates/html/navigation_bar":"templates/html/navigation_bar",underscore:20}],"views/past_event_list":[function(a,b,c){var d=(a("underscore"),a("jquery"),a("exoskeleton")),e=a("views/past_event");PastEventCollection=a("collections/past_events"),b.exports=d.View.extend({render:function(a){var b=this.renderEvents(this.getCollection(a));return this.$el.html(b),this},getCollection:function(a){return a?this.collection.slice(0,a):this.collection},renderEvents:function(a){return a.map(function(a){return new e({model:a}).render().$el})}})},{"collections/past_events":"collections/past_events",exoskeleton:4,jquery:8,underscore:20,"views/past_event":"views/past_event"}],"views/past_events":[function(a,b,c){var d=(a("underscore"),a("jquery")),e=a("exoskeleton"),f=a("views/past_event_list");b.exports=e.View.extend({template:a("templates/html/past_events"),events:{"click .bit-past-events-show-all-button":"showAll"},initialize:function(){this.renderOnSync()},renderOnSync:function(){this.collection.on("sync",this.render,this)},renderLoading:function(){this.$el.html(this.template())},render:function(){return this.pastEventList=this.buildEventList().render(this.displayLimit()),this.renderShowAllButton(),this},renderShowAllButton:function(){this.showAllButtonIsRequired()&&this.$el.append(this.buildShowAllButton())},showAllButtonIsRequired:function(){return"number"==typeof this.displayLimit()&&this.displayLimit()<this.collection.length},buildEventList:function(){return this.$el.html(this.template()),new f({collection:this.collection,el:this.$(".bit-past-events")})},remove:function(){this.pastEventList&&this.pastEventList.remove()},displayLimit:function(){return this.collection.options.generalOptions.displayLimit},buildShowAllButton:function(){var a=this.collection.options.generalOptions.language,b=d("<div>").addClass("bit-past-events-show-all-button");return b.text(translate.stringFor("Show All Dates",a)),b},show:function(){0==this.collection.length?(this.renderLoading(),this.collection.fetch()):this.render()},showAll:function(){this.$(".bit-past-events-show-all-button").remove(),this.pastEventList.render()}})},{exoskeleton:4,jquery:8,"templates/html/past_events":"templates/html/past_events",underscore:20,"views/past_event_list":"views/past_event_list"}],"views/past_event":[function(a,b,c){var d=(a("underscore"),a("jquery"),a("exoskeleton"));b.exports=d.View.extend({template:a("templates/html/event"),render:function(){return this.setElement(this.template(this.model.toTemplateData())),this}})},{exoskeleton:4,jquery:8,"templates/html/event":"templates/html/event",underscore:20}],"views/upcoming_events":[function(a,b,c){var d=a("underscore"),e=a("jquery"),f=a("exoskeleton"),g=a("views/event_list"),h=a("lib/json_ld_events_converter");translate=a("lib/translate"),googlePixelIframeURLBuilder=a("lib/utils/google_pixel_iframe_url_builder"),documentMethods=a("lib/utils/document_methods"),URI=a("urijs"),b.exports=f.View.extend({template:a("templates/html/no_dates"),events:{"click .bit-upcoming-events-show-all-button":"showAll"},initialize:function(){this.renderOnSync()},renderOnSync:function(){this.collection.on("sync",this.render,this)},render:function(){return 0===this.collection.length?(this.$el.html(this.template({noUpcomingTourDates:translate.stringFor("No Upcoming Tour Dates",this.language())})),this.createArtistModel().then(d.bind(this.renderTrackButtonViewAndGoogleTagManager,this))):(this.eventList=this.buildEventList().render(this.displayLimit()),this.renderShowAllButton(),documentMethods.appendToBody(this.buildJSONLDEventsMarkup()),this.$el.append(this.buildGooglePixelIframe())),this},createArtistModel:function(){var a="https://rest.bandsintown.com/artists/"+encodeURIComponent(this.collection.artistIdentifier())+"?app_id="+this.collection.appID(),b=f.Model.extend({url:a});return this.collection.artistModel=new b,this.collection.artistModel.fetch()},renderTrackButtonViewAndGoogleTagManager:function(){var a="https://www.bandsintown.com/a/"+this.collection.artistModel.get("id"),b=Object.assign({},this.collection.eventQueryParams(),{trigger:"track"}),c=URI(a).setQuery(b).toString();this.$el.html(this.template({noUpcomingTourDates:translate.stringFor("No Upcoming Tour Dates",this.language()),trackDescription:translate.stringFor("<b>Track</b> to get notified about upcoming shows in your area.",this.language()),track:translate.stringFor("Track",this.language()),trackUrl:c})),this.renderGoogleTagManager()},renderGoogleTagManager:function(){var a=this.buildGooglePixelIframe();this.$el.append(a)},renderShowAllButton:function(){this.showAllButtonIsRequired()&&this.$el.append(this.buildShowAllButton())},showAllButtonIsRequired:function(){return"number"==typeof this.displayLimit()&&this.displayLimit()<this.collection.length},displayLimit:function(){return this.collection.options.generalOptions.displayLimit},language:function(){return this.collection.options.generalOptions.language},buildEventList:function(){return this.$el.html(e("<div class=bit-upcoming-events>")),new g({collection:this.collection,el:this.$(".bit-upcoming-events")})},remove:function(){this.eventList&&this.eventList.remove()},buildJSONLDEventsMarkup:function(){var a=h.convertEvents(this.collection.toJSON()),b=e("<script>").attr("type","application/ld+json");return b.html(JSON.stringify(a)),b[0]},buildGooglePixelIframe:function(){return'<iframe src="'+googlePixelIframeURLBuilder.build(this.collection)+'" class="google-pixel-iframe"></iframe>'},buildShowAllButton:function(){var a=e("<div>").addClass("bit-upcoming-events-show-all-button");return a.text(translate.stringFor("Show All Dates",this.language())),a},showAll:function(){this.$(".bit-upcoming-events-show-all-button").remove(),this.eventList.render()}})},{exoskeleton:4,jquery:8,"lib/json_ld_events_converter":"lib/json_ld_events_converter","lib/translate":"lib/translate","lib/utils/document_methods":"lib/utils/document_methods","lib/utils/google_pixel_iframe_url_builder":"lib/utils/google_pixel_iframe_url_builder","templates/html/no_dates":"templates/html/no_dates",underscore:20,urijs:23,"views/event_list":"views/event_list"}],"views/widget":[function(a,b,c){(function(c){var d=a("underscore"),e=a("jquery"),f=a("exoskeleton"),g=a("views/upcoming_events"),h=a("views/local_events"),i=a("views/past_events"),j=a("views/navigation_bar"),k=a("collections/events"),l=a("collections/past_events"),m=a("lib/options_factory"),n=a("insert-css"),o=["artistName","facebookPageId","displayLimit","appId","affilCode","language"],p=["textColor","linkColor","popupBackgroundColor","linkTextColor","font"];b.exports=f.View.extend({styleTemplate:a("templates/css/style"),template:a("templates/html/layout"),initialize:function(a){var b;this.generalOptions=m.computeGeneralOptions(a),this.styleOptions=m.computeStyleOptions(a,this.generalOptions.get("autoStyle")),this.generalOptions.get("autoStyle")&&this.setStyleOptionsFromDom(),b={generalOptions:this.generalOptions.pick(o),styleOptions:this.styleOptions.pick(p)},this.collection=new k({},b),this.pastEventsCollection=new l({},b),this.pastEventsCollection.reset(),e(window).on("resize",d.bind(this.handleResponsiveBreakpoint,this)),this.listenTo(this.collection,"sync",this.handleResponsiveBreakpoint)},render:function(){return this._insertStyle(),this.$el.html(this.template()),this.generalOptions.get("displayLocalDates")&&(this.localEvents=new h({collection:this.collection,el:this.$(".bit-local-events-container")})),this.upcomingEvents=new g({collection:this.collection,el:this.$(".bit-events-container")}),this.generalOptions.get("displayPastDates")&&(this.pastEvents=new i({el:this.$(".bit-events-container"),collection:this.pastEventsCollection})),this.navigationBar=new j({el:this.$(".bit-nav-bar-container"),upcomingEvents:this.upcomingEvents,pastEvents:this.pastEvents}).render(),this.collection.fetch(),this},setStyleOptionsFromDom:function(){this.styleOptions.set("linkColor",this.calculateValueFromDomIfNeeded("linkColor","color","<a href='#'>")),this.styleOptions.set("font",this.calculateValueFromDomIfNeeded("font","font-family","<div>")),this.styleOptions.set("fontSize",this.calculateValueFromDomIfNeeded("fontSize","font-size","<div>")),this.styleOptions.set("textColor",this.calculateValueFromDomIfNeeded("textColor","color","<div>"))},calculateValueFromDomIfNeeded:function(a,b,c){return this.styleOptions.get(a)?this.styleOptions.get(a):this.getPropertyFromDom(b,c)},_insertStyle:function(){var a=c("LmJpdC13aWRnZXQgewogIG1pbi13aWR0aDogMjcwcHg7CiAgcGFkZGluZy1ib3R0b206IDEwcHg7IH0KICAuYml0LXdpZGdldCAuYml0LXNwYWNlciB7CiAgICBoZWlnaHQ6IDEwcHg7IH0KICAuYml0LXdpZGdldCAuYml0LWRhdGUgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7IH0KICAuYml0LXdpZGdldCAuYml0LW5vLWRhdGVzLWNvbnRhaW5lciB7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgxMjQsIDEyNCwgMTI0LCAwLjI1KTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbjogMHB4IDEwcHggMHB4IDEwcHg7CiAgICBwYWRkaW5nOiAxMDBweCAwcHggMTAwcHggMHB4OyB9CiAgICAuYml0LXdpZGdldCAuYml0LW5vLWRhdGVzLWNvbnRhaW5lciAuYml0LW5vLWRhdGVzLXRpdGxlIHsKICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgbWFyZ2luLWJvdHRvbTogNXB4OwogICAgICBsaW5lLWhlaWdodDogMjBweDsgfQogICAgLmJpdC13aWRnZXQgLmJpdC1uby1kYXRlcy1jb250YWluZXIgLmJpdC10cmFjay1idXR0b24gewogICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgcGFkZGluZzogMTBweCAwcHg7CiAgICAgIHdpZHRoOiAyODRweDsKICAgICAgbWFyZ2luOiAxNXB4IDAgMCAwOwogICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyB9CiAgLmJpdC13aWRnZXQgLmJpdC1uYXYtYmFyLWNvbnRhaW5lciB7CiAgICBwYWRkaW5nOiAwcHggMTBweCAwcHggMTBweDsgfQogICAgLmJpdC13aWRnZXQgLmJpdC1uYXYtYmFyLWNvbnRhaW5lciAuYml0LW5hdi1iYXIgewogICAgICBkaXNwbGF5OiAtbXMtaW5saW5lLWZsZXhib3g7CiAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgICBmbG9hdDogbm9uZTsKICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93OyB9CiAgLmJpdC13aWRnZXQgLmJpdC11cGNvbWluZy1ldmVudHMsIC5iaXQtd2lkZ2V0IC5iaXQtcGFzdC1ldmVudHMgewogICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgbWFyZ2luOiAwcHggMTBweCAxMHB4IDEwcHg7IH0KICAuYml0LXdpZGdldCAuYml0LWxvY2FsLWV2ZW50cy1jb250YWluZXIgewogICAgbWFyZ2luOiAwcHggMTBweCAwcHggMTBweDsgfQogIC5iaXQtd2lkZ2V0IC5iaXQtdXBjb21pbmctZXZlbnRzLXNob3ctYWxsLWJ1dHRvbiwgLmJpdC13aWRnZXQgLmJpdC1wYXN0LWV2ZW50cy1zaG93LWFsbC1idXR0b24gewogICAgZm9udC1zaXplOiAxMXB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBwYWRkaW5nOiAxMnB4IDBweDsKICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgIG1hcmdpbjogMHB4IDEwcHggMHB4IDEwcHg7IH0KICAuYml0LXdpZGdldCAuYml0LWJ1dHRvbiB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBwYWRkaW5nOiA4cHggMHB4IDhweCAwcHg7IH0KICAuYml0LXdpZGdldCAuYml0LW9mZmVycyB7CiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgbWFyZ2luLXJpZ2h0OiAycHg7IH0KICAuYml0LXdpZGdldCAuYml0LWV2ZW50LWxpc3QtdGl0bGUgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBwYWRkaW5nOiAxMHB4IDEycHggMTBweCAwcHg7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyB9CiAgICAuYml0LXdpZGdldCAuYml0LWV2ZW50LWxpc3QtdGl0bGUuYml0LWNsaWNrYWJsZSB7CiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogICAgICBjdXJzb3I6IHBvaW50ZXI7IH0KICAuYml0LXdpZGdldCAuYml0LWV2ZW50IHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94OwogICAgZGlzcGxheTogZmxleDsKICAgIC1tcy1mbGV4LXBhY2s6IGp1c3RpZnk7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgcGFkZGluZzogMTBweCAwcHg7IH0KICAgIC5iaXQtd2lkZ2V0IC5iaXQtZXZlbnQgLmJpdC1kZXRhaWxzIHsKICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgcGFkZGluZy1sZWZ0OiAycHg7CiAgICAgIGxpbmUtaGVpZ2h0OiAxLjVlbTsgfQogICAgLmJpdC13aWRnZXQgLmJpdC1ldmVudCAuYml0LW9mZmVycyB7CiAgICAgIC1tcy1mbGV4OiAwIDAgMTJlbTsKICAgICAgICAgIGZsZXg6IDAgMCAxMmVtOwogICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICBmb250LXNpemU6IC44ZW07CiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOyB9CiAgLmJpdC13aWRnZXQuYml0LWxheW91dC1yb3cgLmJpdC1ldmVudDpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDgxLCA4MSwgODEsIDAuMSk7IH0KICAuYml0LXdpZGdldC5iaXQtbGF5b3V0LXJvdyAuYml0LWV2ZW50IC5iaXQtZGV0YWlscyB7CiAgICAtbXMtZmxleC1kaXJlY3Rpb246IHJvdzsKICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93OwogICAgd2lkdGg6IDEwMCU7IH0KICAgIC5iaXQtd2lkZ2V0LmJpdC1sYXlvdXQtcm93IC5iaXQtZXZlbnQgLmJpdC1kZXRhaWxzIC5iaXQtZGF0ZSB7CiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICB3aWR0aDogMTIuNSU7CiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgIC1tcy1mbGV4OiAxIDAgOGVtOwogICAgICAgICAgZmxleDogMSAwIDhlbTsgfQogICAgLmJpdC13aWRnZXQuYml0LWxheW91dC1yb3cgLmJpdC1ldmVudCAuYml0LWRldGFpbHMgLmJpdC12ZW51ZSB7CiAgICAgIHdpZHRoOiA0My43NSU7CiAgICAgIHBhZGRpbmctcmlnaHQ6IDIycHg7IH0KICAgIC5iaXQtd2lkZ2V0LmJpdC1sYXlvdXQtcm93IC5iaXQtZXZlbnQgLmJpdC1kZXRhaWxzIC5iaXQtbG9jYXRpb24gewogICAgICB3aWR0aDogNDMuNzUlOyB9CiAgLmJpdC13aWRnZXQgaW1nLmJpdC13aWRnZXQtbG9hZGluZyB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbi1sZWZ0OiBhdXRvOwogICAgbWFyZ2luLXJpZ2h0OiBhdXRvOwogICAgaGVpZ2h0OiAyMHB4OwogICAgd2lkdGg6IDIwcHg7IH0KICAuYml0LXdpZGdldCAuZ29vZ2xlLXBpeGVsLWlmcmFtZSB7CiAgICBoZWlnaHQ6IDFweDsKICAgIHdpZHRoOiAxcHg7CiAgICBkaXNwbGF5OiBub25lOyB9CgovKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW0xaGFXNHVZM056SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQk8wVkJRMFVzYVVKQlFXbENPMFZCUTJwQ0xIRkNRVUZ4UWl4RlFVRkZPMFZCUTNaQ08wbEJRMFVzWVVGQllTeEZRVUZGTzBWQlEycENPMGxCUTBVc2EwSkJRV3RDTEVWQlFVVTdSVUZEZEVJN1NVRkRSU3huUkVGQlowUTdTVUZEYUVRc2JVSkJRVzFDTzBsQlEyNUNMREJDUVVFd1FqdEpRVU14UWl3MlFrRkJOa0lzUlVGQlJUdEpRVU12UWp0TlFVTkZMREJDUVVFd1FqdE5RVU14UWl4blFrRkJaMEk3VFVGRGFFSXNhMEpCUVd0Q08wMUJRMnhDTEcxQ1FVRnRRanROUVVOdVFpeHJRa0ZCYTBJc1JVRkJSVHRKUVVOMFFqdE5RVU5GTEhOQ1FVRnpRanROUVVOMFFpeHpRa0ZCYzBJN1RVRkRkRUlzYTBKQlFXdENPMDFCUTJ4Q0xHRkJRV0U3VFVGRFlpeHRRa0ZCYlVJN1RVRkRia0lzTUVKQlFUQkNMRVZCUVVVN1JVRkRhRU03U1VGRFJTd3lRa0ZCTWtJc1JVRkJSVHRKUVVNM1FqdE5RVU5GTERSQ1FVRnhRanROUVVGeVFpeHhRa0ZCY1VJN1RVRkRja0lzV1VGQldUdE5RVU5hTEhkQ1FVRnZRanRWUVVGd1FpeHZRa0ZCYjBJc1JVRkJSVHRGUVVNeFFqdEpRVU5GTEcxQ1FVRnRRanRKUVVOdVFpd3lRa0ZCTWtJc1JVRkJSVHRGUVVNdlFqdEpRVU5GTERCQ1FVRXdRaXhGUVVGRk8wVkJRemxDTzBsQlEwVXNaMEpCUVdkQ08wbEJRMmhDTEd0Q1FVRnJRanRKUVVOc1FpeHJRa0ZCYTBJN1NVRkRiRUlzT0VKQlFUaENPMGxCUXpsQ0xHMUNRVUZ0UWp0SlFVTnVRaXhuUWtGQlowSTdTVUZEYUVJc01FSkJRVEJDTzBsQlF6RkNMREJDUVVFd1FpeEZRVUZGTzBWQlF6bENPMGxCUTBVc2JVSkJRVzFDTzBsQlEyNUNMR2RDUVVGblFqdEpRVU5vUWl4NVFrRkJlVUlzUlVGQlJUdEZRVU0zUWp0SlFVTkZMREJDUVVFd1FqdEpRVU14UWl4clFrRkJhMElzUlVGQlJUdEZRVU4wUWp0SlFVTkZMR3RDUVVGclFqdEpRVU5zUWl3MFFrRkJORUk3U1VGRE5VSXNjMEpCUVhOQ08wbEJRM1JDTERCQ1FVRXdRaXhGUVVGRk8wbEJRelZDTzAxQlEwVXNNa0pCUVRKQ08wMUJRek5DTEdkQ1FVRm5RaXhGUVVGRk8wVkJRM1JDTzBsQlEwVXNaMEpCUVdkQ08wbEJRMmhDTEhGQ1FVRmpPMGxCUVdRc1kwRkJZenRKUVVOa0xIVkNRVUVyUWp0UlFVRXZRaXdyUWtGQkswSTdTVUZETDBJc2RVSkJRVzlDTzFGQlFYQkNMRzlDUVVGdlFqdEpRVU53UWl4elFrRkJjMEk3U1VGRGRFSXNhMEpCUVd0Q0xFVkJRVVU3U1VGRGNFSTdUVUZEUlN4eFFrRkJZenROUVVGa0xHTkJRV003VFVGRFpDd3lRa0ZCZFVJN1ZVRkJka0lzZFVKQlFYVkNPMDFCUTNaQ0xHdENRVUZyUWp0TlFVTnNRaXh0UWtGQmJVSXNSVUZCUlR0SlFVTjJRanROUVVORkxHMUNRVUZsTzFWQlFXWXNaVUZCWlR0TlFVTm1MRzlDUVVGdlFqdE5RVU53UWl4blFrRkJaMEk3VFVGRGFFSXNhMEpCUVd0Q0xFVkJRVVU3UlVGRGVFSTdTVUZEUlN4M1EwRkJkME1zUlVGQlJUdEZRVU0xUXp0SlFVTkZMSGRDUVVGdlFqdFJRVUZ3UWl4dlFrRkJiMEk3U1VGRGNFSXNXVUZCV1N4RlFVRkZPMGxCUTJRN1RVRkRSU3hyUWtGQmEwSTdUVUZEYkVJc1lVRkJZVHROUVVOaUxHOUNRVUZ2UWp0TlFVTndRaXhyUWtGQll6dFZRVUZrTEdOQlFXTXNSVUZCUlR0SlFVTnNRanROUVVORkxHTkJRV003VFVGRFpDeHZRa0ZCYjBJc1JVRkJSVHRKUVVONFFqdE5RVU5GTEdOQlFXTXNSVUZCUlR0RlFVTndRanRKUVVORkxHVkJRV1U3U1VGRFppeHJRa0ZCYTBJN1NVRkRiRUlzYlVKQlFXMUNPMGxCUTI1Q0xHRkJRV0U3U1VGRFlpeFpRVUZaTEVWQlFVVTdSVUZEYUVJN1NVRkRSU3haUVVGWk8wbEJRMW9zVjBGQlZ6dEpRVU5ZTEdOQlFXTXNSVUZCUlNJc0ltWnBiR1VpT2lKdFlXbHVMbU56Y3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklpNWlhWFF0ZDJsa1oyVjBJSHRjYmlBZ2JXbHVMWGRwWkhSb09pQXlOekJ3ZUR0Y2JpQWdjR0ZrWkdsdVp5MWliM1IwYjIwNklERXdjSGc3SUgxY2JpQWdMbUpwZEMxM2FXUm5aWFFnTG1KcGRDMXpjR0ZqWlhJZ2UxeHVJQ0FnSUdobGFXZG9kRG9nTVRCd2VEc2dmVnh1SUNBdVltbDBMWGRwWkdkbGRDQXVZbWwwTFdSaGRHVWdlMXh1SUNBZ0lHWnZiblF0ZDJWcFoyaDBPaUJpYjJ4a095QjlYRzRnSUM1aWFYUXRkMmxrWjJWMElDNWlhWFF0Ym04dFpHRjBaWE10WTI5dWRHRnBibVZ5SUh0Y2JpQWdJQ0JpYjNKa1pYSXRkRzl3T2lBeGNIZ2djMjlzYVdRZ2NtZGlZU2d4TWpRc0lERXlOQ3dnTVRJMExDQXdMakkxS1R0Y2JpQWdJQ0IwWlhoMExXRnNhV2R1T2lCalpXNTBaWEk3WEc0Z0lDQWdiV0Z5WjJsdU9pQXdjSGdnTVRCd2VDQXdjSGdnTVRCd2VEdGNiaUFnSUNCd1lXUmthVzVuT2lBeE1EQndlQ0F3Y0hnZ01UQXdjSGdnTUhCNE95QjlYRzRnSUNBZ0xtSnBkQzEzYVdSblpYUWdMbUpwZEMxdWJ5MWtZWFJsY3kxamIyNTBZV2x1WlhJZ0xtSnBkQzF1Ynkxa1lYUmxjeTEwYVhSc1pTQjdYRzRnSUNBZ0lDQjBaWGgwTFhSeVlXNXpabTl5YlRvZ2RYQndaWEpqWVhObE8xeHVJQ0FnSUNBZ1ptOXVkQzF6YVhwbE9pQXhOWEI0TzF4dUlDQWdJQ0FnWm05dWRDMTNaV2xuYUhRNklHSnZiR1E3WEc0Z0lDQWdJQ0J0WVhKbmFXNHRZbTkwZEc5dE9pQTFjSGc3WEc0Z0lDQWdJQ0JzYVc1bExXaGxhV2RvZERvZ01qQndlRHNnZlZ4dUlDQWdJQzVpYVhRdGQybGtaMlYwSUM1aWFYUXRibTh0WkdGMFpYTXRZMjl1ZEdGcGJtVnlJQzVpYVhRdGRISmhZMnN0WW5WMGRHOXVJSHRjYmlBZ0lDQWdJSFJsZUhRdFpHVmpiM0poZEdsdmJqb2dibTl1WlR0Y2JpQWdJQ0FnSUdScGMzQnNZWGs2SUdsdWJHbHVaUzFpYkc5amF6dGNiaUFnSUNBZ0lIQmhaR1JwYm1jNklERXdjSGdnTUhCNE8xeHVJQ0FnSUNBZ2QybGtkR2c2SURJNE5IQjRPMXh1SUNBZ0lDQWdiV0Z5WjJsdU9pQXhOWEI0SURBZ01DQXdPMXh1SUNBZ0lDQWdkR1Y0ZEMxMGNtRnVjMlp2Y20wNklIVndjR1Z5WTJGelpUc2dmVnh1SUNBdVltbDBMWGRwWkdkbGRDQXVZbWwwTFc1aGRpMWlZWEl0WTI5dWRHRnBibVZ5SUh0Y2JpQWdJQ0J3WVdSa2FXNW5PaUF3Y0hnZ01UQndlQ0F3Y0hnZ01UQndlRHNnZlZ4dUlDQWdJQzVpYVhRdGQybGtaMlYwSUM1aWFYUXRibUYyTFdKaGNpMWpiMjUwWVdsdVpYSWdMbUpwZEMxdVlYWXRZbUZ5SUh0Y2JpQWdJQ0FnSUdScGMzQnNZWGs2SUdsdWJHbHVaUzFtYkdWNE8xeHVJQ0FnSUNBZ1pteHZZWFE2SUc1dmJtVTdYRzRnSUNBZ0lDQm1iR1Y0TFdScGNtVmpkR2x2YmpvZ2NtOTNPeUI5WEc0Z0lDNWlhWFF0ZDJsa1oyVjBJQzVpYVhRdGRYQmpiMjFwYm1jdFpYWmxiblJ6TENBdVltbDBMWGRwWkdkbGRDQXVZbWwwTFhCaGMzUXRaWFpsYm5SeklIdGNiaUFnSUNCdFlYSm5hVzR0WW05MGRHOXRPaUE0Y0hnN1hHNGdJQ0FnYldGeVoybHVPaUF3Y0hnZ01UQndlQ0F4TUhCNElERXdjSGc3SUgxY2JpQWdMbUpwZEMxM2FXUm5aWFFnTG1KcGRDMXNiMk5oYkMxbGRtVnVkSE10WTI5dWRHRnBibVZ5SUh0Y2JpQWdJQ0J0WVhKbmFXNDZJREJ3ZUNBeE1IQjRJREJ3ZUNBeE1IQjRPeUI5WEc0Z0lDNWlhWFF0ZDJsa1oyVjBJQzVpYVhRdGRYQmpiMjFwYm1jdFpYWmxiblJ6TFhOb2IzY3RZV3hzTFdKMWRIUnZiaXdnTG1KcGRDMTNhV1JuWlhRZ0xtSnBkQzF3WVhOMExXVjJaVzUwY3kxemFHOTNMV0ZzYkMxaWRYUjBiMjRnZTF4dUlDQWdJR1p2Ym5RdGMybDZaVG9nTVRGd2VEdGNiaUFnSUNCbWIyNTBMWGRsYVdkb2REb2dZbTlzWkR0Y2JpQWdJQ0J3WVdSa2FXNW5PaUF4TW5CNElEQndlRHRjYmlBZ0lDQmlZV05yWjNKdmRXNWtMV052Ykc5eU9pQjBjbUZ1YzNCaGNtVnVkRHRjYmlBZ0lDQjBaWGgwTFdGc2FXZHVPaUJqWlc1MFpYSTdYRzRnSUNBZ1kzVnljMjl5T2lCd2IybHVkR1Z5TzF4dUlDQWdJSFJsZUhRdGRISmhibk5tYjNKdE9pQjFjSEJsY21OaGMyVTdYRzRnSUNBZ2JXRnlaMmx1T2lBd2NIZ2dNVEJ3ZUNBd2NIZ2dNVEJ3ZURzZ2ZWeHVJQ0F1WW1sMExYZHBaR2RsZENBdVltbDBMV0oxZEhSdmJpQjdYRzRnSUNBZ2RHVjRkQzFoYkdsbmJqb2dZMlZ1ZEdWeU8xeHVJQ0FnSUdOMWNuTnZjam9nY0c5cGJuUmxjanRjYmlBZ0lDQndZV1JrYVc1bk9pQTRjSGdnTUhCNElEaHdlQ0F3Y0hnN0lIMWNiaUFnTG1KcGRDMTNhV1JuWlhRZ0xtSnBkQzF2Wm1abGNuTWdlMXh1SUNBZ0lIUmxlSFF0ZEhKaGJuTm1iM0p0T2lCMWNIQmxjbU5oYzJVN1hHNGdJQ0FnYldGeVoybHVMWEpwWjJoME9pQXljSGc3SUgxY2JpQWdMbUpwZEMxM2FXUm5aWFFnTG1KcGRDMWxkbVZ1ZEMxc2FYTjBMWFJwZEd4bElIdGNiaUFnSUNCbWIyNTBMWGRsYVdkb2REb2dZbTlzWkR0Y2JpQWdJQ0J3WVdSa2FXNW5PaUF4TUhCNElERXljSGdnTVRCd2VDQXdjSGc3WEc0Z0lDQWdaR2x6Y0d4aGVUb2dhVzVzYVc1bExXSnNiMk5yTzF4dUlDQWdJSFJsZUhRdGRISmhibk5tYjNKdE9pQjFjSEJsY21OaGMyVTdJSDFjYmlBZ0lDQXVZbWwwTFhkcFpHZGxkQ0F1WW1sMExXVjJaVzUwTFd4cGMzUXRkR2wwYkdVdVltbDBMV05zYVdOcllXSnNaU0I3WEc0Z0lDQWdJQ0IwWlhoMExXUmxZMjl5WVhScGIyNDZJSFZ1WkdWeWJHbHVaVHRjYmlBZ0lDQWdJR04xY25OdmNqb2djRzlwYm5SbGNqc2dmVnh1SUNBdVltbDBMWGRwWkdkbGRDQXVZbWwwTFdWMlpXNTBJSHRjYmlBZ0lDQmpkWEp6YjNJNklIQnZhVzUwWlhJN1hHNGdJQ0FnWkdsemNHeGhlVG9nWm14bGVEdGNiaUFnSUNCcWRYTjBhV1o1TFdOdmJuUmxiblE2SUhOd1lXTmxMV0psZEhkbFpXNDdYRzRnSUNBZ1lXeHBaMjR0YVhSbGJYTTZJR05sYm5SbGNqdGNiaUFnSUNCMFpYaDBMV1JsWTI5eVlYUnBiMjQ2SUc1dmJtVTdYRzRnSUNBZ2NHRmtaR2x1WnpvZ01UQndlQ0F3Y0hnN0lIMWNiaUFnSUNBdVltbDBMWGRwWkdkbGRDQXVZbWwwTFdWMlpXNTBJQzVpYVhRdFpHVjBZV2xzY3lCN1hHNGdJQ0FnSUNCa2FYTndiR0Y1T2lCbWJHVjRPMXh1SUNBZ0lDQWdabXhsZUMxa2FYSmxZM1JwYjI0NklHTnZiSFZ0Ymp0Y2JpQWdJQ0FnSUhCaFpHUnBibWN0YkdWbWREb2dNbkI0TzF4dUlDQWdJQ0FnYkdsdVpTMW9aV2xuYUhRNklERXVOV1Z0T3lCOVhHNGdJQ0FnTG1KcGRDMTNhV1JuWlhRZ0xtSnBkQzFsZG1WdWRDQXVZbWwwTFc5bVptVnljeUI3WEc0Z0lDQWdJQ0JtYkdWNE9pQXdJREFnTVRKbGJUdGNiaUFnSUNBZ0lIZG9hWFJsTFhOd1lXTmxPaUJ1YjNkeVlYQTdYRzRnSUNBZ0lDQm1iMjUwTFhOcGVtVTZJQzQ0WlcwN1hHNGdJQ0FnSUNCbWIyNTBMWGRsYVdkb2REb2dZbTlzWkRzZ2ZWeHVJQ0F1WW1sMExYZHBaR2RsZEM1aWFYUXRiR0Y1YjNWMExYSnZkeUF1WW1sMExXVjJaVzUwT21odmRtVnlJSHRjYmlBZ0lDQmlZV05yWjNKdmRXNWtMV052Ykc5eU9pQnlaMkpoS0RneExDQTRNU3dnT0RFc0lEQXVNU2s3SUgxY2JpQWdMbUpwZEMxM2FXUm5aWFF1WW1sMExXeGhlVzkxZEMxeWIzY2dMbUpwZEMxbGRtVnVkQ0F1WW1sMExXUmxkR0ZwYkhNZ2UxeHVJQ0FnSUdac1pYZ3RaR2x5WldOMGFXOXVPaUJ5YjNjN1hHNGdJQ0FnZDJsa2RHZzZJREV3TUNVN0lIMWNiaUFnSUNBdVltbDBMWGRwWkdkbGRDNWlhWFF0YkdGNWIzVjBMWEp2ZHlBdVltbDBMV1YyWlc1MElDNWlhWFF0WkdWMFlXbHNjeUF1WW1sMExXUmhkR1VnZTF4dUlDQWdJQ0FnWm05dWRDMTNaV2xuYUhRNklHSnZiR1E3WEc0Z0lDQWdJQ0IzYVdSMGFEb2dNVEl1TlNVN1hHNGdJQ0FnSUNCM2FHbDBaUzF6Y0dGalpUb2dibTkzY21Gd08xeHVJQ0FnSUNBZ1pteGxlRG9nTVNBd0lEaGxiVHNnZlZ4dUlDQWdJQzVpYVhRdGQybGtaMlYwTG1KcGRDMXNZWGx2ZFhRdGNtOTNJQzVpYVhRdFpYWmxiblFnTG1KcGRDMWtaWFJoYVd4eklDNWlhWFF0ZG1WdWRXVWdlMXh1SUNBZ0lDQWdkMmxrZEdnNklEUXpMamMxSlR0Y2JpQWdJQ0FnSUhCaFpHUnBibWN0Y21sbmFIUTZJREl5Y0hnN0lIMWNiaUFnSUNBdVltbDBMWGRwWkdkbGRDNWlhWFF0YkdGNWIzVjBMWEp2ZHlBdVltbDBMV1YyWlc1MElDNWlhWFF0WkdWMFlXbHNjeUF1WW1sMExXeHZZMkYwYVc5dUlIdGNiaUFnSUNBZ0lIZHBaSFJvT2lBME15NDNOU1U3SUgxY2JpQWdMbUpwZEMxM2FXUm5aWFFnYVcxbkxtSnBkQzEzYVdSblpYUXRiRzloWkdsdVp5QjdYRzRnSUNBZ1pHbHpjR3hoZVRvZ1lteHZZMnM3WEc0Z0lDQWdiV0Z5WjJsdUxXeGxablE2SUdGMWRHODdYRzRnSUNBZ2JXRnlaMmx1TFhKcFoyaDBPaUJoZFhSdk8xeHVJQ0FnSUdobGFXZG9kRG9nTWpCd2VEdGNiaUFnSUNCM2FXUjBhRG9nTWpCd2VEc2dmVnh1SUNBdVltbDBMWGRwWkdkbGRDQXVaMjl2WjJ4bExYQnBlR1ZzTFdsbWNtRnRaU0I3WEc0Z0lDQWdhR1ZwWjJoME9pQXhjSGc3WEc0Z0lDQWdkMmxrZEdnNklERndlRHRjYmlBZ0lDQmthWE53YkdGNU9pQnViMjVsT3lCOVhHNGlYWDA9ICov","base64"),b=this.styleTemplate(this.styleOptions.toJSON());n(a),n(b)},isInWideContainer:function(){return this.$(".bit-widget").width()>=414},handleResponsiveBreakpoint:function(){this.$(".bit-widget").toggleClass("bit-layout-row",this.isInWideContainer())},getPropertyFromDom:function(a,b){var c,d=e(b);return this.$el.append(d),c=d.css(a),d.remove(),c}})
}).call(this,a("buffer").Buffer)},{buffer:2,"collections/events":"collections/events","collections/past_events":"collections/past_events",exoskeleton:4,"insert-css":6,jquery:8,"lib/options_factory":"lib/options_factory","templates/css/style":"templates/css/style","templates/html/layout":"templates/html/layout",underscore:20,"views/local_events":"views/local_events","views/navigation_bar":"views/navigation_bar","views/past_events":"views/past_events","views/upcoming_events":"views/upcoming_events"}]},{},[26]),window.require=window._require,window.define=window._define;;
(function(){var a="1.5.2";this.BIT=this.BIT||{};var b=this.BIT,c=Array.prototype.slice,d=function(a,c,d){if(null!=a)if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(c,d);else if(b.Utils.Object.isArray(a))for(var e=0,f=a.length;f>e;e++)c.call(d,a[e],e,a);else for(var g in a)a.hasOwnProperty(g)&&c.call(d,a[g],g,a)},e=function(a,b,c){for(var d in b)("undefined"==typeof a[d]||c)&&(a[d]=b[d]);return a},f=function(a){for(var c=b,d=a?a.split("."):[],e=0,f=d.length;f>e;e++){var g=d[e],h=c[g];h||(h={},c[g]=h),c=h}return c},g=function(a,c){var d="string"==typeof a?b.createObj(a):a;return e(d,c)};b.copy=e,b.createObj=f,b.extend=g;var h="https:"==document.location.protocol?"https:":"http:";e(b,{baseUrl:h+"//www.bandsintown.com",apiBaseUrl:h+"//api.bandsintown.com",assetHost:h+"//d38hmgjgf0kofx.cloudfront.net",widgets:[],widgetDialogEnabled:!0,iOSBannerEnabled:!1,cameFromCodes:{fbShare:36,noTourDatesNotifyMe:38,rsvp:39,eventDetails:46,buyTickets:166,trackArtistHeader:176,customTickets:219,google:209}}),e(b,{findWidget:function(a){a=a.toString().replace(/[^\d]+/,"");for(var b=0,c=this.widgets.length;c>b;b++)if(this.widgets[b].timestamp==a)return this.widgets[b]},setup:function(a){this.setupIOSBanner(a.src)},setupIOSBanner:function(a){var c=/ios_banner_disabled=true/.test(a);if(!c&&b.iOSBannerEnabled&&!b.iOSBannerRendered&&b.Utils.Browser.iOS){var d=i.make("meta",{name:"apple-itunes-app",content:"app-id=471394851,affiliate-data=partnerId=30&siteID=9HbhZwoYOY0&u1=BITWidget"});i.append(document.head,d)}}}),b.extend("Utils.Array",{include:function(a,b){if(a.indexOf)return a.indexOf(b)>-1;for(var c=!1,d=0,e=a.length;e>d;d++)if(c=a[d]===b)return c;return c},make:function(a){var b;try{b=c.call(a)}catch(d){b=[];for(var e=0,f=a.length;f>e;e++)b.push(a[e])}return b}}),b.extend("Utils.Browser",function(){var a={},b=navigator.userAgent,c=/MSIE ([0-9]{1,}[\.0-9]{0,})/i;if(c.test(b)){a.IE=!0;var d=parseFloat(b.match(c)[1]);a.IE6=7>d,a.IE7=!a.IE6&&8>d}else a.IE=a.IE6=a.IE7=!1;return a.Opera=!a.IE&&"undefined"!=typeof window.opera,a.Mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|Kindle|Silk/i.test(b),a.iOS=/iPhone|iPad|iPod/i.test(b),a.Android=/Android/i.test(b),a}()),b.extend("Utils.Class",{inherit:function(a,c,d){var f=function(){a.apply(this,arguments)};b.extend(f,a);var g=function(){};return g.prototype=a.prototype,f.prototype=new g,c&&e(f.prototype,c,!0),d&&e(f,d,!0),f.prototype.constructor=f,f},extend:function(a,c){var d=b.Utils.Class.inherit(this,a,c);return d.extend=this.extend,d}}),b.extend("Utils.Color",{RGB_REGEX:/\(\s*(\d+)\W+(\d+)\W+(\d+)\s*\)/,HEX_REGEX:/[A-F0-9]+/i,rgbFromHexString:function(a){var b=a.match(this.HEX_REGEX)[0];return 6==b.length?[parseInt(b.substr(0,2),16)/255,parseInt(b.substr(2,2),16)/255,parseInt(b.substr(4,2),16)/255]:[parseInt(b[0]+b[0],16)/255,parseInt(b[1]+b[1],16)/255,parseInt(b[2]+b[2],16)/255]},rgbFromRgbString:function(a){var b=a.match(/\((\d+)\W+(\d+)\W+(\d+)\)/);return[b[1]/255,b[2]/255,b[3]/255]},parseRgb:function(a){var b=[0,0,0];return a.match(this.RGB_REGEX)?b=this.rgbFromRgbString(a):a.match(this.HEX_REGEX)&&(b=this.rgbFromHexString(a)),{red:b[0],green:b[1],blue:b[2]}},whiteOrBlack:function(a){var b=this.parseRgb(a),c=.213*b.red+.715*b.green+.072*b.blue;return.5>c?"white":"black"}}),b.extend("Utils.Document",{contentLoaded:function(a,b){var c=!1,d=!0,e=a.document,f=e.documentElement,g=e.addEventListener?"addEventListener":"attachEvent",h=e.addEventListener?"removeEventListener":"detachEvent",i=e.addEventListener?"":"on",j=function(d){("readystatechange"!=d.type||"complete"==e.readyState)&&(("load"==d.type?a:e)[h](i+d.type,j,!1),!c&&(c=!0)&&b.call(a,d.type||d))},k=function(){try{f.doScroll("left")}catch(a){return void setTimeout(k,50)}j("poll")};if("complete"==e.readyState)b.call(a,"lazy");else{if(e.createEventObject&&f.doScroll){try{d=!a.frameElement}catch(l){}d&&k()}e[g](i+"DOMContentLoaded",j,!1),e[g](i+"readystatechange",j,!1),a[g](i+"load",j,!1)}}}),b.extend("Utils.Element",{make:function(a,b,c){var d=this.attrs(document.createElement(a),b);return c&&this.html(d,c),d},empty:function(a){for(;a.firstChild;)a.removeChild(a.firstChild);return a},html:function(a,b){if("string"==typeof b)try{a.innerHTML=b}catch(c){this.empty(a),this.append(a,b)}else this.empty(a),this.append(a,b);return a},prepare:function(a,c,e){b.Utils.Object.isArray(a)||(a=[a]),e&&e.reverse&&(a=a.reverse()),d(a,function(a){if("string"==typeof a){var b=document.createElement("div");b.innerHTML=a,a=b.lastChild}c(a)})},append:function(a,b){return this.prepare(b,function(b){a.appendChild(b)}),a},prepend:function(a,b){return this.prepare(b,function(b){a.insertBefore(b,a.firstChild)},{reverse:!0}),a},before:function(a,b){return this.prepare(b,function(b){a.parentNode.insertBefore(b,a)}),a},after:function(a,b){return this.prepare(b,function(b){a.parentNode.insertBefore(b,a.nextSibling)},{reverse:!0}),a},remove:function(a){a.parentNode.removeChild(a)},css:function(a,b){return d(b,function(b,c){a.style[c]=b}),a},attrs:function(a,b){return arguments.length>1?this.setAttrs(a,b):this.getAttrs(a)},setAttrs:function(a,b){return d(b,function(b,c){a.setAttribute(c,b)}),a},getAttrs:function(a){var c={};return d(b.Utils.Array.make(a.attributes),function(a){c[a.name]=a.value}),c},getComputedStyle:function(a,b){if(a){var c;if(c="undefined"!=typeof a.currentStyle&&"undefined"==typeof window.opera?a.currentStyle:document.defaultView.getComputedStyle(a,null),!b)return c;var d=c[b];return"height"==b&&"auto"==d&&(d=a.offsetHeight),d}},closest:function(a,b){for(var c=null,d=a;null===c&&"body"!==d.tagName.toLowerCase();)d&&this.matchesSelector(d,b)&&(c=d),d=d.parentNode;return c},search:function(a,c){var e=b.Utils.Array.make;if(/^#/.test(a))return document.getElementById(a.replace("#",""));var f=c?c:document;if(f.querySelectorAll)return e(f.querySelectorAll(a));if(/^\w+$/.test(a))return e(f.getElementsByTagName(a));var g=a.split("."),h=new RegExp(g[1]),i=""==g[0]?"*":g[0];return tags=f.getElementsByTagName(i),matches=[],d(tags,function(a){a.className&&h.exec(a.className)&&matches.push(a)}),matches},matchesSelector:function(a,c){var d=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(d)return d.call(a,c);var e=b.Utils.Element.search(c,a.parentNode);return b.Utils.Array.include(e,a)},getOuterHeight:function(a){var b=0,c=["borderTop","paddingTop","height","paddingBottom","borderBottom"];return d(c,function(c){var d=parseFloat(i.getComputedStyle(a,c));isNaN(d)&&(d=0),b+=d}),b},copyCss:function(a){var c,e=a.source,f=a.target,g=b.Utils.Element.getComputedStyle(e);try{c=g.hasOwnProperty("cssText")}catch(h){c=!1}if(c)f.style.cssText=g.cssText;else{var i=["fontFamily","fontSize","fontWeight","fontStyle","color","textTransform","textDecoration","letterSpacing","wordSpacing","lineHeight","textAlign","verticalAlign","direction","backgroundColor","backgroundImage","backgroundRepeat","backgroundPosition","backgroundAttachment","opacity","width","height","top","right","bottom","left","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","position","display","visibility","zIndex","overflowX","overflowY","whiteSpace","clip","float","clear","cursor","listStyleImage","listStylePosition","listStyleType","markerOffset"];d(i,function(a){var b=g[a];void 0!==b&&(f.style[a]=b)})}},fadeIn:function(a,b){b=b||{},this.css(a,{display:b.display||"block",opacity:0});var c=0,d=setInterval(function(){c+=.2,a.style.opacity=c.toFixed(1),1===parseInt(c)&&clearInterval(d)},100)},position:function(a){var c={},d=a.getBoundingClientRect(),e=parseFloat(b.Utils.Element.getComputedStyle(a,"marginTop"))||0,f=parseFloat(b.Utils.Element.getComputedStyle(a,"marginLeft"))||0;return c.top=d.top-e,c.bottom=d.bottom,c.verticalCenter=(c.top+c.bottom)/2,c.left=d.left-f,c.right=d.right,c.horizontalCenter=(c.left+c.right)/2,c}});var i=b.Utils.Element;b.extend("Utils.Event",{observe:function(a,b,c,e){"string"==typeof b&&(b=i.search(b)),("undefined"==typeof b.length||b===window)&&(b=[b]),"undefined"==typeof e&&(e=!1);var f=window.attachEvent?"attachEvent":"addEventListener";"attachEvent"===f&&(a="on"+a);var g=function(a){"undefined"==typeof a.target&&a.srcElement&&(a.target=a.srcElement),c.apply(this,arguments)};d(b,function(b){b[f](a,g,e)})},delegate:function(a,c,d,e){b.Utils.Event.observe(a,c,function(a){i.closest(a.target,d)&&e(a)})},prevent_default:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1}}),b.extend("Utils.Function",{bind:function(a,b){var d,e,f=Function.prototype.bind,g=function(){};return a.bind===f&&f?f.apply(a,c.call(arguments,1)):(e=c.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,e.concat(c.call(arguments)));g.prototype=a.prototype;var f=new g,h=a.apply(f,e.concat(c.call(arguments)));return Object(h)===h?h:f})}}),b.extend("Utils.JSONLDEventConverter",{convertEvents:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(this.convertEvent(a[c]));return b},convertEvent:function(a){var c={"@context":"http://schema.org","@type":"MusicEvent",name:b.Utils.Text.stripHTMLText(a.title),image:a.artists[0].image_url,startDate:a.datetime,url:this.generateEventUrl(a),location:this.convertLocation(a.venue),performer:this.convertArtists(a.artists)};return"available"==a.ticket_status&&(c.offers=this.buildOffers(a)),c},buildOffers:function(a){return[{"@type":"Offer",url:this.buildTicketUrl(a,"google"),sameAs:this.buildTicketUrl(a,"robots"),availability:this.convertStatus(a.ticket_status),category:"primary"}]},convertStatus:function(a){var b={available:"InStock",unavailable:"SoldOut"};return b[a]},convertLocation:function(a){var c="United States"==a.country,d={"@type":"Place",name:b.Utils.Text.stripHTMLText(a.name),address:{"@type":"PostalAddress",addressCountry:a.country,addressLocality:a.city,addressRegion:c?a.region:""},geo:{"@type":"GeoCoordinates",latitude:a.latitude,longitude:a.longitude}};return d},convertArtist:function(a){var c=[window.location.origin];return a.facebook_page_url&&c.push(a.facebook_page_url),c.push([b.baseUrl,a.url].join("/")),{"@type":"MusicGroup",name:a.name,sameAs:c}},convertArtists:function(a){artistsLD=[];for(var b=0,c=a.length;c>b;b++){var d=this.convertArtist(a[b]);artistsLD.push(d)}return artistsLD},buildTicketUrl:function(a,c){var d={affil_code:c,came_from:b.cameFromCodes.google};return a.ticket_url.match(/artist=/)||(d.artist=this.artist.name),b.Utils.URI.build(a.ticket_url,d)},generateEventUrl:function(a){var c=encodeURIComponent(a.artists[0].name);return[b.baseUrl,"event",a.id].join("/")+"?"+["artist="+c,"came_from=209","affil_code=google"].join("&")}}),b.extend("Utils.JSONP",{getJSON:function(a){var b=this.buildCallbackName(),c=a.callback||function(){},d=a.callback_obj;window[b]=function(a){c.call(d,a);try{delete window[b]}catch(e){}};var e=a.url,f=/\?/.test(e)?"&":"?";e+=f+"callback="+b;var g=document.createElement("script");g.type="text/javascript",g.src=e,g.async=!0;var h=document.getElementsByTagName("head")[0]||document.documentElement;h.insertBefore(g,h.firstChild)},buildCallbackName:function(){var a;do a="bit_jsonp"+(new Date).getTime();while("undefined"!=typeof window[a]);return a}}),b.Utils.Log=function(a){if("undefined"==typeof b.Utils.Log.enabled&&(b.Utils.Log.enabled=!1),b.Utils.Log.enabled)try{var d=c.call(arguments);if(d.length>1){var e=d.slice(1,d.length);console.log(a,e)}else console.log(a)}catch(f){}},b.extend("Utils.Object",{isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},isEmpty:function(a){if(this.isArray(a))return 0===a.length;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},keys:function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}}),b.extend("Utils.Support",{_support:{},fixedPosition:function(){return"undefined"!=typeof this._support.fixedPosition?this._support.fixedPosition:(this._support.fixedPosition=function(){var a=document.body;if(document.createElement&&a&&a.appendChild&&a.removeChild){var c=document.createElement("div");if(!c.getBoundingClientRect)return null;c.innerHTML="x",c.style.cssText="position:fixed;top:100px;",a.appendChild(c);var d=a.style.height,e=a.scrollTop;a.style.height="3000px",a.scrollTop=500;var f=c.getBoundingClientRect().top;a.style.height=d;var g,h=100;if(b.Utils.Browser.IE7){var i=5;g=f>=h-i&&h+i>=f}else g=f===h;return a.removeChild(c),a.scrollTop=e,g}return null}(),this._support.fixedPosition)},postMessage:function(){return"undefined"!=typeof window.postMessage}}),b.extend("Utils.Text",{defaultTruncateOptions:{length:100,omission:"...",maxLines:3},lastWordWithPrecedingWhitespaceRegexp:/\s*\S+$/,precedingAndTrailingWhitespaceRegexp:/^\s*|\s*$/g,truncate:function(a,c){c=c||{};var d=c.length||b.Utils.Text.defaultTruncateOptions.length,e="string"==typeof c.omission?c.omission:b.Utils.Text.defaultTruncateOptions.omission,f=c.maxLines||b.Utils.Text.defaultTruncateOptions.maxLines,g=new RegExp("(?:.*?\\n){"+f+"}"),h=b.Utils.Text.strip(a);if(h.length<=d&&!h.match(g))return h;for(h.match(g)&&(h=b.Utils.Text.strip(h.match(g)[0]));h.length>d;)h=h.replace(b.Utils.Text.lastWordWithPrecedingWhitespaceRegexp,"");return h+e},strip:function(a){return a.replace(b.Utils.Text.precedingAndTrailingWhitespaceRegexp,"").replace(/\r\n/g,"\n")},htmlEscapeLookup:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},htmlEscapeRegexp:/[&<>"']/g,escapeHtml:function(a){return a?(""+a).replace(this.htmlEscapeRegexp,function(a){return b.Utils.Text.htmlEscapeLookup[a]}):""},autoLink:function(a,b){b=b||{};var c=a.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1">$1</a>');return b.emailAddresses&&(c=c.replace(/(\w+@\w+\.\w+)/,'<a href="mailto:$1">$1</a>')),c},stripHTMLText:function(a){var c=document.createElement("div");return c.innerHTML=a,b.Utils.Text.strip(c.firstChild.textContent)||b.Utils.Text.strip(c.firstChild.innerText)||""}}),b.extend("Utils.URI",{parse:function(a){var b=document.createElement("a");return b.href=a,b},build:function(a,c){var e=b.Utils.Object.keys(c).sort();return d(e,function(e){var f=c[e],g=a.match(/\?/)?"&":"?";b.Utils.Object.isArray(f)?d(f,function(b){a+=g+e+"[]="+encodeURIComponent(b)}):a+=g+e+"="+encodeURIComponent(f)}),a}}),b.extend("Utils.Widget",{renderAll:function(){var a=function(a){new b.Widget(b.Utils.Widget.extractOptions(a)).insert_events(),i.remove(a)};d(i.search("a.bit-widget-initializer"),a),d(i.search("a.bit-widget-placeholder"),a)},optionToDataAttribute:function(a){return"data-"+a.replace(/_/g,"-")},extractOptions:function(a){var c=["artist","text_color","link_color","bg_color","separator_color","width","display_limit","notify_me","share_links","share_url","myspace_layout","div_id","facebook_page_id","event_data_links","track_artist_header","email_signup","open_fb_event_after_rsvp","prefix","affil_code","app_id","force_narrow_layout","ios_banner_enabled"],e=i.attrs(a),f={},g=["true","false"],h=/^\d+$/;return d(c,function(a){var c=this.optionToDataAttribute(a);if(e.hasOwnProperty(c)){var d=e[c];"artist"===a?d=String(d):b.Utils.Array.include(g,d)?d="true"===d:h.test(d)&&(d=parseInt(d)),f[a]=d}},this),f.div_id||(f.div_id="bit-widget-"+b.widgets.length,this.createInlineWidgetDiv(a,f.div_id)),f},createInlineWidgetDiv:function(a,b){i.after(a,i.make("div",{id:b}))}}),b.extend("Utils.Window",{isIframe:function(){return self!==top},dimensions:function(){return{width:this.width(),height:this.height()}},width:function(){return"CSS1Compat"===document.compatMode&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth},height:function(){return"CSS1Compat"===document.compatMode&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight},getScrollTop:function(){return window.pageYOffset?window.pageYOffset:(document.documentElement||document.body).scrollTop}}),b.extend("Utils.XD",{send:function(a,c){b.Utils.XD.PostMessage.send(a,c)},listen:function(a,c){b.Utils.XD.PostMessage.listen(a,c)},confirmMessageReceivedFromParent:function(a){var c=b.Utils.XD;b.Utils.Log("[child ("+a+")] waiting for postMessage from parent"),c.listen(function(d){"postmessage-init"!==d.action||c.hasReceivedMessageFromParent||(b.Utils.Log("[child ("+a+")] received postMessage from parent"),c.hasReceivedMessageFromParent=!0,c.send({action:"postmessage-confirmed",windowName:a},{targetOrigin:b.Utils.XD.parent_window_location}))})},confirmedChildWindows:[],initializeCommunicationWithChild:function(a,c){var d=b.Utils.XD,e=b.Utils.Array.include;d.listen(function(a){"postmessage-confirmed"!==a.action||e(d.confirmedChildWindows,a.windowName)||(b.Utils.Log("[parent] confirmed postMessage with child ("+a.windowName+")"),d.confirmedChildWindows.push(a.windowName),c())}),b.Utils.Log("[parent] initializing postMessage with child ("+a+")"),d.send({action:"postmessage-init"},{targetWindowName:a})},PostMessage:{send:function(a,c){c=c||{};var d=b.Utils.XD.PostMessage.getTargetWindow(c.targetWindowName,window),e=c.targetOrigin||"*";a=b.Utils.XD.encodeMessage(a),b.Utils.Log("Sending postMessage... targetWindow / message / options",d,a,c),d.postMessage(a,e)},getTargetWindow:function(a,b){if(!a)return b.parent;for(var c,d=i.search("iframe"),e=0,f=d.length;f>e;e++)if(d[e].name===a){c=b.frames[e];break}return c},listen:function(a,b){b=b||{},this.mainListener||this.setupMainListener(),this.listeners.push({callback:a,options:b})},listeners:[],setupMainListener:function(){var a=this.listeners;b.Utils.Event.observe("message",window,function(c){var e=!1;d(a,function(a){var d=a.callback,f=a.options||{},g="undefined"==typeof f.origin||c.origin==f.origin;if(g&&b.Utils.XD.BIT_MESSAGE_REGEX.test(c.data)){e||(b.Utils.Log("Received BIT postMessage",c),e=!0);var h=b.Utils.XD.decodeMessage(c.data);d(h)}})}),this.mainListener=!0},sendInitialMessage:function(){b.Utils.XD.send({action:"init-postmessage"},{targetOrigin:b.Utils.XD.parent_window_location})}},decodeMessage:function(a){a=a.replace(/^#/,"");var b={},c=a.split("&");return d(c,function(a){var c=a.split("=");b[c[0]]=decodeURIComponent(c[1])}),b},encodeMessage:function(a,c){if("object"==typeof a){var e=[];d(a,function(a,b){var c=b+"="+encodeURIComponent(a);e.push(c)}),a=e.join("&")}return b.Utils.XD.BIT_MESSAGE_REGEX.test(a)||(a+="&BIT=true"),c&&d(c,function(b,c){a+="&"+c+"="+encodeURIComponent(b)}),a},BIT_MESSAGE_REGEX:/BIT=true/}),b.View=function(a){e(this,a||{}),this.ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},e(b.View,{delegateEventRegex:/^(\w+)\s*(.*)/,extend:b.Utils.Class.extend},!0),e(b.View.prototype,b.Utils.Element,!0),e(b.View.prototype,{tagName:"div",$:function(a,b){return this.search(a,b||this.el)},initialize:function(){},render:function(){return this},ensureElement:function(){if(!this.el){var a=this;attrs={},getValue=function(b){return"function"==typeof a[b]?a[b]():a[b]},this.attributes&&(attrs=getValue("attributes")),this.id&&(attrs.id=getValue("id")),this.className&&(attrs["class"]=getValue("className")),this.el=this.make(this.tagName,attrs)}},delegateEvents:function(){this.events;d(this.events,function(a,c){var d=b.Utils.Function.bind(this[a],this),e=c.match(b.View.delegateEventRegex),f=e[1],g=e[2],h=""!==g?this.el:this.el.parentNode||document.body;b.Utils.Event.delegate(f,h,g||"*",d)},this)}},!0),b.extend("Views",{WidgetDialog:b.View.extend({id:"bit-widget-dialog",iframe_height:"275px",iframe_width:"500px",initialize:function(){this.loadedIframes={}},show:function(){this.css(this.container,{display:"block"}),this.showContent()},hide:function(){this.hideIframes(),this.showLoader(),this.css(this.container,{display:"none"})},insertContent:function(){this.contentAdded||(document.body.appendChild(this.el),this.html(this.el,b.Views.WidgetDialog.dialogHTML),this.contentAdded=!0)},hideIframes:function(){var a=this.$("iframe"),b=this;d(a,function(a){a.onload=a.onreadystatechange=function(){b.loadedIframes[a.getAttribute("id")]=!0},a.style.display="none"})},showLoader:function(){this.dialog_loading.style.display=""},hideLoader:function(){this.dialog_loading.style.display="none"},showIframeAndEvent:function(a){var c=a.iframe,d=this,e=function(){d.loadedIframes[c.getAttribute("id")]=!0,d.showIframe(c.id),b.Utils.XD.send({event_id:a.event_id,action:a.action,open_fb_event_after_rsvp:a.widget.open_fb_event_after_rsvp},{targetWindowName:c.name})};this.show(),this.loadedIframes[c.getAttribute("id")]?e():c.onload=c.onreadystatechange=e},findIframeForWidget:function(a){for(var b=this.$("iframe"),c=0,d=b.length;d>c;c++)if(b[c].getAttribute("id").match(a))return b[c]},triggerEmailSignup:function(a){var c=a.iframe,d=this,e=function(){d.loadedIframes[c.getAttribute("id")]=!0,b.Utils.XD.send({event_id:a.event_id,action:"show_email_signup"},{targetWindowName:c.name})};this.loadedIframes[c.getAttribute("id")]?e():c.onload=c.onreadystatechange=e},showContent:function(){this.content.style.display="block",this.center()},areMinDimensionsAvailable:function(){var a=b.Utils.Window.dimensions();return a.width>=505&&a.height>=400},center:function(){if("none"!=this.container.style.display){var a=b.Utils.Window.isIframe()?"centerForIframe":"centerForWindow";this[a]()}},centerForWindow:function(){var a=b.Utils.Element.getOuterHeight(this.y_offset),c="undefined"==typeof window.innerHeight?document.documentElement.clientHeight:window.innerHeight,d=c/2-a/2;b.Utils.Support.fixedPosition()||(d+=b.Utils.Window.getScrollTop()),this.y_offset.style.top=parseInt(d)+"px"},centerForIframe:function(){this.container.style.position="absolute";{var a=this.getOuterHeight(this.y_offset),c=b.Utils.Window.getScrollTop(),d=this.position(this.closest(this.clicked_link,"div")),e=this.position(this.clicked_link),f=parseInt(c+e.verticalCenter-a/2);parseInt(d.bottom+c-a)}f=Math.min(f,newTopMin),f=Math.max(3,f),this.y_offset.style.top=f+"px"},showIframe:function(a){this.hideLoader(),this.hideIframes(),this.css(this.$("#"+a),{display:"block"}),this.show()},events:{"click #bit-widget-dialog-close":"hide"},handleXDMessage:function(a){if("update_iframe_height"===a.action){var c=Math.min(b.Utils.Window.dimensions().height-100,parseInt(a.height));document.getElementById(a.iframe_id).style.height=c+"px",this.center()}else"close_dialog"===a.action?this.hide():"show_iframe"===a.action?this.showIframe(a.iframe_id):"show_track_artist_header"===a.action&&this.showTrackArtistHeader(a)},showTrackArtistHeader:function(a){var c=b.findWidget(a.iframe_id);c&&c.showTrackArtistHeader()},render:function(){if(this.rendered=!0,this.insertContent(),this.clicked_link=null,this.container=this.$("#bit-widget-dialog-container"),this.border=this.$("#bit-widget-dialog-border"),this.y_offset=this.$("#bit-widget-dialog-y-offset"),this.content=this.$("#bit-widget-dialog-content"),this.dialog_loading=this.$("#bit-widget-dialog-loading"),this.close_button=this.$("#bit-widget-dialog-close"),!b.Utils.Window.isIframe()){var a=document.onresize?document:window;b.Utils.Event.observe("resize",a,b.Utils.Function.bind(this.center,this))}return b.Utils.XD.listen(b.Utils.Function.bind(this.handleXDMessage,this)),this.border.style.display="block",this}},{dialogHTML:['<div class="generic_dialog pop_dialog" style="display:none" id="bit-widget-dialog-container">','<div class="generic_dialog_popup wide-popup">','<div class="pop_container_advanced popup-border-outer" id="bit-widget-dialog-y-offset">','<div class="pop_container_advanced popup-border-inner" id="bit-widget-dialog-border"></div>','<div class="pop_content popup-content" id="bit-widget-dialog-content">','<div id="bit-widget-dialog-loading">','<h2 class="dialog_title"><span>Loading...</span></h2>','<div class="dialog_content">','<div class="dialog_body">','<div class="loading"></div>',"</div>",'<div class="dialog_buttons clearfix">','<label class="uiButton uiButtonLarge uiButtonDefault">','<input type="button" value="Close" id="bit-widget-dialog-close" />',"</label>","</div>","</div>","</div>","</div>","</div>","</div>","</div>"].join(""),dialogCSS:["#bit-widget-dialog-container { position: fixed; width: 100%; height: 100%; margin: auto; }","#bit-widget-dialog { color: #333333; direction: ltr; font-family: 'lucida grande',tahoma,verdana,arial,sans-serif; font-size: 11px; text-align: left; }","#bit-widget-dialog label { color: #666666; cursor: pointer; font-weight: bold; vertical-align: middle; }","body#bit-widget-dialog { margin: 0px; padding: 0px; }","#bit-widget-dialog-loading .loading { height: 32px; width: 100%; background: transparent url('",b.assetHost,"/images/facebook/ajax-loader-large.gif') no-repeat scroll center center; }","#bit-widget-dialog .pop_content{direction:ltr}","#bit-widget-dialog {height:0;left:0;overflow:visible;outline:none;position:absolute;top:0;width:100%;z-index:250}","#bit-widget-dialog .generic_dialog_popup{height:0;overflow:visible;position:relative;width:520px;margin:auto}","#bit-widget-dialog .pop_content h2.dialog_title{background:#6d84b4;border:1px solid #3b5998;border-bottom:none;color:#fff;font-size: 14px;font-weight:bold;margin:0;}","#bit-widget-dialog .pop_content h2 span{display:block;padding:5px 10px}","#bit-widget-dialog .pop_content .dialog_content{background:#fff;border:1px solid #555;border-top-width:0}","#bit-widget-dialog .pop_content .dialog_body{padding:10px;border-bottom:1px solid #ccc}","#bit-widget-dialog .pop_content .dialog_buttons{background:#f2f2f2;padding:8px 10px 8px 10px;position:relative;text-align:right}","#bit-widget-dialog .pop_container_advanced{border-radius:8px;-webkit-border-radius:8px;-moz-border-radius:8px;padding:10px}","#bit-widget-dialog .uiButton,#bit-widget-dialog .uiButtonSuppressed:active,#bit-widget-dialog .uiButtonSuppressed:focus,#bit-widget-dialog .uiButtonSuppressed:hover{background:#eee url('",b.assetHost,"/images/facebook/silver-blue-bg.png') repeat 0 0;border:1px solid #999;border-bottom-color:#888;box-shadow:0 1px 0 rgba(0, 0, 0, .1);-moz-box-shadow:0 1px 0 rgba(0, 0, 0, .1);cursor:pointer;display:-moz-inline-box;display:inline-block;font-size:11px;font-weight:bold;line-height:normal !important;padding:2px 6px;text-align:center;text-decoration:none;vertical-align:top;white-space:nowrap}","#bit-widget-dialog .uiButtonConfirm{background-color:#5b74a8;background-position:0 -48px;border-color:#29447e #29447e #1a356e}","#bit-widget-dialog .uiButton:active,#bit-widget-dialog .uiButtonDepressed{background:#ddd;border-bottom-color:#999;box-shadow:0 1px 0 rgba(0, 0, 0, .05);-moz-box-shadow:0 1px 0 rgba(0, 0, 0, .05)}","#bit-widget-dialog .uiButton .uiButtonText,#bit-widget-dialog .uiButton input{background:none;border:0;color:#333;cursor:pointer;display:-moz-inline-box;display:inline-block;font-family:'Lucida Grande', Tahoma, Verdana, Arial, sans-serif;font-size:11px;font-weight:bold;margin:0;outline:none;padding:1px 0 2px;white-space:nowrap}","#bit-widget-dialog .uiButtonLarge,#bit-widget-dialog .uiButtonLarge .uiButtonText,#bit-widget-dialog .uiButtonLarge input{font-size:13px}","#bit-widget-dialog .uiButtonSpecial .uiButtonText,#bit-widget-dialog .uiButtonSpecial input,#bit-widget-dialog .uiButtonSpecial.uiButtonDisabled .uiButtonText,#bit-widget-dialog .uiButtonSpecial.uiButtonDisabled input,#bit-widget-dialog .uiButtonConfirm .uiButtonText, #bit-widget-dialog .uiButtonConfirm input, #bit-widget-dialog .uiButtonConfirm.uiButtonDisabled .uiButtonText, #bit-widget-dialog .uiButtonConfirm.uiButtonDisabled input { color: #FFFFFF; }","#bit-widget-dialog .uiButtonConfirm:active{background:#4f6aa3;border-bottom-color:#29447e}","#bit-widget-dialog .popup-border-outer { z-index: 1; background: none; position: relative; }","#bit-widget-dialog .popup-border-inner { background-color: #525252; -moz-opacity: 0.7; opacity: 0.7; position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; padding: 0; filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=70); }","#bit-widget-dialog .popup-content { position: relative; z-index: 2; }","#bit-widget-dialog h2 { padding: 0px; }","#bit-widget-dialog .clear { clear: both; }","* html #bit-widget-dialog .popup-border-inner  { display: none; }","* html #rsvp-dialog-container { position: absolute; }"].join("")})}),b.Widget=function(a){this.artist=a.artist,this.text_color=a.text_color,this.link_color=a.link_color,this.bg_color=a.bg_color,this.separator_color=a.separator_color||"#E9E9E9",this.width=a.width||"100%",this.display_limit=a.display_limit||Number.MAX_VALUE,this.notify_me=0!=a.notify_me,this.share_links=0!=a.share_links,this.share_url=a.share_url||window.location.href,this.myspace_layout=a.myspace_layout||!1,this.div_id=a.div_id,this.facebook_page_id=String(a.facebook_page_id||""),this.event_data_links=0!=a.event_data_links,this.track_artist_header=0!=a.track_artist_header,this.email_signup=0!=a.email_signup,this.open_fb_event_after_rsvp=a.open_fb_event_after_rsvp||!1,this.prefix=a.prefix||"js",this.affil_code=this.prefix+"_"+(a.affil_code||window.location.host),this.app_id=this.prefix+"_"+(a.app_id||window.location.host),this.timestamp=(new Date).getTime(),this.force_narrow_layout=a.force_narrow_layout||!1,this.local_events_loaded=!1,this.artist_events_loaded=!1,this.pending_writes=[],this.write_pending=!1,this.layout=this.use_narrow_layout()?"narrow":"standard",this.source=a.source,b.WidgetDialog=b.WidgetDialog||new b.Views.WidgetDialog,this.dialog=b.WidgetDialog,b.widgets.push(this)},e(b.Widget.prototype,{insert_events:function(){return this.artist?(this.write(this.loading_image()),b.Utils.JSONP.getJSON({url:this.localEventsUrl(),callback:this.local_events_callback,callback_obj:this}),b.Utils.JSONP.getJSON({url:this.artistEventsUrl(),callback:this.artist_events_callback,callback_obj:this})):this.write(this.no_artist_given()),this},write:function(a,b){var c=this;"undefined"==typeof b&&(b=!1),this.div_id||(this.div_id=this.unique_id("widget-container"),document.write('<div id="'+this.div_id+'"></div>')),document.getElementById(this.div_id)&&!this.write_pending?document.getElementById(this.div_id).innerHTML=a:(b||this.pending_writes.push(a),this.write_pending||(this.write_pending=!0,setTimeout(function(){c.retry_write()},13)))},retry_write:function(){var a=this;document.getElementById(this.div_id)?(this.write_pending=!1,this.write(this.pending_writes[this.pending_writes.length-1],!0)):setTimeout(function(){a.retry_write()},13)},unique_id:function(a){return[a,this.timestamp].join("-")},render:function(){this.write(this.toHtml(this.artist_events,this.local_events)),this.invert_element_colors(),this.on("click","tr[data-bit-event-id] td",this.click_event_row_rsvp_button),this.on("click","a.bit-events-nav",this.toggle_events_table),this.on("click","a.bit-show-all-dates",this.show_all_events),this.rendered_callback()},click_event_row_rsvp_button:function(a){var b=i.closest(a.target,"a");if(!b){var c=i.closest(a.target,"tr[data-bit-event-id]");if(c){var d=i.search("a.bit-rsvp",c)[0];if(d)try{d.click()}catch(e){console&&console.error&&console.error(e)}}}},on:function(a,c,d){b.Utils.Event.observe(a,i.search(c,this.root_element()),b.Utils.Function.bind(d,this))},loading_image:function(){return['<div style="text-align:center;">','<img src="'+b.assetHost+"/images/widget-ajax-loader.gif\" style='width:43px;height:11px;' />","</div>"].join("")},root_element:function(){if(this._root_element)return this._root_element;for(var a=i.search("div"),b=0,c=a.length;c>b;b++){var d=a[b];if(d.getAttribute("data-bit-widget-id")==this.timestamp){this._root_element=d;break}}return this._root_element},invert_element_colors:function(){var a=i.search(".bit-invert",this.root_element());d(a,function(a){var c=i.getComputedStyle(a,"color");i.css(a,{color:b.Utils.Color.whiteOrBlack(c),backgroundColor:c})})},events_table_navigation:function(a){var b=[],c={upcoming:"Upcoming",local:"Local Dates"};
return d(c,function(c,d){b.push(d===a?c:"<a href='javascript:;' class='bit-events-nav' data-events-type='"+d+"'>"+c+"</a>")}),"<span class='bit-header-links'>"+b.join(" | ")+"</span>"},events_table:function(a){var b,c=a.events,e=a.type,f=a.layout,g="local"==e?"display:none;":"",h="standard"==f?"bit-events":"bit-events-narrow",i=[];b="narrow"===f?["<tr class='bit-header-narrow'>","<th colspan='5'>","<div class='bit-header-overflow-fix'>",this.events_table_navigation(e),this.artist_share_links(),"</div>","</th>","</tr>"].join(""):["<tr class='bit-header'>","<th class='bit-description-links'>&nbsp;</th>","<th colspan='7'>","<div class='bit-header-overflow-fix'>",this.events_table_navigation(e),this.artist_share_links(),"</div>","</th>","</tr>","<tr>","<th class='bit-description-links'>&nbsp;</th>","<th class='bit-date'>Date</th>","<th class='bit-venue'>Venue</th>","<th class='bit-location'>Location</th>","<th class='bit-artist-event-link'>&nbsp;</th>","<th class='bit-tickets' colspan='3'>Tickets</th>","</tr>"].join(""),c.length>0?d(c,function(b,c){var d={hidden:c>=this.display_limit,layout:a.layout};i.push("narrow"===a.layout?this.narrowEventRow(b,d):this.standardEventRow(b,d))},this):i.push(this.api_error_response()||this.no_dates_message(e));var j=this.display_limit<c.length?"<tr class='bit-bottom'><td colspan='7'><a href='javascript:;' class='bit-show-all-dates'>Show All Dates</a></td></tr>":"";return["<table cellpadding='0' cellspacing='0' class='"+h+"' style='"+g+"' data-events-type='"+e+"'>","<tbody>",b,i.join(""),j,"</tbody>","</table>"].join("")},toHtml:function(a,b){var c='<div style="display:none">&nbsp;</div>';return[c,this.css(),"<div id='bit-events' data-bit-widget-id='"+this.timestamp+"' data-bit-artist='"+this.artist_param()+"' class='bit-widget-container'>",this.track_artist_header?this.track_artist_header_content():"",this.events_table({events:a,type:"upcoming",layout:this.layout}),this.events_table({events:b,type:"local",layout:this.layout}),"</div>"].join("")},track_artist_header_content:function(){var a=this.api_artist||this.artist,c=this.track_artist_url(b.cameFromCodes.trackArtistHeader);return["<a href='",c,"' target='_blank' class='bit-track-artist-header' style='display:none;'>","<div class='bit-invert'>Track ",a,"</div>","<div class='bit-notify'><strong>Notify Me</strong> when ",a," comes to town.</div>","</a>"].join("")},showTrackArtistHeader:function(){var a=i.search("a.bit-track-artist-header",this.root_element())[0];a&&i.fadeIn(a,{display:"block"})},standardEventRow:function(a,c){return["<tr class='"+(c.hidden?"bit-hidden":"")+"' data-bit-event-id='"+a.id+"'>","<td class='bit-description-links'>&nbsp;</td>","<td class='bit-date'><span class=\"bit-event-data\">",this.formatted_date(a),"</span></td>","<td class='bit-venue'><span class=\"bit-event-data\">",b.Utils.Text.escapeHtml(a.venue.name),"</span>",this.lineup(a),"</td>","<td class='bit-location'><span class=\"bit-event-data\">",this.formatted_location(a),"</span></td>","<td class='bit-artist-event-link'>",this.artistEventLinkContent(a),"</td>","<td class='bit-tickets'>",this.ticket_link(a),"</td>",this.rsvp_td(a),"</tr>"].join("")},narrowEventRow:function(a,b){return["<tr class='"+(b.hidden?"bit-hidden":"")+"' data-bit-event-id='"+a.id+"'>","<td class='bit-description-links'>&nbsp;</td>","<td class='bit-date'><span class=\"bit-event-data\">",this.formatted_date(a),"</span></td>","<td class='bit-concert'>",this.narrow_layout_middle_column_html(a),"</td>",this.rsvp_td(a),"</tr>"].join("")},customTicketUrl:function(a){return b.Utils.URI.build(b.baseUrl+"/event/"+a.id+"/buy_tickets",{artist:this.artist,seller_type:"custom",came_from:b.cameFromCodes.customTickets,affil_code:this.affil_code})},artistEventLinkContent:function(a){var b=a.artist_event_link_label;return b?"<a href='"+this.customTicketUrl(a)+"' target='_blank' class='bit-artist-event-link'>"+b+"</a>":"&nbsp;"},narrow_layout_middle_column_html:function(a){var c=['<div class="venue"><span class="bit-event-data">',b.Utils.Text.escapeHtml(a.venue.name),"</span></div>",this.lineup(a),'<div class="location"><span class="bit-event-data">',this.formatted_location(a),"</span></div>"];return"available"===a.ticket_status&&c.push(this.ticket_link(a)),a.artist_event_link_label&&c.push(this.artistEventLinkContent(a)),c.join("")},rsvp_link:function(a){return"<a target='_blank' class='bit-rsvp' href='"+this.rsvp_url(a)+"'>RSVP</a>"},rsvp_url:function(a){var c=b.Utils.Browser.Mobile?a.facebook_rsvp_url.replace("/facebook_rsvp",""):a.facebook_rsvp_url;return c.replace(/came_from=\d+/,"came_from="+b.cameFromCodes.rsvp)},formatted_location:function(a){var b=a.venue,c="united states"===b.country.toLowerCase()?b.region:b.country;return b.city+", "+c},lineup:function(a){if(1===a.artists.length)return"";var c=[];return d(a.artists.splice(1,a.artists.length),function(a){c.push(a.name)}),['<div class="lineup">','<span class="bit-event-data">',b.Utils.Text.truncate("w/ "+c.join(", "),{length:25}),"</span>","</div>"].join("")},artist_param:function(){var a=this.api_artist||this.artist;return a=a.replace(/\?/g,encodeURIComponent("?")),a=a.replace(/\//g,encodeURIComponent("/")),a=encodeURIComponent(a),a=a.replace(/'/g,escape("'")),a=a.replace(/"/g,escape('"'))},facebookPageIdParam:function(){var a=/^\d+$/;return a.test(this.facebook_page_id)?"fbid_"+this.facebook_page_id:null},ticket_link:function(a){if("available"==a.ticket_status){var c={affil_code:this.affil_code,came_from:b.cameFromCodes.buyTickets};return a.ticket_url.match(/artist=/)||(c.artist=this.artist_param()),'<a target="_blank" class="bit-buy-tix" href="'+this.ticket_url(a)+'">'+a.ticket_type+"</a>"}return"&nbsp;"},ticket_url:function(a){return b.Utils.URI.build(b.baseUrl+"/event/"+a.id+"/buy_tickets",{artist:this.artist,app_id:this.app_id,came_from:b.cameFromCodes.buyTickets,affil_code:this.affil_code})},rsvp_td:function(a){return'<td class="bit-rsvp"><label class="bit-uiButton bit-uiButtonDefault">'+this.rsvp_link(a)+"</label></td>"},css:function(){var a="#bit-events[data-bit-widget-id='"+this.timestamp+"'] ",c="";b.Widget.staticCSSAdded||(c+=b.Widget.staticCSS,b.Widget.staticCSSAdded=!0),b.Views.WidgetDialog.css_added||(c+=b.Views.WidgetDialog.dialogCSS,b.Views.WidgetDialog.css_added=!0);var d=[a+"{ width:"+this.width+";}",a+(this.bg_color?"{ background-color: "+this.bg_color+";}":"{}"),a+".bit-events, .bit-events-narrow { width:"+this.width+";}",a+".bit-events td { border-top: 1px solid "+this.separator_color+";}",a+".bit-events-narrow td { border-top: 1px solid "+this.separator_color+";}",a+"td"+(this.text_color?"{ color: "+this.text_color+";}":"{}"),a+"th"+(this.text_color?"{ color: "+this.text_color+";}":"{}"),a+"td"+(this.bg_color?"{ background-color: "+this.bg_color+";}":"{}"),a+"th"+(this.bg_color?"{ background-color: "+this.bg_color+";}":"{}"),a+"a"+(this.link_color?"{ color: "+this.link_color+";}":"{}"),a+".bit-events tr.bit-dashed-border td { border-top: 1px dashed "+this.separator_color+";}",a+".bit-events-narrow tr.bit-dashed-border td.bit-description { border-top: 1px dashed "+this.separator_color+";}",a+".bit-events-narrow tr.no-dates td span"+(this.myspace_layout?"{ display: block; }":"{}"),a+"table { border-bottom: 1px solid "+this.separator_color+";}",a+"a.bit-track-artist-header {border-top: 1px solid "+this.separator_color+"; border-bottom: 1px solid "+this.separator_color+"; }"].join("");return'<style type="text/css">'+c+d+"</style>"},no_artist_given:function(){return[this.css(),"<div class='bit-no-upcoming-events'>No artist given.</div>"].join("")},no_dates_message:function(a){var c="No "+a+" dates.";return this.notify_me&&(c+=" <a href='"+this.track_artist_url(b.cameFromCodes.noTourDatesNotifyMe)+"'>Notify me when <span>"+(this.api_artist||this.artist)+"</span> comes to my area.</a>"),this.use_narrow_layout()?"<tr class='no-dates'><td colspan='4'>"+c+"</td></tr>":"<tr class='no-dates'><td class='bit-description-links'>&nbsp;</td><td colspan='6'>"+c+"</td></tr>"},api_error_response:function(){return this.api_error?this.use_narrow_layout()?"<tr class='no-dates'><td colspan='4'>"+b.Utils.Text.autoLink(this.api_error)+"</td></tr>":"<tr class='no-dates'><td class='bit-description-links'>&nbsp;</td><td colspan='6'>"+b.Utils.Text.autoLink(this.api_error,{emailAddresses:!0})+"</td></tr>":void 0},track_artist_url:function(a){return[b.baseUrl,"/track/",this.artist_param(),"?came_from=",a].join("")},artist_share_links:function(){return this.share_links?["<span class='bit-share-links'>","<a target='_blank' title='Share this on Facebook' class='bit-fb-share' href='"+this.fb_share_link()+"'></a>","<a target='_blank' title='Share this on Twitter' class='bit-twitter-share' href='"+this.twitter_share_link()+"'></a>","</span>","<span class='bit-share-text'>Share:</span>"].join(""):""},bit_share_link:function(a){return[b.baseUrl,"/",this.artist_param(),"/share?u=",encodeURIComponent(this.share_url),"&came_from=",a].join("")},fb_share_link:function(){var a=this.bit_share_link(b.cameFromCodes.fbShare),c="123966167614127",d=b.baseUrl+"/"+this.artist_param()+"/photo/medium.jpg",e=this.artist+" - Tour Dates",f=b.Utils.URI.parse(this.share_url).hostname,g="",h=b.baseUrl+"/redirect?u="+encodeURIComponent(this.share_url);if(/^http:\/\/myspace\.com\/\d+/.test(this.share_url)&&(e+=" on MySpace"),0==this.artist_events.length)var i="";else if(1==this.artist_events.length)var i="1 upcoming tour date";else var i=this.artist_events.length+" upcoming tour dates";return["http://www.facebook.com/dialog/feed?","app_id=",c,"&link=",encodeURIComponent(a),"&picture=",d,"&name=",encodeURIComponent(e).replace(/'/g,escape("'")),"&caption=",encodeURIComponent(f),"&description=",encodeURIComponent(i),"&properties=",encodeURIComponent(g),"&redirect_uri=",encodeURIComponent(h)].join("")},twitter_share_link:function(){return["http://www.bandsintown.com/",this.artist_param(),"/twitter_share?u=",encodeURIComponent(this.share_url)].join("")},use_narrow_layout:function(){return 1==this.force_narrow_layout?!0:this.width.match(/\d+px$/)?parseInt(this.width)<275:!1},find_artist_event:function(a){for(var b=null,c=0;c<this.artist_events.length;c++)if(this.artist_events[c].id==a){b=this.artist_events[c];break}return b},artistEventsUrl:function(){var c={api_version:"2.0",app_id:this.app_id,extended:!0,widget_version:a};return this.facebookPageIdParam()&&(c.artist_id=this.facebookPageIdParam()),b.Utils.URI.build(b.apiBaseUrl+"/artists/"+this.artist_param()+"/events.json",c)},localEventsUrl:function(){var c={api_version:"2.0",app_id:this.app_id,extended:!0,location:"use_geoip",widget_version:a};return this.facebookPageIdParam()&&(c.artist_id=this.facebookPageIdParam()),b.Utils.URI.build(b.apiBaseUrl+"/artists/"+this.artist_param()+"/events/search.json",c)},artist_events_callback:function(a){this.artist_events_loaded=!0,this.artist_events=a&&!a.errors?a:[],this.api_error=null;try{a.errors[0].match(/install/i)&&(this.api_error=a.errors[0])}catch(b){}this.artist_events.length>0&&(this.api_artist=this.artist_events[0].artists[0].name,this.render_json_ld()),this.local_events_loaded&&this.render()},render_json_ld:function(){var a=document.createElement("script");a.type="application/ld+json";var c=b.Utils.JSONLDEventConverter.convertEvents(this.artist_events);a.text=JSON.stringify(c),document.body.appendChild(a)},local_events_callback:function(a){this.local_events_loaded=!0,this.local_events=a&&!a.errors?a:[],this.api_error=null;try{a.errors[0].match(/install/i)&&(this.api_error=a.errors[0])}catch(b){}this.local_events.length>0&&(this.api_artist=this.local_events[0].artists[0].name),this.artist_events_loaded&&this.render()},widget_iframe_url:function(){return b.Utils.URI.build(b.baseUrl+"/"+this.artist_param()+"/widget_iframe",{iframe_id:this.unique_id("widget-iframe"),parent_window_location:window.location.href,track_artist_header:this.track_artist_header,affil_code:this.affil_code})},add_event_data_links:function(){var a=i.search("span.bit-event-data",this.root_element());d(a,function(a){var b=i.closest(a,"tr").getAttribute("data-bit-event-id"),c=i.make("a",{href:this.rsvp_url(this.find_artist_event(b)),"class":"bit-event-data",target:"_blank"},a.innerHTML);i.copyCss({target:c,source:a,except:["cursor"]}),i.css(c,{cursor:"pointer"}),i.before(a,c),i.remove(a)},this)},canRenderIframe:function(){return b.widgetDialogEnabled?b.Utils.Browser.Mobile?!1:b.Utils.Window.isIframe()&&!this.dialog.areMinDimensionsAvailable()?!1:!0:!1},rendered_callback:function(){if(0!==this.artist_events.length&&(this.event_data_links&&this.add_event_data_links(),b.Utils.Support.postMessage()&&(this.dialog.rendered||this.dialog.render(),this.canRenderIframe()))){var a=this.unique_id("widget-iframe"),c=i.make("iframe",{id:a,name:a,src:this.widget_iframe_url(),width:this.dialog.iframe_width,height:this.dialog.iframe_height,frameBorder:"0",scrolling:"auto"});c.onload=c.onreadystatechange=b.Utils.Function.bind(this.iframeLoaded,this),i.css(c,{display:"none"}),i.append(this.dialog.content,c),this.widget_iframe=c}},iframeLoaded:function(){var a=this.unique_id("widget-iframe");this.dialog.loadedIframes[a]=!0,b.Utils.XD.initializeCommunicationWithChild(a,b.Utils.Function.bind(this.onPostMessageReceived,this))},onPostMessageReceived:function(){this.on("click","a.bit-rsvp",this.rsvp_link_clicked_callback),this.on("click","a.bit-event-data",this.rsvp_link_clicked_callback),this.on("click","a.bit-buy-tix",this.buy_tickets_clicked_callback)},buy_tickets_clicked_callback:function(a){if(this.email_signup){var b=i.closest(a.target,"a"),c=i.closest(b,"tr").getAttribute("data-bit-event-id"),d=this.dialog.findIframeForWidget(this.timestamp);this.dialog.clicked_link=b,this.dialog.triggerEmailSignup({widget:this,iframe:d,event_id:c})}},rsvp_link_clicked_callback:function(a){b.Utils.Event.prevent_default(a);var c=i.closest(a.target,"a"),d=i.closest(c,"tr").getAttribute("data-bit-event-id"),e=this.dialog.findIframeForWidget(this.timestamp);this.dialog.hideIframes(),this.dialog.showLoader(),this.dialog.clicked_link=c,this.dialog.showIframeAndEvent({widget:this,iframe:e,event_id:d,action:"show_event"})},formatted_date:function(a){var b={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},c=a.datetime.split("T")[0].split("-");return b[c[1]]+" "+c[2]},toggle_events_table:function(a){var b=a.target.getAttribute("data-events-type"),c=i.search("table",this.root_element());d(c,function(a){a.style.display=a.getAttribute("data-events-type")===b?"":"none"})},show_all_events:function(a){var b=i.search("tbody",this.root_element())[0];skipped_tr_classnames=/bit-(local|dashed-border|event-description|bottom|header|event-details)/,d(b.childNodes,function(a){a.className&&!a.className.match(skipped_tr_classnames)&&(a.className="")}),i.css(i.closest(a.target,"tr"),{display:"none"})}},!0),e(b.Widget,{staticCSS:[".bit-widget-container { font-family:arial,helvetica,sans-serif; font-size:13px;}",".bit-events, .bit-events-narrow {overflow: hidden;display: table;}",".bit-events th, .bit-events td {width: auto;text-align: left; padding: 4px;vertical-align:middle;}",".bit-events td {height: 36px; background:none;}",".bit-events-narrow td {width:auto; height:57px; background:none;padding:4px;vertical-align:middle;}","#bit-events td.bit-tickets, #bit-events th.bit-tickets {width:55px; padding-right: 8px;}","#bit-events td.bit-artist-event-link { text-align: right; }","#bit-events td.bit-artist-event-link a { float: right; }","#bit-events td.bit-actions a, #bit-events td.bit-rsvp a { float: right; }","#bit-events td.bit-rsvp { width: 42px; padding-right: 8px; }","#bit-events td.bit-comment { width: 21px; padding-left: 8px; padding-right: 8px; }",'#bit-events td .bit-uiButton { display:inline-block; padding: 1px 6px; height: 16px; line-height: 16px !important; cursor: pointer; font-family: "lucida grande",tahoma,verdana,arial,sans-serif}','#bit-events td .bit-uiButton { background:#eee url("',b.assetHost,'/images/facebook/silver-blue-bg.png") repeat 0 0; border:1px solid #999; border-bottom-color:#888; box-shadow:0 1px 0 rgba(0, 0, 0, .1); -moz-box-shadow:0 1px 0 rgba(0, 0, 0, .1); font-size:11px; font-weight:bold; text-align:center; text-decoration:none; vertical-align:top; white-space:nowrap }',"#bit-events td .bit-uiButton:active{background:#ddd;border-bottom-color:#999;box-shadow:0 1px 0 rgba(0, 0, 0, .05);-moz-box-shadow:0 1px 0 rgba(0, 0, 0, .05)}",'#bit-events td .bit-uiButtonSpecial{background-image:url("',b.assetHost,'/images/facebook/silver-blue-bg.png"); background-repeat:no-repeat;background-position:0px -96px;background-color:#69a74e;border-color:#3b6e22 #3b6e22 #2c5115;}',"#bit-events td .bit-uiButtonSpecial:active{background:#609946;border-bottom-color:#3b6e22;}","#bit-events td .bit-uiButton a, .bit-uiButton a:hover { text-decoration: none; display: inline-block; }","#bit-events td .bit-uiButtonSpecial a { color: #FFFFFF; }","#bit-events td .bit-uiButtonDefault a { color: #333333; }","#bit-events td.bit-comment a.bit-comment { background: transparent url('",b.assetHost,"/images/facebook/comments_icon.gif') 0px 0px no-repeat; width: 15px; height: 16px; display: inline-block; margin-top: 2px; float: right; }","#bit-events td.bit-comment a:hover, #bit-events td.bit-comment a.bit-comment-open { background-position: 0px -16px; }","#bit-events td.bit-location {font-weight:bold;}","#bit-events td.bit-description, #bit-events th.bit-description {font-size: 85%; left: 8px 4px; }","#bit-events td.bit-description-links, #bit-events th.bit-description-links {padding-left: 8px; width: 6px;}","#bit-events .bit-hidden {display:none;}","#bit-events .bit-bottom td {padding-left:8px;height:36px;}","#bit-events .bit-bottom td.concerts-by-bandsintown {text-align:right;}","#bit-events .bit-bottom a { vertical-align: middle; border: none; display: inline-block; }","#bit-events table a { text-align: left; float: left; width:auto; }","#bit-events table a:hover { -webkit-transition: none; -moz-transition: none; -o-transition: none; transition: none; }","#bit-events td.bit-description a { float: none; }","#bit-events a.bit-event-description-link { text-decoration: none; margin: 0; padding: 0; display: inline-block; height: 9px; width: 9px; line-height: 9px; font-size: 9px; text-align: center; vertical-align: middle; border: none;}",".bit-events tr.bit-dashed-border td.bit-description-links, .bit-events tr.bit-dashed-border td.bit-date, .bit-events-narrow tr.bit-dashed-border td { border-top: 1px solid transparent;}","#bit-events td.bit-concert a { float: none; }","td.bit-date { width: 45px; }","tr.bit-header th, tr.bit-header-narrow { line-height: 26px; }","#bit-events tr.bit-header a, #bit-events tr.bit-header-narrow a { float: none; font-weight: normal; }","#bit-events tr.bit-header-narrow th { text-align: left; padding: 4px;}","#bit-events .bit-events-narrow tr.no-dates td a { display: block; }","#bit-events .bit-events td.no-dates td { padding: 20px 0px; }","#bit-events .bit-header-links { margin-right: 15px; }","#bit-events .bit-share-text { float:right; }","#bit-events .bit-share-links { float: right; }","#bit-events .bit-share-links a { display: inline-block; width: 26px; height: 26px; vertical-align: middle; }","#bit-events .bit-fb-share { background: transparent url('",b.assetHost,"/images/facebook/icons/fb_share.gif') top left no-repeat; margin-left: 4px; display: inline-block; width: 26px; height:26px; vertical-align: middle;}","#bit-events .bit-twitter-share { background: transparent url('",b.assetHost,"/images/facebook/icons/twitter_share.gif') top left no-repeat; display: inline-block; width: 26px; height:26px; vertical-align: middle;}","#bit-events .bit-events-narrow tr.no-dates td { padding-bottom: 25px; padding-top: 20px; }","#bit-events tr.no-dates td { padding-top: 10px; padding-bottom: 10px; }","#bit-events tr.no-dates td a { float: none; margin-top: 15px; }","#bit-events td.bit-concert a.bit-buy-tix { padding-right: 8px; }",".bit-header-overflow-fix { height: 26px; overflow: hidden; }","#bit-events iframe { border: none; }","#bit-events .comments-title, #bit-events .description-title { color: #323232; font-size: 11px; font-weight: bold; margin: 0px 0px 4px 0px;}","#bit-events .bit-event-details { color: #000000; }","#bit-events .bit-details-title { background-color: #ffffff; font-weight: bold; padding: 4px 8px 0px 20px; color: #0e0e0e; font-size: 11px; }","#bit-events .bit-details-title a { float: right; color: #8296cc; text-decoration: none; }","#bit-events .bit-details-title a:hover { color: #ffffff; text-decoration: none; }","#bit-events .bit-details-text { background-color: #ffffff; margin-bottom: 1px; padding: 5px 8px 5px 20px; color: #1A1A1A; }","#bit-events .bit-details-comments { background: transparent; padding: 0px; margin: 0px; }","#bit-events .bit-details-text a { color: #3857a0; float: none; }","#bit-events a.bit-fb-event-link { font-weight: bold; display: block; text-decoration: none; margin: 4px 0px; }","#bit-events tr td.bit-details { padding: 0px; }","#bit-events .venue, #bit-events .location, #bit-events .lineup { display: block; clear: left; font-size: smaller; line-height: 100%; }","#bit-events .location { font-weight: bold }","#bit-events a.bit-track-artist-header {text-align: center; padding: 10px 0px; font-size: 13px; line-height: 1.5; display: block; text-decoration: none; }","#bit-events a.bit-track-artist-header:hover {text-decoration: none;}","#bit-events a.bit-track-artist-header .bit-invert { display: inline-block; padding: 2px 20px; margin-bottom: 2px; }","#bit-events tr[data-bit-event-id] td { cursor: pointer; }"].join(""),VERSION:a}),b.Utils.Document.contentLoaded(this,b.Utils.Widget.renderAll);var j=document.getElementsByTagName("script"),k=j[j.length-1];b.setup(k)}).call(this);;
/*
*
* Global Header, Helper and Utility functions 
* version 1
*/

var comment_char_limit = 2000;
var comment_blur_text = 'Write a comment here (no HTML please)';
var comment_submit_hint_text = 'Please enter text to post comment';
var can_post_comment = false;

var wmgConditions = {
  hasBodyClass: function(__class) {
    return jQuery('body').hasClass(__class);
  }
}

function get_relative_path() {
  var loc = document.location.href;
  var tmp = loc.substring(loc.indexOf("//")+2);
  tmp = tmp.substring(tmp.indexOf("/")+1);
  
  return tmp.split('?')[0];
}

function get_url_args(url) {
  var path = url || get_relative_path();
  
  return path.split('/');
}

function get_url_regexp_val(mapper) {
  var regexpMap = {
    // Sections
    blogSection: '(blog|news|updates)(\/.*)?',
    videoSection: 'video(\/.*)?',
    photoSection: 'photo(\/.*)?',
    musicSection: 'music(\/.*)?',
    albumSection: 'album(\/.*)?',
    discussionSection: 'forum(\/.*)?',
    tourSection: 'tour(\/.*)?',
    
    // Unique Pages
    blogLanding: '(blog|news|updates)',
    blogDetail: '(blog|news|updates)\/[\s\S]*',
    blogCategory: '(blog|news|updates)\/category\/[\s\S]*',
    videoLanding: 'video',
    videoDetail: 'video\/[\s\S]*',
    videoCategory: 'video\/category\/[\s\S]*',
    photoLanding: 'photo',
    photoDetail: 'photo\/[\s\S]*',
    photoCategory: 'photo\/category\/[\s\S]*',
    musicLanding: 'album',
    trackDetail: 'music\/[\s\S]*',
    albumDetail: 'album\/[\s\S]*',
    toursUpcomingLanding: 'tour',
    toursUpcomingDetail: 'tour\/[\s\S]*',
    toursArchiveLanding: 'tour-archives',
    toursArchiveDetail: 'tour-archives\/[\s\S]*',
    communityLanding: '(community|community-landing)',
    discussionsLanding: '(forum|discussion|forums|discussions|talk)',
    discussionDetail: '(forum|discussion|forums|discussions|talk)\/[\s\S]*',
    discussionCategory: '(forum|discussion|forums|discussions|talk)\/category\/[\s\S]*',
    memberLanding: 'member',
    memberDetail: '(member|user)(\/|)[\s\S]*',
    editProfile: 'user\/[\s\S]*\/edit-profile',
    editAccount: 'user\/[\s\S]*\/edit',
    upload: 'upload',
    login: 'user\/login',
    resetPassword: 'user\/(reset|password)[\s\S]*',
    about: 'about',
    contactUs: 'contact\-us',
    searchSection: 'search\-landing',
    pageNotFound: {func: wmgConditions.hasBodyClass, pars: ['page-node-1191']},
    twitterSection: 'twitter'
  };
  
  var path = url_q || get_relative_path();
  path = path || 'home';
  
  for (var pattern in mapper) {
    if (typeof regexpMap[pattern] == 'object') {
      if (regexpMap[pattern].func.apply({}, regexpMap[pattern].pars)) {
        return mapper[pattern];
      }
    }
    else {
      var re = new RegExp("^" + regexpMap[pattern] + "$","ig");
      if (re.test(path)) {
        return mapper[pattern];
      }
    }
  }
  
  return null;
}

function set_active_parent_link() {
  var defaultLinksMap = {
    blogSection: 'blog',
    videoSection: 'video',
    photoSection: 'photo',
    musicSection: 'music',
    albumSection: 'music',
    memberLanding: 'community',
    discussionSection: 'forum'
  };
  
  WMG.parentLinksMap = WMG.parentLinksMap || {};
  var parentLinks = jQuery.extend(defaultLinksMap, WMG.parentLinksMap);
  
  var parentLink = get_url_regexp_val(parentLinks);
  
  if (parentLink) {
    var active_link = jQuery('#block-system-main-menu ul li a[href="/' + parentLink + '"]');
    active_link.addClass('active').parents('li').find('> a').addClass('active');
  }
}

function set_section_title() {
  var defaultTitlesMap = {
    blogSection: 'Blog',
    videoSection: 'Videos',
    photoSection: 'Photos',
    musicSection: 'Music',
    albumSection: 'Albums',
    tourSection: 'Tour Dates',
    about: 'Bio',
    communityLanding: 'Community',
    discussionSection: 'Discussion',
    searchSection: 'Search Results',
    contactUs: 'Contact Us',
    memberLanding: 'Fans',
    pageNotFound: '- Page Not Found',
    twitterSection: 'Twitter'
  };
  
  WMG.sectionTitlesMap = WMG.sectionTitlesMap || {};
  var sectionTitles = jQuery.extend(defaultTitlesMap, WMG.sectionTitlesMap);
  
  var sectionTitle = get_url_regexp_val(sectionTitles);
  
  if (sectionTitle) {
    var section_title = '';
    
    if (typeof sectionTitle == 'object') {
      section_title = (sectionTitle.use_artist ? WMG.artistname : '') + ' ' + sectionTitle.title;
    }
    else{
      section_title = WMG.artistname + ' ' + sectionTitle;
    }
    
    jQuery('#page-section-title h2').html(section_title);
  }
}

/* Utility functions */
function _includeJS(path) {
  var headID = document.getElementsByTagName("head")[0];         
  var newJs = document.createElement('script');
  newJs.src= path;
  newJs.type = 'text/javascript';
  headID.appendChild(newJs);
}

function countChar(val){
  //dont check for blur text
  if (val.value == comment_blur_text) return;

  var len = val.value.length;

  if (len > comment_char_limit) {
    val.value = val.value.substring(0, comment_char_limit);
  }else {
    jQuery('#charNum span').text(comment_char_limit - len);
  }
  if (len < 1 || val.value.replace(/\s+/g, "").length < 1) {
    can_post_comment = false;
	/*changed for including profile page*/
    jQuery('.comment-form input[id^=edit-submit]').attr('disabled', 'disabled');
    jQuery('.comment-form input[id^=edit-submit]').css('opacity', '0.5');
    jQuery('.comment-form input[id^=edit-submit]').attr('title', comment_submit_hint_text);
  } else {
    can_post_comment = true;
    jQuery('.comment-form input[id^=edit-submit]').attr('title', '');
    jQuery('.comment-form input[id^=edit-submit]').removeAttr('disabled');
    jQuery('.comment-form input[id^=edit-submit]').css('opacity', '1.0');
  }
};

var googleCSEWatermark = function($id) {
  var f = document.getElementById($id);
  if (f && (f.query || f.q || f['edit-keys'])) {
    var q = f.query ? f.query : (f.q ? f.q : f['edit-keys']);
    var n = navigator;
    var l = location;
    if (n.platform == 'Win32') {
      q.style.cssText = 'border: 1px solid #7e9db9; padding: 2px;';
    }
    var b = function() {
      if (q.value == '') {
        q.style.background = '#FFFFFF url(http://www.google.com/coop/intl/en/images/google_custom_search_watermark.gif) left no-repeat';
      }
    };
    var f = function() {
      q.style.background = '#ffffff';
    };
    q.onfocus = f;
    q.onblur = b;
    if (!/[&?]query=[^&]/.test(l.search)) {
      b();
    }
  }
};

/*jQuery.fn.scrollToViewPort = function(options) {
  var options = options || {};
  var animTimeInterval = (typeof options.interval == "undefined")?"slow":animTimeInterval;
  return this.each(function(){
    var offSet = (typeof options.offset == "undefined")? jQuery(this).offset().top : options.offset;
    //if( jQuery(this).offset().top <= jQuery(window).scrollTop() || ( jQuery(this).offset().top + jQuery(this).height() ) >= ( jQuery(window).scrollTop() + jQuery(window).height() ) ){
      jQuery('html,body').animate( { scrollTop: offSet }, animTimeInterval );
    //}
  });
}*/

jQuery.fn.scrollToViewPort = function(animTimeInterval) {
  animTimeInterval = (typeof animTimeInterval == "undefined")?"slow":animTimeInterval;
  return this.each(function(){
    jQuery('html,body').animate({scrollTop: jQuery(this).offset().top},animTimeInterval);
  });
};

jQuery.urlParam = function(name){
    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);
    if (results == null) {
        return 0;
    }
    else {
        return results[1];
    }
}  

// Script out of doc ready block, so we can do something facter or before events attachment
// define global vars
var url_q = get_relative_path();
var url_args = get_url_args(url_q);
var page_section_title = 'Site';;
/*
*  Ads Provider 
*  Builds the Adds baner (top, sidebar) content
*  version 3 
*/

function get_ad_par() {
  var path = url_q || get_relative_path();
  path = path || 'home';

  for (var pattern in WMG.Ads.urlsMap) {
    var re = new RegExp("^" + pattern + "$","ig");
    if (re.test(path)) {
      return WMG.Ads.urlsMap[pattern];
    }
  }
  
  return 'miscellaneous';
}

function AdsProvider(width, height) {
  var ord = Math.random()*10000000000000000;
  var wmg_ad_url = get_ad_par();
  var csId = encodeURIComponent( WMG.Ads.csid + ':' + (wmg_ad_url ? wmg_ad_url : 'miscellaneous')); //( WMG.Ads.urlsMap[_url_page] ? WMG.Ads.urlsMap[_url_page] : 'miscellaneous' )
  var slotId = width + 'x' + height + 'slot';
  var src = 'http://c17c.v.fwmrm.net/ad/g/1?nw=49532&pvrn=' + ord + '&csid=' + csId + '&resp=ad;;ptgt=s&envp=g_js&slid=' + slotId + '&w=' + width + '&h=' + height;  
  
  document.write('<script language="JavaScript" src="' + src + '" type="text/javascript"><\/script>');
};;
/* Modernizr 2.6.2 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-touch-shiv-mq-cssclasses-teststyles-prefixes-load
 */

/*For supporting matchMedia in IE*/

window.matchMedia=window.matchMedia||function(a){"use strict";var c,d=a.documentElement,e=d.firstElementChild||d.firstChild,f=a.createElement("body"),g=a.createElement("div");return g.id="mq-test-1",g.style.cssText="position:absolute;top:-100em",f.style.background="none",f.appendChild(g),function(a){return g.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',d.insertBefore(f,e),c=42===g.offsetWidth,d.removeChild(f),{matches:c,media:a}}}(document);
 
;window.Modernizr=function(a,b,c){function x(a){j.cssText=a}function y(a,b){return x(m.join(a+";")+(b||""))}function z(a,b){return typeof a===b}function A(a,b){return!!~(""+a).indexOf(b)}function B(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:z(f,"function")?f.bind(d||b):f}return!1}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n={},o={},p={},q=[],r=q.slice,s,t=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},u=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return t("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute"}),d},v={}.hasOwnProperty,w;!z(v,"undefined")&&!z(v.call,"undefined")?w=function(a,b){return v.call(a,b)}:w=function(a,b){return b in a&&z(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=r.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(r.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(r.call(arguments)))};return e}),n.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:t(["@media (",m.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c};for(var C in n)w(n,C)&&(s=C.toLowerCase(),e[s]=n[C](),q.push((e[s]?"":"no-")+s));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)w(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},x(""),i=k=null,function(a,b){function k(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function l(){var a=r.elements;return typeof a=="string"?a.split(" "):a}function m(a){var b=i[a[g]];return b||(b={},h++,a[g]=h,i[h]=b),b}function n(a,c,f){c||(c=b);if(j)return c.createElement(a);f||(f=m(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():e.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!d.test(a)?f.frag.appendChild(g):g}function o(a,c){a||(a=b);if(j)return a.createDocumentFragment();c=c||m(a);var d=c.frag.cloneNode(),e=0,f=l(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function p(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?n(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function q(a){a||(a=b);var c=m(a);return r.shivCSS&&!f&&!c.hasCSS&&(c.hasCSS=!!k(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),j||p(a,c),a}var c=a.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,g="_html5shiv",h=0,i={},j;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",f="hidden"in a,j=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){f=!0,j=!0}})();var r={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:j,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:q,createElement:n,createDocumentFragment:o};a.html5=r,q(b)}(this,b),e._version=d,e._prefixes=m,e.mq=u,e.testStyles=t,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+q.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};;
if ( typeof Object.create !== 'function' ) {
	Object.create = function(obj) {
		function F() {
		};
		F.prototype = obj;
		return new F();
	}
}

( function($, window, document, undefined) {

	var ImageCacheChange = {
		init : function(options, elem) {
			var self = this;
			self.elem = elem;
			self.$elem = $(elem);
			self.imageURL = self.$elem.attr('src');

			/* Merge custom options with defaults */
			self.options = $.extend({}, $.fn.imgReplace.options, options);

			self.modifyURL();
		},

		modifyURL : function() {
			var self = this;
			var modifiedURL = "", imageStyleString = "", filesPos = "", lastSlashPos = "";
			var stylePattern = /\/styles\/([^\/]*)\//i;
			var stylePattArr = self.imageURL.match(stylePattern) || [];

			if ( self.options.original ) {
				/* Restore original images */
				filesPos = self.imageURL.indexOf("/styles")
				if ( filesPos > 0 ) {
					imageStyleString = "/styles/" + stylePattArr[1] + "/public";
					lastSlashPos = filesPos + imageStyleString.length;
					modifiedURL = self.imageURL.substr(0, filesPos) + self.imageURL.substring(lastSlashPos);
				}
			} else if ( stylePattArr === null || typeof stylePattArr[1] === "undefined" ) {
				/* Replace with image cache */
				lastSlashPos = self.imageURL.indexOf("/files") + 6;
				modifiedURL = self.imageURL.substr(0, lastSlashPos) + '/styles/' + self.options.imageStyle + '/public' + self.imageURL.substring(lastSlashPos);
			} else {
				/* edge case */
				modifiedURL = self.imageURL.replace(stylePattArr[1], self.options.imageStyle);
			}

			if ( modifiedURL != "" ) {
				if ( self.imageURL.indexOf('?') > 0 ) {
					self.$elem.attr('src', modifiedURL);
				}
			}
		}
	};

	$.fn.imgReplace = function(options) {
		return this.each(function() {
			var imageCacheChange = Object.create(ImageCacheChange);
			imageCacheChange.init(options, this);

			$.data(this, 'imgReplace', imageCacheChange);
		});
	};

	$.fn.imgReplace.options = {
		original : false,
		imageStyle : "onepage_photo_320"
	};

} )(jQuery, window, document);
;
jQuery.fn.outerHTML = function() {
	return jQuery("<div>").append(this.eq(0).clone()).html();
};

jQuery.fn.isAfter = function(sel) {
	return this.prevAll(sel).length !== 0;
};

jQuery.fn.isBefore = function(sel) {
	return this.nextAll(sel).length !== 0;
};

(function($) {
	jQuery.fn.hoverIntent = function(f, g) {
		// default configuration options
		var cfg = {
			sensitivity : 2,
			interval : 300,
			timeout : 500
		};
		// override configuration options with user supplied object
		cfg = $.extend(cfg, g ? {
			over : f,
			out : g
		} : f);

		// instantiate variables
		// cX, cY = current X and Y position of mouse, updated by mousemove event
		// pX, pY = previous X and Y position of mouse, set by mouseover and polling interval
		var cX, cY, pX, pY;

		// A private function for getting mouse position
		var track = function(ev) {
			cX = ev.pageX;
			cY = ev.pageY;
		};

		// A private function for comparing current and previous mouse position
		var compare = function(ev, ob) {
			ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
			// compare mouse positions to see if they've crossed the threshold
			if ((Math.abs(pX - cX) + Math.abs(pY - cY) ) < cfg.sensitivity) {
				$(ob).unbind("mousemove", track);
				// set hoverIntent state to true (so mouseOut can be called)
				ob.hoverIntent_s = 1;
				return cfg.over.apply(ob, [ev]);
			} else {
				// set previous coordinates for next time
				pX = cX;
				pY = cY;
				// use self-calling timeout, guarantees intervals are spaced out properly (avoids JavaScript timer bugs)
				ob.hoverIntent_t = setTimeout(function() {
					compare(ev, ob);
				}, cfg.interval);
			}
		};

		// A private function for delaying the mouseOut function
		var delay = function(ev, ob) {
			ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
			ob.hoverIntent_s = 0;
			return cfg.out.apply(ob, [ev]);
		};

		// A private function for handling mouse 'hovering'
		var handleHover = function(e) {
			// next three lines copied from jQuery.hover, ignore children onMouseOver/onMouseOut
			var p = (e.type == "mouseover" ? e.fromElement : e.toElement) || e.relatedTarget;
			while (p && p != this) {
				try {
					p = p.parentNode;
				} catch(e) {
					p = this;
				}
			}
			if (p == this) {
				return false;
			}

			// copy objects to be passed into t (required for event object to be passed in IE)
			var ev = jQuery.extend({}, e);
			var ob = this;

			// cancel hoverIntent timer if it exists
			if (ob.hoverIntent_t) {
				ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
			}

			// else e.type == "onmouseover"
			if (e.type == "mouseover") {
				// set "previous" X and Y position based on initial entry point
				pX = ev.pageX;
				pY = ev.pageY;
				// update "current" X and Y position based on mousemove
				$(ob).bind("mousemove", track);
				// start polling interval (self-calling timeout) to compare mouse coordinates over time
				if (ob.hoverIntent_s != 1) {
					ob.hoverIntent_t = setTimeout(function() {
						compare(ev, ob);
					}, cfg.interval);
				}

				// else e.type == "onmouseout"
			} else {
				// unbind expensive mousemove event
				$(ob).unbind("mousemove", track);
				// if hoverIntent state is true, then call the mouseOut function after the specified delay
				if (ob.hoverIntent_s == 1) {
					ob.hoverIntent_t = setTimeout(function() {
						delay(ev, ob);
					}, cfg.timeout);
				}
			}
		};

		// bind the function to the two event listeners
		return this.mouseover(handleHover).mouseout(handleHover);
	}
})(jQuery);
var ONEPAGE = {
	theme : "onepage-isotope", // onepage, onepage-a, onepage-b, onepage-isotope
	fancyboxSelector : ".view-home-one-page-photos .views-row a.fresco",
	menu : "#block-menu-menu-home-one-page-menu, #block-menu-menu-home-one-page-linked, #block-menu-menu-one-page-anchored",
	categoryBlocks : "#block-views-categories-block-1, #block-views-categories-block, #block-views-categories-block-8",
	newsList : ".view-home-one-page-news.view-id-home_one_page_news.view-display-id-home_onepage",
	activityBlock: "#block-views-forum-block-3",
	mlist : {
		sidebar : ".mlist-sidebar",
		footer : "#block-block-466"
	},
	homepageBlocks : {
		news : "#block-views-home-one-page-news-block-4",
		photo : "#block-views-home-one-page-photos-block",
		about : "#block-block-426",
		tour : "#block-block-321",
		carousel : "#block-views-home-one-page-carousel-block-1"
	},
	view : {
		photo : ".view-home-one-page-photos"
	},
	landing : {
		news : ".view-home-one-page-news.view-display-id-page_2"
	},
	isotope : {
		news : ".view-home-one-page-masonry .view-content ul"
	},
	mq : {
		mobileNarrower : Modernizr.mq("only screen and (max-width : 320px)"),
		mobileWider : Modernizr.mq("only screen and (min-width : 320px)"),
		tabletNarrower : Modernizr.mq("only screen and (max-width : 767px)"),
		tabletWider : Modernizr.mq("only screen and (min-width : 768px)"),
		desktopNarrower : Modernizr.mq("only screen and (max-width : 1023px)"),
		desktopWider : Modernizr.mq("only screen and (min-width : 1024px)"),
		largeDesktopNarrower : Modernizr.mq("only screen and (max-width : 1379px)"),
		largeDesktopWider : Modernizr.mq("only screen and (min-width : 1380px)")
	},
	topnavhighlight : {
		"node-type-blog" : ".menu-link-24791",
		"node-type-photo" : ".menu-link-24796",
		"node-type-video" : ".menu-link-24841",
		"node-type-album" : ".menu-link-24836",
		"node-type-forum" : ".menu-link-24846",
		"node-type-artist" : ".menu-link-25586"
	},
	merchConfig: {
		"merchBlockSelector" : "#merchContainer",
		"merchDataSelector" : "#merchData"
	},
	bidWidgets: {
		wideLayout : '#block-block-516',
		narrowLayout : '#block-block-521'
	}
};
;
var detailSidebarConfig = {
	'node-type-blog' : '#block-views-home-one-page-news-block-1',
	'node-type-photo' : '#block-views-home-one-page-photos-block-2',
	'node-type-video' : '#block-views-home-one-page-video-block',
	'node-type-album' : '#block-views-albums-block'
};

function detailSidebar() {
	// console.log("sidebar to page content");
	var _hasOwn = Object.prototype.hasOwnProperty;
	for (var i in detailSidebarConfig ) {
		if (_hasOwn.call(detailSidebarConfig, i)) {
			var moreBlock = detailSidebarConfig[i];
			if (jQuery('body').hasClass(i) && jQuery('body').hasClass('body-layout-fixed-ca') && jQuery('#sidebar-a').find(moreBlock).length > 0) {
				if (i == 'node-type-album') {
					jQuery('#content-area #block-views-music-block-2').after(jQuery(moreBlock));
				} else {
					jQuery('#content-area .block-views:first-child').after(jQuery(moreBlock));
				}
				return;
			}
		}
	}
}

function revertSidebar() {
	// console.log("page content to sidebar");
	var _hasOwn = Object.prototype.hasOwnProperty;
	for (var i in detailSidebarConfig ) {
		if (_hasOwn.call(detailSidebarConfig, i)) {
			var moreBlock = detailSidebarConfig[i];
			if (jQuery('body').hasClass(i) && jQuery('body').hasClass('body-layout-fixed-ca') && jQuery('#sidebar-a').find(moreBlock).length <= 0) {
				if (jQuery('body').hasClass('not-logged-in')) {
					jQuery('#sidebar-a').find('#block-block-26').after(jQuery(moreBlock));
				} else {
					jQuery('#sidebar-a').find('.region.region-sidebar-a').prepend(jQuery(moreBlock));
				}
				return;
			}
		}
	}
}

function responsivise() {
	if (jQuery('body').hasClass('body-layout-fixed-ca')) {
		if (Modernizr.mq("only screen and (max-width : 1023px)")) {
			if (jQuery('#main').isAfter(jQuery("#sidebar-a"))) {
				jQuery("#sidebar-a").before(jQuery('#main'));
			}
		} else {
			if (jQuery("#sidebar-a").isAfter(jQuery('#main'))) {
				jQuery("#sidebar-a").after(jQuery('#main'));
			}
		}
	}
}

/* ************************[=== CATEGORY FORMATTERS ===]***************************/

function categoryFormatterLR() {
	jQuery('.tags-dropdown').show();
	var viewToAppend = jQuery('.view-categories');
	var activeCategory = viewToAppend.find('a.active span.category').text();
	activeCategory = 'filter by <span>' + activeCategory + '  </span>▼';
	jQuery('#block-system-main .tags-dropdown').html(activeCategory);
	viewToAppend.insertAfter('#block-system-main .tags-dropdown');
	viewToAppend.hide();
	jQuery(ONEPAGE.categoryBlocks).hide();
}

function categoryFormatterHR() {
	jQuery('.tags-dropdown').hide();
	var viewToAppend = jQuery('.view-categories');
	jQuery(ONEPAGE.categoryBlocks).find('.content').append(viewToAppend);
	jQuery(ONEPAGE.categoryBlocks).show();
	viewToAppend.show();
}

function categoryDropdownToggle() {
	jQuery(".tags-dropdown").live('click', function() {
		jQuery(this).parent().find('> .view-categories').slideToggle();
	});
}

/* ************************[=== PROFILE LAYOUTING ===]***************************/

var profilePage = {
	avatarBlock : '#block-views-user-profile-block-5',
	aboutMeBlock : '#block-views-user-profile-block-2',
	commentWallBlock : '#block-views-user-profile-block-6'
}

var $showMoreField = jQuery(profilePage.aboutMeBlock).find('.view-footer');

function profileAboutMeToggler() {
	var $showMoreField = jQuery(profilePage.aboutMeBlock).find('.view-footer');
	/* Bind click to show more for resolutions less than 1024 */
	$showMoreField.find('a').live('click', function(event) {
		jQuery(this).toggleClass('expanded');
		$showMoreField.siblings('.view-content').find('.views-field').toggle();
		$showMoreField.siblings('.view-content').find('.views-field-field-about-me').show();
		event.preventDefault();
	});
}

function profileLayoutingLR() {

	var $showMoreField = jQuery(profilePage.aboutMeBlock).find('.view-footer');
	jQuery(profilePage.avatarBlock).insertBefore(profilePage.commentWallBlock);
	jQuery(profilePage.aboutMeBlock).insertBefore(profilePage.commentWallBlock);

	jQuery(profilePage.aboutMeBlock).find('.views-field').hide();
	jQuery(profilePage.aboutMeBlock).find('.views-field-field-about-me').show();

	$showMoreField.show();

}

function profileLayoutingHR() {

	var $showMoreField = jQuery(profilePage.aboutMeBlock).find('.view-footer');
	var $avatarBlock = jQuery(profilePage.avatarBlock);
	var $aboutMeBlock = jQuery(profilePage.aboutMeBlock);

	jQuery('.region-sidebar-a').prepend($aboutMeBlock);
	jQuery('.region-sidebar-a').prepend($avatarBlock);
	$aboutMeBlock.find('.views-field').show();

	$showMoreField.hide();
};
function musicLanding() {

	var $music = jQuery('.view-music');

	var musicDOMObj = {
		'title' : '.views-field-title a',
		'lyrics' : {
			'link' : '.lyricsoftracks',
			'data' : '.views-field-field-lyrics'
		},
		'comment' : {
			'link' : '.reactionsoftracks',
			'data' : '.views-field-nothing-2'
		},
		'video' : {
			'link' : '.videooftracks',
			'data' : '.views-field-field-video-asset'
		}
	};

	var soundCloud = {
		'pause' : '.sc-player.playing a.sc-pause'
	};

	/*
	 * Title click => play/$pause SC player
	 * */
	$music.find(musicDOMObj.title).live('click', function(event) {
		var $this = jQuery(this);
		var $pause = $this.parents('.views-row').find(soundCloud.pause);

		if ($pause.length) {
			$pause.click();
		} else {
			$this.parents('.views-row').find('.sc-player a.sc-play:first').click();
		}
		event.preventDefault();
	});

	/*
	 * Lyrics click => toggle lyrics
	 * */
	$music.find(musicDOMObj.lyrics.link).live('click', function(event) {
		var $this = jQuery(this);

		$this.parents('.views-row').find(musicDOMObj.lyrics.data).toggle();
		$this.parents('.views-row').find(musicDOMObj.comment.data).hide();
		$this.parents('.views-row').find(musicDOMObj.video.data).hide();

		event.preventDefault();
	});

	/*
	 * Comments click => toggle comments data
	 * */
	$music.find(musicDOMObj.comment.link).live('click', function(event) {
		var $this = jQuery(this);
		var nid = $this.attr("name");

		if (($this.parents('.views-row').find(musicDOMObj.comment.data + ' .reactions-content span').html().length) == 0) {

			jQuery.get('/views/ajax', {
	 			page : 0,
	 			view_name : '_album_track_comment_',
	 			view_display_id : 'default',
	 			view_args : nid
	 		}, function(result) {
				$this.parents('.views-row').find('div.reactions-content span.' + nid).html(result[1].data);
			});

			$this.parents('.views-row').find(musicDOMObj.comment.data).toggle();
			$this.parents('.views-row').find(musicDOMObj.lyrics.data).hide();
			$this.parents('.views-row').find(musicDOMObj.video.data).hide();

		} else {

			$this.parents('.views-row').find(musicDOMObj.comment.data).toggle();
			$this.parents('.views-row').find(musicDOMObj.lyrics.data).hide();
			$this.parents('.views-row').find(musicDOMObj.video.data).hide();
		}
		
		event.preventDefault();
	});

	/*
	 * Disable videos link if track has no video
	 * Videos click => toggle video
	 * */
	$music.find(musicDOMObj.video.link).each(function(event) {
		var $this = jQuery(this);
		var $video = $this.parents('.views-row').find(musicDOMObj.video.data);
		if ($video.length > 0) {
			$this.click(function(event) {
				var $self = jQuery(this);

				$video.toggle();

				$self.parents('.views-row').find(musicDOMObj.lyrics.data).hide();
				$self.parents('.views-row').find(musicDOMObj.comment.data).hide();

				event.preventDefault();
			});
		} else {
			$this.removeAttr('href');
		}
	});
	
	 	jQuery(".views-field-field-services").hover(function(){
        	jQuery(this).find(".field-content .item-list ul").show();
	    }, function(){
	        jQuery(this).find(".field-content .item-list ul").hide();
	    });
	    
	    // Override default show more page for AJAX fetched comments view in the reactions section
	    
	    jQuery('.reactions-content .pager-next.first.last a').live('click', function(event) {
	 		
	 		var data_href = jQuery(this).attr("href");
            jQuery(this).attr("data-href", data_href);
            jQuery(this).attr("href", "javascript:void(0);");
            var nid = jQuery(this).parents('span').attr('class');
            var par = data_href.substr(data_href.length - 1);
            jQuery(this).hide();
	 		
	 		jQuery.get('/views/ajax', {
	 			page : par,
	 			view_name : '_album_track_comment_',
	 			view_display_id : 'default',
	 			view_args : nid
	 		}, function(result) {
				jQuery('div.reactions-content span.' + nid).append(result[1].data);
			});
			
			event.preventDefault();
	 	});

}


function musicDisableEmpty(){
	
	var $liElement = jQuery('.view-music .view-content .views-row');
	
	$liElement.each(function() {
		
		var $this = jQuery(this);
		
		if ($this.find('.views-field-field-lyrics .field-content .lyrics-content').length == 0) {
			$this.find('a.lyricsoftracks').addClass('disabled');
		}
		if ($this.find('.views-field-field-video-asset .field-content object').length == 0) {
			$this.find('a.videooftracks').addClass('disabled');
		}
		if ($this.find('.views-field-field-mp3-player .field-content').text() == 0) {
			$this.find('.views-field-field-mp3-player').addClass('disabled');
		}
	});

};
/* ************************[=== ATTACH PHOTO SWIPE ===]**************************
 */
attachPhotoSwipe = function() {

	var instance, options;

	options = {};
	instance = window.Code.PhotoSwipe.attach(window.document.querySelectorAll(ONEPAGE.fancyboxSelector), options);
};

/* ************************[=== CLOSE DETAIL WHEN SHOW-MORE/CLOSE-BUTTON/DETAIL-REGION IS CLICKED ===]**************************
 */

function newsDetailClose() {
	var $newsView, $showMore;

	$newsView = jQuery(ONEPAGE.homepageBlocks.news);
	$showMore = $newsView.find(".item-list .pager .pager-next.first.last a");
	$showMore.bind("click", function() {
		if ( ONEPAGE.mq.tabletWider ) {
			$newsView.find(".views-rows-detail").remove();
		} else {
			jQuery(".view-home-one-page-news .views-row .views-field-nothing.open").hide();
		}
	});
	if ( ONEPAGE.mq.tabletWider ) {
		jQuery(".news-detail-close span").live("click", function() {
			jQuery(this).parent().parent().parent().parent().parent().remove();
		});
	} else if ( ONEPAGE.mq.tabletNarrower ) {
		jQuery(".news-detail-close span").live("click", function() {
			jQuery(this).parent().parent().parent().parent().hide();
		});
	}
}

/* ************************[=== TOGGLING NEWS DETAIL ===]**************************
 */

function arrangeNewsDetail() {
	var $newsView, $newsViewRow, $pager;

	$newsView = jQuery(ONEPAGE.homepageBlocks.news);
	$newsViewRow = $newsView.find(".views-row");
	$pager = $newsView.find(".item-list .pager");
	numberOfLI = $newsViewRow.length;

	$newsViewRow.find(".views-field-title a, .media-postDate").live("click", function(event) {
		var $activeDetail, $activeViewRow, $newsDetail, activeHTML, endLIoffset;

		$activeViewRow = jQuery(this).parent().parent().parent();
		$activeDetail = $activeViewRow.find(".views-field-nothing-2");

		if ( ONEPAGE.mq.tabletWider ) {
			$newsView.find(".views-rows-detail").remove();
			/* Calculating where to append. If there are 3 items/row, appending at last. If less than 3, appending after the last item in a row.
			 */
			endLIoffset = $activeViewRow.index() + 1;
			// endLIoffset = ( $newsViewRow.length % 3 === 0 ? Math.ceil(endLIoffset / 3) * 3 : 1 );
			endLIoffset = ( $newsViewRow.length % numberOfLI === 0 ? Math.ceil(endLIoffset / numberOfLI) * numberOfLI : 1 );
			console.log("appending to " + endLIoffset);
			activeHTML = $activeDetail.outerHTML();
			$newsDetail = jQuery("<li class='views-rows-detail'>" + activeHTML + "</li>");
			$newsView.find(".views-row:nth-of-type(" + endLIoffset + ")").addClass("current").after($newsDetail);
		} else {
			$activeDetail.toggleClass("open").slideToggle();
		}
		event.preventDefault();
	});

	// READ MORE LINK
	var $trimmedBody;
	if ( ONEPAGE.mq.tabletWider ) {
		$trimmedBody = $newsView.find(".views-rows-detail .field-news-detail.trimmed .views-more-link");
	} else {
		$trimmedBody = $newsView.find(".news-detail .field-news-detail.trimmed .views-more-link");
	}

	$trimmedBody.live("click", function(event) {
		var $this = jQuery(this);

		$this.parents('.field-news-detail').hide();
		$this.parents('.field-news-detail').next().show();

		event.preventDefault();
	});
}

/* ************************[=== MAILING LIST ARRANGEMENT ===]**************************
 */
function mlistFunction() {
	var $mlistBlock, $mlistForm, $mlistFormContainer, displayNoners;
	displayNoners = [".mlist-server-error", ".mlist-ajax", ".mlist-thankyou"];
	jQuery.each(displayNoners, function(index, item) {
		jQuery(item).hide();
	});

	// sidebar mlist
	jQuery(".mlist-close-btn").click(function() {
		jQuery('.mlist-sidebar.isDown').removeClass('isDown').slideToggle();
	});

	jQuery("#mContainer .mailButton").click(function() {
		jQuery(".mlist-sidebar").toggleClass('isDown').slideToggle();
	});

    var $newsletterId_temp=WMG.MailingList.EmailListIds;
                 
 	if(jQuery("body.node-type-artist").length == 1){
	    if(artistDetails.artistNewsletterid !="undefined"){
	         $newsletterId_temp= artistDetails.artistNewsletterid;
	    }
   	}

	MList({
		position : 'sidebar',
		container : {
			className : '.ms-mlist-form-container'
		},
		onComplete : function() {
			jQuery('.mlist-sidebar.isDown').removeClass('isDown').slideToggle();
                        jQuery('.mlist-sidebar .ms-mlist-form-container').hide();
                        jQuery('.mlist-sidebar .mlist-thankyou').hide();
						jQuery(".mlist-sidebar.homepage .mlist-join").show();
						jQuery(".mlist-sidebar.seperate-page .ms-mlist-form-container .mlist-thankyou").show();
						jQuery(".mlist-sidebar.seperate-page .ms-mlist-form-container ").show();
						jQuery(".mlist-sidebar.homepage .mlist-thankyou").show();
		},               

		newsletterId : $newsletterId_temp,
  		keywordId : WMG.MailingList.MobileKeywordIds
	});

	// footer mlist
	$mlistBlock = jQuery(ONEPAGE.mlist.footer);
	$mlistFormContainer = $mlistBlock.find(".mlist-form-container");
	$mlistForm = $mlistFormContainer.find("form");

	$mlistBlock.find(".mlist-join").click(function() {
		$mlistFormContainer.slideToggle();
		//jQuery(this).hide();
	});

	MList({
		position : 'footer',
		onComplete : function() {
			//$mlistFormContainer.slideToggle();
			//$mlistBlock.find(".mlist-join").toggle();
			//jQuery('.mlist-form-container .welcomeMsg').show();
			//jQuery('.mlist-form-container form').show();
			jQuery('#block-block-466 .mlist-form-container').hide();
            jQuery('.mlist-sidebar .mlist-thankyou').hide();
			jQuery("#block-block-466 .mlist-join").show();
			jQuery("#block-block-466 .mlist-thankyou").show();
			jQuery("#block-block-466 .mlist-v2").removeClass('down').slideToggle;
			
		},
		newsletterId : WMG.MailingList.EmailListIds,
  		keywordId : WMG.MailingList.MobileKeywordIds
	});

}

jQuery(document).ready(function() {
        jQuery("#block-block-466 #mlistCloseText").click(function(){
          jQuery("#block-block-466 .mlist-form-container").slideToggle();
       });
}); 

/* ************************[=== FANCYBOX ===]**************************
 */
function photosFBox() {
	if ( ONEPAGE.mq.tabletWider ) {
		$jq18(ONEPAGE.fancyboxSelector).fancybox({
			openEffect : "none",
			closeEffect : "none",
			helpers : {
				title : {
					type : "inside"
				}
			},
			afterLoad : function() {
				var href = $jq18(this.element).next().attr("href");
				this.title = "<a href='" + href + "'>" + this.title + "</a>";
			}
		});
	}
}

/* ************************[=== ONEPAGE ISOTOPE ===]**************************
 */
function onepageIsotope() {
	var columnWidth;
	if ( ONEPAGE.mq.largeDesktopWider ) {
		columnWidth = $jq18(ONEPAGE.isotope.news).width() / 4;
	} else if ( ONEPAGE.mq.tabletWider ) {
		columnWidth = $jq18(ONEPAGE.isotope.news).width() / 3;
	}

	if ( !ONEPAGE.mq.tabletNarrower ) {
		$jq18(ONEPAGE.isotope.news).isotope({
			itemSelector : '.views-row',
			masonry : {
				columnWidth : columnWidth,
				gutterWidth : 25
			}
		});
	}
}

/* ************************[=== Relayout using Isotope when READ MORE is clicked ===]**************************
 */
function onepageIsotopeRelayout() {

	var columnWidth = $jq18(ONEPAGE.isotope.news).width(), columnWidth_twothird = Math.floor(( columnWidth * 2 ) / 3) - 42, columnWidth_half = Math.floor(columnWidth / 2) - 75, columnWidth_third = Math.floor(columnWidth / 3) - 10;

	$jq18(ONEPAGE.isotope.news).delegate('.views-more-link, .views-field-title a', 'click', function(event) {

		var $trimmedBody, $currentRow, $siblingRows, $blogMedia;

		if ( $jq18(this).hasClass('views-more-link') ) {
			$trimmedBody = $jq18(this).parent().parent();
		} else {
			$trimmedBody = $jq18(this).parent().parent().siblings('.views-field-body');
		}

		$currentRow = $trimmedBody.parent(), $siblingRows = $currentRow.siblings(), $blogMedia = $trimmedBody.prev('.views-field-field-blog-media');

		// Hide and show stuff around
		$trimmedBody.hide();
		$currentRow.siblings().find('.views-field-body').show();

		$trimmedBody.next().show();
		$currentRow.siblings().find('.views-field-nothing-1').hide();

		if ( $blogMedia ) {
			$blogMedia.hide();
			$currentRow.siblings().find('.views-field-field-blog-media').show();
		}

		if ( ONEPAGE.mq.largeDesktopWider ) {
			$siblingRows.css('width', '24.5%');
			$currentRow.width(columnWidth_half);
		} else if ( ONEPAGE.mq.tabletWider ) {
			$siblingRows.css('width', '31%');
			$currentRow.width(columnWidth_twothird);
		}

		if ( !ONEPAGE.mq.tabletNarrower ) {
			$siblingRows.removeClass('highlighted');
			$currentRow.addClass('highlighted');
			$jq18(ONEPAGE.isotope.news).isotope('reLayout');
		}

		event.preventDefault();
	});
}

/* ************************[=== ISOTOPE AFTER AJAX COMPLETE ===]**************************
 */
function onepageIsotopeAJAX() {
	jQuery(".view-home-one-page-masonry").ajaxComplete(function() {
		$jq18(".view-home-one-page-masonry .view-content ul").isotope('reloadItems').isotope({
			sortBy : 'original-order'
		});
		$jq18(".view-home-one-page-masonry .view-content ul").isotope('reLayout');
	});
}

/* ************************[=== COMMENTS FORMATTING ===]**************************
 */
function commentsFormatting() {
	// REMOVE HYPHEN IN COMMENTS
	jQuery('.comment .submitted').each(function() {
		jQuery(this).contents().filter(function () {
		return this.nodeType == 3;
		})[1].nodeValue = "";
	});

	// REMOVE HYPHEN IN COMMENTS TIME FORMAT
	jQuery('.comment .submitted .date span').each(function() {
		jQuery(this).contents().filter(function () {
		return this.nodeType == 3;
		})[0].nodeValue = jQuery(this).text().replace(/-/g, ' ');
	});
}


function commentsFormattingAjax(){
	commentsFormatting();
	
	jQuery('.view-music .views-field-nothing-2').ajaxComplete(function(){
	 	commentsFormatting();
	 	
	});
}

// Search place holder

jQuery( document ).ready(function() {
jQuery(".views-exposed-widgets #edit-title-1").attr("placeholder", "Search");
}); 

Drupal.behaviors.artistsSearch = {
 attach : function() {
    if(jQuery("#block-block-571").length>0){
   if ( jQuery(".views-exposed-widgets #edit-title-1").attr("placeholder")== "" ) {
  jQuery(".views-exposed-widgets #edit-title-1").attr("placeholder", "Search");
   }
    }  
 }
};
// Artist Search

jQuery( document ).ready(function() {

    jQuery( "#views-exposed-form-artist-page-1 .views-exposed-widget.views-submit-button" ).prepend("<input id='edit-reset-artist' class='search-reset' type='reset' value='Reset'>");
 
	jQuery("#views-exposed-form-artist-page-1 #edit-reset-artist").click(function(){
	   jQuery("#views-exposed-form-artist-page-1")[0].reset();
	   jQuery("#views-exposed-form-artist-page-1").removeClass("reset");	
	   
	});
	
	jQuery("#views-exposed-form-artist-page-1 #edit-submit-artist").click(function(){
		jQuery("#views-exposed-form-artist-page-1").addClass("reset"); 		
	});
	
	jQuery("#views-exposed-form-artist-page-1 #edit-title-1").focus(function(){
	   jQuery("#views-exposed-form-artist-page-1").removeClass("reset");
	});


});
// Artist Search-V2

jQuery( document ).ready(function() {

    jQuery( "#views-exposed-form-artist-page-3 .views-exposed-widget.views-submit-button" ).prepend("<input id='edit-reset-artist' class='search-reset' type='reset' value='Reset'>");
 
	jQuery("#views-exposed-form-artist-page-3 #edit-reset-artist").click(function(){
	   jQuery("#views-exposed-form-artist-page-3")[0].reset();
	   jQuery("#views-exposed-form-artist-page-3").removeClass("reset");
	   jQuery("#views-exposed-form-artist-page-3 #edit-submit-artist").click();
	   jQuery("#view-display-id-page_3 #artists-no-results").hide();
	   jQuery("#views-exposed-form-artist-page-3").addClass("reset-clicked"); 	
	   jQuery(".artist_category ul").find('a').removeClass("active");
       jQuery(".artist_category ul li.one").find('a').addClass("active");
	   
	});
	
	jQuery("#views-exposed-form-artist-page-3 #edit-submit-artist").click(function(){
		jQuery("#views-exposed-form-artist-page-3").addClass("reset"); 		
		jQuery("#views-exposed-form-artist-page-3").removeClass("reset-clicked"); 
        jQuery(".page-artists-v2 #block-system-main .view-artist").addClass("loading");		
	});
	
	jQuery("#views-exposed-form-artist-page-3 #edit-title-1").focus(function(){
	   jQuery("#views-exposed-form-artist-page-3").removeClass("reset");
	});


});



  
// post detail top nav highlight

jQuery( document ).ready(function() {
	jQuery("#block-menu-menu-home-one-page-linked .menu li").each(function() {
	  if(jQuery(this).find("a").attr("href")===jQuery(".views-field-field-post-category a ").attr("href")){
	   jQuery(this).find("a").addClass("active");
	  }
	});
        
        jQuery("#block-menu-menu-home-one-page-linked .menu li").each(function() {
   		if(jQuery(this).find("a").attr("href")===jQuery("#breadcrumb .breadcrumb a:first-child").next().attr("href")){
		    jQuery(this).find("a").addClass("active");
   		}
 	});
});

// artist detail buttons

jQuery( document ).ready(function() {
	jQuery("#block-views-artist-detail-view-block-2 .views-row .recent-album-wrapper .download_stram #download-link a, #block-views-artist-detail-view-block-2 .views-row .recent-album-wrapper .download_stram #streaming-link a").click(function() {
	  return false;  
	});
});

// Maling list close artist detail page

jQuery(document).ready(function() {
	jQuery('.mlist-sidebar .mlistCloseText').click(function() {
		jQuery('.mlist-sidebar .ms-mlist-form-container').slideToggle();
	});
}); 
jQuery(document).ready(function() {
	jQuery('.mlist-sidebar').find(".mlist-join").click(function() {
	jQuery('.mlist-sidebar .ms-mlist-form-container').slideToggle();
	});
jQuery('#block-views-posts-carousel-block-2 .view-footer .mlist-join').click(function() {
		jQuery('#block-views-posts-carousel-block-2 .view-footer .mlist-form-container').slideToggle();
	});
}); 

//Mailng list in carousel

jQuery(document).ready(function() {
	jQuery(".mlist-sidebar.homepage .mlist-join").click(function() {
		jQuery(".mlist-sidebar.homepage .mlist-join").hide();
	});
        jQuery(".mlist-sidebar.homepage .mlistCloseText").click(function(){          
		  jQuery(".mlist-sidebar.homepage .mlist-join").show();
		  jQuery(".mlist-sidebar.homepage .mlist-form-container").hide();
       });
jQuery("#block-block-466 .mlist-join").click(function() {
		jQuery("#block-block-466 .mlist-join").hide();
	});
        jQuery("#block-block-466 .mlistCloseText").click(function(){  
		jQuery("#block-block-466 .mlist-join").show();        
		jQuery("#block-block-466 .mlist-form-container").hide();		
	  	
		  
       });
}); 
jQuery(document).ready(function(){

	jQuery("#block-block-631 .mlist-envelope").click(function(){

		jQuery("#block-views-posts-carousel-block-2 .ms-mlist-form-container").slideToggle();
	
    });
});

// Mailng list down class addition
jQuery( document ).ready(function() {
	jQuery("#block-block-466 .mlist-join").click(function(){
		if(jQuery("#block-block-466 .mlist-v2").hasClass("down")){
			jQuery("#block-block-466 .mlist-v2").removeClass("down");
		}
		else{
			jQuery("#block-block-466 .mlist-v2").addClass("down");
		}
	});

	jQuery("#block-block-466 #mlistCloseText").click(function(){
		jQuery("#block-block-466 .mlist-v2").removeClass("down");
	});
});

/// Track list script
if(jQuery('.page-node-22616').length == 0){ 
jQuery(document).bind('onMediaTimeUpdate.scPlayer', function(event){
  console.log(event.target, 'the track is at ' + event.position + ' out of ' + event.duration + ' which is ' + event.relative + ' of the total');
  var min=Math.floor((event.position/60000) % 60);
  var sec=Math.floor((event.position/1000) % 60);
  if(sec<10){
	sec="0"+sec;
  }
if(jQuery('.page-node-22616').length == 0){ 
  jQuery(this).find(".playing .sc-duration").html(min+"."+sec);
  }
});
}

//releases moving div
jQuery(document).ready(function(){
		if (jQuery("body").hasClass("page-releases")) {
		 var $taxonomyDesc = jQuery('.taxonomy-term-description');
		 var desc= $taxonomyDesc.html();
		 if(desc==="[description]"){
				$taxonomyDesc.html(" ");
		 }
		 else{
				$taxonomyDesc.insertAfter("#page-title");
		 }
		 
			
		}
 }); 
//Script for sold out
jQuery(window).load(function(){ 
jQuery("#bit-events tr td.bit-concert a.bit-buy-tix:contains('Sold Out')").parent().addClass('disabled');
jQuery("#bit-events tr td.bit-concert a.bit-buy-tix:contains('Sold Out')").removeAttr("href");  });
	
// Artist detail video fix
Drupal.behaviors.media_embed = {
   attach: function(context,settings){
   }
}
/* ************************[=== post detail block rearranging ===]***************************/
jQuery(document).ready(function() {
	 if (jQuery.trim(jQuery('.view-home-one-page-news-detail .view-header .views-field-field-tags .tagscontent').text()).length == 0) {
		jQuery('.view-home-one-page-news-detail .view-header .views-field-field-tags').hide();
	}
 
	 if (Modernizr.mq("only screen and (min-width : 600px)")) {
		jQuery('.view-home-one-page-news-detail .view-header').each(function() {
		   jQuery(this).find('.view-galleries').insertAfter('.views-field-social-share').css("display","block");
		   
		});
	 }
     
});

jQuery(window).resize(function() {
	 if (Modernizr.mq("only screen and (min-width : 600px)")) {
		  jQuery('.view-home-one-page-news-detail .view-header').each(function() {
			   jQuery(this).find('.view-galleries').insertAfter('.views-field-social-share').css("display","block");			  
		  });
	 }
	 else {
		  jQuery('.view-home-one-page-news-detail .view-header').each(function() {
			   jQuery(this).find('.view-galleries').insertAfter('.views-field-body-social').css("display","block");			  
		  });
	 }
      
});
/// Artist category search using tabs
jQuery(document).ready(function() {
	 if(jQuery("body").hasClass("page-artists-v2")){  

		jQuery(".artist_category .menu .one a").click(function(){               
			jQuery("#edit-field-is-legacy-value-1").selected(true);	
			jQuery("#edit-field-is-legacy-value-2,#edit-field-is-legacy-value-3").selected(false);	
            jQuery("#views-exposed-form-artist-page-3 #edit-submit-artist").click();
			jQuery("#edit-field-is-legacy-value-1").selected(false);
		});
		jQuery(".artist_category .menu .two a").click(function(){                     
			jQuery("#edit-field-is-legacy-value-2").selected(true);
			jQuery("#edit-field-is-legacy-value-1,#edit-field-is-legacy-value-3").selected(false);
			jQuery("#views-exposed-form-artist-page-3 #edit-submit-artist").click();
			jQuery("#edit-field-is-legacy-value-2").selected(false);
		});
		jQuery(".artist_category .menu .three a").click(function(){ 
			jQuery("#edit-field-is-legacy-value-3").selected(true);
			jQuery("#edit-field-is-legacy-value-1,#edit-field-is-legacy-value-2").selected(false);     
			jQuery("#views-exposed-form-artist-page-3 #edit-submit-artist").click();
			jQuery("#edit-field-is-legacy-value-3").selected(false);
		});
	 
	 }
	 jQuery(".artist_category ul").find('a').click(function(e){
		var $this=jQuery(this);
		$this.parent().parent().find("a").removeClass("active");
		$this.addClass("active");
    }); 
    jQuery("#views-exposed-form-artist-page-3 #edit-reset-artist").click(function(){	  
	   jQuery("#views-exposed-form-artist-page-3").removeClass("reset");	  		   
	});   	
	jQuery("#edit-title-1").keypress(function(e){
		if(jQuery("#edit-title-1").val().length>=0){ 
		jQuery("#views-exposed-form-artist-page-3").addClass("reset");
		}
		else{
			jQuery("#views-exposed-form-artist-page-3").removeClass("reset");
		}
		if(jQuery("#edit-title-1").val().length==1 && e.keyCode == 8){
			jQuery("#views-exposed-form-artist-page-3").removeClass("reset");
		}
	});
	jQuery("#edit-title-1").change(function(){
		if(jQuery("#edit-title-1").val().length>0){ 
		jQuery("#views-exposed-form-artist-page-3").addClass("reset");
		}
		else{
			jQuery("#views-exposed-form-artist-page-3").removeClass("reset");
		}
			
	});
	
});


// Arktan column width setup

function arktancolumnSetup(){
               var $window = jQuery(window);
            
            
             var isiPad = navigator.userAgent.match(/iPad/i) != null;
             var isiPhone = (navigator.userAgent.match(/iPhone/i) !=  null) || (navigator.userAgent.match(/iPod/i) != null);
             var isAndroid = (navigator.userAgent.match(/Android/i) !=  null);
            
            
             var columnWidth = 410;
             var widthConfig = "pc";
             var loaded = false;
             function monitorWidth() {
                 var windowsize = $window.width();
                 if(windowsize > 1380 && widthConfig != "pc"){
                   columnWidth = 410;
                   widthConfig = "pc";
                   jQuery("#stream").width("1380");
                   jQuery(".river").width("1380");
                 }
                 if (windowsize < 1380 && windowsize >1024 && widthConfig != "iPad") {
                   columnWidth = 284;
                   widthConfig = "iPad";
                   jQuery("#stream").width("974");
                   jQuery(".river").width("974");
                 }
                 if (windowsize < 1024 && widthConfig != "iPhone") {
                   columnWidth = 319;
                   widthConfig = "iPhone";
                   jQuery("#stream").width("718");
                   jQuery(".river").width("718");
                 }
                 ArktanSocialStreamsConfig.visualization.columnWidth = columnWidth;
                 if(!loaded){
                     Arktan.SocialTabs.install(ArktanSocialStreamsConfig);
                     loaded = true;
                 }else{
                     Arktan.SocialTabs.applications.trend1.trend.refresh();
                 }s
             }
            
            
             // Execute on load
             if(!isiPad && !isiPhone && !isAndroid){
                 monitorWidth();
                 jQuery(window).resize(monitorWidth);				 
            }
			else{
            
                 if(isiPad){
                    ArktanSocialStreamsConfig.visualization.columnWidth = 319; 
                 }else if(isiPhone){
                    ArktanSocialStreamsConfig.visualization.columnWidth = 275; 
                 }
                 Arktan.SocialTabs.install(ArktanSocialStreamsConfig);
			}
}
       ;
function forum_created_latest() {

	var $forumCategoryLanding = jQuery(".page-forum.page-forum-");

	if ( $forumCategoryLanding.length > 0 ) {

		// Expand created info on click
		var $forumTable = jQuery("#block-views-be97a62486938aae0230cdbd8af78a79 .view-home-one-page-forum-category-landing table");
		var $createdLink = $forumTable.find(".views-field-nothing a");

		$createdLink.click(function() {
			var $viewRow = jQuery(this).parent().parent();
			var $createdInfo = $viewRow.find(".views-field-nothing-2");

			$createdInfo.slideToggle();
		});

		// page title for forum landing and forum category landing
		var title = $forumCategoryLanding.find('#page-title').text();
		var titleCnt = "<div class='tax-term-name'>" + title + "</div>";

		$forumCategoryLanding.find('#page-title').text("Forums");
		jQuery('#block-system-main .top .top-inset-2.tb-terminal').append(titleCnt);

		// add class for sticky content for forum category landing
		jQuery($forumTable.find('tr')).each(function() {
			var isSticky = jQuery.trim(jQuery(this).find('td.is-sticky').text());
			isSticky = ( isSticky === 'True' ) ? true : false;
			if ( isSticky ) {
				jQuery(this).addClass('sticky');
			}
		});

	}

}

/* ************************[=== CHANGING PAGE TITLES TO SIGN IN/UP PAGES ===]**************************
 */
function userPagesTitles() {
	if ( jQuery('body').hasClass('page-user') ) {
		if ( jQuery('#user-login').length > 0 ) {
			jQuery("#page-title").text("Sign In");
		}
		if ( jQuery('#user-register-form').length > 0 ) {
			jQuery("#page-title").text("Sign Up");
		}
		if ( jQuery('#user-pass').length > 0 ) {
			jQuery("#page-title").text("Forgot your password?");
		}
	}
}

;
/* ************************[=== SET IDs FOR MENU ITEMS ===]**************************
 */

function setNavigation() {

	jQuery(ONEPAGE.homepageBlocks.photo).find("h2").attr("id", "photos");
	jQuery(ONEPAGE.homepageBlocks.about).find("h2").attr("id", "about");
	jQuery(ONEPAGE.homepageBlocks.tour).find("h2").attr("id", "tour");

}

function hideGlobalHat() {
	jQuery('#block-views-user-profile-block-3').hide();
}

/* ************************[=== IMAGE REPLACE ===]**************************
 */

function IR_org_true(selector, ajax) {
	ajax = ( typeof ajax === "boolean" ? ajax : false );
	jQuery(selector).find("img").imgReplace({
		original : true
	});
	if (ajax) {
		jQuery(selector).ajaxComplete(function() {
			IR_org_true(selector);
		});
	}
}

/* ************************[=== HEADER NAV ===]**************************
 */
function headerNavigation() {
	var $menu;

	$menu = jQuery(ONEPAGE.menu).find(".content");
	if ($menu.length > 0) {
		$menu.click(function() {
			jQuery("ul.menu", this).slideToggle();
		});
	}
};

/* ***** ===[ MOBILE UNBIND FUNCTION ]=== **************
 */

function unBindFunction() {
	jQuery('.not-logged-in .no_overlay').unbind('click');
	jQuery('.not-logged-in .no_overlay').attr('href', '/user/login');

	jQuery('body.page-user-register.not-logged-in .form-navigation-wrapper a.user-dialog-processed ').unbind('click');
	jQuery('body.page-user-register.not-logged-in .form-navigation-wrapper a.user-dialog-processed ').attr("href", "/user/login");

	jQuery('#dialog-form-wrapper #user-register-form-dialog .form-navigation-wrapper a').unbind('click');
	jQuery('#user-register-form #edit-actions .submit-button-wrapper .form-navigation-wrapper a').unbind('click');

	jQuery('#block-block-126 li a').attr('class', '');
	jQuery('.not-logged-in #block-block-126 li a').unbind('click');
	jQuery('.not-logged-in #block-block-126 li a').attr('href', '/user/register');
	jQuery('.not-logged-in #block-block-126 li:first-child a').attr('href', '/user/login');
	
	jQuery('.not-logged-in #block-block-691 li:first-child a').attr('href', '/user/login');
	jQuery('#block-block-691 li:first-child a').attr('class', '');
	jQuery('.not-logged-in #block-block-691 li:first-child a').unbind('click');
}

function unbindLogin() {
	var unbinder = function(sel, href) {
		var $sel = jQuery(sel);
		$sel.attr('href', href);
		$sel.removeClass('use-ajax use-dialog ajax-processed use-dialog-processed user-dialog-processed');
		$sel.unbind('click');
	};

	unBindFunction();

	unbinder('#block-block-26 .signinCommLink', '/user/login');

	unbinder('#block-block-26 .joinCommLink', '/user/register');
	
	unbinder('.view-login-or-register-to-post-commen .field-content a', '/user/register');
	
	unbinder('.view-login-or-register-to-post-commen .field-content a:first-child', '/user/login');

	unbinder('body.page-user #page #main #block-system-main #user-login .form-item .description a', '/user/password');

	unbinder('body.page-user #page #main #block-system-main #user-login .form-item .description a', '/user/password');

	unbinder('body.page-user-register #user-register-form .submit-button-wrapper .form-navigation-wrapper.form-control a', '/user/login');

	unbinder('body #main #block-system-main #user-login .submit-button-wrapper .form-navigation-wrapper.form-control a', '/user/register');

	unbinder('.filter-help a', '/user/register');

	jQuery('#dialog-form-wrapper #user-register-form-dialog .form-navigation-wrapper a').unbind('click');
	jQuery('#user-register-form #edit-actions .submit-button-wrapper .form-navigation-wrapper a').unbind('click');

	jQuery('body').ajaxComplete(function() {
		unBindFunction();

		var $sign_commlink = jQuery('.signinCommLink');
		$sign_commlink.attr('href', '/user/login');
		$sign_commlink.removeClass('use-ajax use-dialog ajax-processed use-dialog-processed user-dialog-processed');
		$sign_commlink.unbind('click');

	});
}

function appendNodeAdd() {
	if (jQuery("#block-menu-menu-user-menu ul.menu li").length > 0) {
		jQuery("#block-views-user-profile-block-3 .hover-user-menu").append(jQuery("#block-menu-menu-user-menu ul.menu li"));
	}
}

/* ************************[=== ACTIVE CLASS ADDER FOR DETAIL PAGES ===]***************************/

function addActiveClass() {
	for (i in ONEPAGE.topnavhighlight) {
		var linkTOBeActive = ONEPAGE.topnavhighlight[i];
		if (jQuery('body').hasClass(i)) {
			jQuery(linkTOBeActive).find('a').addClass('active');
		}
	}
}

function memberFeedList() {
	var $feedListBlock = jQuery(ONEPAGE.activityBlock);
	$feedListBlock.find('.views-row').each(function() {
		var $this = jQuery(this);
		var classtoAdd = "forum-entry";
		if ($this.find('.views-field-video-asset').html().length > 0) {
			classtoAdd = 'video-entry';
		} else if ($this.find('.views-field-photo-asset').html().length > 0) {
			classtoAdd = "photo-entry";
		}
		$this.addClass(classtoAdd);
	});
}

function userNameReplace() {
	var meRegex = /\b(ME)\b/gi;
	var myRegex = /\b(MY)\b/gi;
	var loggedInUser = Drupal.settings.server_variables.user_name;
	var whichUserProfile = jQuery('.page-user #page-title').text().trim();
  
	if (loggedInUser !== whichUserProfile) {
		jQuery('.page-user .block').each(function() {
			var activeHeading = jQuery(this).find('.middle >  h2');
      var textToReplace = activeHeading.text();
			if (meRegex.test(textToReplace)){
				textToReplace = textToReplace.replace('Me', whichUserProfile);
				activeHeading.text(textToReplace);
			}else if (myRegex.test(textToReplace)) {
				textToReplace = textToReplace.replace('My', whichUserProfile + "'s");
				activeHeading.text(textToReplace);
			}
		});
	}
}

function blogSnShare() {
	jQuery('div.fb-like-box').each(function() {
		jQuery(this).html('<iframe src="http://www.facebook.com/plugins/like.php?href=' + jQuery(this).attr('data-href') + '&amp;send=false&amp;layout=box_count&amp;width=450&amp;show_faces=true&amp;action=like&amp;colorscheme=light&amp;font=verdana&amp;height=65" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:450px; height:65px;" allowTransparency="true"></iframe>');
	});

	jQuery(".share_button").live('click', function() {
		jQuery(this).find(".toggler").toggle();
	});
}

function merchInit() {

	/* Initializing Merch */
	var sidebarMerch = new WMG.Merch({
		"dataSel" : ONEPAGE.merchConfig.merchDataSelector,
		"targetSel" : ONEPAGE.merchConfig.merchBlockSelector
	});

	sidebarMerch.populateDOM();

	var $merchContainer = jQuery(ONEPAGE.merchConfig.merchBlockSelector);
	if ($merchContainer.length > 0) {

		var merchLayout = $merchContainer.attr('class');

		if (merchLayout.indexOf('Carousel') > -1) {
			$merchContainer.flexslider({
				selector : "ul.merchItems li.merch",
				animation : "slide",
				useCss : false,
				controlNav : true,
				namespace : "merchflex-"
			});
		}
	}

}

function setFlippyDefaultImage() {
	jQuery('body .region-content ul.flippy li').each(function() {
		var imgSrc = jQuery(this).find('img').attr('src');
		if (imgSrc.indexOf('http') == -1) {
			jQuery(this).find('img').attr('src', 'http://sandbox.wmg-gardens.com/sites/sandbox.wmg-gardens.com/files/201307/rise.jpg');
		}
	});
}

function initIScroll() {
    /* Discover Block */
    if(jQuery(".block-Discover").length > 0){
        jQuery(".block-Discover").find(".content").attr("id","discover-menu");
        var discoverScroll = new iScroll('discover-menu');
    }
   
    
    /*For Other Blocks*/
    
};


/* ************************[=== Artist specific mailing list ===]***************************/
 jQuery(document).ready(function() {
 	jQuery("#site-name a").attr("href", "/?frontpage=true");
	jQuery('.mlist-sidebar .mlist-join.mail').click(function() {
	return false;
	});
	
	jQuery('.front div#block-views-playlists-block .views-row').each(function() {
			if (jQuery(this).find('.field_stream_sub').text() == 0) {
				jQuery(this).find('.field_stream').hide();
			}

			if (jQuery(this).find('.field_buy_sub').text() == 0) {
				jQuery(this).find('.field_buy').hide();
			}
			if ((jQuery(this).find('.field_buy_sub a').attr('href')) == (jQuery(this).find('.releaselink a').attr('href'))) {
				jQuery(this).find('.releaselink a').hide();
			}

		});
  }); 


/* ************************[=== Breadcrumb 'ALL' addition ===]***************************/
  jQuery(document).ready(function() {
  	
  	jQuery( ".view-id-categories_final.view-display-id-block_2 .view-content .item-list ul li.views-row-last" ).after( "<li class='views-row views-row-even'> <a href='/posts'> All</a> </li>");
  	jQuery( ".view-id-categories_final.view-display-id-block_1 .view-content .item-list ul li.views-row-last" ).after( "<li class='views-row'> <a href='/posts'> All</a> </li>");
  	jQuery( ".view-id-categories_final.view-display-id-block .view-content .item-list ul li.views-row-last" ).after( "<li class='views-row'> <a href='/releases'> All</a> </li>");
  	// if(jQuery("#toolbar").length > 0){
  	// jQuery( ".view-id-categories_final.view-display-id-block_2 .view-content .item-list ul li.views-row-last" ).after( "<li class='views-row views-row-even'> <a href='/posts'> All</a> </li>");
  	// jQuery( ".view-id-categories_final.view-display-id-block_1 .view-content .item-list ul li.views-row-last" ).after( "<li class='views-row'> <a href='/posts'> All</a> </li>");
  	// jQuery( ".view-id-categories_final.view-display-id-block .view-content .item-list ul li.views-row-last" ).after( "<li class='views-row'> <a href='/releases'> All</a> </li>");
// 		
//   	
  	// }
  	// else{
    // jQuery( ".view-id-categories_final.view-display-id-block_2 .view-content .item-list ul li.views-row-first" ).before( "<li class='views-row views-row-even'> <a href='/posts'> All</a> </li>");
  	// jQuery( ".view-id-categories_final.view-display-id-block_1 .view-content .item-list ul li.views-row-first" ).before( "<li class='views-row'> <a href='/posts'> All</a> </li>");
  	// jQuery( ".view-id-categories_final.view-display-id-block .view-content .item-list ul li.views-row-first" ).before( "<li class='views-row'> <a href='/releases'> All</a> </li>");
// 	
  	// }
  }); 
jQuery(window).load(function(){
 if(jQuery(".view-id-categories_final.view-display-id-block .view-content .item-list ul li.views-row:first-child a").hasClass("active")){      
   jQuery( "#page-title" ).after
   ("<div class='category-description taxonomy-term-description'><p>Check out the latest music, videos, merch, and more from your favorite Atlantic Records artists.</p></div>");
   }
    });
/* ***** For 404 background image ************************************/
jQuery(document).ready(function(){ 
	var ht1= (jQuery(window).height() - 112); 
	jQuery("body.page-node-1191 .page-not-found .wrapper").css("height",ht1);
	if (Modernizr.mq("screen and (max-width:767px)" )){ 
				var ht4= (jQuery(window).height() - 82 ); 
				jQuery("body.page-node-1191 .page-not-found .wrapper").css("height",ht4);
	}
	
});   
jQuery(window).load(function(){ 
	if (Modernizr.mq("screen and (max-width:767px)" )){ 
				var ht2= (jQuery(window).height() - 83 ); 
				jQuery("body.page-node-1191 .page-not-found .wrapper").css("height",ht2);
		}
	
	else if (Modernizr.mq("screen and (min-width:768px)" )){
				var ht3= (jQuery(window).height() - jQuery("#header").height() - 1 ); 
				jQuery("body.page-node-1191 .page-not-found .wrapper").css("height",ht3);
		}
	
});  

/* ***** Artist Breadcrumb description  ************************************/

jQuery(document).ready(function(){
 if( jQuery("body").hasClass("page-artists") || jQuery("body").hasClass("page-artists-v2")){      
   jQuery( "#block-block-571 h2" ).after
   ("<div class='category-description taxonomy-term-description artist'><p>Discover the talented and diverse roster of artists and labels including Big Beat Records, Canvasback, Elektra Records, Fueled By Ramen, Maybach Music Group, and Roadrunner Records that call Atlantic Records home.</p></div>");
   }
});
   
jQuery(window).load(function(){
 jQuery("#block-block-571  .artist_category ul li.one a").click(function() {
	  jQuery( "#block-block-571 .category-description.taxonomy-term-description.artist" ).html("<p>Discover the talented and diverse roster of artists and labels including Big Beat Records, Canvasback, Elektra Records, Fueled By Ramen, Maybach Music Group, and Roadrunner Records that call Atlantic Records home.</p>")
	});   
});

jQuery(window).load(function(){
 jQuery("#block-block-571  .artist_category ul li.two a").click(function() {
	  jQuery( "#block-block-571 .category-description.taxonomy-term-description.artist" ).html("<p>Discover new music and find your favorite Atlantic Records artists.</p>")
	});   
});

jQuery(window).load(function(){
 jQuery("#block-block-571  .artist_category ul li.three a").click(function() {
	  jQuery( "#block-block-571 .category-description.taxonomy-term-description.artist" ).html("<p>Discover many of the legendary artists that built Atlantic Records and forever shaped popular music.</p>")
	});   
});

/******** Artist Mailing list DOB display ********************/

jQuery(document).ready(function(){ 
    if(jQuery("body.node-type-artist").length === 1){
	    if(!artistDetails.childArtist){
	        jQuery("#block-views-artist-detail-caurosel-block .mlist-sidebar form .mlist-dob-wrap").remove();
	    }
   	}
}); 
;
var _sf_startpt=(new Date()).getTime();
$jq18(document).ready(function() {

	switch(ONEPAGE.theme) {
		case "onepage":
			// photo
			photosFBox();
			break;

		case "onepage-a":
			break;

		case "onepage-b":
			break;

		case "onepage-isotope":

			// blog
			onepageIsotopeRelayout();

			// photo
			photosFBox();

			// video

			break;
	}

});

$jq18(window).load(function() {

	switch(ONEPAGE.theme) {
		case "onepage":
			break;

		case "onepage-a":
			break;

		case "onepage-b":
			break;

		case "onepage-isotope":
			// blog
			onepageIsotope();
			break;
	}

});

function makePinitButton() {
	jQuery('.pin-it-container').each(function() {
		var path = encodeURIComponent(jQuery(this).attr('path'));
		var media = jQuery(this).parentsUntil('ul').last().find('.views-field-body img:first');
		media = media.length ? encodeURIComponent(media.attr('src')) : "http://atlanticrecords.wmg-gardens.com/sites/g/files/g2000003466/f/styles/profile_page_avatar/http/startersitev2.wmg-gardens.com/1a434a10786a7962abaa6d0b96e7d8b2ae189c93555e42e374108971f3a197d8.jpg";
		var desc = jQuery(this).attr('desc');
		jQuery(this).append(jQuery('<a/>').attr({
			href : 'http://pinterest.com/pin/create/button/?url=' + path + '&media=' + media + '&description=' + desc,
			'class' : 'pin-it-button socialite pinterest-pinit',
			'data-pin-config' : 'above',
			'count-layout' : 'horizontal'
		}).append('<img border="0" src="//assets.pinterest.com/images/PinExt.png" title="Pin It"/>')).removeClass('pin-it-container').removeAttr('path');
	});

	jQuery('.pin-it-button').click(function(e) {
		var urltopen = jQuery(this).attr('href');
		window.open(urltopen, '', 'width=600,height=500');
		e.preventDefault();
	});
}

function makeTumblrButton() {
	jQuery('.view-home-one-page-news-detail ').each(function() {
		var tumblrURL = jQuery(this).find('.tumblr').data('href');
		if (jQuery(this).find('.tumblr a').length == 0) {
			var tumblr_link_url = tumblrURL + "?cmpid=atl/tumblr/share-on-tumblr/post-detail/";
			var tumblr_link_name = jQuery(this).find('.views-field-title').text();
			var tumblr_link_description = jQuery(this).find('.views-field-body-1 .field-content').clone();			
			tumblr_link_description = jQuery(tumblr_link_description).html();

			var tumblr_button = document.createElement("a");
			tumblr_button.setAttribute("href", "http://www.tumblr.com/share/link?url=" + encodeURIComponent(tumblr_link_url) + "&name=" + encodeURIComponent(tumblr_link_name) + "&description=" + encodeURIComponent(tumblr_link_description));
			tumblr_button.setAttribute("title", "Share on Tumblr");
			tumblr_button.setAttribute("style", "display:inline-block; padding:0px; text-indent:-9999px; overflow:hidden; width:63px; height:20px; background:url('http://platform.tumblr.com/v1/share_2.png') top left no-repeat transparent;");
			tumblr_button.setAttribute("target", "_blank");
			tumblr_button.innerHTML = "Share on Tumblr";
			jQuery(this).find('.tumblr').append(tumblr_button);
		}
	});
}

jQuery(document).ready(function() {

	if (jQuery('body').hasClass('page-node-17751')) {// To-do
		ONEPAGE.theme = 'onepage';
	} else if (jQuery('body').hasClass('page-node-17746')) {
		ONEPAGE.theme = 'onepage-a';
	} else if (jQuery('body').hasClass('page-node-17741')) {
		ONEPAGE.theme = 'onepage-b';
	} else if (jQuery('body').hasClass('page-node-17756')) {
		ONEPAGE.theme = 'onepage-isotope';
	}
	
	makePinitButton();
	makeTumblrButton();

	merchInit();
	/* Initializing Merch */

	if (ONEPAGE.mq.tabletNarrower) {
		jQuery(ONEPAGE.bidWidgets.wideLayout).hide();
		jQuery(ONEPAGE.bidWidgets.narrowLayout).show();
	}
	else{
		jQuery(ONEPAGE.bidWidgets.wideLayout).show();
		jQuery(ONEPAGE.bidWidgets.narrowLayout).hide();
	}

	switch(ONEPAGE.theme) {
		case "onepage":
			// blog
			arrangeNewsDetail();
			newsDetailClose();
			jQuery(ONEPAGE.newsList).ajaxComplete(newsDetailClose);
			hideGlobalHat();
			break;

		case "onepage-a":
			commentsFormattingAjax();
			userPagesTitles();
			responsivise();
			if (ONEPAGE.mq.desktopNarrower) {
				detailSidebar();
				categoryFormatterLR();
				profileLayoutingLR();
			}
			forum_created_latest();
			musicLanding();
			musicDisableEmpty();
			appendNodeAdd();
			break;

		case "onepage-b":
			commentsFormattingAjax();
			userPagesTitles();
			responsivise();
			if (ONEPAGE.mq.desktopNarrower) {
				detailSidebar();
				categoryFormatterLR();
				profileLayoutingLR();
			}
			
			forum_created_latest();
			musicLanding();
			musicDisableEmpty();
			appendNodeAdd();
			break;

		case "onepage-isotope":
			onepageIsotopeAJAX();
			userPagesTitles();
			commentsFormattingAjax();
			responsivise();
			if (ONEPAGE.mq.desktopNarrower) {
				detailSidebar();
				categoryFormatterLR();
				profileLayoutingLR();
				
			}
			forum_created_latest();
			musicLanding();
			musicDisableEmpty();
			appendNodeAdd();
			break;
	}

	if (jQuery('body').hasClass('node-type-blog')) {
		setFlippyDefaultImage();
	}
	
	if (jQuery(profilePage.aboutMeBlock).find('.views-row').length > 0){
		if (jQuery(profilePage.aboutMeBlock).find('.views-row').html().trim().length == 0){
			jQuery(profilePage.aboutMeBlock).hide();	
		}
	}

	if (ONEPAGE.mq.tabletNarrower) {
		_docReady_min_320();
	}
	if (ONEPAGE.mq.tabletWider) {
		_docReady_min_768();
	}

	jQuery(window).bind("orientationchange", _orientationHandler);

	setNavigation();
	addActiveClass();
	//mlistFunction();
	categoryDropdownToggle();
	profileAboutMeToggler();

	/* blog Social share */
	(function() {
		var po = document.createElement('g:plusone');
		var po = document.createElement('script');
		po.type = 'text/javascript';
		po.async = true;
		po.src = 'https://apis.google.com/js/plusone.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(po, s);
	})();
	blogSnShare();

	/* user activity feed */
	memberFeedList();
	jQuery(ONEPAGE.activityBlock).ajaxComplete(memberFeedList);

	/* user name replace */
	if (jQuery('body').hasClass('page-user')) {// To-do
		userNameReplace();
	}

	if (ONEPAGE.mq.tabletNarrower) {
		unbindLogin();
	}

	/* flexslider loading */
	jQuery('.view-id-posts_carousel.view-display-id-block_2 .item-list ul').addClass('loading');
	jQuery('.view-artist-detail-caurosel.view-id-artist_detail_caurosel .item-list ul').addClass('loading');
	jQuery('.view-artist-detail-caurosel.view-id-artist_detail_caurosel ').addClass('loading');

});

jQuery(window).resize(function() {
	responsivise();
	if (Modernizr.mq("only screen and (max-width : 1023px)")) {
		detailSidebar();
		categoryFormatterLR();
		profileLayoutingLR();
	} else {
		revertSidebar();
		categoryFormatterHR();
		profileLayoutingHR();
	}
	
	if (Modernizr.mq("only screen and (max-width : 767px)")) {
		jQuery(ONEPAGE.bidWidgets.wideLayout).hide();
		jQuery(ONEPAGE.bidWidgets.narrowLayout).show();
	}
	else{
		jQuery(ONEPAGE.bidWidgets.wideLayout).show();
		jQuery(ONEPAGE.bidWidgets.narrowLayout).hide();
	}
	
});

jQuery(window).load(function() {
	var $photoContent, autoRotate, exception, flexOpts;
	var flexDirectionNav = true;

	if (ONEPAGE.mq.tabletNarrower) {
		_windowLoad_min_320();
	}

	if (Modernizr.touch) {
		flexDirectionNav = false;
	}

	/* ************************[=== FLEXSLIDER ===]**************************/

	var roleArray = Drupal.settings.server_variables.user_roles;
	$photoContent = jQuery("#block-views-home-one-page-carousel-block-1 .view-content, .view-posts-carousel .view-content .carosel_block .image, .view-artist-detail-caurosel .view-content .carosel_block .image ");

	/* To add configure link */ 
	if ( typeof (roleArray) == "undefined") {
		isAdmin = -1;
	} else {
		var isAdmin = jQuery.inArray("administrator", roleArray);
	}

	if (isAdmin > -1) {
		$photoContent.find('li.views-row').append('<a href="/node/15346/edit" class="config-carousel">Configure</a>');
	}

	autoRotate = (jQuery.trim($photoContent.find(".views-field-field-auto-rotate .field-content").text()) === "TRUE" ? true : false );

	flexOpts = {
		selector : "ul > li",
		animation : "fade",
		directionNav : false,
		useCSS : false,
		slideshow : true,
		slideshowSpeed : 3000,
		start : function(slider) {
			$photoContent.find(".item-list").resize();
			jQuery('.view-field-collection-view-carousel-slides ul').removeClass('loading');
			jQuery('.view-posts-carousel ul').removeClass('loading');
			jQuery('.view-artist-detail-caurosel ul').removeClass('loading');
			jQuery('.view-artist-detail-caurosel.view-id-artist_detail_caurosel ').removeClass('loading');
		}
	};
	$photoContent.find(".item-list").flexslider(flexOpts);  	
});

_orientationHandler = function() {
};

_docReady_min_320 = function() {
	//mobileMenuSlidepush();
	if (jQuery(ONEPAGE.homepageBlocks.photo).length) {
		attachPhotoSwipe();
		jQuery(ONEPAGE.homepageBlocks.photo).ajaxComplete(attachPhotoSwipe);
	}
};

_windowLoad_min_320 = function() {
};

_docReady_min_768 = function() {
	// IR_org_true(ONEPAGE.view.photo, true);
	IR_org_true(".view-field-collection-view-carousel-slides");
	IR_org_true(".view-home-one-page-news", true);
	IR_org_true(".view-home-one-page-masonry", true);
	IR_org_true(".view-posts-carousel .carosel_block", true);
	IR_org_true(".view-artist-detail-caurosel", true);
};;
window._roost||(window._roost=[]),_roost.init||!function(t){function e(t){var e=document.createElement("iframe")
e.style.display="none",e.src=t,document.body.appendChild(e)}function o(t){}function s(t,e){var o=document.createElement("iframe")
o.style.display="none"
var i=!1
o.onload=function(){i=!0},setTimeout(function(){if(!i&&e){var t="Roost: "+e
P._debugLog(t)}},5e3),o.src=t,document.body.appendChild(o)}function r(){"undefined"!=typeof twttr&&"undefined"!=typeof twttr.events&&"undefined"!=typeof twttr.events.bind&&twttr.events.bind("tweet",function(t){P.push(["social_action","TWEET"])}),"undefined"!=typeof FB&&"undefined"!=typeof FB.Event&&"undefined"!=typeof FB.Event.subscribe&&(FB.Event.subscribe("edge.create",function(t){P.push(["social_action","FB_LIKE"])}),FB.Event.subscribe("edge.remove",function(t){P.push(["social_action","FB_UNLIKE"])}),FB.Event.subscribe("comment.create",function(t){P.push(["social_action","FB_COMMENT"])}),FB.Event.subscribe("comment.remove",function(t){P.push(["social_action","FB_UNCOMMENT"])}),FB.Event.subscribe("message.send",function(t){P.push(["social_action","FB_SHARE"])}))}function n(t){for(var e=[],o=0;o<_roost.length;o++)_roost[o].length&&_roost[o][0]==t?P.push(_roost[o]):e.push(_roost[o])
_roost=e}function a(e){l({url:_.pingHost+"/ping",vars:{appKey:_.appKey,referrer:encodeURIComponent((document.referrer+"").split("'").join("%27")),page:encodeURIComponent((t.location+"").split("'").join("%27")),action:"log",details:e?JSON.stringify(e):"",rdt:_.rdt}})}function l(t){t=t||{},t.url=t.url||null,t.vars=t.vars||{},t.error=t.error||function(){},t.success=t.success||function(){}
var e=[]
for(var o in t.vars)e.push(o+"="+encodeURIComponent(t.vars[o]))
var i=e.join("&")
if(t.url){var s=t.url+"?"+i,r=new Image
t.error&&(r.onerror=t.error),t.success&&(r.onload=t.success),r.src=s}}function d(t){_[t[0]]="undefined"==typeof t[1]?_[t[0]]:t[1]}function p(t){var e="undefined"==typeof t[1]?_[t[0]]:t[1]
_.onload.push(e),_.onloadData&&e(_.onloadData)}function c(t){var e="undefined"==typeof t[1]?_[t[0]]:t[1]
_.onresult.push(e),_.onresultData&&e(_.onresultData)}function g(t){return t&&t.length>0}function u(t){return t&&0===t.indexOf(G)?t.slice(G.length):t}function m(t,e){for(var o="",i=0;e>i;i++)o+=t
return o}function h(t){return!t||t&&0===t.length}function b(t,e){for(var o in e)e.hasOwnProperty(o)&&("object"==typeof e[o]?(t[o]||(t[o]={}),t[o]=b(t[o],e[o])):t[o]=e[o])
return t}function f(t){return function(e){return _.appKey?void t(e):!1}}function x(t,e,o,i){o||(o=0)
var s=new Date
s.setTime(s.getTime()+24*o*60*60*1e3)
var r=escape(e)+(null==o||0==o?"":"; expires="+s.toGMTString())+"; "+(i?" domain=."+i+"; ":"")+" path=/"
document.cookie=t+"="+r}function w(t){return document.cookie.length>0&&(c_start=document.cookie.indexOf(t+"="),-1!=c_start)?(c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function v(t,e,o){var s=function(t,e,o){return m("	",o)+t+": "+e+";\n"},r=function(t,e,o){var i=m("	",o)+t+" {\n"
return i+=v(e,o+1),i+=m("	",o)+"}\n"},n=""
if("undefined"==typeof e&&(e=0),"undefined"==typeof o&&(o=!1),t.attributes)for(i in t.attributes){var a=t.attributes[i]
if(a instanceof Array)for(var l=0;l<a.length;l++)n+=s(i,a[l],e)
else n+=s(i,a,e)}if(t.children){var d=!0
for(i in t.children)o&&!d?n+="\n":d=!1,n+=r(i,t.children[i],e)}return n}function k(t){return t&&t.origin?-1==M.indexOf(t.origin)?void P._debugLog("Skipping Roost processing message based on origin: "+t.origin,t.data):void y(t):void 0}function y(t){P._debugLog("Processing event: ",t.origin,t.data)
try{var e=JSON.parse(t.data)}catch(o){return void P._debugLog("Got invalid JSON string for event: ",t.data)}e.type&&("load"==e.type?(_.enabled=e.enabled,_.tags=e.tags,_.alias=e.alias,_.notifications=e.notifications,_.properties=e.properties,_.latLong=e.latLong,V.postPageview(!1)):"check"==e.type?(_.rdt=u(e.deviceToken),_.denied=e.denied,V.checkComplete()):"config"==e.type?(_.configName=e.configName,_.websiteDomain=e.websiteDomain,_.serviceWorkerHostPath=e.serviceWorkerHostPath,_.safariWebsitePushID=e.safariWebsitePushID,_.usePromptKit=e.usePromptKit,_.usePromptKitBell=e.usePromptKitBell,_.serviceWorkerRelativePath=e.serviceWorkerRelativePath,_.manifestRelativePath=e.manifestRelativePath,_.cnameHostname=e.cnameHostname,_.poweredBySubdomain=e.poweredBySubdomain,_.pkSettings=b(b(S,e.pkSettings),_.bellopts),V.postConfig()):"emailregistered"==e.type&&(P._debugLog("processMessage called for email"),tt.emailUI.handleResponse(e.success)))}function C(){if(!window._roostLoaded){if(window._roostLoaded=!0,g(w("roost-queryparams"))){var e=t.document.createElement("script")
return e.type="text/javascript",e.src="//cdn.goroost.com/roostjs/"+_.appKey+"?"+w("roost-queryparams"),e.async="async",void t.document.body.appendChild(e)}"true"==w("roost-debug")?(_.logging=!0,P._debugLog=window.console.log.bind(window.console)):P._debugLog=function(){},window&&window.addEventListener&&window.addEventListener("message",k,!1),r(),n("experimental"),n("chrome"),n("safari"),n("firefox"),n("host"),n("bellopts"),V.preConfig()}}var _={autoprompt:!0,appKey:"imzhfzilad2aeakdl3r3j2lkvhu0cgzl.js",experimental:!1,chrome:!0,safari:!0,firefox:!0,host:"https://go.goroost.com",nodeHost:"https://dashboard.goroost.com",pageConfigHost:"https://pageconfig.goroost.com",pageViewHost:"https://pageview.goroost.com",pingHost:"https://ping.goroost.com",onload:[],onresult:[],onloadData:null,onresultData:null,rdt:null,rid:null,tags:null,properties:null,latLong:null,alias:null,notifications:[],unreadNoteCount:0,enabled:!0,initFunction:null,idFunction:null,configName:null,websiteDomain:null,serviceWorkerHostPath:null,safariWebsitePushID:null,usePromptKit:!1,usePromptKitBell:!1,serviceWorkerRelativePath:null,manifestRelativePath:null,cnameHostname:null,denied:!1,reprompt:!1,debugging:!1,bellopts:{},pkSettings:{},poweredBySubdomain:null,bellInitialized:!1},S={height:"60px",width:"60px",lgMobileHeight:"60px",lgMobileWidth:"60px",smMobileHeight:"48px",smMobileWidth:"48px",zIndex:1e6,bellColor:"#FFF",bgColor:"#3b3b3b",absolute:!0,circular:!0,navId:"header",showUnread:"count",unreadBackgroundColor:"#e25351",unreadTextColor:"#FFF",share:!0,left:!1,top:!1,showBell:!0,bellCustomStyles:{},notificationCenterCustomStyles:{},coachmarks:!0,onPageNotification:!1,pkOptinMethod:"flyout",pkDontSend:!1,offset:{right:0,left:0,bottom:0,top:0},mobileOffset:{right:null,left:null,bottom:null,top:null},email:!1,settingsForAll:!1,regOnlyBell:!1,pkColors:{button:"#1982df",dontSend:"#1982df"},fadeOnScroll:{enabled:!1,mobileOnly:!1},useTimestamp:!1,promptOnScroll:{enabled:!1,distance:null},hideTitle:!1,customPK:{title:!1,logo:!1,deviceImage:!0},noteCenterOptIn:{useDeviceImage:!0,useLogo:!1},notesInNewWindow:!1,promptkitPage:{bgColor:"rgba(0, 0, 0, 0.7)",bgImage:null,bgBlur:"5px",checkmarkColor:"#18BD8C",useLogoSquare:!1,backLink:!1},bellOnSupportedBrowsers:!1,hideAttribution:!1,flyoutDaysRepeatInterval:7,urlSegmentation:!1,urlSegmentationBlacklist:[],text:{noteTab:"Notifications",settingsTab:"Settings",coachmark:null,noNotes:"No new notifications",flyout:{button:"Subscribe",headline:"$SITE",title:"Notifications from $SITE",message:"Get top stories sent right to your device!",callout:"Notifications from $SITE",dontSend:"Don't send"},noteCenterOptin:{title:"$SITE Notifications",body:"Get stories like the one below sent right to your desktop",button:"Subscribe",decline:"No Thanks"},subscriptionBox:"Enable Notifications",unsubConfirmation:"You've been unsubscribed",clear:"Clear All",prompt:{confirmMessage:'Click "Allow" to start receiving desktop notifications from $SITE.',button:"Subscribe",thanksMessage:"Thanks for subscribing!"}}},N=!!window.PushManager||!!navigator.push,E=!!window.Notification,I=!!navigator.serviceWorker,A=window.chrome,z=window.navigator.vendor
A=null!==A&&void 0!==A&&"Google Inc."===z?!0:!1
var B=N&&E&&I,L=!1;-1!==window.navigator.userAgent.indexOf("Firefox")&&(L=!0)
var F,T=[],P={init:!0,push:function(){for(var e=0;e<arguments.length;e++){var o=arguments[e]
o&&o.length&&q[""+o[0].toLowerCase()]?q[o[0].toLowerCase()](o):t.console.log("Invalid command: ",o)}},getCookie:w,setCookie:x,promptable:function(){return P._debugLog("promptable",g(_.rdt),_.denied,P.supportedBrowser()),g(_.rdt)||_.denied?!1:P.supportedBrowser()},supportedBrowser:function(){return"undefined"!=typeof window.safari&&"undefined"!=typeof window.safari.pushNotification?!0:_.usePromptKit&&(A||L)?!0:B?!0:!1},supportedHost:function(){return-1==window.location.href.indexOf("localhost")&&"https:"!==location.protocol?!1:document.domain!=_.websiteDomain&&"*"!==_.websiteDomain?!1:!0},prompt:function(){F.prompt()},register:function(){F.register()},promptKitRedirect:function(){F.register()},openNoteCenter:function(){o("bellclick"),tt.paneUI.show(),P._removeClass(tt.roostNodes.wrapper,tt.roostClasses.coachmarks),tt.baseUI.postRenderStyles()},showBell:function(){if(o("bellview"),!_.pkSettings.bellOnSupportedBrowsers||_roost.isSupportedBrowser()&&isLoggedIn()){if(P._isIELessThanNine(window))return void console.log("Roost: Not showing bell on Internet Explorer versions less than 9")
tt.show(),P._removeClass(P._getElById("goroostcom-bell"),"hide-bell")}},hideBell:function(){P._addClass(P._getElById("goroostcom-bell"),"hide-bell")},restartBell:function(){tt.restart()},_fireRoostCallback:function(t){_.onresultData=t,window._roostCallback&&"function"==typeof window._roostCallback&&window._roostCallback(t)
for(var e=0;e<_.onresult.length;e++){var o=_.onresult[e]
o&&"function"==typeof o&&o(_.onresultData)}},_isAutoPrompt:function(){return _.autoprompt},_isEnabled:function(){return _.enabled},_getTags:function(){return _.tags},_getAlias:function(){return _.alias},_getRID:function(){return _.rid},_getProperties:function(){return _.properties},_getLatLong:function(){return _.latLong},_domain:function(){var t=location.host,e=location.host.split(".").reverse()
return e.length>1&&-1==t.indexOf("blogger.com")&&(t=e[1]+"."+e[0]),t=t.split(":")[0]},_cookiesEnabled:function(){var t="cc"+Math.random(),e=!1
return _roost.setCookie(t,"true"),_roost.getCookie(t)&&(e=!0),_roost.setCookie(t,"",-1),e},_removeClass:function(t,e){P._hasClass(t,e)&&P._toggleClass(t,e)},_addClass:function(t,e){P._hasClass(t,e)||P._toggleClass(t,e)},_restartBell:function(){tt.restart()},_getTextWidth:function(t,e){var o=P._getTextWidth.canvas||(P._getTextWidth.canvas=document.createElement("canvas")),i=o.getContext("2d")
i.font="normal "+e+"px helvetica neue"
var s=i.measureText(t)
return s.width},_getFontSize:function(t){var e=window.getComputedStyle(t,null).getPropertyValue("font-size")
return parseFloat(e)},_getStyleWidth:function(t){var e=window.getComputedStyle(t,null).getPropertyValue("width")
return parseFloat(e)},_getScrollDistance:function(){return document.all?iebody.scrollTop:t.pageYOffset},_toggleClass:function(t,e){if(!t)return void P._debugLog("Element not found",(new Error).stack)
if(t.classList)t.classList.toggle(e)
else{for(var o=t.className.split(" "),i=-1,s=o.length;s--;)o[s]===e&&(i=s)
i>-1?o.splice(i,1):o.push(e),t.className=o.join(" ")}},_isIELessThanNine:function(t){return window.attachEvent&&!window.addEventListener},_isSmallScreen:function(t){return t.screen.width<=770},_isMediumScreen:function(t){return t.screen.width>770&&t.screen.width<=1025},_hasClass:function(t,e){return t?t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className):void P._debugLog("Element not found",(new Error).stack)},_getElById:function(t){return document.getElementById(t)},_deepCopy:function(t,e){for(var o in e)"object"==typeof e[o]&&null!==e[o]?(t[o]=t[o]||{},arguments.callee(t[o],e[o])):t[o]=e[o]
return t},_promptMinVisits:function(){if(_.minvisits>-1){if(!_roost._cookiesEnabled())return!1
var t="_r_visits",e=_roost.getCookie(t)
return e?e++:e=1,_roost.setCookie(t,e,30),_.minvisits<=e}return!1},_enqueue:function(t){T.push(t),1==T.length&&P._processQueue()},_processQueue:function(){if(T.length){var t=T[0]
t()}},_workFinished:function(){T.length&&(T.shift(),P._processQueue())},_state:function(){var t={appKey:_.appKey,rdt:_.rdt,serviceWorker:{hasPush:N,hasNotification:E,hasServiceWorker:I,supportsSWPush:B},cookies:{banner:tt.bannerCookie.get(),flyout:tt.flyoutCookie.get(),noteCenterOpen:tt.paneCookie.get(),notesRead:tt.readCookie.get()}}
console.log("Roost: STATE: ",t)},_resetCookies:function(){for(var t=["roost-isopen","roost-nothanks","roost-flyout","roost-notes-read","_rpkd","_r_visits"],e=0;e<t.length;e++)document.cookie=t[e]+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"
console.log("Roost: Cookies Cleared: ",t)},_deviceInfo:function(){var e="https://dashboard.goroost.com/dashboard/deviceinfo/"+encodeURIComponent(_.rdt)+"/"+encodeURIComponent(_.appKey)
t.location=e}},M=[_.host,"https://"+document.domain,"http://192.168.0.7:8081","http://localhost:8081","http://localhost:9000","http://localhost:8000","http://localhost:8040","http://localhost:8050","http://go.goroost.com","https://go.goroost.com","http://cdn.goroost.com","https://cdn.goroost.com","http://dashboard.goroost.com","https://dashboard.goroost.com","http://pageconfig.goroost.com","https://pageconfig.goroost.com","http://pageview.goroost.com","https://pageview.goroost.com","http://ping.goroost.com","https://ping.goroost.com"],O=f(function(t){for(var e=[],o=1;o<t.length;o++)e.push(t[o])
var i=t[0]
if("tags"==i||"segments"==i)_.tags=e
else if("segments_add"==i)_.tags?_.tags=_.tags.concat(e):_.tags=e
else if("segments_clear"==i)_.tags&&(_.tags=[])
else if("segments_remove"==i&&_.tags){for(var s=0;s<e.length;s++){var r=e[s],n=_.tags.indexOf(r)
n>-1&&_.tags.splice(n,1)}_.tags=_.tags.concat(e)}P._enqueue(function(){_.rdt?l({url:_.pingHost+"/ping",vars:{action:i,appKey:_.appKey,tags:JSON.stringify(e),rdt:_.rdt},success:P._workFinished}):P._workFinished()})}),R=f(function(t){var e=null
t&&2==t.length&&(e=t[1])
var o=t[0]
"alias"==o?_.alias=e:"alias_clear"==o&&(_.alias=null),P._enqueue(function(){_.rdt?l({url:_.pingHost+"/ping",vars:{action:t[0],appKey:_.appKey,alias:e,rdt:_.rdt},success:P._workFinished}):P._workFinished()})}),K=f(function(t){var e=t[0],o="",i=_.properties
if("properties"==e){var s={}
if(o=t[1],!U(o))return P._debugLog("Invalid properties JSON received:",o),void P._workFinished()
o=JSON.parse(o)
for(var r in o)s[r]=W(D(o[r]))
i=s}else if("properties_add"==e){if(o=t[1],!U(o))return P._debugLog("Invalid properties JSON received:",o),void P._workFinished()
if(o=JSON.parse(o),i)for(var r in o)i.hasOwnProperty(r)?i[r]=W(i[r].concat(o[r])):i[r]=W(D(o[r]))
else for(var r in o)i[r]=W(D(o[r]))}else if("properties_clear"==e)i={}
else if("properties_remove"==e){var n=t[1]
if(!U(n))return P._debugLog("Invalid properties JSON received:",n),void P._workFinished()
n=JSON.parse(n)
for(var r in n)if(i.hasOwnProperty(r)){if(Array.isArray(n[r]))for(var a=0;a<n[r].length;a++)i[r].indexOf(n[r][a]>-1)&&i[r].splice(i[r].indexOf(n[r][a]),1)
else Array.isArray(n[r])||i[r].indexOf(n[r]>-1)&&i[r].splice(i[r].indexOf(n[r]),1)
0==i[r].length&&delete i[r],(0==n[r].length||""===n[r])&&delete i[r]}}_.properties=i,P._enqueue(function(){_.rdt?l({url:_.pingHost+"/ping",vars:{action:"properties",appKey:_.appKey,properties:JSON.stringify(i),rdt:_.rdt},success:P._workFinished}):P._workFinished()})}),D=function(t){return Array.isArray(t)?t:[t]},W=function(t){for(var e=t.concat(),o=0;o<e.length;++o)for(var i=o+1;i<e.length;++i)e[o]===e[i]&&e.splice(i--,1)
return e},U=function(t){try{JSON.parse(t)}catch(e){return!1}return!0},H=f(function(t){var e=t[0],o=[],i=_.latLong
if("latlong"==e)return console.log("can not SET latLong -- use latlong_add instead"),void P._workFinished()
if("latlong_add"==e){if(o=t[1],!J(o))return void P._workFinished()
i.push(o)}else{if("latlong_clear"==e)return console.log("can not CLEAR latLong -- use latlong_remove instead"),void P._workFinished()
if("latlong_remove"==e){var s=t[1]
if(void 0===i[s])return void P._workFinished()
i.splice(s,1)}}_.latLong=i
var r=JSON.stringify(_.latLong)
P._enqueue(function(){_.rdt?l({url:_.pingHost+"/ping",vars:{action:"latlong",appKey:_.appKey,latLong:r,rdt:_.rdt},success:P._workFinished}):P._workFinished()})}),J=function(t){if(2!==t.length)return!1
for(var e=0;2>e;e++)if("number"!=typeof t[e])return!1
return!0},q={appKey:function(){},onload:p,onresult:c,host:d,experimental:d,chrome:d,firefox:d,bellopts:d,safari:d,minvisits:d,tags:O,segments:O,segments_add:O,segments_remove:O,segments_clear:O,alias:R,alias_clear:R,properties:K,properties_add:K,properties_remove:K,properties_clear:K,latlong:H,latlong_add:H,latlong_remove:H,latlong_clear:H,autoprompt:d,prompt:function(){_roost.prompt&&_roost.prompt()},log:function(t){a(t[1])},social_action:f(function(t){l({url:_.pingHost+"/ping",vars:{action:"socialAction",appKey:_.appKey,useraction:t[1],rdt:_.rdt}})}),enable:f(function(t){P._enqueue(function(){l({url:_.pingHost+"/ping",vars:{action:"enable",appKey:_.appKey,enable:t[1],rdt:_.rdt},success:P._workFinished})})})},G="https://android.googleapis.com/gcm/send/",V={preConfig:function(){P._debugLog("#STAGE: preConfig"),V.config()},config:function(){P._debugLog("#STAGE: config"),e(_.pageConfigHost+"/pageconfig?appKey="+encodeURIComponent(_.appKey)+"&url="+encodeURIComponent(document.URL))},postConfig:function(){P._debugLog("#STAGE: postConfig"),P._debugLog("hasPush",N,"hasNotification",E,"hasServiceWorker",I,"supportsSWPush",B),_.usePromptKit?_.safari&&window&&"undefined"!=typeof window.safari?F=Q.safariPromptKit:(_.chrome&&A||_.firefox&&L)&&(F=Q.chromePromptKit):_.safari&&window&&"undefined"!=typeof window.safari?F=Q.safari:B&&("vxutzmlpw56gxubzi60plwtf6f9bus8t"==_.appKey?F=_.chrome&&A||_.firefox&&L?Q.serviceWorkers:Q.serviceWorkers:"https:"!=window.location.protocol&&-1==document.domain.indexOf("localhost")?console.log("Roost Error: Domain must use HTTPS to use Roost for Chrome."):F=_.chrome&&A||_.firefox&&L?Q.serviceWorkers:Q.serviceWorkers),F?F.check():V.checkComplete()},checkComplete:function(){P._debugLog("#STAGE: checkComplete"),V.prePageview()},prePageview:function(){P._debugLog("#STAGE: prePageview"),V.pageview()},pageview:function(){P._debugLog("#STAGE: pageview"),e(_.pageViewHost+"/pageview?rdt="+encodeURIComponent(_.rdt)+"&rid="+encodeURIComponent(_.rid)+"&appKey="+encodeURIComponent(_.appKey)+"&url="+encodeURIComponent(document.URL)+"&referrer="+encodeURIComponent(document.referrer))},postPageview:function(t){P._debugLog("#STAGE: postPageview")
for(var e=0;e<_roost.length;e++)P.push(_roost[e])
_roost=P,_roost._o=_,_.usePromptKitBell&&("undefined"!=typeof tt?(tt.init.DOM(),tt.updateCount(),_.pkSettings.showBell&&P.showBell()):P._debugLog("Roost: Not showing bell as RoostJS was flagged to not include it.")),V.onload(t)},onload:function(t){P._debugLog("#STAGE: onload"),_.onloadData={promptable:_roost.promptable()}
for(var e=0;e<_.onload.length;e++){var o=_.onload[e]
o&&"function"==typeof o&&o(_.onloadData)}t||V.prePrompt()},prePrompt:function(){P._debugLog("#STAGE: prePrompt"),V.prompt()},prompt:function(){if(P._debugLog("#STAGE: prompt"),!F)return void console.log("Roost: No supported implementation, cannot prompt.")
var t=_roost._promptMinVisits(),e=_roost._isAutoPrompt()
P._debugLog("prompt",e,t),(e||t||_.reprompt)&&!_.pkSettings.promptOnScroll.enabled?F.prompt():(g(_.rdt)||_.denied)&&V.onresult(!1,g(_.rdt))},onresult:function(t,e){P._debugLog("#STAGE: onresult"),_roost._fireRoostCallback({firstTime:t,deviceToken:_.rdt,registered:e,denied:_.denied,enabled:_roost._isEnabled(),tags:_roost._getTags(),alias:_roost._getAlias(),properties:_roost._getProperties(),latLong:_roost._getLatLong()}),_.usePromptKitBell&&t&&_.pkSettings.showBell&&"undefined"!=typeof tt&&tt.restart(),P._debugLog("#STAGE: done loading!")}},Q={safari:{check:function(){var t=window.safari.pushNotification.permission(_.safariWebsitePushID)
"granted"===t.permission?_.rdt=t.deviceToken:"denied"===t.permission&&(_.denied=!0),V.checkComplete()},register:function(){Q.safari.prompt()},prompt:function(){var t=window.safari.pushNotification.permission(_.safariWebsitePushID)
if("default"===t.permission){Q.safari.internal.watchPrompt=setInterval(function(){var t=window.safari.pushNotification.permission(_.safariWebsitePushID)
"granted"!=t.permission||Q.safari.internal.firedCallback||(Q.safari.internal.firedCallback=!0,V.onresult(!0,"denied"!=t.permission)),"denied"===t.permission&&(Q.safari.internal.firedCallback=!0,_.denied=!0,V.onresult(!0,"denied"!=t.permission)),Q.safari.internal.firedCallback&&clearInterval(Q.safari.internal.watchPrompt)},1e3)
var e={tags:Y.getTags(),alias:_roost._getAlias(),properties:_roost._getProperties()}
window.safari.pushNotification.requestPermission("https://go.goroost.com/register/native/safari/"+_.appKey,_.safariWebsitePushID,{website:encodeURIComponent(location.href),data:JSON.stringify(e)},Q.safari.internal.safariCallback)}else"granted"==t.permission?V.onresult(!1,!0):V.onresult(!1,!1)},internal:{firedCallback:!1,watchPrompt:null,safariCallback:function(t){Q.safari.internal.watchPrompt&&(clearInterval(Q.safari.internal.watchPrompt),Q.safari.internal.watchPrompt=null),_.rdt=t.deviceToken,Q.safari.internal.firedCallback||("denied"===t.permission&&(_.denied=!0),Q.safari.internal.firedCallback=!0,V.onresult(!0,"denied"!=t.permission))}}},serviceWorkers:{check:function(){function t(t){var e=null
if(t instanceof Array){if(0==t.length)return console.log("Roost Error: Could not get a handle to our ServiceWorker."),V.checkComplete(),void(_.reprompt=!0)
var o=_.serviceWorkerRelativePath.length>0?_.serviceWorkerRelativePath:"/roost_worker.js"
for(i=0;i<t.length;i++)if(t[i].active.scriptURL.indexOf(o)>-1){e=t[i]
break}}return e?void e.pushManager.getSubscription().then(function(t){if(t){var e=null
e="subscriptionId"in t?t.subscriptionId:t.endpoint,_.rdt=u(e)}V.checkComplete()}):(console.log("Roost Error: Could not get a handle to our ServiceWorker."),V.checkComplete(),void(_.reprompt=!0))}function e(t){console.log("Roost Error: Could not access serviceworker: ",t),V.checkComplete()}var o=document.createElement("link")
o.rel="manifest",o.href=Q.serviceWorkers.internal.manifestPath(),document.head.appendChild(o),"granted"===Notification.permission?"function"==typeof navigator.serviceWorker.getRegistrations?navigator.serviceWorker.getRegistrations().then(t,e):navigator.serviceWorker.ready.then(t,e):"denied"===Notification.permission?(_.denied=!0,V.checkComplete()):V.checkComplete()},register:function(){Q.serviceWorkers.prompt()},prompt:function(){var t=Y.getTags(),o=_roost._getAlias(),i=_roost._getProperties(),r="&appKey="+_.appKey
o&&(r+="&alias="+encodeURIComponent(o))
for(var n=0;n<t.length;n++){var a=t[n]
r+="&tag="+encodeURIComponent(a)}if(i&&(r+="&properties="+encodeURIComponent(JSON.stringify(i))),r+="&firstTime=true&secure=true",-1==window.location.href.indexOf("localhost")&&"https:"!==location.protocol)return void console.log("Roost: Chrome requires the page to be SSL or localhost to support push.")
if(!g(Q.serviceWorkers.internal.swPath()))return void console.log("Roost Error: Config has no supported Chrome registration methods.")
if("https:"!=window.location.protocol&&-1==document.domain.indexOf("localhost"))return void console.log("Roost Error: Domain must use HTTPS to use Roost for Chrome.")
if("*"!=_.websiteDomain&&document.domain!=_.websiteDomain)return void console.log("Roost Error: Domains do not match and Chrome push can only support a single config / domain, this site is currently configured for: "+_.websiteDomain+" and document.domain is returning: "+document.domain)
var l=Q.serviceWorkers.internal.swPath(),d="Files to support chrome registrations are not installed correctly on this domain: "+l
s(l,d),e(_.host+"/api/frame/register?prompt=true&appKey="+_.appKey),Notification.requestPermission(function(t){if(_.logging&&console.log("ROOST: Notification.requestPermission result.",t),"granted"===t){var e=Q.serviceWorkers.internal.swPath(),o=Q.serviceWorkers.internal.swScope()
navigator.serviceWorker.register(e,{scope:o}).then(function(t){var e
t.installing?e=t.installing:t.waiting?e=t.waiting:t.active&&(e=t.active),e&&("activated"===e.state&&Q.serviceWorkers.subscribe(t,r),e.addEventListener("statechange",function(e){"activated"===e.target.state&&Q.serviceWorkers.subscribe(t,r)}))},function(t){console.log("Roost Error: Could not register service worker.  Validate correct file installed: "+e,t)})}else"denied"===t?(_.denied=!0,_.rdt=null,_.enabled=!1,V.onresult(!1,g(_.rdt))):(_.enabled=!1,_.rdt=null,V.onresult(!1,g(_.rdt)))})},subscribe:function(t,o){t.pushManager.subscribe({userVisibleOnly:!0}).then(function(t){_.logging&&console.log("ROOST: registered",t)
var i=null,s=null,r=null
"subscriptionId"in t?(i=t.subscriptionId,r=_.host+"/api/frame/register?deviceToken="+encodeURIComponent(i)+o):(i=t.endpoint,s=t,r=_.host+"/api/frame/register?deviceToken="+encodeURIComponent(i)+"&subscription="+encodeURIComponent(JSON.stringify(s))+o),e(r),_.rdt=u(i),_.enabled=!0,V.onresult(!0,g(_.rdt))},function(t){console.log(t)})},internal:{swPath:function(){return g(_.serviceWorkerRelativePath)?_.serviceWorkerRelativePath:Q.serviceWorkers.internal.swScope()+"roost_worker.js"},swHostPath:function(){return g(_.serviceWorkerHostPath)?_.serviceWorkerHostPath:Q.serviceWorkers.internal.swScope()+"roost.html"},manifestPath:function(){return g(_.manifestRelativePath)?_.manifestRelativePath:Q.serviceWorkers.internal.swScope()+"roost_manifest.json"},swScope:function(){if(g(_.serviceWorkerRelativePath)){var t=_.serviceWorkerRelativePath
return t&&-1!=t.indexOf("/")?t.substring(0,t.lastIndexOf("/"))+"/":"/"}var e=_.serviceWorkerHostPath
return e&&-1!=e.indexOf("/")?e.substring(0,e.lastIndexOf("/"))+"/":"/"}}},safariPromptKit:{check:function(){e(Q.promptKit.internal.pkDomain()+"/promptkit.html?appKey="+_.appKey+"#safaricheck")
var t=window.safari.pushNotification.permission(_.safariWebsitePushID)
"granted"==t.permission?Q.promptKit.internal.postState(t.deviceToken,!1):"default"==t.permission?Q.promptKit.internal.postState(null,!1):Q.promptKit.internal.postState(null,!0)},register:function(){Q.safariPromptKit.prompt()},prompt:function(){var t=window.safari.pushNotification.permission(_.safariWebsitePushID)
if("default"==t.permission){Q.safariPromptKit.internal.watchPrompt=setInterval(function(){var t=window.safari.pushNotification.permission(_.safariWebsitePushID)
"granted"!=t.permission&&"denied"!=t.permission||Q.safariPromptKit.internal.firedCallback||Q.safariPromptKit.internal.safariCallback(t),Q.safariPromptKit.internal.firedCallback&&clearInterval(Q.safariPromptKit.internal.watchPrompt)},1e3)
var e={tags:Y.getTags(),alias:_roost._getAlias(),properties:_roost._getProperties()}
window.safari.pushNotification.requestPermission("https://go.goroost.com/register/native/safari/"+_.appKey,_.safariWebsitePushID,{website:encodeURIComponent(location.href),data:JSON.stringify(e)},Q.safariPromptKit.internal.safariCallback)}},internal:{firedCallback:!1,watchPrompt:null,safariCallback:function(t){e("granted"==t.permission?Q.promptKit.internal.pkDomain()+"/promptkit.html?appKey="+_.appKey+"#safariaccept":Q.promptKit.internal.pkDomain()+"/promptkit.html?appKey="+_.appKey+"#safarireject"),Q.safariPromptKit.internal.firedCallback=!0}}},chromePromptKit:{check:function(){s(Q.promptKit.internal.pkDomain()+"/promptkit.html?appKey="+_.appKey+"#check","Could not check promptKit registration via iframe.")},register:function(){window.location.href=Q.promptKit.internal.pkDomain()+"/promptkit.html?appKey="+_.appKey+"#register"},prompt:function(){switch(_.pkSettings.pkOptinMethod){case"flyout":tt.showPromptKit()
break
case"none":break
default:console.log("Invalid pkOptinMethod, no prompt set. Valid options are: 'flyout', 'none'")}}},promptKit:{register:function(){window.location.href=Q.promptKit.internal.pkDomain()+"/promptkit.html?appKey="+_.appKey+"#register"},internal:{pkDomain:function(){if(g(_.poweredBySubdomain)){var t="https://"+_.poweredBySubdomain+".poweredby.goroost.com"
return M.push(t),t}if(g(_.cnameHostname)){var t="https://"+_.cnameHostname
return M.push(t),t}var e=document.domain.split(".")
if(!(e.length<2)){var o="https://push."+e[e.length-2]+"."+e[e.length-1]
return M.push(o),o}},postState:function(t,e){var o={data:JSON.stringify({type:"check",deviceToken:t,denied:e})}
y(o,"*")}}}},Y={getTags:function(){var t=_roost._getTags()
if(!_.pkSettings.urlSegmentation)return t
for(var e=document.location.href.split(document.location.host)[1],o=e.split("/").slice(1),i=0;i<o.length;i++)-1===_.pkSettings.urlSegmentationBlacklist.indexOf(o[i])&&t.push(o[i])
return t}},j={notificationsTitle:"",appKey:"",siteName:"",promptMessage:"Get top stories sent right to your device!",promptCTA:"Subscribe",dontSend:"Don't send",buttonColor:"#1982df",dontSendColor:"#1982df",buttonHover:"#2d9bfc",promptStyles:"",promptDelay:7,promptThreshold:35,qualifyOnLoad:function(){var t=P._getElById("roost-qualify-outer")
t||(j.addQualifyDiv(),tt.generateCSS(),j.adjustQualifyForPlatform())},addQualifyDiv:function(){var e='<div id="roost-qualify-outer" class="roost-reset">'
e+='<div id="roost-modal"></div>',e+='<div id="roost-wrapper">',e+='<div id="roost-slide-out-header">',_.pkSettings.customPK.title&&(e+='<div id="roost-slide-out-headline">'+j.notificationsTitle+"</div>"),e+='<div id="roost-qualify-dismiss"><a id="roost-x"><img src="//s3.amazonaws.com/roost/promptkit/roost-x-gray.png" /></a></div>',_.pkSettings.customPK.title&&(e+="<hr />"),e+="</div>",_.pkSettings.customPK.logo&&(e+='<div id="roost-slide-out-logo"><img src="'+_.host+"/api/browser/logo?size=100&direct=true&appKey="+_.appKey+'" /></div>'),e+='<div id="roost-slide-out-banner">',e+='<div id="roost-slide-out-slug">'+j.siteName+"</div>",e+='<div id="roost-slide-out-desc">'+j.promptMessage+"</div>",e+='<div id="roost-subscribe-button">'+j.promptCTA+"</div>",_.pkSettings.pkDontSend&&(e+='<div id="roost-slide-out-dontsend">'+j.dontSend+"</div>"),e+="</div>",_.pkSettings.customPK.deviceImage&&(e+='<div id="roost-slide-out-device"></div>'),e+="</div>",e+="</div>"
var o=t.document.createElement("div")
o.innerHTML=e,t.document.getElementsByTagName("body")[0].appendChild(o),P._getElById("roost-qualify-dismiss").addEventListener("click",function(t){j.declineQualifier()}),_.pkSettings.pkDontSend&&P._getElById("roost-slide-out-dontsend").addEventListener("click",function(t){j.declineQualifier()}),P._getElById("roost-subscribe-button").addEventListener("click",function(t){P.register(),j.declineQualifier()})},adjustQualifyForPlatform:function(){-1!==navigator.platform.toLowerCase().indexOf("win")&&t.document.getElementById("roost-slide-out-device")&&(t.document.getElementById("roost-slide-out-device").style.backgroundImage="url(https://s3.amazonaws.com/roost/promptkit/laptop-windows.png)"),tt.compensateTextLength()},showQualifier:function(t){var e=P._getElById("roost-qualify-outer")
t&&j.canShowQualifier()&&e||(t=!1)
var o=P._getElById("roost-wrapper"),i=Number(_.pkSettings.zIndex)+1e3
o.style.zIndex=String(i),e.style.display=t?"block":"none"},declineQualifier:function(){t.document.getElementById("roost-wrapper").style.right="-5px",P._getElById("roost-wrapper").style.right="-5px",P._addClass(P._getElById("roost-wrapper"),"roost-wrapper-dismissed"),P._addClass(P._getElById("roost-modal"),"roost-wrapper-dismissed")
var e=new Date
e.setDate(e.getDate()+j.promptDelay)
var o=86400*j.promptDelay
t.document.cookie="_rpkd=1; path=/; expires="+e+"; max-age="+o,j.showQualifier(!1)},clearDecline:function(){t.document.cookie="_rpkd=; expires=Thu, 01 Jan 1970 00:00:00 GMT; max-age=0"},promptForRoost:function(){P._addClass(P._getElById("roost-wrapper"),"roost-wrapper-dismissed"),P._addClass(P._getElById("roost-modal"),"roost-wrapper-dismissed"),P.register()},canShowQualifier:function(){if(P._cookiesEnabled()){var t=P.getCookie("_rpkd")
return t.length>0?!1:!0}var e=Math.floor(100*Math.random())
return e>=j.promptThreshold?!1:!0},init:function(){_.pkSettings.text.flyout.title=_.pkSettings.text.flyout.title.replace("$SITE",_.configName),_.pkSettings.text.flyout.headline=_.pkSettings.text.flyout.headline.replace("$SITE",_.configName),_.pkSettings.text.flyout.callout=_.pkSettings.text.flyout.callout.replace("$SITE",_.configName),j.notificationsTitle=_.pkSettings.text.flyout.title,j.siteName=_.pkSettings.text.flyout.callout,j.promptCTA=_.pkSettings.text.flyout.button,j.promptMessage=_.pkSettings.text.flyout.message,j.dontSend=_.pkSettings.text.flyout.dontSend,j.buttonColor=_.pkSettings.pkColors.button,j.dontSendColor=_.pkSettings.pkColors.dontSend,j.appKey=_.appKey,j.promptDelay=_.pkSettings.flyoutDaysRepeatInterval,j.qualifyOnLoad(),j.showQualifier(!0)}},$=t.document,Z=($.documentElement,$.getElementsByTagName("body")[0],'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve" id="roost-bell"> <style type="text/css"> .st1 { display:none;} .st2 { display:inline;} .st3 { fill: none;stroke:#A7A9AB;stroke-width:5.000000e-02;stroke-miterlimit:10;stroke-dasharray:0.1001,0.1001;} .st4 { display:inline;fill:none;stroke:#A7A9AB;stroke-width:5.000000e-02;stroke-miterlimit:10;stroke-dasharray:0.1;} </style> <g id="Layer_3"> <g> <path class="st0" d="M28,21.7c0-2.5-1.1-5.4-3.1-7.6c-1.9-2.1-3.4-1.9-3.4-3.6C21.5,9.7,20.8,9,20,9s-1.5,0.7-1.5,1.5c0,1.6-1.6,1.4-3.4,3.6c-2,2.2-3.1,5.1-3.1,7.6c0,2.7-2,2.5-2,4.3c0,2.5,3.9,4,10,4s10-1.5,10-4C30,24.2,28,24.4,28,21.7z"/> <path class="st0" d="M22.5,30.9C21.6,31,21,31,20,31s-1.6,0-2.5-0.1c-0.1,0-0.2,0.1-0.2,0.2S18,33,20,33s2.8-1.7,2.8-1.9S22.6,30.9,22.5,30.9z"/> </g> </g> <g id="Circles" class="st1"> <g class="st2"> <circle class="st3" cx="20" cy="30" r="3"/> </g> <circle class="st4" cx="28" cy="26" r="2"/> <circle class="st4" cx="12" cy="26" r="2"/> <circle class="st4" cx="20" cy="10.5" r="1.5"/> <circle class="st4" cx="20" cy="19" r="7"/> <circle class="st4" cx="17.5" cy="31.1" r="0.2"/> <circle class="st4" cx="22.5" cy="31.1" r="0.3"/> </g> </svg> <p id="roost-bubble-count"></p>'),X='<div id="roost-overlay"></div> <div id="roost-notifications-head"> <!-- CLOSE ICON --><div id="roost-close-pane"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="11" height="11" viewBox="0 0 11 11" id="roost-close"> <path d="M11.001,9.625 C11.001,9.625 9.625,11.001 9.625,11.001 C9.625,11.001 5.500,6.875 5.500,6.875 C5.500,6.875 1.375,11.001 1.375,11.001 C1.375,11.001 -0.001,9.625 -0.001,9.625 C-0.001,9.625 4.125,5.500 4.125,5.500 C4.125,5.500 -0.001,1.375 -0.001,1.375 C-0.001,1.375 1.375,-0.001 1.375,-0.001 C1.375,-0.001 5.500,4.125 5.500,4.125 C5.500,4.125 9.625,-0.001 9.625,-0.001 C9.625,-0.001 11.001,1.375 11.001,1.375 C11.001,1.375 6.875,5.500 6.875,5.500 C6.875,5.500 11.001,9.625 11.001,9.625 Z" id="path-1" class="cls-2" fill-rule="evenodd"/> </svg></div> <!-- NOTIFICATION TITLE --> <p id="roost-notifications-title">Notifications</p> <p id="roost-gear">Settings</p> </div> <!-- SETTINGS MENU --> <div id="roost-settings"> <input type="checkbox" id="roost-disable"/> <p id="roost-disable-text">Send me desktop notifications</p>  <p id="roost-email-text" class="roost-hide">Send me notifications via email</p><div id="roost-email-input-wrapper" class="roost-hide"> <input type="text" id="roost-email-input"/> <button id="roost-email-submit">Submit</button> </div><p id="roost-email-success" class="roost-hide">Thanks! Check your email soon.</p><p id="roost-email-failure" class="roost-hide">There was an issue registering your email address. Is your email entered correctly?</p> <p id="roost-disable-confirmation" class="roost-hide">You&apos;ve been unsubscribed.</p><p id="roost-enable-confirmation" class="roost-hide">You&apos;ve been subscribed. Enjoy!</p> <div id="roost-spinner"></div> </div> <!-- NOTIFICATION LIST--> <ul id="roost-data"> </ul> <!-- CLEAR ALL --> <p id="roost-clear-all">Clear all</p><!-- SHARE ICON --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="11" height="12" viewBox="0 0 11 12" id="roost-share-template"> <image xlink:href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAMBAMAAABGh1qtAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEWUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJT///95LpK7AAAADXRSTlMASeYq+OcUleuY5EqWN52rBAAAAAFiS0dEDm+9ME8AAAAJcEhZcwAACxIAAAsSAdLdfvwAAAA/SURBVAjXY2BgYGBUEgCSDEx3FUCUyd0AIJneGbWBQUizPQHI1r1iwICgtq4ECwKV9ED0mUD0MYH1MXBHbQAATRQO8Wsew14AAAAASUVORK5CYII=" width="11" height="12"/> </svg><!-- FACEBOOK ICON --><svg xmlns="http://www.w3.org/2000/svg" id="roost-shareicon-fb" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="32" height="32" viewBox="0 0 32 32">  <path d="M30.234,0.000 C30.234,0.000 1.766,0.000 1.766,0.000 C0.791,0.000 0.000,0.791 0.000,1.766 C0.000,1.766 0.000,30.234 0.000,30.234 C0.000,31.209 0.791,32.000 1.766,32.000 C1.766,32.000 17.092,32.000 17.092,32.000 C17.092,32.000 17.092,19.608 17.092,19.608 C17.092,19.608 12.922,19.608 12.922,19.608 C12.922,19.608 12.922,14.779 12.922,14.779 C12.922,14.779 17.092,14.779 17.092,14.779 C17.092,14.779 17.092,11.217 17.092,11.217 C17.092,7.084 19.616,4.833 23.304,4.833 C25.070,4.833 26.588,4.965 27.030,5.023 C27.030,5.023 27.030,9.343 27.030,9.343 C27.030,9.343 24.473,9.344 24.473,9.344 C22.468,9.344 22.079,10.297 22.079,11.695 C22.079,11.695 22.079,14.779 22.079,14.779 C22.079,14.779 26.862,14.779 26.862,14.779 C26.862,14.779 26.239,19.608 26.239,19.608 C26.239,19.608 22.079,19.608 22.079,19.608 C22.079,19.608 22.079,32.000 22.079,32.000 C22.079,32.000 30.234,32.000 30.234,32.000 C31.209,32.000 32.000,31.209 32.000,30.234 C32.000,30.234 32.000,1.766 32.000,1.766 C32.000,0.791 31.209,0.000 30.234,0.000 Z" id="path-1" class="cls-2" fill-rule="evenodd"/> </svg> <!-- TWITTER ICON --> <svg xmlns="http://www.w3.org/2000/svg" id="roost-shareicon-twitter" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="32" height="32" viewBox="0 0 32 32"> <path d="M30.000,32.000 C30.000,32.000 2.000,32.000 2.000,32.000 C0.895,32.000 -0.000,31.105 -0.000,30.000 C-0.000,30.000 -0.000,2.000 -0.000,2.000 C-0.000,0.895 0.895,0.000 2.000,0.000 C2.000,0.000 30.000,0.000 30.000,0.000 C31.105,0.000 32.000,0.895 32.000,2.000 C32.000,2.000 32.000,30.000 32.000,30.000 C32.000,31.105 31.105,32.000 30.000,32.000 ZM26.829,7.195 C25.968,7.724 25.015,8.108 24.000,8.315 C23.187,7.418 22.029,6.857 20.748,6.857 C18.288,6.857 16.293,8.924 16.293,11.473 C16.293,11.835 16.332,12.187 16.408,12.525 C12.706,12.333 9.423,10.495 7.226,7.702 C6.842,8.384 6.623,9.177 6.623,10.023 C6.623,11.624 7.409,13.037 8.604,13.865 C7.874,13.841 7.187,13.633 6.587,13.288 C6.586,13.307 6.586,13.326 6.586,13.346 C6.586,15.582 8.122,17.448 10.160,17.872 C9.786,17.978 9.392,18.034 8.986,18.034 C8.699,18.034 8.420,18.005 8.148,17.951 C8.715,19.785 10.360,21.120 12.310,21.157 C10.785,22.395 8.864,23.133 6.777,23.133 C6.417,23.133 6.063,23.112 5.714,23.069 C7.686,24.379 10.027,25.143 12.543,25.143 C20.738,25.143 25.219,18.109 25.219,12.009 C25.219,11.808 25.214,11.609 25.206,11.411 C26.076,10.760 26.831,9.947 27.429,9.022 C26.630,9.389 25.771,9.637 24.870,9.749 C25.790,9.177 26.496,8.273 26.829,7.195 Z" id="path-1" class="cls-2" fill-rule="evenodd"/> </svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="7" height="14" viewBox="0 0 7 14" id="roost-banner-arrow"> <defs> <style> .cls-2 {fill: #3b3b3b; opacity: 0.6; } </style> </defs> <path d="M7.012,7.420 C7.012,7.420 1.420,14.012 1.420,14.012 C1.420,14.012 -0.012,12.580 -0.012,12.580 C-0.012,12.580 3.875,7.000 3.875,7.000 C3.875,7.000 -0.012,1.420 -0.012,1.420 C-0.012,1.420 1.420,-0.012 1.420,-0.012 C1.420,-0.012 7.012,6.580 7.012,6.580 C7.012,6.580 6.300,7.000 6.300,7.000 C6.300,7.000 7.012,7.420 7.012,7.420 Z" id="path-1" class="cls-2" fill-rule="evenodd"/> </svg><!-- BRANDING --><p id="roost-branding">Powered by <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="62" height="35" viewBox="0 0 62 35" id="roost-brand-logo"> <path d="M61.968,10.987 C61.524,12.545 60.338,12.825 58.148,13.077 C57.200,15.330 56.462,17.635 56.012,20.841 C55.493,24.541 57.441,23.891 57.779,23.607 C57.972,23.446 58.291,23.495 58.458,23.689 C58.819,24.106 58.425,26.332 56.235,26.332 C53.291,26.332 53.025,22.446 53.616,18.395 C53.004,18.745 52.141,19.121 50.935,19.456 C51.380,20.062 51.684,20.757 51.684,21.525 C51.684,24.104 49.449,26.343 45.625,26.343 C42.963,26.343 41.107,25.166 41.107,23.195 C41.107,21.132 43.008,19.194 46.860,18.762 C47.012,18.745 47.161,18.727 47.307,18.708 C46.379,18.235 44.977,17.567 44.752,16.380 C43.874,16.726 42.198,17.144 39.593,16.849 C41.037,23.582 37.046,26.334 33.609,26.334 C30.839,26.334 29.133,25.084 29.133,22.020 C29.133,20.515 29.928,18.395 31.156,16.626 C30.261,16.878 29.044,17.029 27.452,16.849 C28.897,23.582 24.906,26.334 21.469,26.334 C18.699,26.334 16.992,25.084 16.992,22.020 C16.992,18.955 20.295,13.331 23.826,13.331 C25.084,13.331 25.829,14.033 26.388,14.569 C27.021,15.177 30.770,15.936 33.353,14.296 C33.353,14.296 33.353,14.298 33.353,14.298 C34.175,13.699 35.063,13.331 35.966,13.331 C37.225,13.331 37.969,14.033 38.529,14.569 C39.155,15.170 43.337,15.924 45.440,14.373 C46.127,13.694 47.229,13.331 48.411,13.331 C51.044,13.331 50.199,16.813 47.466,16.813 C47.466,16.813 48.660,17.337 49.777,18.259 C53.211,17.419 54.022,16.143 54.022,16.143 C54.022,16.143 54.022,16.144 54.022,16.144 C54.197,15.329 54.467,14.351 54.777,13.334 C52.769,13.363 51.723,13.051 51.723,12.442 C51.723,11.654 53.620,11.245 55.545,10.958 C56.328,8.645 57.101,6.620 57.198,6.370 C57.416,5.808 60.676,5.108 61.019,5.108 C61.335,5.108 61.610,5.458 61.461,5.802 C60.701,7.564 59.987,9.051 59.335,10.440 C60.935,10.243 62.188,10.212 61.968,10.987 ZM23.751,16.141 C21.741,16.141 20.370,19.211 20.370,20.659 C20.370,21.595 20.892,22.789 22.457,22.789 C24.436,22.789 25.539,20.884 25.633,19.432 C25.761,17.452 24.886,16.141 23.751,16.141 ZM35.892,16.141 C33.881,16.141 32.511,19.211 32.511,20.659 C32.511,21.595 33.033,22.789 34.598,22.789 C36.577,22.789 37.679,20.884 37.773,19.432 C37.902,17.452 37.027,16.141 35.892,16.141 ZM49.077,19.877 C48.915,19.907 48.748,19.935 48.577,19.963 C46.978,20.225 44.876,20.357 44.787,22.025 C44.748,22.766 45.444,23.517 46.592,23.517 C48.277,23.517 49.639,22.591 49.639,21.229 C49.639,20.682 49.436,20.253 49.077,19.877 ZM10.830,18.686 C13.582,26.684 17.002,28.365 20.641,28.365 C24.281,28.365 25.882,26.674 26.531,26.674 C26.749,26.674 26.945,26.821 27.033,27.087 C27.743,29.241 25.582,34.598 19.500,33.955 C13.397,33.311 9.406,24.706 7.989,20.461 C7.177,24.003 5.403,26.682 2.692,26.682 C1.463,26.682 0.004,25.654 0.004,23.781 C0.004,21.522 2.103,20.602 3.963,19.573 C4.886,19.063 5.561,18.481 5.561,17.874 C5.561,17.288 5.059,17.030 4.727,17.030 C3.942,17.030 3.109,17.350 1.924,17.738 C1.761,17.791 1.589,17.825 1.399,17.675 C0.845,17.299 1.680,15.032 3.893,14.178 C5.089,13.716 8.151,13.090 10.191,17.150 C11.990,15.764 17.326,11.381 17.326,8.183 C17.326,4.026 10.961,6.515 8.768,7.806 C3.566,10.870 3.199,12.859 2.400,12.859 C1.562,12.859 1.656,10.866 1.720,10.364 C2.220,6.435 4.900,2.167 7.953,2.167 C9.336,2.167 9.575,3.012 9.575,3.012 C9.575,3.012 11.274,-0.009 14.640,-0.009 C16.699,-0.009 16.040,1.656 16.040,1.656 C16.040,1.656 17.075,0.996 18.859,0.996 C20.644,0.996 22.350,2.527 20.371,4.367 C20.371,4.367 22.695,4.599 22.695,7.129 C22.695,13.546 12.957,17.828 10.830,18.686 Z" id="path-1" class="cls-2" fill-rule="evenodd"/> </svg></p>',tt={roostNodes:{},roostClasses:{expandNotes:"roost-notes-visible",expandIndicator:"roost-expanded",showSettings:"roost-settings-visible",confirmDisable:"roost-show-disconfirmation",shrinkWrapper:"roost-settings-active",showSpinner:"show-roost-spinner",hide:"roost-hide",visible:"roost-visible",coachmarks:"show-coachmarks",coachStartAnimation:"animate-coachmarks-start",coachEndAnimation:"animate-coachmarks-end",coachWidthAnimation:"animate-coachmarks-width",noImage:"roost-list-noimage",unsubbedNotes:"roost-notes-unsub",unsubbedBell:"roost-bell-unsub",inlineWrapper:"roost-inline",squareWrapper:"roost-no-circle",left:"roost-wrapper-left",top:"roost-wrapper-top",share:"roost-share-active",miniBubble:"roost-bubble-mini"},showPromptKit:function(){P._debugLog("showPromptKit",P.promptable(),_.usePromptKit),P.promptable()&&_.usePromptKit&&j.init()},init:{DOM:function(){var e=document.getElementsByTagName("body")[0],o=P._getElById("goroostcom-bell")
o?(o.style.display="none",o.innerHTML=Z):_.pkSettings.absolute?(o=t.document.createElement("div"),o.style.display="none",o.setAttribute("id","goroostcom-bell"),o.innerHTML=Z,_.pkSettings.left&&P._addClass(o,tt.roostClasses.left),_.pkSettings.top&&P._addClass(o,tt.roostClasses.top),!_.pkSettings.regOnlyBell||_.pkSettings.regOnlyBell&&g(_.rdt)?e.appendChild(o):(P._addClass(o,"roost-hide"),e.appendChild(o))):console.log("Roost: No Roost Bell div found, please set absolute: true in the parameters, or place this div where you want the roost bell to show: <div id='goroostcom-bell' style='display:none;'></div>")
var i=t.document.createElement("div")
i.style.display="none",i.setAttribute("id","goroostcom-notifications"),i.innerHTML=X,e.appendChild(i)
var s=P._getElById("roost-notifications-title"),r=P._getElById("roost-gear"),n=P._getElById("roost-disable-text"),a=P._getElById("roost-disable-confirmation"),l=P._getElById("roost-clear-all")
s.textContent=_.pkSettings.text.noteTab,r.textContent=_.pkSettings.text.settingsTab,n.textContent=_.pkSettings.text.subscriptionBox,a.textContent=_.pkSettings.text.unsubConfirmation,l.textContent=_.pkSettings.text.clear,tt.init.generateRoostNodes()},generateRoostNodes:function(){tt.roostNodes={wrapper:P._getElById("goroostcom-bell"),bell:P._getElById("roost-bell"),bubble:P._getElById("roost-bubble-count"),notes:P._getElById("goroostcom-notifications"),noteOverlay:P._getElById("roost-overlay"),noteList:P._getElById("roost-data"),gear:P._getElById("roost-gear"),settings:P._getElById("roost-settings"),disableText:P._getElById("roost-disable-text"),disable:P._getElById("roost-disable"),noteDate:P._getElById("roost-date"),head:P._getElById("roost-notifications-head"),title:P._getElById("roost-notifications-title"),spinner:P._getElById("roost-spinner"),disableConfirmation:P._getElById("roost-disable-confirmation"),brand:P._getElById("roost-branding"),clearAll:P._getElById("roost-clear-all"),close:P._getElById("roost-close"),closeWrapper:P._getElById("roost-close-pane"),share:P._getElById("roost-share-template"),twitterIcon:P._getElById("roost-shareicon-twitter"),twitterButton:P._getElById("roost-tweet-btn"),fbIcon:P._getElById("roost-shareicon-fb"),fbButton:P._getElById("roost-fb-btn")}},oneOff:function(){var t={isConfig:function(){return"rp9q0v6rpgw65sa1f34f6o6f5jtnwoh3"==_.appKey}(),segments:[{display:"Breaking News",tagName:"BreakingNews"}]}
t.isConfig&&tt.settingsUI.segmentSelection(t.segments)},coachmarks:function(){if(_.pkSettings.absolute&&_.pkSettings.coachmarks&&tt.countNotes()>0){var t=tt.flyoutCookie.get()
"false"==t&&tt.animateCoachmarks()}},email:function(){if(_.pkSettings.email){var t=P._getElById("roost-email-text"),e=P._getElById("roost-email-input-wrapper")
P._removeClass(t,"roost-hide"),P._removeClass(e,"roost-hide")}},cookies:function(){h(_.rdt)&&tt.readCookie.init(),tt.paneCookie.init(),tt.flyoutCookie.init(),tt.notifications.populateAll(tt.roostNodes.noteList),tt.eventHandlers.preventPropagation()},state:function(){h(_.rdt)?tt.baseUI.unsub():tt.roostNodes.disable.checked=_.enabled,h(_.rdt)&&P.promptable()&&_.usePromptKit&&!_.denied&&(tt.promptAd.init(),tt.promptAd.check()?tt.baseUI.unsubPrompt():P._debugLog("Prompt has been dismissed"))},styles:function(){tt.baseUI.applyStyles(),tt.eventHandlers.base(),tt.baseUI.postRenderStyles()}},show:function(){_.bellInitialized||(tt.init.cookies(),tt.init.state(),tt.init.styles(),tt.init.oneOff(),tt.init.coachmarks(),tt.init.email(),tt.compensateTextLength(),_.bellInitialized=!0)},subOnMain:function(){P._addClass(tt.roostNodes.noteList,"roost-subonmain-list")
var e={wrapper:t.document.createElement("div"),box:t.document.createElement("input"),text:t.document.createElement("p")}
e.wrapper.setAttribute("id","roost-subonmain-wrapper"),e.box.setAttribute("id","roost-subonmain-box"),e.text.setAttribute("id","roost-subonmain-text"),e.box.setAttribute("type","checkbox"),e.box.checked=!1,e.text.textContent=_.pkSettings.text.subscriptionBox,e.box.checked=!1,e.text.addEventListener("click",function(t){P.register(),P._addClass(e.wrapper,"roost-hide")}),e.box.addEventListener("click",function(t){P.register(),P._addClass(e.wrapper,"roost-hide")}),e.wrapper.appendChild(e.box),e.wrapper.appendChild(e.text),tt.roostNodes.notes.insertBefore(e.wrapper,tt.roostNodes.noteList)},animateCoachmarks:function(){P._addClass(tt.roostNodes.wrapper,tt.roostClasses.coachStartAnimation),setTimeout(function(){P._addClass(tt.roostNodes.wrapper,tt.roostClasses.coachEndAnimation)},100),setTimeout(function(){P._removeClass(tt.roostNodes.wrapper,tt.roostClasses.coachEndAnimation)},4100),setTimeout(function(){P._addClass(tt.roostNodes.wrapper,tt.roostClasses.coachWidthAnimation),tt.flyoutCookie.set("true")},4110)},destroy:function(){var t=tt.roostNodes.notes
if(t&&t.parentNode&&t.parentNode.removeChild(t),_.pkSettings.absolute){var e=tt.roostNodes.wrapper
e&&e.parentNode&&e.parentNode.removeChild(e)}_.bellInitialized=!1},restart:function(){tt.destroy(),tt.init.DOM(),tt.show()},subscribe:function(){tt.restart()},countSvg:{1:'<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5c0-4.7,3.8-8.5,8.5-8.5c4.7,0,8.5,3.8,8.5,8.5C38.5,34.7,34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M31,33.5h-1.4V29h-1.8v-1.1c1,0,1.9-0.3,2-1.4H31V33.5z"/> </g> </svg>',2:'<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5c0-4.7,3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5C38.5,34.7,34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M27.6,29.3c0-1.6,0.9-2.8,2.5-2.8c1.3,0,2.4,0.8,2.4,2.2c0,1-0.6,1.6-1.2,2.1c-0.7,0.5-1.5,0.9-2,1.6h3.3v1.2 h-5.1c0-1.6,1-2.3,2.2-3.1c0.6-0.4,1.5-0.8,1.5-1.7c0-0.7-0.4-1.1-1-1.1c-0.8,0-1.1,0.9-1.1,1.6H27.6z"/> </g> </svg>',3:'<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5c0-4.7,3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5C38.5,34.7,34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M29.5,29.3c0.6,0,1.5-0.1,1.5-0.9c0-0.6-0.5-0.9-1-0.9c-0.7,0-1.1,0.5-1.1,1.2h-1.3c0-1.4,1-2.4,2.4-2.4 c1.1,0,2.3,0.7,2.3,1.9c0,0.7-0.3,1.2-1,1.4v0c0.8,0.2,1.2,0.8,1.2,1.6c0,1.5-1.2,2.3-2.6,2.3c-1.6,0-2.6-0.9-2.6-2.5h1.3 c0,0.8,0.4,1.4,1.2,1.4c0.6,0,1.1-0.4,1.1-1.1c0-1.1-0.9-1-1.6-1V29.3z"/> </g> </svg>',4:'<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5s3.8-8.5,8.5-8.5c4.7,0,8.5,3.8,8.5,8.5S34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M30.1,31.9h-3v-1.3l3-4.1h1.3v4.2h0.9v1.2h-0.9v1.6h-1.3V31.9z M30.1,28.3L30.1,28.3l-1.8,2.4h1.8V28.3z"/> </g> </svg>',5:'<?xml version="1.0" encoding="utf-8"?> <svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5s3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5S34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M32.2,27.6h-2.9l-0.3,1.6l0,0c0.4-0.4,0.8-0.5,1.4-0.5c1.4,0,2.2,1.1,2.2,2.4c0,1.4-1.2,2.5-2.6,2.5 c-1.4,0-2.6-0.8-2.6-2.2h1.4c0.1,0.6,0.5,1,1.1,1c0.7,0,1.2-0.7,1.2-1.3c0-0.7-0.5-1.3-1.2-1.3c-0.5,0-0.8,0.2-1.1,0.6h-1.3 l0.7-3.9h3.9V27.6z"/> </g> </svg><?xml version="1.0" encoding="utf-8"?> <svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5s3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5S34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M32.2,27.6h-2.9l-0.3,1.6l0,0c0.4-0.4,0.8-0.5,1.4-0.5c1.4,0,2.2,1.1,2.2,2.4c0,1.4-1.2,2.5-2.6,2.5 c-1.4,0-2.6-0.8-2.6-2.2h1.4c0.1,0.6,0.5,1,1.1,1c0.7,0,1.2-0.7,1.2-1.3c0-0.7-0.5-1.3-1.2-1.3c-0.5,0-0.8,0.2-1.1,0.6h-1.3 l0.7-3.9h3.9V27.6z"/> </g> </svg>',6:'<?xml version="1.0" encoding="utf-8"?> <svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5s3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5S34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M31.1,28.3c-0.1-0.5-0.5-0.9-0.9-0.9c-1,0-1.3,1.3-1.3,2.1l0,0c0.4-0.5,0.9-0.8,1.6-0.8c0.6,0,1.2,0.3,1.6,0.7 c0.4,0.4,0.5,1,0.5,1.6c0,1.4-1,2.6-2.4,2.6c-2.1,0-2.7-1.8-2.7-3.6c0-1.7,0.8-3.7,2.7-3.7c1.2,0,2.1,0.7,2.3,1.9H31.1z M29,31.2 c0,0.6,0.4,1.3,1.1,1.3c0.7,0,1.1-0.7,1.1-1.3c0-0.7-0.3-1.3-1.1-1.3C29.3,29.9,29,30.5,29,31.2z"/> </g> </svg>',7:'<?xml version="1.0" encoding="utf-8"?> <svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5s3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5S34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M28.9,31.7c0.1,0.5,0.5,0.9,0.9,0.9c1,0,1.3-1.3,1.3-2.1l0,0c-0.4,0.5-0.9,0.8-1.6,0.8c-0.6,0-1.2-0.3-1.6-0.7 c-0.4-0.4-0.5-1-0.5-1.6c0-1.4,1-2.6,2.4-2.6c2.1,0,2.7,1.8,2.7,3.6c0,1.7-0.8,3.7-2.7,3.7c-1.2,0-2.1-0.7-2.3-1.9H28.9z M31,28.8 c0-0.6-0.4-1.3-1.1-1.3c-0.7,0-1.1,0.7-1.1,1.3c0,0.7,0.3,1.3,1.1,1.3C30.7,30.1,31,29.5,31,28.8z"/> </g> </svg>',8:'<?xml version="1.0" encoding="utf-8"?> <svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5s3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5S34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M30,26.4c1.7,0,2.3,1.2,2.3,1.9c0,0.7-0.4,1.2-1,1.5v0c0.8,0.2,1.3,0.8,1.3,1.7c0,1.5-1.3,2.2-2.6,2.2 c-1.3,0-2.7-0.7-2.7-2.2c0-0.9,0.5-1.5,1.3-1.7v0c-0.7-0.2-1-0.7-1-1.4C27.7,27,28.9,26.4,30,26.4z M30,32.6c0.7,0,1.2-0.5,1.2-1.2 c0-0.7-0.5-1.1-1.2-1.1c-0.7,0-1.2,0.4-1.2,1.1C28.8,32.1,29.3,32.6,30,32.6z M30,29.3c0.6,0,1-0.3,1-0.9c0-0.4-0.2-1-1-1 c-0.6,0-1.1,0.3-1.1,1C28.9,29,29.4,29.3,30,29.3z"/> </g> </svg>',9:'<?xml version="1.0" encoding="utf-8"?> <svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5s3.8-8.5,8.5-8.5c4.7,0,8.5,3.8,8.5,8.5S34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M32.4,27.8c-1.5,1.3-2.3,3.9-2.3,5.8h-1.5c0.2-2.1,1-4.1,2.3-5.7h-3.3v-1.3h4.8V27.8z"/> </g> </svg>',10:'<?xml version="1.0" encoding="utf-8"?> <svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> .st0{fill:#E25351;} .st1{fill:#3B3B3B;} .st2{fill:#FFFFFF;} </style> <g> <path class="st0" d="M30,38.5c-4.7,0-8.5-3.8-8.5-8.5s3.8-8.5,8.5-8.5c4.7,0,8.5,3.8,8.5,8.5S34.7,38.5,30,38.5z"/> <path class="st1" d="M30,22c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S25.6,22,30,22 M30,21c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S35,21,30,21 L30,21z"/> </g> <g> <path class="st2" d="M26.9,31.7c0.1,0.5,0.5,0.9,0.9,0.9c1,0,1.3-1.3,1.3-2.1l0,0c-0.4,0.5-0.9,0.8-1.6,0.8c-0.6,0-1.2-0.3-1.6-0.7 c-0.4-0.4-0.5-1-0.5-1.6c0-1.4,1-2.6,2.4-2.6c2.1,0,2.7,1.8,2.7,3.6c0,1.7-0.8,3.7-2.7,3.7c-1.2,0-2.1-0.7-2.3-1.9H26.9z M29,28.8 c0-0.6-0.4-1.3-1.1-1.3c-0.7,0-1.1,0.7-1.1,1.3c0,0.7,0.3,1.3,1.1,1.3C28.7,30.1,29,29.5,29,28.8z"/> <path class="st2" d="M33.6,29.6h1.6v0.9h-1.6V32h-0.9v-1.6h-1.6v-0.9h1.6V28h0.9V29.6z"/> </g> </svg>'},banner:{init:function(){if(!P._getElById("roost-banner")){var e=document.getElementsByTagName("body")[0],i=t.document.createElement("div"),s=t.document.createElement("div"),r=t.document.createElement("div"),n=t.document.createElement("p"),a=t.document.createElement("p"),l=t.document.createElement("button"),d=t.document.createElement("p"),p=t.document.createElement("p"),c=P._getElById("roost-banner-arrow").cloneNode(!0),g=t.document.createElement("img")
c.setAttribute("class","roost-show-arrow"),i.setAttribute("id","roost-banner"),s.setAttribute("id","roost-banner-left"),r.setAttribute("id","roost-banner-right"),n.setAttribute("id","roost-banner-title"),a.setAttribute("id","roost-banner-subtitle"),l.setAttribute("id","roost-banner-btn"),d.setAttribute("id","roost-banner-belltext"),p.setAttribute("id","roost-banner-dismisstext"),g.setAttribute("id","roost-banner-logo"),n.textContent="Push Notifications for You",a.textContent="Get top stories sent right to your desktop",l.textContent="Subscribe",p.textContent="No thanks",d.textContent="Or, check out hot stories right here!",g.src=_.host+"/api/browser/logo?size=100&direct=true&appKey="+_.appKey,r.appendChild(d),r.appendChild(c),s.appendChild(g),s.appendChild(n),s.appendChild(a),s.appendChild(l),s.appendChild(p),i.appendChild(s),i.appendChild(r),p.addEventListener("click",function(t){t.stopPropagation(),o("nothanks"),tt.banner.hide(),tt.bannerCookie.set("true")}),l.addEventListener("click",function(t){t.stopPropagation(),P.register(),tt.banner.hide()}),e.appendChild(i)}},hide:function(){var t=P._getElById("roost-banner")
P._addClass(t,"roost-banner-dismiss"),t.parentNode.removeChild(t)}},paneUI:{show:function(){P._getElById("roost-banner")&&tt.banner.hide(),tt.roostNodes.notes.style.display="block",P._toggleClass(tt.roostNodes.notes,tt.roostClasses.expandNotes),P._toggleClass(tt.roostNodes.wrapper,tt.roostClasses.expandIndicator),P._hasClass(tt.roostNodes.settings,tt.roostClasses.showSettings)&&(P._toggleClass(tt.roostNodes.settings,tt.roostClasses.showSettings),P._toggleClass(tt.roostNodes.noteList,tt.roostClasses.hide)),P._removeClass(tt.roostNodes.notes,tt.roostClasses.shrinkWrapper),tt.roostNodes.notes.style.bottom=String(-1*tt.roostNodes.notes.getBoundingClientRect().height)+"px",tt.paneCookie.set("true")},hide:function(){P._hasClass(tt.roostNodes.settings,tt.roostClasses.showSettings)&&(P._toggleClass(tt.roostNodes.settings,tt.roostClasses.showSettings),P._toggleClass(tt.roostNodes.noteList,tt.roostClasses.hide)),P._removeClass(tt.roostNodes.disable,tt.roostClasses.hide),P._removeClass(tt.roostNodes.disableText,tt.roostClasses.hide),P._removeClass(tt.roostNodes.spinner,tt.roostClasses.showSpinner),P._removeClass(tt.roostNodes.notes,tt.roostClasses.expandNotes),P._removeClass(tt.roostNodes.notes,tt.roostClasses.shrinkWrapper),P._removeClass(tt.roostNodes.wrapper,tt.roostClasses.expandIndicator),tt.paneCookie.set("false")}},notifications:{populateAll:function(t){var e=_.notifications
if(tt.readCookie.removeStale(e),e&&e.length)for(var o=0;o<e.length;o++)!function(e){if(h(_.rdt)){var o=tt.readCookie.check(e)
o||tt.notifications.populateSingle(t,e)}else tt.notifications.populateSingle(t,e)}(e[o])
else tt.emptyNotifications()
tt.updateCount()},populateSingle:function(e,o,i){if(o.read!==!0){var s={li:t.document.createElement("li"),title:t.document.createElement("p"),time:t.document.createElement("p"),share:{wrapper:t.document.createElement("div"),twitter:tt.roostNodes.twitterIcon.cloneNode(!0),fb:tt.roostNodes.fbIcon.cloneNode(!0),mainIcon:tt.roostNodes.share.cloneNode(!0)},customTitle:t.document.createElement("p"),customImg:t.document.createElement("img")}
tt.singleNoteUI.note(s,o),_.pkSettings.share&&(s=tt.singleNoteUI.share(s,o)),i?e.insertBefore(s.li,e.firstChild):e.appendChild(s.li)}},removeSingle:function(t){var i=t.split("-"),s=Number(i[i.length-1]),r=P._getElById(t)
P._addClass(r,"dismissing"),setTimeout(function(){r.parentNode.removeChild(r)},500)
for(var n=0;n<_.notifications.length;n++){var a=_.notifications[n]
if(a.roost_note_id===s){P._debugLog("Clearing notification with ID: ",a.roost_note_id),g(_.rdt)&&e(_.host+"/api/browser/clear/"+a.roost_note_id+"/"+a.roost_send_id),h(_.rdt)&&tt.readCookie.add(a.roost_note_id),_.notifications.splice(n,1)
break}}o("clearsinglenote"),tt.updateCount()},clearAll:function(){for(var e=t.document.getElementsByClassName("roost-notification"),i=0;i<e.length;i++)!function(t){tt.notifications.removeSingle(t.id)}(e[i])
_.notifications=[],o("clearallnotes"),tt.updateCount()}},resizeTextNodeWithBreaks:function(t,e,o){if(t)for(var i=t.innerHTML.split(o),s=0;s<i.length;s++)tt.resizeTextSection(t,i[s],e)},resizeTextSection:function(t,e,o){var i=P._getFontSize(t)
if(!(10>=i)){var s=parseInt(P._getTextWidth(e,i))+7
s>=o&&(t.style.fontSize=i-1+"px",tt.resizeTextSection(t,e,o))}},resizeTextNode:function(t,e,o){if(t){var i=P._getFontSize(t),s=t.textContent;("roost-notifications-title"==t.getAttribute("id")||"roost-gear"==t.getAttribute("id")||"roost-clear-all"==t.getAttribute("id"))&&(s=t.textContent.toUpperCase())
var r=P._getTextWidth(s,i),n=o>1?25:0
r=parseInt(r+7),10>=i||(r=Math.ceil(r/o)+n,r>=e&&(t.style.fontSize=i-1+"px",tt.resizeTextNode(t,e,o)))}},compensateTextLength:function(){for(var t=[{id:"roost-notifications-title",width:145},{id:"roost-gear",width:110},{id:"roost-clear-all",width:150},{id:"roost-slide-out-headline",width:320},{id:"roost-slide-out-slug",width:250},{id:"roost-slide-out-desc",width:350},{id:"roost-subscribe-button",width:145},{id:"roost-bellprompt-title",width:200,lines:2},{id:"roost-bellprompt-body",width:210,lines:3},{id:"roost-bellprompt-btn",width:90},{id:"roost-bellprompt-decline",width:80}],e=["<br>","<br/>","<br />"],o=0;o<t.length;o++){var i=P._getElById(t[o].id)
if(i){for(var s=t[o].width,r=t[o].hasOwnProperty("lines")?t[o].lines:1,n=null,a=0;a<e.length;a++){var l=e[a]
if(i.innerHTML.indexOf(l)>-1){n=l
break}}n?tt.resizeTextNodeWithBreaks(i,s,n):tt.resizeTextNode(i,s,r)}}for(var d=[["roost-notifications-title","roost-gear"]],p=0;p<d.length;p++){for(var c,g,u,m=0;m<d[p].length;m++)u=P._getElById(d[p][m]),u&&(g=P._getFontSize(u),0==m?c=g:c>g&&(c=g))
for(var h=0;h<d[p].length;h++)u&&(u=P._getElById(d[p][h]),u.style.fontSize=c+"px")}},generateCSS:function(){var e,o=tt.countNotes()
o>1||1>o?e="updates":1==o&&(e="update")
var i=P._deepCopy({},et)
if(i.children["#roost-subscribe-button"].attributes["background-color"]=_.pkSettings.pkColors.dontSend,i.children["#roost-slide-out-dontsend"].attributes.color=_.pkSettings.pkColors.dontSend,_.pkSettings.text.coachmark?i.children["#goroostcom-bell.show-coachmarks::after, #goroostcom-bell.animate-coachmarks-start::after"].attributes.content="'"+_.pkSettings.text.coachmark+"'":i.children["#goroostcom-bell.show-coachmarks::after, #goroostcom-bell.animate-coachmarks-start::after"].attributes.content="'"+o+" new "+e+" for you'",i.children["#goroostcom-bell.show-coachmarks::after, #goroostcom-bell.animate-coachmarks-start::after"].attributes.background=_.pkSettings.bgColor,i.children["#goroostcom-bell.show-coachmarks::before, #goroostcom-bell.animate-coachmarks-start::before"].attributes["border-left-color"]=_.pkSettings.bgColor,i.children["#goroostcom-bell.show-coachmarks::after, #goroostcom-bell.animate-coachmarks-start::after"].attributes["border-left-color"]=_.pkSettings.bgColor,i.children["#roost-bell *"].attributes.fill=_.pkSettings.bellColor+" !important",i.children["#roost-browsernote-wrapper"].attributes["z-index"]=_.pkSettings.zIndex+2e3,_.pkSettings.left){var s=i.children["#goroostcom-bell.roost-wrapper-left"].attributes.left
s=Number(s.slice(0,s.length-2)),s+=P._isSmallScreen(window)&&null!==_.pkSettings.mobileOffset.left?_.pkSettings.mobileOffset.left:_.pkSettings.offset.left,i.children["#goroostcom-bell.roost-wrapper-left"].attributes.left=s+"px",i.children["@media (max-width: 770px)"].children["div#goroostcom-bell"].attributes.right="initial",i.children["@media (max-width: 770px)"].children["div#goroostcom-bell"].attributes.left=s+"px"}else{var r=i.children["#goroostcom-bell"].attributes.right
r=Number(r.slice(0,r.length-2)),r+=P._isSmallScreen(window)&&null!==_.pkSettings.mobileOffset.right?_.pkSettings.mobileOffset.right:_.pkSettings.offset.right,i.children["#goroostcom-bell"].attributes.right=r+"px",i.children["@media (max-width: 770px)"].children["div#goroostcom-bell"].attributes.right=r+"px"}if(_.pkSettings.top){var n=i.children["#goroostcom-bell.roost-wrapper-top"].attributes.top
n=Number(n.slice(0,n.length-2)),n+=P._isSmallScreen(window)&&null!==_.pkSettings.mobileOffset.top?_.pkSettings.mobileOffset.top:_.pkSettings.offset.top,i.children["#goroostcom-bell.roost-wrapper-top"].attributes.top=n+"px",i.children["@media (max-width: 770px)"].children["div#goroostcom-bell"].attributes.bottom="initial",i.children["@media (max-width: 770px)"].children["div#goroostcom-bell"].attributes.top=n+"px"}else{var a=i.children["#goroostcom-bell"].attributes.bottom
a=Number(a.slice(0,a.length-2)),a+=P._isSmallScreen(window)&&null!==_.pkSettings.mobileOffset.bottom?_.pkSettings.mobileOffset.bottom:_.pkSettings.offset.bottom,i.children["#goroostcom-bell"].attributes.bottom=a+"px",i.children["@media (max-width: 770px)"].children["div#goroostcom-bell"].attributes.bottom=a+"px"}_.pkSettings.hideTitle&&(i.children["#roost-data li p.roost-notification-timestamp"].attributes["margin-top"]="10px",i.children["#roost-data li p.roost-custom-title~p:first-of-type"].attributes["line-height"]="135%"),_.pkSettings.hideAttribution&&(i.children["#roost-branding"].attributes.display="none"),i.children["svg#Icons .st0"].attributes.fill=_.pkSettings.unreadBackgroundColor,i.children["svg#Icons .st2"].attributes.fill=_.pkSettings.unreadTextColor
var l=v(i),d=t.document.createElement("style")
d.innerHTML=l
var p=document.head||document.getElementsByTagName("head")[0]
p.appendChild(d)},readCookie:{get:function(){return P.getCookie("roost-notes-read")},set:function(t){P.setCookie("roost-notes-read",t,365)},init:function(){var t=this.get()
if(!t||!t.length){var e=JSON.stringify({data:[]})
this.set(e)}},add:function(t){var e=JSON.parse(this.get())
e=e.data,e.push(t),e=JSON.stringify({data:e}),this.set(e)},check:function(t){var e=this.get()
if(e.length){var o=JSON.parse(this.get())
return o=o.data,o.indexOf(t.roost_note_id)>-1}return!1},removeStale:function(t){var e=this.get()
if(e.length){var o=JSON.parse(e)
o=o.data
for(var i=0;i<o.length;i++){var s=t.indexOf(o[i])
s>-1&&t.splice(s,1)}o=JSON.stringify({data:o}),this.set(o)}}},paneCookie:{get:function(){return P.getCookie("roost-isopen")},set:function(t){P.setCookie("roost-isopen",t,365)},init:function(){var e=this.get()
e&&e.length?"true"==e&&(P._isSmallScreen(t)||(tt.paneUI.show(),o("autoshow"))):this.set("false")}},bannerCookie:{get:function(){return P.getCookie("roost-nothanks")},set:function(t){P.setCookie("roost-nothanks",t,365)},init:function(){var t=this.get()
t&&t.length||this.set("false")}},flyoutCookie:{get:function(){return P.getCookie("roost-flyout")},set:function(t){P.setCookie("roost-flyout",t,.02)},init:function(){var t=this.get()
t&&t.length||this.set("false")}},settingsUI:{disable:function(){h(_.rdt)?P.register():(P._debugLog("calling _roost.push(['enable', "+tt.roostNodes.disable.checked+"])"),_roost.push(["enable",tt.roostNodes.disable.checked])),P._toggleClass(tt.roostNodes.spinner,tt.roostClasses.showSpinner),setTimeout(function(){P._toggleClass(tt.roostNodes.spinner,tt.roostClasses.showSpinner)},2e3)},segmentSelection:function(e){var o=t.document.createElement("ul")
o.setAttribute("id","roost-segments-list")
var i=t.document.createElement("p")
i.setAttribute("id","roost-segments-head"),i.textContent="Only receive notifications about"
for(var s=0;s<e.length;s++)!function(e){var i=t.document.createElement("li"),r=t.document.createElement("input"),n=t.document.createElement("p")
r.setAttribute("type","checkbox"),r.setAttribute("id","roost-segment-select-"+s),r.setAttribute("class","roost-segment-select"),i.addEventListener("click",function(t){var o=_.tags.indexOf(e.tagName);-1==o?(r.setAttribute("checked","checked"),r.checked=!0,O(["segments_add",e.tagName])):(r.removeAttribute("checked"),r.checked=!1,O(["segments_remove",e.tagName]))})
var a=_.tags.indexOf(e.tagName)>-1
r.checked=a,n.setAttribute("id","roost-segment-label-"+s),n.setAttribute("class","roost-segment-label"),n.textContent=e.display,i.setAttribute("id","roost-segment-"+s),i.setAttribute("class","roost-segment"),i.appendChild(r),i.appendChild(n),o.appendChild(i)}(e[s])
tt.roostNodes.settings.appendChild(i),tt.roostNodes.settings.appendChild(o)}},baseUI:{applyStyles:function(){tt.roostNodes.wrapper.style.display="block",P._isSmallScreen(t)?(tt.roostNodes.wrapper.style.width=_.pkSettings.smMobileWidth,tt.roostNodes.wrapper.style.height=_.pkSettings.smMobileHeight):P._isMediumScreen(t)?(tt.roostNodes.wrapper.style.width=_.pkSettings.lgMobileWidth,tt.roostNodes.wrapper.style.height=_.pkSettings.lgMobileHeight):(tt.roostNodes.wrapper.style.width=_.pkSettings.width,tt.roostNodes.wrapper.style.height=_.pkSettings.height),tt.roostNodes.wrapper.style.zIndex=_.pkSettings.zIndex,tt.roostNodes.wrapper.style.background=_.pkSettings.bgColor,tt.roostNodes.bell.style.fill=_.pkSettings.bellColor,tt.roostNodes.notes.style.zIndex=_.pkSettings.zIndex+1e3,tt.roostNodes.bubble.style.borderColor=_.pkSettings.bgColor,tt.roostNodes.bubble.style.background=_.pkSettings.unreadBackgroundColor,tt.roostNodes.bubble.style.color=_.pkSettings.unreadTextColor
var e=Math.floor(.32*Number(_.pkSettings.height.substring(0,_.pkSettings.height.length-2)))-4
tt.roostNodes.bubble.style.lineHeight=String(e)+"px","count"==_.pkSettings.showUnread?(P._toggleClass(tt.roostNodes.bubble,tt.roostClasses.fullBubble),P._toggleClass(tt.roostNodes.bubble,"roost-bubble-svg")):"dot"==_.pkSettings.showUnread?P._toggleClass(tt.roostNodes.bubble,tt.roostClasses.miniBubble):"none"==_.pkSettings.showUnread&&P._toggleClass(tt.roostNodes.bubble,tt.roostClasses.hide),_.pkSettings.absolute||P._addClass(tt.roostNodes.wrapper,tt.roostClasses.inlineWrapper),_.pkSettings.circular||P._addClass(tt.roostNodes.wrapper,tt.roostClasses.squareWrapper),_.pkSettings.absolute||_.pkSettings.circular||P._addClass(tt.roostNodes.wrapper,"roost-inlinecircle"),tt.generateCSS()},postRenderStyles:function(){var t=P._getElById("roost-bellprompt"),e=P._getElById("roost-data")
t&&e&&(e.style.paddingTop=t.clientHeight+"px")},unsub:function(){_.pkSettings.settingsForAll||P._addClass(tt.roostNodes.gear,tt.roostClasses.hide)},unsubPrompt:function(){var e=t.document.createElement("img"),o=t.document.createElement("div"),i=t.document.createElement("p"),s=t.document.createElement("p"),r=t.document.createElement("p"),n=t.document.createElement("button")
if(e.setAttribute("id","roost-bellprompt-image"),_.pkSettings.noteCenterOptIn.useDeviceImage&&e.setAttribute("src","//cdn.goroost.com/images/bell/laptop.png"),_.pkSettings.noteCenterOptIn.useLogo){var a="https://dashboard.goroost.com/api/device/logo?size=160&appKey=",l=a+_.appKey
e.setAttribute("src",l),e.setAttribute("class","roost-bellprompt-logo"),o.setAttribute("class","roost-bellprompt-containslogo")}i.setAttribute("id","roost-bellprompt-title"),i.setAttribute("class","roost-bellprompt-text"),s.setAttribute("id","roost-bellprompt-body"),s.setAttribute("class","roost-bellprompt-text"),n.setAttribute("id","roost-bellprompt-btn"),r.setAttribute("id","roost-bellprompt-decline"),o.setAttribute("id","roost-bellprompt")
var d=_.pkSettings.text.noteCenterOptin.title.replace("$SITE",_.configName),p=_.pkSettings.text.noteCenterOptin.button.replace("$SITE",_.configName),c=_.pkSettings.text.noteCenterOptin.body.replace("$SITE",_.configName),g=_.pkSettings.text.noteCenterOptin.decline.replace("$SITE",_.configName)
i.textContent=d,n.textContent=p,r.textContent=g,s.textContent=c,n.addEventListener("click",function(t){t.stopPropagation(),P.register()}),r.addEventListener("click",function(t){t.stopPropagation(),tt.promptAd.dismiss()
var e=P._getElById("roost-bellprompt")
tt.roostNodes.noteList.style.paddingTop="0px",P._addClass(e,tt.roostClasses.hide),P._toggleClass(tt.roostNodes.notes,tt.roostClasses.unsubbedNotes)}),o.appendChild(i),o.appendChild(s),o.appendChild(n),o.appendChild(r),o.appendChild(e),tt.roostNodes.notes.appendChild(o),P._toggleClass(tt.roostNodes.notes,tt.roostClasses.unsubbedNotes),P._toggleClass(tt.roostNodes.wrapper,tt.roostClasses.unsubbedBell)}},singleNoteUI:{note:function(e,i){if(e.title.textContent=i.body,e.customTitle.textContent=i.title,_.pkSettings.useTimestamp){var s=(new Date).getTime(),r=s-i.time_offset_ms,n=new Date(r),a=n.toLocaleString(t.navigator.language,{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})
e.time.textContent=a}else e.time.textContent=i.time_offset
if(i.has_image){var l=_.host+"/api/browser/logo?size=100&direct=true&appKey="+_.appKey+"&noteID="+i.roost_note_id
e.customImg.setAttribute("class","roost-note-img"),e.customImg.setAttribute("src",l),e.li.setAttribute("class","roost-notification")}else e.li.setAttribute("class","roost-notification roost-list-noimage")
e.li.setAttribute("id","roost-notification-"+i.roost_note_id),e.customTitle.setAttribute("class","roost-custom-title"),e.time.setAttribute("class","roost-notification-timestamp"),_.pkSettings.hideTitle||e.li.appendChild(e.customTitle),e.li.appendChild(e.title),e.li.appendChild(e.customImg),e.li.appendChild(e.time)
var d=t.document.createElement("button")
return d.setAttribute("class","roost-view-btn"),d.textContent="Open",e.li.addEventListener("click",function(t){t.stopPropagation(),o("storyclick")
var e="roost-notification-"+i.roost_note_id
tt.notifications.removeSingle(e),tt.singleNoteUI.noteClick(i)}),tt.eventHandlers.singleNote(e.li),i},noteClick:function(t){var e
t.newQueue?(e="http://pipeline.goroost.com/push/redirect?noteID="+t.roost_note_id,e+=_.rdt?"&rdt="+_.rdt:"&rdt=null"):(e="https://go.goroost.com/note/"+t.roost_note_id,(t.roost_send_id||0==t.roost_send_id)&&(e+="/"+t.roost_send_id)),_.pkSettings.notesInNewWindow?window.open(e,"_blank"):window.location.href=e},share:function(t,e){var i=e.url+"?share=true"
return t.share.wrapper.setAttribute("id","roost-share-wrapper"),t.share.fb.setAttribute("id","roost-share-fb"),t.share.twitter.setAttribute("id","roost-share-twitter"),t.share.wrapper.appendChild(t.share.fb),t.share.wrapper.appendChild(t.share.twitter),t.li.appendChild(t.share.wrapper),t.share.twitter.addEventListener("click",function(e){e.stopPropagation(),P._removeClass(t,tt.roostClasses.share),tt.twitShare(i,520,350),o("shareclick")}),t.share.fb.addEventListener("click",function(s){s.stopPropagation(),P._removeClass(t,tt.roostClasses.share),tt.fbShare(i,"TITLE",e.title,null,520,350),o("shareclick")}),t.share.mainIcon.setAttribute("id","roost-note-share-"+e.roost_note_id),t.share.mainIcon.setAttribute("class","roost-note-share"),t.share.mainIcon.addEventListener("click",function(e){e.stopPropagation(),P._toggleClass(t.li,tt.roostClasses.share)}),t.li.appendChild(t.share.mainIcon),t}},emailUI:{subscribeURL:function(){return"http://localhost:9000/registeremail?appKey="+_.appKey},submit:function(t){P._toggleClass(tt.roostNodes.spinner,tt.roostClasses.showSpinner)
var o=tt.emailUI.subscribeURL()
o=o+"&email="+encodeURIComponent(t),e(o)},handleResponse:function(t){P._toggleClass(tt.roostNodes.spinner,tt.roostClasses.showSpinner)
var e
"true"==String(t)?(e=P._getElById("roost-email-success"),P._removeClass(e,"roost-hide")):(e=P._getElById("roost-email-failure"),P._removeClass(e,"roost-hide")),setTimeout(function(){P._debugLog("adding roost-hide to",e),P._addClass(e,"roost-hide")},3e3)}},eventHandlers:{allNotes:function(){var e=t.document.getElementsByClassName("roost-notification")
if(!P._isSmallScreen(t)){var o=tt.roostNodes.close.cloneNode(!0)
o.setAttribute("id","roost-note-dismiss"),o.addEventListener("click",function(t){t.stopPropagation(),tt.notifications.removeSingle(o.parentNode.id)})}for(var i=0;i<e.length;i++)!function(e){P._isSmallScreen(t)||e.addEventListener("mouseenter",function(t){e.appendChild(o),setTimeout(function(){P._addClass(o,"dismiss-fadein")},50)}),e.addEventListener("mouseleave",function(i){P._isSmallScreen(t)||(P._removeClass(o,"dismiss-fadein"),e.removeChild(o)),_.pkSettings.share&&P._removeClass(e,tt.roostClasses.share)}),e.addEventListener("touchstart",function(t){t.stopPropagation(),tt.eventHandlers.touch.handleStart(t)}),e.addEventListener("touchmove",function(t){t.stopPropagation(),tt.eventHandlers.touch.handleDirection(t,e)}),e.addEventListener("touchend",function(t){t.stopPropagation(),tt.eventHandlers.touch.handleStop(t,e)})}(e[i])},singleNote:function(e){if(!P._isSmallScreen(t)){var o=tt.roostNodes.close.cloneNode(!0)
o.setAttribute("id","roost-note-dismiss"),o.addEventListener("click",function(t){t.stopPropagation(),tt.notifications.removeSingle(o.parentNode.id)})}P._isSmallScreen(t)||e.addEventListener("mouseenter",function(t){e.appendChild(o),setTimeout(function(){P._addClass(o,"dismiss-fadein")},50)}),e.addEventListener("mouseleave",function(i){P._isSmallScreen(t)||(P._removeClass(o,"dismiss-fadein"),e.removeChild(o)),_.pkSettings.share&&P._removeClass(e,tt.roostClasses.share)}),e.addEventListener("touchstart",function(t){t.stopPropagation(),tt.eventHandlers.touch.handleStart(t)}),e.addEventListener("touchmove",function(t){t.stopPropagation(),tt.eventHandlers.touch.handleDirection(t,e)}),e.addEventListener("touchend",function(t){t.stopPropagation(),tt.eventHandlers.touch.handleStop(t,e)})},base:function(){if(_.pkSettings.settingsForAll?tt.roostNodes.gear.addEventListener("click",function(t){t.stopPropagation(),o("setting"),P._toggleClass(tt.roostNodes.settings,tt.roostClasses.showSettings),P._toggleClass(tt.roostNodes.noteList,tt.roostClasses.hide),P._toggleClass(tt.roostNodes.notes,tt.roostClasses.shrinkWrapper),tt.roostNodes.notes.style.bottom=String(-1*tt.roostNodes.notes.getBoundingClientRect().height)+"px"}):g(_.rdt)&&tt.roostNodes.gear.addEventListener("click",function(t){t.stopPropagation(),o("setting"),P._toggleClass(tt.roostNodes.settings,tt.roostClasses.showSettings),P._toggleClass(tt.roostNodes.noteList,tt.roostClasses.hide),P._toggleClass(tt.roostNodes.notes,tt.roostClasses.shrinkWrapper),tt.roostNodes.notes.style.bottom=String(-1*tt.roostNodes.notes.getBoundingClientRect().height)+"px"}),tt.roostNodes.notes.addEventListener("touchmove",function(t){t.stopPropagation()}),tt.roostNodes.wrapper.addEventListener("click",function(t){P.openNoteCenter()}),tt.roostNodes.bell.addEventListener("click",function(t){P.openNoteCenter()}),tt.roostNodes.bubble.addEventListener("click",function(t){P.openNoteCenter()}),tt.roostNodes.title.addEventListener("click",function(t){t.stopPropagation(),P._removeClass(tt.roostNodes.settings,tt.roostClasses.showSettings),P._removeClass(tt.roostNodes.noteList,tt.roostClasses.hide),P._removeClass(tt.roostNodes.notes,tt.roostClasses.shrinkWrapper),tt.roostNodes.notes.style.bottom=String(-1*tt.roostNodes.notes.getBoundingClientRect().height)+"px"}),tt.roostNodes.clearAll.addEventListener("click",function(t){t.stopPropagation(),tt.notifications.clearAll()}),tt.roostNodes.disable.addEventListener("click",function(t){tt.settingsUI.disable()}),tt.roostNodes.disableText.addEventListener("click",function(t){tt.roostNodes.disable.checked=!tt.roostNodes.disable.checked,tt.settingsUI.disable()}),tt.roostNodes.closeWrapper.addEventListener("click",function(t){o("xclicked"),tt.paneUI.hide()}),tt.roostNodes.close.addEventListener("click",function(t){o("xclicked"),tt.paneUI.hide()}),tt.roostNodes.brand.addEventListener("click",function(t){t.stopPropagation(),o("attribution"),window.open("https://goroost.com","_blank")}),(_.pkSettings.fadeOnScroll.enabled||_.pkSettings.promptOnScroll.enabled)&&t.addEventListener("scroll",function(e){if(_.pkSettings.fadeOnScroll.enabled&&(_.pkSettings.fadeOnScroll.mobileOnly&&!P._isSmallScreen(t)||P._hasClass(tt.roostNodes.wrapper,"roost-bell-fadeout")||(P._addClass(tt.roostNodes.wrapper,"roost-bell-fadeout"),setTimeout(function(){P._removeClass(tt.roostNodes.wrapper,"roost-bell-fadeout")},2e3))),_.pkSettings.promptOnScroll.enabled){var o=P._getScrollDistance()
o>=_.pkSettings.promptOnScroll.distance&&!_.denied&&h(_.rdt)&&P.prompt()}}),_.pkSettings.email){var e=P._getElById("roost-email-submit"),i=P._getElById("roost-email-input")
e.addEventListener("click",function(t){t.stopPropagation()
var e=i.value
tt.emailUI.submit(e)}),i.addEventListener("keydown",function(t){if(13==t.keyCode){var e=i.value
tt.emailUI.submit(e)}})}},preventPropagation:function(){for(var t in tt.roostNodes)!function(t){t&&t.addEventListener("click",function(t){t.stopPropagation()})}(tt.roostNodes[t])},touch:{xDown:null,yDown:null,isRight:!1,handleStart:function(t){this.xDown=t.touches[0].clientX,this.yDown=t.touches[0].clientY},handleDirection:function(t,e){if(this.xDown&&this.yDown){var o=t.touches[0].clientX,i=t.touches[0].clientY,s=this.xDown-o,r=this.yDown-i
Math.abs(s)>Math.abs(r)&&(s>0||(e.style.marginLeft=String(-1*s)+"px",e.style.marginRight=String(s)+"px",P._addClass(e,"roost-dragging"),this.isRight=!0))}},handleStop:function(t,e){e.style.marginLeft="0px",e.style.marginRight="0px",P._removeClass(e,"roost-dragging"),this.isRight&&tt.notifications.removeSingle(e.id),this.isRight=!1}}},fbShare:function(t,e,o,i,s,r){var n=screen.height/2-r/2,a=screen.width/2-s/2
window.open("http://www.facebook.com/sharer.php?s=100&p[title]="+e+"&p[summary]="+o+"&p[url]="+t+"&p[images][0]="+i,"sharer","top="+n+",left="+a+",toolbar=0,status=0,width="+s+",height="+r)},twitShare:function(t,e,o){var i=screen.height/2-o/2,s=screen.width/2-e/2,r="https://twitter.com/home?status="+t
window.open(r,"sharer","top="+i+",left="+s+",toolbar=0,status=0,width="+e+",height="+o)},countNotes:function(){var t=0
if(g(_.rdt))t=_.notifications.length
else for(var e=0;e<_.notifications.length;e++){var o=tt.readCookie.check(_.notifications[e])
o||t++}return t},updateCount:function(){var t=tt.countNotes()
_.unreadNoteCount=t,P._removeClass(tt.roostNodes.bubble,tt.roostClasses.hide),9>=t&&t>0?tt.roostNodes.bubble.innerHTML=tt.countSvg[t]:t>9?tt.roostNodes.bubble.innerHTML=tt.countSvg[10]:(P._addClass(tt.roostNodes.bubble,tt.roostClasses.hide),tt.emptyNotifications())},promptAd:{init:function(){P.getCookie("roost-show-prompt")||P.setCookie("roost-show-prompt","true",365)},dismiss:function(){P.setCookie("roost-show-prompt","false",365)},check:function(){return"true"===P.getCookie("roost-show-prompt")}},emptyNotifications:function(){if(!P._getElById("roost-empty-wrapper")){var e=P._getElById("roost-bell").cloneNode(!0),o=t.document.createElement("p"),i=t.document.createElement("div")
o.setAttribute("id","roost-empty-message"),o.textContent=_.pkSettings.text.noNotes,e.setAttribute("id","roost-empty-bell"),i.setAttribute("id","roost-empty-wrapper"),i.appendChild(e),i.appendChild(o),tt.roostNodes.notes.appendChild(i),P._addClass(tt.roostNodes.notes,"roost-empty-notifications")}},showNotifications:function(){P._toggleClass(tt.roostNodes.notes,tt.roostClasses.expandNotes)}},et={children:{"#goroostcom-notifications p, #goroostcom-notifications li, #goroostcom-notifications span, #goroostcom-notifications h1, #goroostcom-notifications h2, #roost-notficiations h3":{attributes:{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}},"#goroostcom-bell p, #goroostcom-notifications p, #goroostcom-notifications button":{attributes:{"font-family":'"Helvetica", "Roboto-Regular", "Arial", sans-serif'}},"#roost-bellprompt p":{attributes:{"line-height":"100%"}},"#goroostcom-bell":{attributes:{position:"fixed",right:"25px",bottom:"25px","border-radius":"50%",cursor:"pointer","-webkit-box-shadow":"2px 2px 5px 0px rgba(0,0,0,0.3)","-moz-box-shadow":"2px 2px 5px 0px rgba(0,0,0,0.3)","box-shadow":"2px 2px 5px 0px rgba(0,0,0,0.3)",transition:"1000ms opacity linear, 0ms border-radius linear","-o-transition":"1000ms opacity linear, 0ms border-radius linear","-ms-transition":"1000ms opacity linear, 0ms border-radius linear","-moz-transition":"1000ms opacity linear, 0ms border-radius linear","-webkit-transition":"1000ms opacity linear, 0ms border-radius linear","text-align":"left !important"}},"#goroostcom-bell.hide-bell":{attributes:{display:"none !important"}},"#goroostcom-bell.roost-bell-fadeout":{attributes:{opacity:"0",transition:"1000ms opacity linear","-o-transition":"1000ms opacity linear","-ms-transition":"1000ms opacity linear","-moz-transition":"1000ms opacity linear","-webkit-transition":"1000ms opacity linear"}},"#goroostcom-bell *":{attributes:{"box-sizing":"border-box","-webkit-box-sizing":"border-box"}},"#goroostcom-bell:hover #roost-bell":{attributes:{"-webkit-animation":"wiggle 0.25s ease-in 2","-moz-animation":"wiggle 0.25s ease-in 2",animation:"wiggle 0.25s ease-in 2"}},"#roost-bell.roost-wiggle":{attributes:{"-webkit-animation":"wiggle 0.25s ease-in 2","-moz-animation":"wiggle 0.25s ease-in 2",animation:"wiggle 0.25s ease-in 2"}},"#goroostcom-bell.roost-inline":{attributes:{position:"relative",display:"inline-block","vertical-align":"bottom","-webkit-box-shadow":"none","-moz-box-shadow":"none","box-shadow":"none",bottom:"0",right:"0",overflow:"hidden"}},"#goroostcom-bell.roost-no-circle":{attributes:{"border-radius":"0"}},"#goroostcom-bell.show-coachmarks::after, #goroostcom-bell.animate-coachmarks-start::after":{attributes:{content:"'Get notifications from "+_.configName+"'",position:"absolute",left:"-184px",top:"50%","margin-top":"-17px",overflow:"hidden",background:"#3b3b3b","border-radius":"5px",height:"35px","line-height":"35px",color:"#fff","font-size":"14px","text-align":"center","white-space":"nowrap","font-family":'"Helvetica", "Roboto-Regular", "Arial", sans-serif',"-webkit-box-shadow":"2px 2px 5px 0px rgba(0,0,0,0.3)","-moz-box-shadow":"2px 2px 5px 0px rgba(0,0,0,0.3)","box-shadow":"2px 2px 5px 0px rgba(0,0,0,0.3)"}},"#goroostcom-bell.show-coachmarks::before, #goroostcom-bell.animate-coachmarks-start::before":{attributes:{content:"''",position:"absolute",left:"-12px",top:"50%","margin-top":"-7px",width:"0",height:"0","border-left":"8px solid #3b3b3b","border-top":"8px solid transparent","border-bottom":"8px solid transparent"}},"#goroostcom-bell.animate-coachmarks-start::after, #goroostcom-bell.animate-coachmarks-start::before":{attributes:{width:"0",opacity:"0",left:"0","z-index":"-1",transition:"200ms all linear","-o-transition":"200ms all linear","-ms-transition":"200ms all linear","-moz-transition":"200ms all linear","-webkit-transition":"200ms all linear"}},"#goroostcom-bell.animate-coachmarks-end::after, #goroostcom-bell.animate-coachmarks-end::before":{attributes:{width:"175px",opacity:"1",left:"-184px","z-index":"20",transition:"200ms all linear","-o-transition":"200ms all linear","-ms-transition":"200ms all linear","-moz-transition":"200ms all linear","-webkit-transition":"200ms all linear"}},"#goroostcom-bell.animate-coachmarks-end::before":{attributes:{left:"-12px"}},"#goroostcom-bell.animate-coachmarks-width::after":{attributes:{width:"0",transition:"190ms all linear","-o-transition":"190ms all linear","-ms-transition":"190ms all linear","-moz-transition":"190ms all linear","-webkit-transition":"190ms all linear"}},"#goroostcom-bell.animate-coachmarks-width::before":{display:"none"},"#roost-bell":{attributes:{width:"70%",height:"70%",margin:"15% 0 0 15%",cursor:"pointer !important"}},"#roost-bell *":{attributes:{fill:"#FFF"}},"#goroostcom-bell.roost-inlinecircle #roost-bell":{attributes:{width:"125%",height:"125%",margin:"-15% 0 0 -12.5%"}},"#goroostcom-bell.roost-wrapper-left":{attributes:{right:"initial",left:"25px"}},"#goroostcom-bell.roost-wrapper-top":{attributes:{bottom:"initial",top:"25px"}},"#goroostcom-bell.roost-wrapper-left.show-coachmarks::before, #goroostcom-bell.roost-wrapper-left.animate-coachmarks-start::before":{attributes:{left:"initial",right:"-12px","border-left-style":"hidden","border-right":"8px solid #3b3b3b","border-top":"8px solid transparent","border-bottom":"8px solid transparent"}},"#goroostcom-bell.roost-wrapper-left.animate-coachmarks-start::after, #goroostcom-bell.roost-wrapper-left.animate-coachmarks-start::before":{attributes:{left:"initial",right:"0"}},"#goroostcom-bell.roost-wrapper-left.animate-coachmarks-end::after, #goroostcom-bell.roost-wrapper-left.animate-coachmarks-end::before":{attributes:{left:"initial",right:"-184px"}},"#goroostcom-bell.roost-wrapper-left.animate-coachmarks-end::before":{attributes:{left:"initial",right:"-12px"}},"#roost-bubble":{attributes:{position:"absolute",top:"20px",right:"7px",cursor:"pointer !important"}},"#roost-bubble-count":{attributes:{position:"absolute","font-size":"8px","z-index":"4",right:"18%",top:"0%","font-weight":"600","border-radius":"50%",border:"2px solid #3b3b3b","line-height":"8px",height:"35%",width:"35%","text-align":"center","margin-top":"7px"}},"#roost-bubble-count.roost-bubble-svg":{attributes:{"background-color":"transparent !important","border-style":"hidden"}},"#roost-prompt p":{attributes:{"font-size":"3.5vh","text-align":"center",margin:"30% 0 0 0"}},"#goroostcom-notifications":{attributes:{width:"100%","max-width":"400px",height:"100vh !important",position:"fixed",right:"-400px",top:"0px",bottom:"0px !important","z-index":"5",overflow:"hidden",background:"#fcfcfc",transition:"100ms right ease-in","-o-transition":"100ms right ease-in","-ms-transition":"100ms right ease-in","-moz-transition":"100ms right ease-in","-webkit-transition":"100ms right ease-in"}},"#goroostcom-notifications *":{attributes:{"box-sizing":"border-box","-webkit-box-sizing":"border-box"}},"#roost-overlay":{attributes:{width:"100%",height:"15%",position:"absolute",left:"0",bottom:"0","background-image":"-webkit-gradient(linear, left bottom, left top, from(rgba(245,245,245,0.95)), to(rgba(245,245,245,0.0)), color-stop(.55,rgba(245,245,245,1)))","z-index":"10","pointer-events":"none"}},"#goroostcom-notifications.roost-notes-visible":{attributes:{display:"block",bottom:"0px !important",width:"100%","max-width":"400px",height:"100vh",right:"0",border:"1px solid #ebebeb",transition:"100ms right ease-in","-o-transition":"100ms right ease-in","-ms-transition":"100ms right ease-in","-moz-transition":"100ms right ease-in","-webkit-transition":"100ms right ease-in"}},"#roost-notifications-head":{attributes:{width:"100%",height:"60px","border-bottom":"1px solid #cfcfcf","text-align":"left !important"}},"#roost-notifications-title":{attributes:{"line-height":"58px",margin:"0 0 0 0","font-size":"14px","font-weight":"500","text-transform":"uppercase",color:"#424242","text-align":"center",width:"145px",display:"inline-block !important",cursor:"pointer !important","border-bottom":"3px solid #424242"}},".roost-settings-active #roost-notifications-title":{attributes:{"border-bottom-style":"hidden",color:"#949494"}},"#roost-data":{attributes:{padding:"0 0 100px 0",margin:"0","list-style-type":"none",height:"calc(100% - 80px)",overflow:"scroll",position:"relative","-ms-overflow-style":"none"}},"#roost-data::-webkit-scrollbar":{attributes:{width:"0px !important"}},"#roost-data li":{attributes:{margin:"0","min-height":"75px",position:"relative",cursor:"pointer",padding:"18px 125px 18px 20px",background:"none","box-sizing":"border-box","-webkit-box-sizing":"border-box","list-style-type":"none","text-align":"left !important"}},"#roost-data li::after":{attributes:{content:"''",background:"#cfcfcf",position:"absolute",bottom:"0",left:"50%",width:"90%",height:"1px",margin:"0 0 0 -45%"}},"#roost-data li.dismissing":{attributes:{overflow:"hidden",margin:"0 -400px 0 400px !important","-moz-transition":"margin-left 250ms linear, margin-right 250ms linear","-ms-transition":"margin-left 250ms linear, margin-right 250ms linear","-o-transition":"margin-left 250ms linear, margin-right 250ms linear",transition:"margin-left 250ms linear, margin-right 250ms linear"}},"#roost-data li.roost-dragging":{attributes:{"border-left":"1px solid #cbcbcb","-webkit-box-shadow":"-10px 0px 20px -6px rgba(59,59,59,0.4)","-moz-box-shadow":"-10px 0px 20px -6px rgba(59,59,59,0.4)","box-shadow":"-10px 0px 20px -6px rgba(59,59,59,0.4)"}},"#roost-data li.roost-list-noimage":{attributes:{"padding-right":"53px"}},"#roost-data li.roost-list-noimage img":{attributes:{display:"none"}},"#roost-data li p":{attributes:{"font-size":"12px","font-weight":"400","letter-spacing":"0.25px",color:"#666",margin:"0","line-height":"14px",cursor:"pointer","max-height":"28px",overflow:"hidden"}},"#roost-data li p.roost-custom-title":{attributes:{"font-size":"13px","font-weight":"500","line-height":"18px",color:"#424242","-webkit-text-stroke":"0.5px",height:"18px"}},"#roost-data li p.roost-custom-title~p:first-of-type":{attributes:{}},"#roost-data li p#roost-date":{attributes:{"font-size":"12px",color:"#FFF",background:"#a0a0a0","line-height":"18px",width:"90px",padding:"0 0 0 5px"}},"#roost-settings":{attributes:{position:"absolute",width:"100%","max-width":"400px",height:"100px",right:"0",display:"none",padding:"25px 0 0 0","z-index":"5","text-align":"center"}},"#roost-close-pane":{attributes:{cursor:"pointer !important",width:"60px",height:"60px",position:"absolute",right:"0",top:"0"}},"#roost-close":{attributes:{position:"absolute",right:"25px",top:"25px",fill:"#949494"}},"#roost-note-dismiss":{attributes:{cursor:"pointer !important",margin:"0",position:"absolute",right:"22px",top:"15px",width:"9px",height:"9px",fill:"#949494",opacity:"0"}},"#roost-note-dismiss.dismiss-fadein":{attributes:{opacity:"1","-webkit-transition":"opacity 100ms ease-out","-moz-transition":"opacity 100ms ease-out","-ms-transition":"opacity 100ms ease-out","-o-transition":"opacity 100ms ease-out",transition:"opacity 100ms ease-out"}},".roost-note-share":{attributes:{width:"13px",height:"13px",position:"absolute",right:"20px",top:"50%",margin:"-6px 0 0 0",fill:"#dadada",opacity:"0.3"}},"#roost-gear":{attributes:{display:"inline-block",width:"110px",margin:"0","line-height":"58px","font-size":"14px","font-weight":"500","text-transform":"uppercase",color:"#949494","text-align":"center",cursor:"pointer !important","border-bottom-style":"hidden"}},"#roost-data li:hover .roost-note-share":{attributes:{opacity:"1","-webkit-transition":"opacity 110ms ease-out","-moz-transition":"opacity 110ms ease-out","-ms-transition":"opacity 110ms ease-out","-o-transition":"opacity 110ms ease-out",transition:"opacity 110ms ease-out"}},".roost-settings-active #roost-gear":{attributes:{"border-bottom":"3px solid #424242",color:"#424242"}},"#roost-settings.roost-settings-visible":{attributes:{display:"block"}},"#roost-settings.roost-settings-visible #roost-empty-wrapper":{attributes:{display:"none"}},"#roost-settings input, #roost-settings p":{attributes:{display:"inline-block","vertical-align":"middle",margin:"0 15px","line-height":"60px",cursor:"pointer",color:"#666","font-size":"14px"}},"#roost-settings p#roost-disable-confirmation, #roost-settings p#roost-enable-confirmation":{attributes:{width:"90%","text-align":"center",cursor:"default"}},"#roost-settings p#roost-disable-text":{attributes:{"max-width":"75%","line-height":"120%"}},"#roost-settings input":{attributes:{margin:"0",width:"12px"}},"#roost-settings input#roost-disable":{attributes:{"-moz-appearance":"checkbox","-webkit-appearance":"checkbox"}},"@-webkit-keyframes wiggle":{children:{"0%":{attributes:{"-webkit-transform":"rotate(0deg)"}},"25%":{attributes:{"-webkit-transform":"rotate(10deg)"}},"50%":{attributes:{"-webkit-transform":"rotate(0deg)"}},"75%":{attributes:{"-webkit-transform":"rotate(-10deg)"}},"100%":{attributes:{"-webkit-transform":"rotate(0deg)"}}}},"@-moz-keyframes wiggle":{children:{"0%":{attributes:{"-moz-transform":"rotate(0deg)"}},"25%":{attributes:{"-moz-transform":"rotate(10deg)"}},"50%":{attributes:{"-moz-transform":"rotate(0deg)"}},"75%":{attributes:{"-moz-transform":"rotate(-10deg)"}},"100%":{attributes:{"-moz-transform":"rotate(0deg)"}}}},"@keyframes wiggle":{children:{"0%":{attributes:{transform:"rotate(0deg)"}},"25%":{attributes:{transform:"rotate(10deg)"}},"50%":{attributes:{transform:"rotate(0deg)"}},"75%":{attributes:{transform:"rotate(-10deg)"}},"100%":{attributes:{transform:"rotate(0deg)"}}}},".roost-note-img":{attributes:{position:"absolute",right:"48px",bottom:"50%","margin-bottom":"-28px",width:"56px",height:"56px"}},"#roost-empty-wrapper":{attributes:{"text-align":"center","min-width":"150px","min-height":"100px",position:"absolute",left:"50%",top:"50%","-webkit-transform":"translate(-50%, -50%)","-moz-transform":"translate(-50%, -50%)","-ms-transform":"translate(-50%, -50%)","-o-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)"}},"#roost-empty-bell":{attributes:{fill:"rgb(205,205,205) !important",width:"80px",height:"80px"}},"#roost-empty-message":{attributes:{"font-size":"14px",color:"rgb(185,185,185)",width:"300px"}},"#roost-branding":{attributes:{"text-align":"center","font-size":"14px",color:"#a9a9a9",position:"absolute",left:"0",bottom:"5px",width:"100%","z-index":"-1","font-weight":"600",opacity:"0"}},"#roost-brand-logo":{attributes:{"vertical-align":"middle",width:"45px",margin:"0 0 0 3px",fill:"#a9a9a9"}},"#roost-spinner":{attributes:{width:"40px",height:"40px","border-radius":"50%","box-shadow":"2px 2px 0 0 #a9a9a9",position:"absolute",left:"50%",top:"220px",margin:"-20px 0 0 -20px","z-index":"-1",visibility:"hidden"}},"#roost-clear-all":{attributes:{position:"absolute",left:"50%",bottom:"10px","font-size":"14px","font-weight":"600",color:"#666","z-index":"10",cursor:"pointer","text-transform":"uppercase","-webkit-transform":"translateX(-50%)","-moz-transform":"translateX(-50%)","-ms-transform":"translateX(-50%)","-o-transform":"translateX(-50%)",transform:"translateX(-50%)"}},".roost-empty-notifications #roost-clear-all":{attributes:{visibility:"hidden"}},".roost-settings-active #roost-clear-all":{attributes:{visibility:"hidden"}},".roost-settings-active #roost-branding":{attributes:{opacity:"1","z-index":"10",cursor:"pointer"}},".roost-settings-active #roost-empty-wrapper":{attributes:{display:"none"}},"#roost-spinner.show-roost-spinner":{attributes:{animation:"1s spin infinite linear","z-index":"10",visibility:"visible"}},"@keyframes spin":{children:{from:{attributes:{transform:"rotate(0deg)"}},to:{attributes:{transform:"rotate(360deg);"}}},attributes:{}},".roost-hide":{attributes:{display:"none !important"}},".roost-visible":{attributes:{opacity:"1.0 !important"}},".roost-notes-unsub":{attributes:{overflow:"visible !important"}},".roost-notes-unsub #roost-settings.roost-settings-visible ~ #roost-bellprompt":{attributes:{display:"none"}},"#goroostcom-notifications #roost-bellprompt":{attributes:{background:"#e6e6e6",position:"absolute",left:"0",top:"60px",width:"100%",padding:"0 0 0 180px","border-bottom":"1px solid #cfcfcf"}},"#goroostcom-notifications #roost-bellprompt-image":{attributes:{width:"auto",height:"110px",position:"absolute",left:"0",top:"20px"}},"#goroostcom-notifications .roost-bellprompt-text":{attributes:{"font-size":"18px",color:"#3b3b3b","text-align":"left","font-weight":"400"}},"#goroostcom-notifications #roost-bellprompt-title":{attributes:{"text-align":"left",margin:"28px 0 15px 0","font-weight":600,"line-height":"120%"}},"#goroostcom-notifications #roost-bellprompt-body, #goroostcom-notifications #roost-bellprompt-body-2":{attributes:{"text-align":"left","font-size":"14px","font-weight":"300","line-height":"130%",margin:"0 30px 0 0"}},"#roost-bellprompt-body-2":{attributes:{margin:"5px 0"}},"#roost-bellprompt-btn":{attributes:{"text-align":"center",width:"120px",height:"35px","font-size":"14px","line-height":"32px",color:"#fff",background:"#686868",border:"none","border-radius":"3px",margin:"15px 0 20px 0",cursor:"pointer",padding:"0","text-transform":"none",display:"inline-block"}},"#roost-bellprompt-btn:hover":{attributes:{opacity:"0.85","-webkit-transition":"opacity 100ms ease-out","-moz-transition":"opacity 100ms ease-out","-ms-transition":"opacity 100ms ease-out","-o-transition":"opacity 100ms ease-out",transition:"opacity 100ms ease-out"}},"#roost-bellprompt-decline":{attributes:{"font-size":"11px",display:"inline-block",cursor:"pointer !important","margin-left":"20px",color:"#3b3b3b"}},"#goroostcom-notifications #roost-bellprompt-image.roost-bellprompt-logo":{attributes:{width:"60px",height:"60px",left:"25px"}},"#goroostcom-notifications #roost-bellprompt.roost-bellprompt-containslogo":{attributes:{"padding-left":"110px"}},"#roost-share-template":{attributes:{position:"absolute",right:"0",bottom:"0",visibility:"hidden"}},"#roost-segments-list":{attributes:{"list-style-type":"none",margin:"0"}},".roost-segment":{attributes:{height:"40px"}},"#roost-segments-head":{attributes:{"text-transform":"uppercase","font-size":"12px !important","line-height":"20px !important",margin:"25px 15px 0px 15px !important","padding-top":"25px","border-top":"1px solid #CFCFCF",width:"370px","text-align":"center"}},"#roost-shareicon-fb, #roost-shareicon-twitter":{attributes:{position:"absolute",right:"0",bottom:"0",visibility:"hidden"}},"#roost-share-wrapper":{attributes:{position:"absolute",width:"102px",height:"0px",right:"0",bottom:"-35px",background:"#FFF",overflow:"hidden","z-index":"11","-webkit-box-shadow":"2px 2px 5px 0px rgba(0,0,0,0.3)","-moz-box-shadow":"2px 2px 5px 0px rgba(0,0,0,0.3)","box-shadow":"2px 2px 5px 0px rgba(0,0,0,0.3)"}},".roost-share-active #roost-share-wrapper":{attributes:{padding:"10px",height:"55px",border:"1px solid #a9a9a9","border-radius":"5px"}},"#roost-share-fb, #roost-share-twitter":{attributes:{width:"35px",height:"35px",display:"inline-block",visibility:"hidden","float":"right",cursor:"pointer",fill:"#55acee"}},"#roost-share-fb":{attributes:{margin:"0 0 0 10px",fill:"#3b5998"}},".roost-share-active #roost-share-fb, .roost-share-active #roost-share-twitter":{attributes:{visibility:"visible"}},"#goroostcom-notifications.roost-notes-unsub":{attributes:{top:"initial",bottom:"0"}},".roost-view-btn":{attributes:{position:"absolute",right:"10px",top:"50%","margin-top":"-15px",height:"30px",background:"none",border:"1px solid #3b3b3b","border-radius":"5px",cursor:"pointer !important","font-weight":"600",opacity:"0.7",color:"#3b3b3b",padding:"0","text-transform":"none","font-size":"12px","letter-spacing":"0",width:"45px"}},"#roost-data li:hover .roost-view-btn":{attributes:{background:"#3b3b3b",color:"#FFF",opacity:"0.9","-webkit-transition":"all 100ms ease-out","-moz-transition":"all 100ms ease-out","-ms-transition":"all 100ms ease-out","-o-transition":"all 100ms ease-out",transition:"all 100ms ease-out"}},"#roost-banner":{attributes:{position:"fixed",bottom:"0",right:"0",width:"755px",height:"95px",background:"#FFF","border-top-left-radius":"8px","-webkit-box-shadow":"0px -2px 8px 0px rgba(0,0,0,0.2)","-moz-box-shadow":"0px -2px 8px 0px rgba(0,0,0,0.2)","box-shadow":"0px -2px 8px 0px rgba(0,0,0,0.2)"}},"#roost-banner-left":{attributes:{width:"66%","float":"left",background:"#f5f5f5",position:"relative","box-sizing":"border-box",height:"100%",padding:"25px","padding-left":"95px","border-top-left-radius":"8px"}},"#roost-banner-right":{attributes:{width:"33%",height:"100%","float":"left",position:"relative","box-sizing":"border-box",padding:"25px"}},"#roost-banner-title":{attributes:{"font-family":'"Helvetica", "Roboto-Regular", "Arial", sans-serif',"font-size":"18px",margin:"0","font-weight":"500"}},"#roost-banner-subtitle":{attributes:{"font-family":'"Helvetica", "Roboto-Regular", "Arial", sans-serif',margin:"0","margin-top":"5px","font-size":"13px"}},"#roost-banner-btn":{attributes:{position:"absolute",right:"25px",top:"25px",color:"#FFF",border:"none",background:"#3b3b3b","font-family":'"Helvetica", "Roboto-Regular", "Arial", sans-serif',"font-weight":"500","font-size":"15px",width:"100px","border-radius":"5px",height:"45px",cursor:"pointer"}},"#roost-banner-btn:hover":{opacity:"0.9","-webkit-transition":"all 100ms ease-out","-moz-transition":"all 100ms ease-out","-ms-transition":"all 100ms ease-out","-o-transition":"all 100ms ease-out",transition:"all 100ms ease-out"},"#roost-banner-dismisstext":{attributes:{"font-family":'"Helvetica", "Roboto-Regular", "Arial", sans-serif',position:"absolute",right:"50px",bottom:"5px",margin:"0",cursor:"pointer","font-size":"11px"}},"#roost-banner-belltext":{attributes:{"font-family":'"Helvetica", "Roboto-Regular", "Arial", sans-serif',"font-weight":"300","font-size":"14px",color:"#898989",width:"120px","margin-top":"5px"}},"#roost-banner-arrow":{attributes:{visibility:"hidden","z-index":"-1"}},"#roost-banner-arrow.roost-show-arrow":{attributes:{visibility:"visible","z-index":"20",fill:"#898989",position:"absolute",right:"80px",top:"40px"}},"#roost-banner-logo":{attributes:{width:"45px",height:"45px",position:"absolute",left:"25px",top:"25px"}},"#roost-wrapper":{attributes:{"z-index":"1000000"}},"#roost-branding:hover":{attributes:{color:"#e25351","-webkit-transition":"color 200ms ease-out","-moz-transition":"color 200ms ease-out","-ms-transition":"color 200ms ease-out","-o-transition":"color 200ms ease-out",transition:"color 200ms ease-out"}},"#roost-branding:hover #roost-brand-logo *":{attributes:{fill:"#e25351",opacity:"1.0","-webkit-transition":"all 200ms ease-out","-moz-transition":"all 200ms ease-out","-ms-transition":"all 200ms ease-out","-o-transition":"all 200ms ease-out",transition:"all 200ms ease-out"}},"#roost-share-fb:hover *":{attributes:{fill:"#3b5998",opacity:"1","-webkit-transition":"all 100ms ease-out","-moz-transition":"all 100ms ease-out","-ms-transition":"all 100ms ease-out","-o-transition":"all 100ms ease-out",transition:"all 100ms ease-out"}},"#roost-share-twitter:hover *":{attributes:{fill:"#55acee",opacity:"1","-webkit-transition":"all 100ms ease-out","-moz-transition":"all 100ms ease-out","-ms-transition":"all 100ms ease-out","-o-transition":"all 100ms ease-out",transition:"all 100ms ease-out"}},"#roost-data li p.roost-notification-timestamp":{attributes:{color:"#888888","font-size":"11px","margin-top":"2px"}},"#roost-slide-out-desc":{attributes:{"text-align":"center"}},"#roost-browsernote-wrapper":{attributes:{height:"80px",width:"360px",position:"absolute",right:"-380px",top:"10px",background:"#FFF",cursor:"pointer","-webkit-box-shadow":"0px 0px 5px 1px rgba(0,0,0,0.3)","-moz-box-shadow":"0px 0px 5px 1px rgba(0,0,0,0.3)","box-shadow":"0px 0px 5px 1px rgba(0,0,0,0.3)","-webkit-transition":"right 250ms linear","-moz-transition":"right 250ms linear","-ms-transition":"right 250ms linear","-o-transition":"right 250ms linear",transition:"right 250ms linear"}},"#roost-browsernote-wrapper.roost-browsernote-visible":{attributes:{right:"10px","-webkit-transition":"right 250ms linear","-moz-transition":"right 250ms linear","-ms-transition":"right 250ms linear","-o-transition":"right 250ms linear",transition:"right 250ms linear"}},"#roost-browsernote-wrapper p":{attributes:{"font-family":"Helvetica Neue",margin:"0","line-height":"25px","font-size":"12px","margin-left":"90px"}},"#roost-browsernote-wrapper p#roost-browsernote-title":{attributes:{"font-size":"14px","margin-top":"5px"}},"#roost-browsernote-wrapper p#roost-browsernote-body":{attributes:{"letter-spacing":"0.5px","line-height":"110%","max-height":"27px","margin-right":"25px",overflow:"hidden"}},"#roost-browsernote-wrapper img":{attributes:{"float":"left",height:"100%",width:"auto"}},"#roost-browsernote-close-wrapper":{attributes:{width:"20px",height:"20px",position:"absolute",top:"5px",right:"5px",cursor:"pointer","text-align":"center","border-radius":"50%"}},"#roost-browsernote-close":{attributes:{height:"40%",width:"70%"}},"#roost-browsernote-close-wrapper.roost-browsernote-click":{attributes:{background:"#616161"}},"#roost-browsernote-close-wrapper.roost-browsernote-click svg *":{attributes:{fill:"#FFF"}},"svg#Icons":{attributes:{position:"absolute",top:"50%",right:"50%","margin-top":"-30px","margin-right":"-30px"}},"svg#Icons .st0":{attributes:{fill:"rgb(226, 83, 81)"}},"svg#Icons .st2":{attributes:{fill:"#FFF"}},".roost-bubble-mini svg#Icons":{attributes:{display:"none"}},"#roost-settings p#roost-email-text":{attributes:{display:"block","text-align":"center",cursor:"default","margin-top":"25px","border-top":"1px solid #CFCFCF"}},"#roost-settings input#roost-email-input":{attributes:{width:"175px",height:"35px","line-height":"35px","font-family":'"Helvetica", "Roboto-Regular", "Arial", sans-serif',"font-size":"13px","padding-left":"8px",cursor:"text"}},"#roost-settings button#roost-email-submit":{attributes:{background:"none",outline:"none",border:"1px solid #949494","font-size":"13px",padding:"8px","border-radius":"3px","font-family":'"Helvetica", "Roboto-Regular", "Arial", sans-serif',color:"#000",cursor:"pointer"}},"#roost-settings button#roost-email-submit:hover":{attributes:{background:"#949494",color:"#FFF","-webkit-transition":"right 250ms linear","-moz-transition":"right 250ms linear","-ms-transition":"right 250ms linear","-o-transition":"right 250ms linear",transition:"right 250ms linear"}},"#roost-settings p#roost-email-success":{attributes:{display:"block","text-align":"center","font-size":"14px"}},"#roost-browsernote-overflow":{attributes:{position:"absolute",right:"0",top:"0",width:"380px",height:"100px",overflow:"hidden"}},"#roost-settings p#roost-email-failure, #roost-settings p#roost-email-success":{attributes:{"text-align":"center",width:"300px",margin:"30px auto 0px auto",display:"block","line-height":"120%","margin-top":"30px","font-weight":"600"}},"#roost-subonmain-wrapper":{attributes:{"background-color":"#D8D8D8",padding:"12px 0px 0px 20px",height:"45px"}},"#roost-subonmain-box":{attributes:{"margin-right":"5px","vertical-align":"middle"}},"#roost-subonmain-text":{attributes:{display:"inline-block","vertical-align":"middle","font-size":"12px",margin:"0"}},"#roost-settings.roost-settings-visible ~ #roost-subonmain-wrapper":{attributes:{display:"none"}},"#roost-empty-bell .st0":{attributes:{fill:"#CDCDCD"}},"#roost-modal":{attributes:{display:"none"}},"#roost-wrapper":{attributes:{position:"fixed",top:"0",right:"-405px",height:"100%",width:"405px","font-family":'"Helvetica", "Roboto-Regular", "Arial", sans-serif',color:"#666","text-align":"center","background-color":"rgba(255, 255, 255, 0.98)","box-shadow":"-1px 2px 5px rgba(0, 0, 0, 0.4)","-webkit-animation":"roost-slide-in 0.75s forwards","-webkit-animation-delay":"2s","-moz-animation":"roost-slide-in 0.75s forwards","-moz-animation-delay":"2s",animation:"roost-slide-in 0.75s forwards","animation-delay":"2s"}},"#roost-wrapper.roost-wrapper-dismissed":{attributes:{"-webkit-animation":"roost-slide-out 0.5s forwards","-moz-animation":"roost-slide-out 0.5s forwards",animation:"roost-slide-out 0.5s forwards"}},"#roost-slide-out-header":{attributes:{height:"60px",position:"relative"}},"#roost-slide-out-header hr":{attributes:{width:"90px",height:"1px",position:"absolute","background-color":"#d6d6d6",bottom:"0",left:"0",right:"0",margin:"0 auto",padding:"0",border:"none"}},"#roost-slide-out-headline":{attributes:{position:"relative",top:"25px","font-size":"14px","font-weight":"400","text-align":"center","text-transform":"uppercase",width:"calc(100% - 90px)",margin:"0 auto"}},"#roost-qualify-dismiss":{attributes:{position:"absolute",right:"18px",top:"24px"}},"#roost-slide-out-slug":{attributes:{"text-align":"center","margin-top":"30px","font-size":"19px","font-weight":"600",width:"280px","margin-left":"auto","margin-right":"auto","line-height":"25px"}},"#roost-slide-out-desc":{attributes:{width:"280px","font-size":"16px","line-height":"22px",margin:"20px auto 0 auto",color:"#808084"}},"#roost-subscribe-button":{attributes:{width:"146px",height:"45px","line-height":"45px",margin:"30px auto 0","text-align":"center",color:"#fff","font-size":"15px","font-weight":"400","background-color":"#1982de","border-radius":"10px",cursor:"pointer","box-sizing":"content-box",padding:"0 15px"}},"#roost-slide-out-device":{attributes:{width:"333px",height:"422px","margin-top":"66px","background-image":"url(https://s3.amazonaws.com/roost/promptkit/laptop.png)","background-size":"cover","background-repeat":"no-repeat"}},"#roost-x":{attributes:{cursor:"pointer"}},"#roost-x img":{attributes:{width:"13px"}},"@-webkit-keyframes roost-slide-in":{children:{"0%":{attributes:{right:"-405px"}},"95%":{attributes:{right:"-3px"}},"100%":{attributes:{right:"-5px"}}}},"@-moz-keyframes roost-slide-in":{children:{"0%":{attributes:{right:"-405px"}},"95%":{attributes:{right:"-3px"}},"100%":{attributes:{right:"-5px"}}}},"@keyframes roost-slide-in":{children:{"0%":{attributes:{right:"-405px"}},"95%":{attributes:{right:"-3px"}},"100%":{attributes:{right:"-5px"}}}},"@-webkit-keyframes roost-slide-out":{children:{"0%":{attributes:{right:"-5px"}},"5%":{attributes:{right:"-3px"}},"100%":{attributes:{right:"-405px"}}}},"@-moz-keyframes roost-slide-out":{children:{"0%":{attributes:{right:"-5px"}},"5%":{attributes:{right:"-3px"}},"100%":{attributes:{right:"-405px"}}}},"@keyframes roost-slide-out":{children:{"0%":{attributes:{right:"-5px"}},"5%":{attributes:{right:"-3px"}},"100%":{attributes:{right:"-405px"}}}},"#roost-reset":{attributes:{"backface-visibility":"visible",background:"0","background-clip":"border-box","background-color":"transparent","background-image":"none","background-origin":"padding-box","background-position":"0 0","background-position-x":"0","background-position-y":"0","background-repeat":"repeat","background-size":"auto auto",border:"0","border-style":"none","border-width":"medium","border-color":"inherit","border-bottom":"0","border-bottom-color":"inherit","border-bottom-left-radius":"0","border-bottom-right-radius":"0","border-bottom-style":"none","border-bottom-width":"medium","border-collapse":"separate","border-image":"none","border-left":"0","border-left-color":"inherit","border-left-style":"none","border-left-width":"medium","border-radius":"0","border-right":"0","border-right-color":"inherit","border-right-style":"none","border-right-width":"medium","border-spacing":"0","border-top":"0","border-top-color":"inherit","border-top-left-radius":"0","border-top-right-radius":"0","border-top-style":"none","border-top-width":"medium","box-shadow":"none","box-sizing":"content-box","caption-side":"top",clear:"none",clip:"auto",color:"inherit",columns:"auto","column-count":"auto","column-fill":"balance","column-gap":"normal","column-rule":"medium none currentColor","column-rule-color":"currentColor","column-rule-style":"none","column-rule-width":"none","column-span":"1","column-width":"auto",
content:"normal","counter-increment":"none","counter-reset":"none",cursor:"auto",direction:"ltr",display:"inline","empty-cells":"show","float":"none",height:"auto",hyphens:"none",left:"auto","letter-spacing":"normal","line-height":"normal","list-style":"none","list-style-image":"none","list-style-position":"outside","list-style-type":"disc","max-height":"none","max-width":"none","min-height":"0","min-width":"0",opacity:"1",orphans:"0",outline:"0","outline-color":"invert","outline-style":"none","outline-width":"medium",overflow:"visible","overflow-x":"visible","overflow-y":"visible","page-break-after":"auto","page-break-before":"auto","page-break-inside":"auto",perspective:"none","perspective-origin":"50% 50%",position:"static",quotes:"'C' 'D' '8' '9'",right:"auto","tab-size":"8","table-layout":"auto","text-align":"inherit","text-align-last":"auto","text-decoration":"none","text-decoration-color":"inherit","text-decoration-line":"none","text-decoration-style":"solid","text-indent":"0","text-shadow":"none","text-transform":"none",top:"auto",transform:"none","transform-style":"flat",transition:"none","transition-delay":"0s","transition-duration":"0s","transition-property":"none","transition-timing-function":"ease","unicode-bidi":"normal","vertical-align":"baseline",visibility:"visible","white-space":"normal",widows:"0","word-spacing":"normal","z-index":"auto"}},"#roost-slide-out-dontsend":{attributes:{"font-size":"14px","margin-bottom":"40px","font-weight":"600","padding-top":"25px",cursor:"pointer",color:"#1982de"}},"@media screen and (max-device-width: 640px) and (orientation: portrait)":{children:{"#roost-wrapper":{attributes:{width:"86%",right:"-86%","box-shadow":"none"}},"#roost-modal":{attributes:{display:"block",opacity:"0",width:"100%",height:"100%",position:"fixed",top:"0",right:"0",bottom:"0",left:"0","background-color":"rgba(0, 0, 0, 0.5)","-webkit-animation":"roost-fade-in 0.75s forwards","-webkit-animation-delay":"2s","-moz-animation":"roost-fade-in 0.75s forwards","-moz-animation-delay":"2s",animation:"roost-fade-in 0.75s forwards","animation-delay":"2s"}},"#roost-modal.roost-wrapper-dismissed":{attributes:{"-webkit-animation":"roost-fade-out 0.5s forwards","-moz-animation":"roost-fade-out 0.5s forwards",animation:"roost-fade-out 0.5s forwards"}},"#roost-slide-out-header":{attributes:{height:"10%"}},"#roost-slide-out-headline":{attributes:{top:"25%","font-size":"13px"}},"#roost-qualify-dismiss":{attributes:{right:"8%",top:"27%"}},"#roost-x img":{attributes:{width:"15px"}},"#roost-slide-out-header hr":{attributes:{width:"20%",height:"4%"}},"#roost-slide-out-slug":{attributes:{"margin-top":"10%","font-size":"16px"}},"#roost-slide-out-desc":{attributes:{"margin-top":"1%","font-size":"14px"}},"#roost-subscribe-button":{attributes:{width:"50%",height:"45px",margin:"10% auto","font-size":"14px","border-radius":"10px"}},"#roost-slide-out-device":{attributes:{width:"100%",height:"284px","margin-top":"0","background-image":"url(https://s3.amazonaws.com/roost/promptkit/mobile-phone.png"}},"@-webkit-keyframes roost-slide-in":{children:{"0%":{attributes:{right:"-86%"}},"95%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-2%"}}}},"@-moz-keyframes roost-slide-in":{children:{"0%":{attributes:{right:"-86%"}},"95%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-2%"}}}},"@keyframes roost-slide-in":{children:{"0%":{attributes:{right:"-86%"}},"95%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-2%"}}}},"@-webkit-keyframes roost-slide-out":{children:{"0%":{attributes:{right:"-2%"}},"5%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-86%"}}}},"@-moz-keyframes roost-slide-out":{children:{"0%":{attributes:{right:"-2%"}},"5%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-86%"}}}},"@keyframes roost-slide-out":{children:{"0%":{attributes:{right:"-2%"}},"5%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-86%"}}}},"@-webkit-keyframes roost-fade-in":{children:{"0%":{attributes:{opacity:"0"}},"100%":{attributes:{opacity:"1"}}}},"@-moz-keyframes roost-fade-in":{children:{"0%":{attributes:{opacity:"0"}},"100%":{attributes:{opacity:"1"}}}},"@keyframes roost-fade-in":{children:{"0%":{attributes:{opacity:"0"}},"100%":{attributes:{opacity:"1"}}}},"@-webkit-keyframes roost-fade-out":{children:{"0%":{attributes:{opacity:"1"}},"100%":{attributes:{opacity:"0"}}}},"@-moz-keyframes roost-fade-out":{children:{"0%":{attributes:{opacity:"1"}},"100%":{attributes:{opacity:"0"}}}},"@keyframes roost-fade-out":{children:{"0%":{attributes:{opacity:"1"}},"100%":{attributes:{opacity:"0"}}}}},attributes:{}},"@media screen and (max-device-height: 640px) and (orientation: landscape)":{children:{"#roost-wrapper":{attributes:{width:"86%",right:"-86%","box-shadow":"none","text-align":"left"}},"#roost-modal":{attributes:{display:"block",opacity:"0",width:"100%",height:"100%",position:"fixed",top:"0",right:"0",bottom:"0",left:"0","background-color":"rgba(0, 0, 0, 0.5)","-webkit-animation":"roost-fade-in 0.75s forwards","-webkit-animation-delay":"2s","-moz-animation":"roost-fade-in 0.75s forwards","-moz-animation-delay":"2s",animation:"roost-fade-in 0.75s forwards","animation-delay":"2s"}},"#roost-modal.roost-wrapper-dismissed":{attributes:{"-webkit-animation":"roost-fade-out 0.5s forwards","-moz-animation":"roost-fade-out 0.5s forwards",animation:"roost-fade-out 0.5s forwards"}},"#roost-slide-out-header":{attributes:{height:"20%"}},"#roost-slide-out-headline":{attributes:{top:"28%","font-size":"16px","padding-left":"5%"}},"#roost-qualify-dismiss":{attributes:{right:"5%",top:"24%"}},"#roost-x img":{attributes:{width:"15px"}},"#roost-slide-out-header hr":{attributes:{width:"90%",height:"2%"}},"#roost-slide-out-banner":{attributes:{"text-align":"left","padding-left":"5%"}},"#roost-slide-out-slug":{attributes:{"margin-top":"3%","font-size":"19px"}},"#roost-slide-out-desc":{attributes:{"margin-top":"2%","margin-bottom":"4%","font-size":"15px"}},"#roost-subscribe-button":{attributes:{"line-height":"19px",width:"33%",height:"33px",margin:"0","padding-top":"16px","font-size":"14px","border-radius":"10px","text-align":"center",position:"relative","z-index":"20"}},"#roost-slide-out-device":{width:"86%",height:"142%",position:"absolute",right:"-2%",bottom:"-82%","background-size":"contain","background-image":"url(https://s3.amazonaws.com/roost/promptkit/mobile-phone.png","z-index":"10"},"@-webkit-keyframes roost-slide-in":{children:{"0%":{attributes:{right:"-86%"}},"95%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-2%"}}}},"@-moz-keyframes roost-slide-in":{children:{"0%":{attributes:{right:"-86%"}},"95%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-2%"}}}},"@keyframes roost-slide-in":{children:{"0%":{attributes:{right:"-86%"}},"95%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-2%"}}}},"@-webkit-keyframes roost-slide-out":{children:{"0%":{attributes:{right:"-2%"}},"5%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-86%"}}}},"@-moz-keyframes roost-slide-out":{children:{"0%":{attributes:{right:"-2%"}},"5%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-86%"}}}},"@keyframes roost-slide-out":{children:{"0%":{attributes:{right:"-2%"}},"5%":{attributes:{right:"-1%"}},"100%":{attributes:{right:"-86%"}}}},"@-webkit-keyframes roost-fade-in":{children:{"0%":{attributes:{opacity:"0"}},"100%":{attributes:{opacity:"1"}}}},"@-moz-keyframes roost-fade-in":{children:{"0%":{attributes:{opacity:"0"}},"100%":{attributes:{opacity:"1"}}}},"@keyframes roost-fade-in":{children:{"0%":{attributes:{opacity:"0"}},"100%":{attributes:{opacity:"1"}}}},"@-webkit-keyframes roost-fade-out":{children:{"0%":{opacity:"1"},"100%":{opacity:"0"}}},"@-moz-keyframes roost-fade-out":{children:{"0%":{opacity:"1"},"100%":{opacity:"0"}}},"@keyframes roost-fade-out":{children:{"0%":{opacity:"1"},"100%":{opacity:"0"}}}},attributes:{}},"@media (max-width: 770px)":{children:{"div#goroostcom-bell":{attributes:{right:"15px",bottom:"15px",width:"50px",height:"50px"}},"#roost-bell":{width:"71%",height:"71%",margin:"14% 0 0 14%"},"#roost-bubble-count":{attributes:{right:"15%",width:"35%",height:"35%"}},"#goroostcom-notifications.roost-notes-visible":{attributes:{width:"90%"}},"#roost-settings":{attributes:{width:"100%","text-align":"center"}},"#roost-settings input":{attributes:{margin:"0"}},"#roost-note-dismiss":{attributes:{display:"none"}},"#roost-data li .roost-note-share":{attributes:{opacity:"1"}},"#goroostcom-notifications #roost-bellprompt":{attributes:{"padding-left":"130px",overflow:"hidden"}},"#goroostcom-notifications #roost-bellprompt-image":{attributes:{left:"-50px"}}},attributes:{}}},attributes:{}}
"interactive"===document.readyState||"complete"===document.readyState?C():document.addEventListener?window.addEventListener("load",C):document.attachEvent("onload",C)}(window)
;
/* global module */
'use strict';
var SpotifyWebApi = (function() {

  var _baseUri = 'https://api.spotify.com/v1';
  var _accessToken = null;
  var _promiseImplementation = null;

  var WrapPromiseWithAbort = function(promise, onAbort) {
    promise.abort = onAbort;
    return promise;
  };

  var _promiseProvider = function(promiseFunction, onAbort) {
    var returnedPromise;
    if (_promiseImplementation !== null) {
      var deferred = _promiseImplementation.defer();
      promiseFunction(function(resolvedResult) {
        deferred.resolve(resolvedResult);
      }, function(rejectedResult) {
        deferred.reject(rejectedResult);
      });
      returnedPromise = deferred.promise;
    } else {
      if (window.Promise) {
        returnedPromise = new window.Promise(promiseFunction);
      }
    }

    if (returnedPromise) {
      return new WrapPromiseWithAbort(returnedPromise, onAbort);
    } else {
      return null;
    }
  };

  var _extend = function() {
    var args = Array.prototype.slice.call(arguments);
    var target = args[0];
    var objects = args.slice(1);
    target = target || {};
    objects.forEach(function(object) {
      for (var j in object) {
        if (object.hasOwnProperty(j)) {
          target[j] = object[j];
        }
      }
    });
    return target;
  };

  var _buildUrl = function(url, parameters) {
    var qs = '';
    for (var key in parameters) {
      if (parameters.hasOwnProperty(key)) {
        var value = parameters[key];
        qs += encodeURIComponent(key) + '=' + encodeURIComponent(value) + '&';
      }
    }
    if (qs.length > 0) {
      // chop off last '&'
      qs = qs.substring(0, qs.length - 1);
      url = url + '?' + qs;
    }
    return url;
  };

  var _performRequest = function(requestData, callback) {

    var req = new XMLHttpRequest();

    var promiseFunction = function(resolve, reject) {

      function success(data) {
        if (resolve) {
          resolve(data);
        }
        if (callback) {
          callback(null, data);
        }
      }

      function failure() {
        if (reject) {
          reject(req);
        }
        if (callback) {
          callback(req, null);
        }
      }

      var type = requestData.type || 'GET';
      req.open(type, _buildUrl(requestData.url, requestData.params));
      if (_accessToken) {
        req.setRequestHeader('Authorization', 'Bearer ' + _accessToken);
      }

      req.onreadystatechange = function() {
        if (req.readyState === 4) {
          var data = null;
          try {
            data = req.responseText ? JSON.parse(req.responseText) : '';
          } catch (e) {
            console.error(e);
          }

          if (req.status >= 200 && req.status < 300) {
            success(data);
          } else {
            failure();
          }
        }
      };

      if (type === 'GET') {
        req.send(null);
      } else {
        req.send(requestData.postData ? JSON.stringify(requestData.postData) : null);
      }
    };

    if (callback) {
      promiseFunction();
      return null;
    } else {
      return _promiseProvider(promiseFunction, function() {
        req.abort();
      });
    }
  };

  var _checkParamsAndPerformRequest = function(requestData, options, callback) {
    var opt = {};
    var cb = null;

    if (typeof options === 'object') {
      opt = options;
      cb = callback;
    } else if (typeof options === 'function') {
      cb = options;
    }

    // options extend postData, if any. Otherwise they extend parameters sent in the url
    var type = requestData.type || 'GET';
    if (type !== 'GET' && requestData.postData) {
      requestData.postData = _extend(requestData.postData, opt);
    } else {
      requestData.params = _extend(requestData.params, opt);
    }
    return _performRequest(requestData, cb);
  };

  var Constr = function() {};

  Constr.prototype = {
    constructor: SpotifyWebApi
  };

  /**
   * Fetches a resource through a generic GET request.
   * @param {string} url The URL to be fetched
   * @param {function(Object,Object)} callback An optional callback
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getGeneric = function(url, callback) {
    var requestData = {
      url: url
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Fetches information about the current user.
   * See [Get Current User's Profile](https://developer.spotify.com/web-api/get-current-users-profile/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getMe = function(options, callback) {
    var requestData = {
      url: _baseUri + '/me'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches current user's saved tracks.
   * See [Get Current User's Saved Tracks](https://developer.spotify.com/web-api/get-users-saved-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getMySavedTracks = function(options, callback) {
    var requestData = {
      url: _baseUri + '/me/tracks'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Adds a list of tracks to the current user's saved tracks.
   * See [Save Tracks for Current User](https://developer.spotify.com/web-api/save-tracks-user/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} trackIds The ids of the tracks. If you know their Spotify URI it is easy
   * to find their track id (e.g. spotify:track:<here_is_the_track_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.addToMySavedTracks = function(trackIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/tracks',
      type: 'PUT',
      postData: trackIds
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Remove a list of tracks from the current user's saved tracks.
   * See [Remove Tracks for Current User](https://developer.spotify.com/web-api/remove-tracks-user/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} trackIds The ids of the tracks. If you know their Spotify URI it is easy
   * to find their track id (e.g. spotify:track:<here_is_the_track_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.removeFromMySavedTracks = function(trackIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/tracks',
      type: 'DELETE',
      postData: trackIds
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Checks if the current user's saved tracks contains a certain list of tracks.
   * See [Check Current User's Saved Tracks](https://developer.spotify.com/web-api/check-users-saved-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} trackIds The ids of the tracks. If you know their Spotify URI it is easy
   * to find their track id (e.g. spotify:track:<here_is_the_track_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.containsMySavedTracks = function(trackIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/tracks/contains',
      params: { ids: trackIds.join(',') }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Get a list of the albums saved in the current Spotify user's "Your Music" library.
   * See [Get Current User's Saved Albums](https://developer.spotify.com/web-api/get-users-saved-albums/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getMySavedAlbums = function(options, callback) {
    var requestData = {
      url: _baseUri + '/me/albums'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Save one or more albums to the current user's "Your Music" library.
   * See [Save Albums for Current User](https://developer.spotify.com/web-api/save-albums-user/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} albumIds The ids of the albums. If you know their Spotify URI, it is easy
   * to find their album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.addToMySavedAlbums = function(albumIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/albums',
      type: 'PUT',
      postData: albumIds
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Remove one or more albums from the current user's "Your Music" library.
   * See [Remove Albums for Current User](https://developer.spotify.com/web-api/remove-albums-user/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} albumIds The ids of the albums. If you know their Spotify URI, it is easy
   * to find their album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.removeFromMySavedAlbums = function(albumIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/albums',
      type: 'DELETE',
      postData: albumIds
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Check if one or more albums is already saved in the current Spotify user's "Your Music" library.
   * See [Check User's Saved Albums](https://developer.spotify.com/web-api/check-users-saved-albums/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} albumIds The ids of the albums. If you know their Spotify URI, it is easy
   * to find their album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.containsMySavedAlbums = function(albumIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/albums/contains',
      params: { ids: albumIds.join(',') }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Adds the current user as a follower of one or more other Spotify users.
   * See [Follow Artists or Users](https://developer.spotify.com/web-api/follow-artists-users/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} userIds The ids of the users. If you know their Spotify URI it is easy
   * to find their user id (e.g. spotify:user:<here_is_the_user_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.followUsers = function(userIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/',
      type: 'PUT',
      params: {
        ids: userIds.join(','),
        type: 'user'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Adds the current user as a follower of one or more artists.
   * See [Follow Artists or Users](https://developer.spotify.com/web-api/follow-artists-users/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} artistIds The ids of the artists. If you know their Spotify URI it is easy
   * to find their artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.followArtists = function(artistIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/',
      type: 'PUT',
      params: {
        ids: artistIds.join(','),
        type: 'artist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Add the current user as a follower of one playlist.
   * See [Follow a Playlist](https://developer.spotify.com/web-api/follow-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} ownerId The id of the playlist owner. If you know the Spotify URI of
   * the playlist, it is easy to find the owner's user id
   * (e.g. spotify:user:<here_is_the_owner_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Object} options A JSON object with options that can be passed. For instance,
   * whether you want the playlist to be followed privately ({public: false})
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.followPlaylist = function(ownerId, playlistId, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + ownerId + '/playlists/' + playlistId + '/followers',
      type: 'PUT',
      postData: {}
    };

    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Removes the current user as a follower of one or more other Spotify users.
   * See [Unfollow Artists or Users](https://developer.spotify.com/web-api/unfollow-artists-users/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} userIds The ids of the users. If you know their Spotify URI it is easy
   * to find their user id (e.g. spotify:user:<here_is_the_user_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.unfollowUsers = function(userIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/',
      type: 'DELETE',
      params: {
        ids: userIds.join(','),
        type: 'user'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Removes the current user as a follower of one or more artists.
   * See [Unfollow Artists or Users](https://developer.spotify.com/web-api/unfollow-artists-users/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} artistIds The ids of the artists. If you know their Spotify URI it is easy
   * to find their artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.unfollowArtists = function(artistIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/',
      type: 'DELETE',
      params: {
        ids: artistIds.join(','),
        type: 'artist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Remove the current user as a follower of one playlist.
   * See [Unfollow a Playlist](https://developer.spotify.com/web-api/unfollow-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} ownerId The id of the playlist owner. If you know the Spotify URI of
   * the playlist, it is easy to find the owner's user id
   * (e.g. spotify:user:<here_is_the_owner_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.unfollowPlaylist = function(ownerId, playlistId, callback) {
    var requestData = {
      url: _baseUri + '/users/' + ownerId + '/playlists/' + playlistId + '/followers',
      type: 'DELETE'
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Checks to see if the current user is following one or more other Spotify users.
   * See [Check if Current User Follows Users or Artists](https://developer.spotify.com/web-api/check-current-user-follows/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} userIds The ids of the users. If you know their Spotify URI it is easy
   * to find their user id (e.g. spotify:user:<here_is_the_user_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an array of boolean values that indicate
   * whether the user is following the users sent in the request.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.isFollowingUsers = function(userIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/contains',
      type: 'GET',
      params: {
        ids: userIds.join(','),
        type: 'user'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Checks to see if the current user is following one or more artists.
   * See [Check if Current User Follows](https://developer.spotify.com/web-api/check-current-user-follows/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} artistIds The ids of the artists. If you know their Spotify URI it is easy
   * to find their artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an array of boolean values that indicate
   * whether the user is following the artists sent in the request.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.isFollowingArtists = function(artistIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/contains',
      type: 'GET',
      params: {
        ids: artistIds.join(','),
        type: 'artist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Check to see if one or more Spotify users are following a specified playlist.
   * See [Check if Users Follow a Playlist](https://developer.spotify.com/web-api/check-user-following-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} ownerId The id of the playlist owner. If you know the Spotify URI of
   * the playlist, it is easy to find the owner's user id
   * (e.g. spotify:user:<here_is_the_owner_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<string>} userIds The ids of the users. If you know their Spotify URI it is easy
   * to find their user id (e.g. spotify:user:<here_is_the_user_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an array of boolean values that indicate
   * whether the users are following the playlist sent in the request.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.areFollowingPlaylist = function(ownerId, playlistId, userIds, callback) {
    var requestData = {
      url: _baseUri + '/users/' + ownerId + '/playlists/' + playlistId + '/followers/contains',
      type: 'GET',
      params: {
        ids: userIds.join(',')
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Get the current user's followed artists.
   * See [Get User's Followed Artists](https://developer.spotify.com/web-api/get-followed-artists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} [options] Options, being after and limit.
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an object with a paged object containing
   * artists.
   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which contains
   * artists objects. Not returned if a callback is given.
   */
  Constr.prototype.getFollowedArtists = function(options, callback) {
    var requestData = {
      url: _baseUri + '/me/following',
      type: 'GET',
      params: {
        type: 'artist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches information about a specific user.
   * See [Get a User's Profile](https://developer.spotify.com/web-api/get-users-profile/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the id (e.g. spotify:user:<here_is_the_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getUser = function(userId, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a list of the current user's playlists.
   * See [Get a List of a User's Playlists](https://developer.spotify.com/web-api/get-list-users-playlists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId An optional id of the user. If you know the Spotify URI it is easy
   * to find the id (e.g. spotify:user:<here_is_the_id>). If not provided, the id of the user that granted
   * the permissions will be used.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getUserPlaylists = function(userId, options, callback) {
    var requestData;
    if (typeof userId === 'string') {
      requestData = {
        url: _baseUri + '/users/' + userId + '/playlists'
      };
    } else {
      requestData = {
        url: _baseUri + '/me/playlists'
      };
      options = userId;
      callback = options;
    }
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a specific playlist.
   * See [Get a Playlist](https://developer.spotify.com/web-api/get-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getPlaylist = function(userId, playlistId, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches the tracks from a specific playlist.
   * See [Get a Playlist's Tracks](https://developer.spotify.com/web-api/get-playlists-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getPlaylistTracks = function(userId, playlistId, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Creates a playlist and stores it in the current user's library.
   * See [Create a Playlist](https://developer.spotify.com/web-api/create-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. You may want to user the "getMe" function to
   * find out the id of the current logged in user
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.createPlaylist = function(userId, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists',
      type: 'POST',
      postData: options
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Change a playlist's name and public/private state
   * See [Change a Playlist's Details](https://developer.spotify.com/web-api/change-playlist-details/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. You may want to user the "getMe" function to
   * find out the id of the current logged in user
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Object} data A JSON object with the data to update. E.g. {name: 'A new name', public: true}
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.changePlaylistDetails = function(userId, playlistId, data, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId,
      type: 'PUT',
      postData: data
    };
    return _checkParamsAndPerformRequest(requestData, data, callback);
  };

  /**
   * Add tracks to a playlist.
   * See [Add Tracks to a Playlist](https://developer.spotify.com/web-api/add-tracks-to-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<string>} uris An array of Spotify URIs for the tracks
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.addTracksToPlaylist = function(userId, playlistId, uris, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'POST',
      params: {
        uris: uris
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Replace the tracks of a playlist
   * See [Replace a Playlist's Tracks](https://developer.spotify.com/web-api/replace-playlists-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<string>} uris An array of Spotify URIs for the tracks
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.replaceTracksInPlaylist = function(userId, playlistId, uris, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'PUT',
      postData: {uris: uris}
    };
    return _checkParamsAndPerformRequest(requestData, {}, callback);
  };

  /**
   * Reorder tracks in a playlist
   * See [Reorder a PlaylistÃƒÂ¢Ã¢â€šÂ¬Ã¢â€žÂ¢s Tracks](https://developer.spotify.com/web-api/reorder-playlists-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {number} rangeStart The position of the first track to be reordered.
   * @param {number} insertBefore The position where the tracks should be inserted. To reorder the tracks to
   * the end of the playlist, simply set insert_before to the position after the last track.
   * @param {Object} options An object with optional parameters (range_length, snapshot_id)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.reorderTracksInPlaylist = function(userId, playlistId, rangeStart, insertBefore, options, callback) {
    /*jshint camelcase: false */
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'PUT',
      postData: {
        range_start: rangeStart,
        insert_before: insertBefore
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Remove tracks from a playlist
   * See [Remove Tracks from a Playlist](https://developer.spotify.com/web-api/remove-tracks-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<Object>} uris An array of tracks to be removed. Each element of the array can be either a
   * string, in which case it is treated as a URI, or an object containing the properties `uri` (which is a
   * string) and `positions` (which is an array of integers).
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.removeTracksFromPlaylist = function(userId, playlistId, uris, callback) {
    var dataToBeSent = uris.map(function(uri) {
      if (typeof uri === 'string') {
        return { uri: uri };
      } else {
        return uri;
      }
    });

    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'DELETE',
      postData: {tracks: dataToBeSent}
    };
    return _checkParamsAndPerformRequest(requestData, {}, callback);
  };

  /**
   * Remove tracks from a playlist, specifying a snapshot id.
   * See [Remove Tracks from a Playlist](https://developer.spotify.com/web-api/remove-tracks-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<Object>} uris An array of tracks to be removed. Each element of the array can be either a
   * string, in which case it is treated as a URI, or an object containing the properties `uri` (which is a
   * string) and `positions` (which is an array of integers).
   * @param {string} snapshotId The playlist's snapshot ID against which you want to make the changes
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.removeTracksFromPlaylistWithSnapshotId = function(userId, playlistId, uris, snapshotId, callback) {
    /*jshint camelcase: false */
    var dataToBeSent = uris.map(function(uri) {
      if (typeof uri === 'string') {
        return { uri: uri };
      } else {
        return uri;
      }
    });

    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'DELETE',
      postData: {
        tracks: dataToBeSent,
        snapshot_id: snapshotId
      }
    };
    return _checkParamsAndPerformRequest(requestData, {}, callback);
  };

  /**
   * Remove tracks from a playlist, specifying the positions of the tracks to be removed.
   * See [Remove Tracks from a Playlist](https://developer.spotify.com/web-api/remove-tracks-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<number>} positions array of integers containing the positions of the tracks to remove
   * from the playlist.
   * @param {string} snapshotId The playlist's snapshot ID against which you want to make the changes
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.removeTracksFromPlaylistInPositions = function(userId, playlistId, positions, snapshotId, callback) {
    /*jshint camelcase: false */
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'DELETE',
      postData: {
        positions: positions,
        snapshot_id: snapshotId
      }
    };
    return _checkParamsAndPerformRequest(requestData, {}, callback);
  };

  /**
   * Fetches an album from the Spotify catalog.
   * See [Get an Album](https://developer.spotify.com/web-api/get-album/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} albumId The id of the album. If you know the Spotify URI it is easy
   * to find the album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getAlbum = function(albumId, options, callback) {
    var requestData = {
      url: _baseUri + '/albums/' + albumId
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches the tracks of an album from the Spotify catalog.
   * See [Get an Album's Tracks](https://developer.spotify.com/web-api/get-albums-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} albumId The id of the album. If you know the Spotify URI it is easy
   * to find the album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getAlbumTracks = function(albumId, options, callback) {
    var requestData = {
      url: _baseUri + '/albums/' + albumId + '/tracks'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches multiple albums from the Spotify catalog.
   * See [Get Several Albums](https://developer.spotify.com/web-api/get-several-albums/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} albumIds The ids of the albums. If you know their Spotify URI it is easy
   * to find their album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getAlbums = function(albumIds, options, callback) {
    var requestData = {
      url: _baseUri + '/albums/',
      params: { ids: albumIds.join(',') }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a track from the Spotify catalog.
   * See [Get a Track](https://developer.spotify.com/web-api/get-track/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} trackId The id of the track. If you know the Spotify URI it is easy
   * to find the track id (e.g. spotify:track:<here_is_the_track_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getTrack = function(trackId, options, callback) {
    var requestData = {};
    requestData.url = _baseUri + '/tracks/' + trackId;
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches multiple tracks from the Spotify catalog.
   * See [Get Several Tracks](https://developer.spotify.com/web-api/get-several-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} trackIds The ids of the tracks. If you know their Spotify URI it is easy
   * to find their track id (e.g. spotify:track:<here_is_the_track_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getTracks = function(trackIds, options, callback) {
    var requestData = {
      url: _baseUri + '/tracks/',
      params: { ids: trackIds.join(',') }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches an artist from the Spotify catalog.
   * See [Get an Artist](https://developer.spotify.com/web-api/get-artist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} artistId The id of the artist. If you know the Spotify URI it is easy
   * to find the artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getArtist = function(artistId, options, callback) {
    var requestData = {
      url: _baseUri + '/artists/' + artistId
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches multiple artists from the Spotify catalog.
   * See [Get Several Artists](https://developer.spotify.com/web-api/get-several-artists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} artistIds The ids of the artists. If you know their Spotify URI it is easy
   * to find their artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getArtists = function(artistIds, options, callback) {
    var requestData = {
      url: _baseUri + '/artists/',
      params: { ids: artistIds.join(',') }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches the albums of an artist from the Spotify catalog.
   * See [Get an Artist's Albums](https://developer.spotify.com/web-api/get-artists-albums/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} artistId The id of the artist. If you know the Spotify URI it is easy
   * to find the artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getArtistAlbums = function(artistId, options, callback) {
    var requestData = {
      url: _baseUri + '/artists/' + artistId + '/albums'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a list of top tracks of an artist from the Spotify catalog, for a specific country.
   * See [Get an Artist's Top Tracks](https://developer.spotify.com/web-api/get-artists-top-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} artistId The id of the artist. If you know the Spotify URI it is easy
   * to find the artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {string} countryId The id of the country (e.g. ES for Spain or US for United States)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getArtistTopTracks = function(artistId, countryId, options, callback) {
    var requestData = {
      url: _baseUri + '/artists/' + artistId + '/top-tracks',
      params: { country: countryId }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a list of artists related with a given one from the Spotify catalog.
   * See [Get an Artist's Related Artists](https://developer.spotify.com/web-api/get-related-artists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} artistId The id of the artist. If you know the Spotify URI it is easy
   * to find the artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getArtistRelatedArtists = function(artistId, options, callback) {
    var requestData = {
      url: _baseUri + '/artists/' + artistId + '/related-artists'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a list of Spotify featured playlists (shown, for example, on a Spotify player's "Browse" tab).
   * See [Get a List of Featured Playlists](https://developer.spotify.com/web-api/get-list-featured-playlists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getFeaturedPlaylists = function(options, callback) {
    var requestData = {
      url: _baseUri + '/browse/featured-playlists'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a list of new album releases featured in Spotify (shown, for example, on a Spotify player's "Browse" tab).
   * See [Get a List of New Releases](https://developer.spotify.com/web-api/get-list-new-releases/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getNewReleases = function(options, callback) {
    var requestData = {
      url: _baseUri + '/browse/new-releases'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Get a list of categories used to tag items in Spotify (on, for example, the Spotify player's "Browse" tab).
   * See [Get a List of Categories](https://developer.spotify.com/web-api/get-list-categories/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getCategories = function(options, callback) {
    var requestData = {
      url: _baseUri + '/browse/categories'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Get a single category used to tag items in Spotify (on, for example, the Spotify player's "Browse" tab).
   * See [Get a Category](https://developer.spotify.com/web-api/get-category/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} categoryId The id of the category. These can be found with the getCategories function
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getCategory = function(categoryId, options, callback) {
    var requestData = {
      url: _baseUri + '/browse/categories/' + categoryId
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Get a list of Spotify playlists tagged with a particular category.
   * See [Get a Category's Playlists](https://developer.spotify.com/web-api/get-categorys-playlists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} categoryId The id of the category. These can be found with the getCategories function
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getCategoryPlaylists = function(categoryId, options, callback) {
    var requestData = {
      url: _baseUri + '/browse/categories/' + categoryId + '/playlists'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches albums from the Spotify catalog according to a query.
   * See [Search for an Item](https://developer.spotify.com/web-api/search-item/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} query The search query
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.searchAlbums = function(query, options, callback) {
    var requestData = {
      url: _baseUri + '/search/',
      params: {
        q: query,
        type: 'album'
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches artists from the Spotify catalog according to a query.
   * See [Search for an Item](https://developer.spotify.com/web-api/search-item/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} query The search query
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.searchArtists = function(query, options, callback) {
    var requestData = {
      url: _baseUri + '/search/',
      params: {
        q: query,
        type: 'artist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches tracks from the Spotify catalog according to a query.
   * See [Search for an Item](https://developer.spotify.com/web-api/search-item/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} query The search query
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.searchTracks = function(query, options, callback) {
    var requestData = {
      url: _baseUri + '/search/',
      params: {
        q: query,
        type: 'track'
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches playlists from the Spotify catalog according to a query.
   * See [Search for an Item](https://developer.spotify.com/web-api/search-item/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} query The search query
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.searchPlaylists = function(query, options, callback) {
    var requestData = {
      url: _baseUri + '/search/',
      params: {
        q: query,
        type: 'playlist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Gets the access token in use.
   * @return {string} accessToken The access token
   */
  Constr.prototype.getAccessToken = function() {
    return _accessToken;
  };

  /**
   * Sets the access token to be used.
   * See [the Authorization Guide](https://developer.spotify.com/web-api/authorization-guide/) on
   * the Spotify Developer site for more information about obtaining an access token.
   * @param {string} accessToken The access token
   * @return {void}
   */
  Constr.prototype.setAccessToken = function(accessToken) {
    _accessToken = accessToken;
  };

  /**
   * Sets an implementation of Promises/A+ to be used. E.g. Q, when.
   * See [Conformant Implementations](https://github.com/promises-aplus/promises-spec/blob/master/implementations.md)
   * for a list of some available options
   * @param {Object} promiseImplementation A Promises/A+ valid implementation
   * @throws {Error} If the implementation being set doesn't conform with Promises/A+
   * @return {void}
   */
  Constr.prototype.setPromiseImplementation = function(promiseImplementation) {
    if (!('defer' in promiseImplementation)) {
      throw new Error('Unsupported implementation of Promises/A+');
    } else {
      _promiseImplementation = promiseImplementation;
    }
  };

  return Constr;
})();

if (typeof module === 'object' && typeof module.exports === 'object') {
  module.exports = SpotifyWebApi;
};
/* global module */
'use strict';
var SpotifyWebApi = (function() {

  var _baseUri = 'https://api.spotify.com/v1';
  var _accessToken = null;
  var _promiseImplementation = null;

  var WrapPromiseWithAbort = function(promise, onAbort) {
    promise.abort = onAbort;
    return promise;
  };

  var _promiseProvider = function(promiseFunction, onAbort) {
    var returnedPromise;
    if (_promiseImplementation !== null) {
      var deferred = _promiseImplementation.defer();
      promiseFunction(function(resolvedResult) {
        deferred.resolve(resolvedResult);
      }, function(rejectedResult) {
        deferred.reject(rejectedResult);
      });
      returnedPromise = deferred.promise;
    } else {
      if (window.Promise) {
        returnedPromise = new window.Promise(promiseFunction);
      }
    }

    if (returnedPromise) {
      return new WrapPromiseWithAbort(returnedPromise, onAbort);
    } else {
      return null;
    }
  };

  var _extend = function() {
    var args = Array.prototype.slice.call(arguments);
    var target = args[0];
    var objects = args.slice(1);
    target = target || {};
    objects.forEach(function(object) {
      for (var j in object) {
        if (object.hasOwnProperty(j)) {
          target[j] = object[j];
        }
      }
    });
    return target;
  };

  var _buildUrl = function(url, parameters) {
    var qs = '';
    for (var key in parameters) {
      if (parameters.hasOwnProperty(key)) {
        var value = parameters[key];
        qs += encodeURIComponent(key) + '=' + encodeURIComponent(value) + '&';
      }
    }
    if (qs.length > 0) {
      // chop off last '&'
      qs = qs.substring(0, qs.length - 1);
      url = url + '?' + qs;
    }
    return url;
  };

  var _performRequest = function(requestData, callback) {

    var req = new XMLHttpRequest();

    var promiseFunction = function(resolve, reject) {

      function success(data) {
        if (resolve) {
          resolve(data);
        }
        if (callback) {
          callback(null, data);
        }
      }

      function failure() {
        if (reject) {
          reject(req);
        }
        if (callback) {
          callback(req, null);
        }
      }

      var type = requestData.type || 'GET';
      req.open(type, _buildUrl(requestData.url, requestData.params));
      if (_accessToken) {
        req.setRequestHeader('Authorization', 'Bearer ' + _accessToken);
      }

      req.onreadystatechange = function() {
        if (req.readyState === 4) {
          var data = null;
          try {
            data = req.responseText ? JSON.parse(req.responseText) : '';
          } catch (e) {
            console.error(e);
          }

          if (req.status >= 200 && req.status < 300) {
            success(data);
          } else {
            failure();
          }
        }
      };

      if (type === 'GET') {
        req.send(null);
      } else {
        req.send(requestData.postData ? JSON.stringify(requestData.postData) : null);
      }
    };

    if (callback) {
      promiseFunction();
      return null;
    } else {
      return _promiseProvider(promiseFunction, function() {
        req.abort();
      });
    }
  };

  var _checkParamsAndPerformRequest = function(requestData, options, callback) {
    var opt = {};
    var cb = null;

    if (typeof options === 'object') {
      opt = options;
      cb = callback;
    } else if (typeof options === 'function') {
      cb = options;
    }

    // options extend postData, if any. Otherwise they extend parameters sent in the url
    var type = requestData.type || 'GET';
    if (type !== 'GET' && requestData.postData) {
      requestData.postData = _extend(requestData.postData, opt);
    } else {
      requestData.params = _extend(requestData.params, opt);
    }
    return _performRequest(requestData, cb);
  };

  var Constr = function() {};

  Constr.prototype = {
    constructor: SpotifyWebApi
  };

  /**
   * Fetches a resource through a generic GET request.
   * @param {string} url The URL to be fetched
   * @param {function(Object,Object)} callback An optional callback
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getGeneric = function(url, callback) {
    var requestData = {
      url: url
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Fetches information about the current user.
   * See [Get Current User's Profile](https://developer.spotify.com/web-api/get-current-users-profile/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getMe = function(options, callback) {
    var requestData = {
      url: _baseUri + '/me'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches current user's saved tracks.
   * See [Get Current User's Saved Tracks](https://developer.spotify.com/web-api/get-users-saved-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getMySavedTracks = function(options, callback) {
    var requestData = {
      url: _baseUri + '/me/tracks'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Adds a list of tracks to the current user's saved tracks.
   * See [Save Tracks for Current User](https://developer.spotify.com/web-api/save-tracks-user/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} trackIds The ids of the tracks. If you know their Spotify URI it is easy
   * to find their track id (e.g. spotify:track:<here_is_the_track_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.addToMySavedTracks = function(trackIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/tracks',
      type: 'PUT',
      postData: trackIds
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Remove a list of tracks from the current user's saved tracks.
   * See [Remove Tracks for Current User](https://developer.spotify.com/web-api/remove-tracks-user/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} trackIds The ids of the tracks. If you know their Spotify URI it is easy
   * to find their track id (e.g. spotify:track:<here_is_the_track_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.removeFromMySavedTracks = function(trackIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/tracks',
      type: 'DELETE',
      postData: trackIds
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Checks if the current user's saved tracks contains a certain list of tracks.
   * See [Check Current User's Saved Tracks](https://developer.spotify.com/web-api/check-users-saved-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} trackIds The ids of the tracks. If you know their Spotify URI it is easy
   * to find their track id (e.g. spotify:track:<here_is_the_track_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.containsMySavedTracks = function(trackIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/tracks/contains',
      params: { ids: trackIds.join(',') }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Get a list of the albums saved in the current Spotify user's "Your Music" library.
   * See [Get Current User's Saved Albums](https://developer.spotify.com/web-api/get-users-saved-albums/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getMySavedAlbums = function(options, callback) {
    var requestData = {
      url: _baseUri + '/me/albums'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Save one or more albums to the current user's "Your Music" library.
   * See [Save Albums for Current User](https://developer.spotify.com/web-api/save-albums-user/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} albumIds The ids of the albums. If you know their Spotify URI, it is easy
   * to find their album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.addToMySavedAlbums = function(albumIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/albums',
      type: 'PUT',
      postData: albumIds
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Remove one or more albums from the current user's "Your Music" library.
   * See [Remove Albums for Current User](https://developer.spotify.com/web-api/remove-albums-user/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} albumIds The ids of the albums. If you know their Spotify URI, it is easy
   * to find their album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.removeFromMySavedAlbums = function(albumIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/albums',
      type: 'DELETE',
      postData: albumIds
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Check if one or more albums is already saved in the current Spotify user's "Your Music" library.
   * See [Check User's Saved Albums](https://developer.spotify.com/web-api/check-users-saved-albums/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} albumIds The ids of the albums. If you know their Spotify URI, it is easy
   * to find their album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.containsMySavedAlbums = function(albumIds, options, callback) {
    var requestData = {
      url: _baseUri + '/me/albums/contains',
      params: { ids: albumIds.join(',') }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Adds the current user as a follower of one or more other Spotify users.
   * See [Follow Artists or Users](https://developer.spotify.com/web-api/follow-artists-users/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} userIds The ids of the users. If you know their Spotify URI it is easy
   * to find their user id (e.g. spotify:user:<here_is_the_user_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.followUsers = function(userIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/',
      type: 'PUT',
      params: {
        ids: userIds.join(','),
        type: 'user'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Adds the current user as a follower of one or more artists.
   * See [Follow Artists or Users](https://developer.spotify.com/web-api/follow-artists-users/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} artistIds The ids of the artists. If you know their Spotify URI it is easy
   * to find their artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.followArtists = function(artistIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/',
      type: 'PUT',
      params: {
        ids: artistIds.join(','),
        type: 'artist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Add the current user as a follower of one playlist.
   * See [Follow a Playlist](https://developer.spotify.com/web-api/follow-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} ownerId The id of the playlist owner. If you know the Spotify URI of
   * the playlist, it is easy to find the owner's user id
   * (e.g. spotify:user:<here_is_the_owner_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Object} options A JSON object with options that can be passed. For instance,
   * whether you want the playlist to be followed privately ({public: false})
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.followPlaylist = function(ownerId, playlistId, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + ownerId + '/playlists/' + playlistId + '/followers',
      type: 'PUT',
      postData: {}
    };

    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Removes the current user as a follower of one or more other Spotify users.
   * See [Unfollow Artists or Users](https://developer.spotify.com/web-api/unfollow-artists-users/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} userIds The ids of the users. If you know their Spotify URI it is easy
   * to find their user id (e.g. spotify:user:<here_is_the_user_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.unfollowUsers = function(userIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/',
      type: 'DELETE',
      params: {
        ids: userIds.join(','),
        type: 'user'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Removes the current user as a follower of one or more artists.
   * See [Unfollow Artists or Users](https://developer.spotify.com/web-api/unfollow-artists-users/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} artistIds The ids of the artists. If you know their Spotify URI it is easy
   * to find their artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.unfollowArtists = function(artistIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/',
      type: 'DELETE',
      params: {
        ids: artistIds.join(','),
        type: 'artist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Remove the current user as a follower of one playlist.
   * See [Unfollow a Playlist](https://developer.spotify.com/web-api/unfollow-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} ownerId The id of the playlist owner. If you know the Spotify URI of
   * the playlist, it is easy to find the owner's user id
   * (e.g. spotify:user:<here_is_the_owner_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an empty value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.unfollowPlaylist = function(ownerId, playlistId, callback) {
    var requestData = {
      url: _baseUri + '/users/' + ownerId + '/playlists/' + playlistId + '/followers',
      type: 'DELETE'
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Checks to see if the current user is following one or more other Spotify users.
   * See [Check if Current User Follows Users or Artists](https://developer.spotify.com/web-api/check-current-user-follows/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} userIds The ids of the users. If you know their Spotify URI it is easy
   * to find their user id (e.g. spotify:user:<here_is_the_user_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an array of boolean values that indicate
   * whether the user is following the users sent in the request.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.isFollowingUsers = function(userIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/contains',
      type: 'GET',
      params: {
        ids: userIds.join(','),
        type: 'user'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Checks to see if the current user is following one or more artists.
   * See [Check if Current User Follows](https://developer.spotify.com/web-api/check-current-user-follows/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} artistIds The ids of the artists. If you know their Spotify URI it is easy
   * to find their artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an array of boolean values that indicate
   * whether the user is following the artists sent in the request.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.isFollowingArtists = function(artistIds, callback) {
    var requestData = {
      url: _baseUri + '/me/following/contains',
      type: 'GET',
      params: {
        ids: artistIds.join(','),
        type: 'artist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Check to see if one or more Spotify users are following a specified playlist.
   * See [Check if Users Follow a Playlist](https://developer.spotify.com/web-api/check-user-following-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} ownerId The id of the playlist owner. If you know the Spotify URI of
   * the playlist, it is easy to find the owner's user id
   * (e.g. spotify:user:<here_is_the_owner_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<string>} userIds The ids of the users. If you know their Spotify URI it is easy
   * to find their user id (e.g. spotify:user:<here_is_the_user_id>)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an array of boolean values that indicate
   * whether the users are following the playlist sent in the request.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.areFollowingPlaylist = function(ownerId, playlistId, userIds, callback) {
    var requestData = {
      url: _baseUri + '/users/' + ownerId + '/playlists/' + playlistId + '/followers/contains',
      type: 'GET',
      params: {
        ids: userIds.join(',')
      }
    };
    return _checkParamsAndPerformRequest(requestData, callback);
  };

  /**
   * Get the current user's followed artists.
   * See [Get User's Followed Artists](https://developer.spotify.com/web-api/get-followed-artists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} [options] Options, being after and limit.
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is an object with a paged object containing
   * artists.
   * @returns {Promise|undefined} A promise that if successful, resolves to an object containing a paging object which contains
   * artists objects. Not returned if a callback is given.
   */
  Constr.prototype.getFollowedArtists = function(options, callback) {
    var requestData = {
      url: _baseUri + '/me/following',
      type: 'GET',
      params: {
        type: 'artist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches information about a specific user.
   * See [Get a User's Profile](https://developer.spotify.com/web-api/get-users-profile/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the id (e.g. spotify:user:<here_is_the_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getUser = function(userId, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a list of the current user's playlists.
   * See [Get a List of a User's Playlists](https://developer.spotify.com/web-api/get-list-users-playlists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId An optional id of the user. If you know the Spotify URI it is easy
   * to find the id (e.g. spotify:user:<here_is_the_id>). If not provided, the id of the user that granted
   * the permissions will be used.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getUserPlaylists = function(userId, options, callback) {
    var requestData;
    if (typeof userId === 'string') {
      requestData = {
        url: _baseUri + '/users/' + userId + '/playlists'
      };
    } else {
      requestData = {
        url: _baseUri + '/me/playlists'
      };
      options = userId;
      callback = options;
    }
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a specific playlist.
   * See [Get a Playlist](https://developer.spotify.com/web-api/get-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getPlaylist = function(userId, playlistId, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches the tracks from a specific playlist.
   * See [Get a Playlist's Tracks](https://developer.spotify.com/web-api/get-playlists-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getPlaylistTracks = function(userId, playlistId, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Creates a playlist and stores it in the current user's library.
   * See [Create a Playlist](https://developer.spotify.com/web-api/create-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. You may want to user the "getMe" function to
   * find out the id of the current logged in user
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.createPlaylist = function(userId, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists',
      type: 'POST',
      postData: options
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Change a playlist's name and public/private state
   * See [Change a Playlist's Details](https://developer.spotify.com/web-api/change-playlist-details/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. You may want to user the "getMe" function to
   * find out the id of the current logged in user
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Object} data A JSON object with the data to update. E.g. {name: 'A new name', public: true}
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.changePlaylistDetails = function(userId, playlistId, data, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId,
      type: 'PUT',
      postData: data
    };
    return _checkParamsAndPerformRequest(requestData, data, callback);
  };

  /**
   * Add tracks to a playlist.
   * See [Add Tracks to a Playlist](https://developer.spotify.com/web-api/add-tracks-to-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<string>} uris An array of Spotify URIs for the tracks
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.addTracksToPlaylist = function(userId, playlistId, uris, options, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'POST',
      params: {
        uris: uris
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Replace the tracks of a playlist
   * See [Replace a Playlist's Tracks](https://developer.spotify.com/web-api/replace-playlists-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<string>} uris An array of Spotify URIs for the tracks
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.replaceTracksInPlaylist = function(userId, playlistId, uris, callback) {
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'PUT',
      postData: {uris: uris}
    };
    return _checkParamsAndPerformRequest(requestData, {}, callback);
  };

  /**
   * Reorder tracks in a playlist
   * See [Reorder a PlaylistÃ¢â‚¬â„¢s Tracks](https://developer.spotify.com/web-api/reorder-playlists-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {number} rangeStart The position of the first track to be reordered.
   * @param {number} insertBefore The position where the tracks should be inserted. To reorder the tracks to
   * the end of the playlist, simply set insert_before to the position after the last track.
   * @param {Object} options An object with optional parameters (range_length, snapshot_id)
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.reorderTracksInPlaylist = function(userId, playlistId, rangeStart, insertBefore, options, callback) {
    /*jshint camelcase: false */
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'PUT',
      postData: {
        range_start: rangeStart,
        insert_before: insertBefore
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Remove tracks from a playlist
   * See [Remove Tracks from a Playlist](https://developer.spotify.com/web-api/remove-tracks-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<Object>} uris An array of tracks to be removed. Each element of the array can be either a
   * string, in which case it is treated as a URI, or an object containing the properties `uri` (which is a
   * string) and `positions` (which is an array of integers).
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.removeTracksFromPlaylist = function(userId, playlistId, uris, callback) {
    var dataToBeSent = uris.map(function(uri) {
      if (typeof uri === 'string') {
        return { uri: uri };
      } else {
        return uri;
      }
    });

    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'DELETE',
      postData: {tracks: dataToBeSent}
    };
    return _checkParamsAndPerformRequest(requestData, {}, callback);
  };

  /**
   * Remove tracks from a playlist, specifying a snapshot id.
   * See [Remove Tracks from a Playlist](https://developer.spotify.com/web-api/remove-tracks-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<Object>} uris An array of tracks to be removed. Each element of the array can be either a
   * string, in which case it is treated as a URI, or an object containing the properties `uri` (which is a
   * string) and `positions` (which is an array of integers).
   * @param {string} snapshotId The playlist's snapshot ID against which you want to make the changes
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.removeTracksFromPlaylistWithSnapshotId = function(userId, playlistId, uris, snapshotId, callback) {
    /*jshint camelcase: false */
    var dataToBeSent = uris.map(function(uri) {
      if (typeof uri === 'string') {
        return { uri: uri };
      } else {
        return uri;
      }
    });

    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'DELETE',
      postData: {
        tracks: dataToBeSent,
        snapshot_id: snapshotId
      }
    };
    return _checkParamsAndPerformRequest(requestData, {}, callback);
  };

  /**
   * Remove tracks from a playlist, specifying the positions of the tracks to be removed.
   * See [Remove Tracks from a Playlist](https://developer.spotify.com/web-api/remove-tracks-playlist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} userId The id of the user. If you know the Spotify URI it is easy
   * to find the user id (e.g. spotify:user:<here_is_the_user_id>:playlist:xxxx)
   * @param {string} playlistId The id of the playlist. If you know the Spotify URI it is easy
   * to find the playlist id (e.g. spotify:user:xxxx:playlist:<here_is_the_playlist_id>)
   * @param {Array<number>} positions array of integers containing the positions of the tracks to remove
   * from the playlist.
   * @param {string} snapshotId The playlist's snapshot ID against which you want to make the changes
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.removeTracksFromPlaylistInPositions = function(userId, playlistId, positions, snapshotId, callback) {
    /*jshint camelcase: false */
    var requestData = {
      url: _baseUri + '/users/' + userId + '/playlists/' + playlistId + '/tracks',
      type: 'DELETE',
      postData: {
        positions: positions,
        snapshot_id: snapshotId
      }
    };
    return _checkParamsAndPerformRequest(requestData, {}, callback);
  };

  /**
   * Fetches an album from the Spotify catalog.
   * See [Get an Album](https://developer.spotify.com/web-api/get-album/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} albumId The id of the album. If you know the Spotify URI it is easy
   * to find the album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getAlbum = function(albumId, options, callback) {
    var requestData = {
      url: _baseUri + '/albums/' + albumId
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches the tracks of an album from the Spotify catalog.
   * See [Get an Album's Tracks](https://developer.spotify.com/web-api/get-albums-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} albumId The id of the album. If you know the Spotify URI it is easy
   * to find the album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getAlbumTracks = function(albumId, options, callback) {
    var requestData = {
      url: _baseUri + '/albums/' + albumId + '/tracks'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches multiple albums from the Spotify catalog.
   * See [Get Several Albums](https://developer.spotify.com/web-api/get-several-albums/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} albumIds The ids of the albums. If you know their Spotify URI it is easy
   * to find their album id (e.g. spotify:album:<here_is_the_album_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getAlbums = function(albumIds, options, callback) {
    var requestData = {
      url: _baseUri + '/albums/',
      params: { ids: albumIds.join(',') }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a track from the Spotify catalog.
   * See [Get a Track](https://developer.spotify.com/web-api/get-track/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} trackId The id of the track. If you know the Spotify URI it is easy
   * to find the track id (e.g. spotify:track:<here_is_the_track_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getTrack = function(trackId, options, callback) {
    var requestData = {};
    requestData.url = _baseUri + '/tracks/' + trackId;
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches multiple tracks from the Spotify catalog.
   * See [Get Several Tracks](https://developer.spotify.com/web-api/get-several-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} trackIds The ids of the tracks. If you know their Spotify URI it is easy
   * to find their track id (e.g. spotify:track:<here_is_the_track_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getTracks = function(trackIds, options, callback) {
    var requestData = {
      url: _baseUri + '/tracks/',
      params: { ids: trackIds.join(',') }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches an artist from the Spotify catalog.
   * See [Get an Artist](https://developer.spotify.com/web-api/get-artist/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} artistId The id of the artist. If you know the Spotify URI it is easy
   * to find the artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getArtist = function(artistId, options, callback) {
    var requestData = {
      url: _baseUri + '/artists/' + artistId
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches multiple artists from the Spotify catalog.
   * See [Get Several Artists](https://developer.spotify.com/web-api/get-several-artists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Array<string>} artistIds The ids of the artists. If you know their Spotify URI it is easy
   * to find their artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getArtists = function(artistIds, options, callback) {
    var requestData = {
      url: _baseUri + '/artists/',
      params: { ids: artistIds.join(',') }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches the albums of an artist from the Spotify catalog.
   * See [Get an Artist's Albums](https://developer.spotify.com/web-api/get-artists-albums/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} artistId The id of the artist. If you know the Spotify URI it is easy
   * to find the artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getArtistAlbums = function(artistId, options, callback) {
    var requestData = {
      url: _baseUri + '/artists/' + artistId + '/albums'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a list of top tracks of an artist from the Spotify catalog, for a specific country.
   * See [Get an Artist's Top Tracks](https://developer.spotify.com/web-api/get-artists-top-tracks/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} artistId The id of the artist. If you know the Spotify URI it is easy
   * to find the artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {string} countryId The id of the country (e.g. ES for Spain or US for United States)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getArtistTopTracks = function(artistId, countryId, options, callback) {
    var requestData = {
      url: _baseUri + '/artists/' + artistId + '/top-tracks',
      params: { country: countryId }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a list of artists related with a given one from the Spotify catalog.
   * See [Get an Artist's Related Artists](https://developer.spotify.com/web-api/get-related-artists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} artistId The id of the artist. If you know the Spotify URI it is easy
   * to find the artist id (e.g. spotify:artist:<here_is_the_artist_id>)
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getArtistRelatedArtists = function(artistId, options, callback) {
    var requestData = {
      url: _baseUri + '/artists/' + artistId + '/related-artists'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a list of Spotify featured playlists (shown, for example, on a Spotify player's "Browse" tab).
   * See [Get a List of Featured Playlists](https://developer.spotify.com/web-api/get-list-featured-playlists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getFeaturedPlaylists = function(options, callback) {
    var requestData = {
      url: _baseUri + '/browse/featured-playlists'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches a list of new album releases featured in Spotify (shown, for example, on a Spotify player's "Browse" tab).
   * See [Get a List of New Releases](https://developer.spotify.com/web-api/get-list-new-releases/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getNewReleases = function(options, callback) {
    var requestData = {
      url: _baseUri + '/browse/new-releases'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Get a list of categories used to tag items in Spotify (on, for example, the Spotify player's "Browse" tab).
   * See [Get a List of Categories](https://developer.spotify.com/web-api/get-list-categories/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getCategories = function(options, callback) {
    var requestData = {
      url: _baseUri + '/browse/categories'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Get a single category used to tag items in Spotify (on, for example, the Spotify player's "Browse" tab).
   * See [Get a Category](https://developer.spotify.com/web-api/get-category/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} categoryId The id of the category. These can be found with the getCategories function
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getCategory = function(categoryId, options, callback) {
    var requestData = {
      url: _baseUri + '/browse/categories/' + categoryId
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Get a list of Spotify playlists tagged with a particular category.
   * See [Get a Category's Playlists](https://developer.spotify.com/web-api/get-categorys-playlists/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} categoryId The id of the category. These can be found with the getCategories function
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.getCategoryPlaylists = function(categoryId, options, callback) {
    var requestData = {
      url: _baseUri + '/browse/categories/' + categoryId + '/playlists'
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches albums from the Spotify catalog according to a query.
   * See [Search for an Item](https://developer.spotify.com/web-api/search-item/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} query The search query
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.searchAlbums = function(query, options, callback) {
    var requestData = {
      url: _baseUri + '/search/',
      params: {
        q: query,
        type: 'album'
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches artists from the Spotify catalog according to a query.
   * See [Search for an Item](https://developer.spotify.com/web-api/search-item/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} query The search query
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.searchArtists = function(query, options, callback) {
    var requestData = {
      url: _baseUri + '/search/',
      params: {
        q: query,
        type: 'artist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches tracks from the Spotify catalog according to a query.
   * See [Search for an Item](https://developer.spotify.com/web-api/search-item/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} query The search query
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.searchTracks = function(query, options, callback) {
    var requestData = {
      url: _baseUri + '/search/',
      params: {
        q: query,
        type: 'track'
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Fetches playlists from the Spotify catalog according to a query.
   * See [Search for an Item](https://developer.spotify.com/web-api/search-item/) on
   * the Spotify Developer site for more information about the endpoint.
   * @param {string} query The search query
   * @param {Object} options A JSON object with options that can be passed
   * @param {function(Object,Object)} callback An optional callback that receives 2 parameters. The first
   * one is the error object (null if no error), and the second is the value if the request succeeded.
   * @return {Object} Null if a callback is provided, a `Promise` object otherwise
   */
  Constr.prototype.searchPlaylists = function(query, options, callback) {
    var requestData = {
      url: _baseUri + '/search/',
      params: {
        q: query,
        type: 'playlist'
      }
    };
    return _checkParamsAndPerformRequest(requestData, options, callback);
  };

  /**
   * Gets the access token in use.
   * @return {string} accessToken The access token
   */
  Constr.prototype.getAccessToken = function() {
    return _accessToken;
  };

  /**
   * Sets the access token to be used.
   * See [the Authorization Guide](https://developer.spotify.com/web-api/authorization-guide/) on
   * the Spotify Developer site for more information about obtaining an access token.
   * @param {string} accessToken The access token
   * @return {void}
   */
  Constr.prototype.setAccessToken = function(accessToken) {
    _accessToken = accessToken;
  };

  /**
   * Sets an implementation of Promises/A+ to be used. E.g. Q, when.
   * See [Conformant Implementations](https://github.com/promises-aplus/promises-spec/blob/master/implementations.md)
   * for a list of some available options
   * @param {Object} promiseImplementation A Promises/A+ valid implementation
   * @throws {Error} If the implementation being set doesn't conform with Promises/A+
   * @return {void}
   */
  Constr.prototype.setPromiseImplementation = function(promiseImplementation) {
    if (!('defer' in promiseImplementation)) {
      throw new Error('Unsupported implementation of Promises/A+');
    } else {
      _promiseImplementation = promiseImplementation;
    }
  };

  return Constr;
})();

if (typeof module === 'object' && typeof module.exports === 'object') {
  module.exports = SpotifyWebApi;
};
/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	var parentJsonpFunction = window["webpackJsonp"];
/******/ 	window["webpackJsonp"] = function webpackJsonpCallback(chunkIds, moreModules) {
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, callbacks = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId])
/******/ 				callbacks.push.apply(callbacks, installedChunks[chunkId]);
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			modules[moduleId] = moreModules[moduleId];
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);
/******/ 		while(callbacks.length)
/******/ 			callbacks.shift().call(null, __webpack_require__);
/******/ 		if(moreModules[0]) {
/******/ 			installedModules[0] = 0;
/******/ 			return __webpack_require__(0);
/******/ 		} console.log("in webpackJsonpCallback");
/******/ 	};
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// "0" means "already loaded"
/******/ 	// Array means "loading", array contains callbacks
/******/ 	var installedChunks = {
/******/ 		1:0
/******/ 	};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/console.log("in __webpack_require__(moduleId)");
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId, callback) {
	console.log("in requireEnsure");
/******/ 		// "0" is the signal for "already loaded" 
/******/ 		if(installedChunks[chunkId] === 0)
/******/ 			return callback.call(null, __webpack_require__);
/******/
/******/ 		// an array means "currently loading".
/******/ 		if(installedChunks[chunkId] !== undefined) {
/******/ 			installedChunks[chunkId].push(callback);
/******/ 		} else {
/******/ 			// start chunk loading
/******/ 			installedChunks[chunkId] = [callback];
/******/ 			var head = document.getElementsByTagName('head')[0];
/******/ 			var script = document.createElement('script');
/******/ 			script.type = 'text/javascript';
/******/ 			script.charset = 'utf-8';
/******/ 			script.async = true;
/******/
/******/ 			script.src = __webpack_require__.p + "" + chunkId + "." + ({"0":"app"}[chunkId]||chunkId) + ".js";
/******/ 			head.appendChild(script);
/******/ 		}
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "javascripts/";
/******/ })
/************************************************************************/
/******/ ([]);
//# sourceMappingURL=shared.js.map;
