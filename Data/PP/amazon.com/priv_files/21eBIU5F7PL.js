(function(u,t,v){u.execute(function(){u.when("jQuery").register("cs-retail-help-autocomplete",function(k){Function.prototype.bind=function(g){var c=this;return function(){for(var k=[this],q=0,n=arguments.length;q<n;q++)k.push(arguments[q]);return c.apply(g,k)}};return{searchSuggest:function(g,c,r,q){this.searchFormName=g.attr("id");this.formElement=g.get(0);this.searchBox=g.find("#"+c).get(0);this.hiddenInput=g.find("#"+r).get(0);this.submitButton=g.find("#"+q).get(0);var n=-1,p=[],b=0,u="",m=null,
a=null,l=null,d=!1,e=!1,F=g.find("#help_srch_sggst").get(0),A=g.find('[name="locale"]').val();this.init=function(){e||(d=-1!==navigator.userAgent.toLowerCase().indexOf("msie"),this.searchBox&&(u=this.searchBox.value,this.searchBox.setAttribute("autocomplete","off"),this.attachEventListener(this.searchBox,"keydown",this.onKeyDownEvent),this.attachEventListener(this.searchBox,"keyup",this.onKeyUpEvent),this.attachEventListener(this.searchBox,"keypress",this.onKeyPressedEvent),this.attachEventListener(this.searchBox,
"blur",this.onFocusLost),l=t.onresize,this.attachEventListener(t,"resize",this.onWindowResized),e=!0))};this.onKeyDownEvent=function(a,b){switch(b.keyCode){case 40:this.moveDown();this.stopEvent(b);break;case 38:this.moveUp(),this.stopEvent(b)}}.bind(this);this.onKeyUpEvent=function(a,b){switch(b.keyCode){case 13:this.HideSuggestionsDiv();break;case 40:break;case 38:break;case 37:break;case 39:break;default:var c=this.searchBox.value;c!==u&&(u=c,this.setSearchSuggestionTimeout())}}.bind(this);this.onKeyPressedEvent=
function(a){if(27===a.keyCode&&"none"!==this.getSearchSuggest().style.display)return this.setSuggestionHideTimeout(),this.searchBox.value=u,!1}.bind(this);this.onFocusLost=function(a){this.setSuggestionHideTimeout()}.bind(this);this.onWindowResized=function(a){this.getSearchSuggest().style.width=this.searchBox.offsetWidth;l&&l(a)}.bind(this);this.moveDown=function(){if(!(0>=b))try{this.unhighlightCurrentSuggestion(),n>=b-1?n=-1:++n,this.highlightCurrentSuggestion(!0)}catch(a){}};this.moveUp=function(){if(!(0>=
b))try{this.unhighlightCurrentSuggestion(),0>n?n=b-1:--n,this.highlightCurrentSuggestion(!0)}catch(a){}};this.stopEvent=function(a){d?a.cancelBubble=!0:a.preventDefault()};this.displaySuggestions=function(){try{b=Math.min(7,p.length)}catch(a){b=0}var c=this.getSearchSuggest();k(c).width(k(this.searchBox).parent().width());c.style.position="absolute";c.style.zIndex="130";c.innerHTML="";0<b?c.style.display="":this.HideSuggestionsDiv();for(var d="",e=0;e<b;++e)d="issDiv"+e,d='<div id="'+d+'"',d+='class="suggest_link">'+
this.getFormattedSuggestionLine(p[e])+"</div>",c.innerHTML+=d;0<b&&(c.innerHTML+='<div id="issdivhdr" align="right">&nbsp;</div>');for(e=0;e<b;++e)d="issDiv"+e,this.attachEventListener(g.find("#"+d).get(0),"mouseover",this.suggestOver),this.attachEventListener(g.find("#"+d).get(0),"mouseout",this.suggestOut),this.attachEventListener(g.find("#"+d).get(0),"click",this.setSearchByIndex)};this.setSearchByIndex=function(a){n=(a.id?a:t.event.srcElement).id.substr(6);this.highlightCurrentSuggestion(!0);
this.getSearchSuggest().innerHTML="";this.formElement.submit()}.bind(this);this.suggestOver=function(a,b){a.style||(a=t.event.srcElement?t.event.srcElement:t.event.originalTarget);a.style.cursor="default";this.unhighlightCurrentSuggestion();n=a.id.substr(6);this.highlightCurrentSuggestion(!1)}.bind(this);this.suggestOut=function(a,b){a.style||(a=t.event.srcElement?t.event.srcElement:t.event.originalTarget);this.unhighlightSuggestion(a)}.bind(this);this.highlightSuggestion=function(a){a.className=
"suggest_link_over"};this.unhighlightSuggestion=function(a){a.className="suggest_link"};this.highlightCurrentSuggestion=function(a){if(a)if(-1===n)this.searchBox.value=u;else{a=p[n];if(!a)return;this.hiddenInput.value=[u,a,n].join();this.searchBox.value=a}a=g.find("#issDiv"+n).get(0);this.highlightSuggestion(a)};this.unhighlightCurrentSuggestion=function(){var a=null;try{a=g.find("#issDiv"+n).get(0)}catch(b){}a&&this.unhighlightSuggestion(a)};this.getFormattedSuggestionLine=function(a){var b=u.toLowerCase().split(" ");
a=a.toLowerCase().split(" ");return k.map(a,function(a,c){return-1!==k.inArray(a,b)?"<b>"+a+"</b>":a}).join(" ")};this.setSuggestionHideTimeout=function(){setTimeout(function(){return function(){this.HideSuggestionsDiv()}}().bind(this),300)};this.setSearchSuggestionTimeout=function(){p=[];this.hiddenInput.value="";m&&(clearTimeout(m),m=null);a&&(a.abort(),a=null);var b=A.split("_")[0];u.length<("zh"===b||"jp"===b?1:3)?this.HideSuggestionsDiv():m=setTimeout(function(){m=null;var b=u.toLowerCase();
a=k.getJSON("/gp/help/customer/ajax/autocomplete.html",{locale:A,userQuery:b,ie:"UTF8"}).done(function(b,c){a=null;p=c;this.displaySuggestions();n=-1}.bind(this))}.bind(this),100)};this.HideSuggestionsDiv=function(){b=0;this.getSearchSuggest().innerHTML="";this.getSearchSuggest().style.display="none";n=-1};this.findPos=function(a){var b=0,c=0;if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;while(a)}return[b,c]};this.createSuggestionDiv=function(a){var b=g.find("#helpsearch").get(0);
b.offset();b.height();b=document.createElement("div");b.style.border="1px solid #5c8295";b.style.backgroundColor="white";b.style.color="black";b.style.width=a.offsetWidth;b.style.zIndex="130";b.style.display="none";b.id="help_srch_sggst";a=a.parentNode;b.style.position="absolute";d&&(a=a.parentNode);a.appendChild(b);return b};this.getSearchSuggest=function(){F||(F=this.createSuggestionDiv(this.searchBox));return F};this.attachEventListener=function(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,
c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var e=a[d];a[d]=function(){var a=e.apply(this,arguments),b=c.apply(this,arguments);return a===v?b:b===v?a:b&&a}}}}}})})})(function(){var u=window.AmazonUIPageJS||window.P,t=u._namespace||u.attributeErrors;return t?t("CSHelpSearchAutocompleteJS"):u}(),window);