!function(e,n,t){"use strict";function o(){var e={restrict:"A",replace:!0,scope:{moduleId:"@"},controller:a,controllerAs:"locationMigrationVm",bindToController:!0};return e}function a(n,t,o,a,i,r,s){function c(){var e=window.location.href.match(/weather\.com\/life\/profile/),n=!!(a.getNodeValue("profile","savedLocations")||{}).profileIsMerged,t=(a.getNodeValue("user","savedLocations")||[]).length>0,o=a.get("user").signedIn();return!u()&&(!o&&(!n&&(!!t&&!e)))}function l(){i.getEvent("track-string-event").notify({module_id:m,attrs:{trackStr:"saved_locations_cta",linkTrackEvents:"event82",linkTrackVars:"event82",events:"event82"}})}function d(){var e=a.getNodeValue("products","manageLocations")||{};e.ctaBannerDismissed=!0,a.setNodeValue("products","manageLocations",e)}function u(){var e=a.getNodeValue("products","manageLocations");return!(!e||!e.ctaBannerDismissed)&&e.ctaBannerDismissed}var m=n.moduleId,g=this;g.isBannerOpen=!1,g.closeBanner=function(){g.isBannerOpen=!1,d()},function(){c()&&(r.get("/sites/all/modules/glomo/modules/gm_header_savedlocations/components/location_migration/location_migration.html").then(function(t){t&&t.data&&e.element(".header-saved-locations-migration").append(s(t.data)(n))}),t(function(){g.isBannerOpen=!0,l()},2e3)),o.migration.syncEventHandler(n)}()}e.module("gm_header_savedlocations").directive("gmHeaderSavedLocationsLocationMigration",o),a.$inject=["$scope","$timeout","gmLocations","twcPco","customEvent","$http","$compile"]}(angular,jQuery,TWC);
//# sourceMappingURL=/sites/all/modules/glomo/modules/gm_header_savedlocations/components/location_migration/location_migration.directive.min.js.map
