!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){!function(){"use strict";var t=n(2),e=new t.Core,i=e.utils.get(window,"BF_STATIC",null);if("undefined"!=typeof i){var r={mode:"dev"===i.bf_env?e.defs.bfaMode.develop:e.defs.bfaMode.prod,webRoot:i.web_root,staticRoot:i.static_root,env:i.bf_env,logLevel:document.location.search.indexOf("bfadebug")>-1?3:1,debug:document.location.search.indexOf("bfadebug=true")>-1,source:"obiwan_ui"},a={country:i.country,type:i.type,language:i.language,category:i.category,platform:i.isMobile?"mobile":"desktop",uri:{cleanedPath:document.location.pathname}},o={referrer:document.referrer};e.plugin(n(273),r).plugin(n(274)).plugin(n(276)).plugin(n(277)).plugin(n(278)).plugin(n(280)).plugin(n(281)).plugin(n(282)).plugin(n(284)).plugin(n(285)).plugin(n(286)).plugin(n(287),{enabled:i.pound_enabled||"undefined"!=typeof i.tracking&&"undefined"!=typeof i.tracking.pound&&1===i.tracking.pound.isEnabled}).plugin(n(288),{bfaFunctionName:"bfa",domBinder:{delegatedMapping:{click:[{event:"click",selector:"a",options:{handlers:["ATagWithExternalLinkHandler","ATagWithInternalLinkHandler","ATagDefaultHandler"]}},{event:"click",selector:".contributions__header"},{event:"click",selector:"input"},{event:"click",selector:"button"}]}},inViewImpressionBinder:{enabled:!0,locators:["[data-bfa-impressions=true]"]},generalBinder:{pageExitBinder:!0}}),e.registerModule(n(308),{}).registerModule(n(309),{extFilePath:e.utils.get(i,"tracking.googleAnalytics.url","//www.google-analytics.com/analytics.js"),extTrackerGlobalName:e.utils.get(i,"tracking.googleAnalytics.googleObjectName","ga"),googleAnalyticsId:e.utils.get(i,"tracking.googleAnalytics.id"),configMapsDelegate:n(310)}).registerModule(n(311),{extFilePath:e.utils.get(i,"tracking.quantcast.url","https://secure.quantserve.com/quant.js"),extTrackerGlobalName:e.utils.get(i,"tracking.quantcast.quantcastObjectName","_qevents"),quantcastPcode:e.utils.get(i,"tracking.quantcast.pcode"),configMapsDelegate:n(312)}).registerModule(n(313),{extFilesPaths:[i.static_root+"/compiled/js/custom_audience_pixel.js"],configMapsDelegate:n(314)}).registerModule(n(315),{extFilesPaths:["https://cdn-gl.imrworldwide.com/novms/js/2/ggcmb510.js"],configMapsDelegate:n(316)}).registerModule(n(317),{configMapsDelegate:n(323),extFilePath:i.static_root+"/js/public/pixiedust-build.js?v="+i.version,samplingRate:i.tracking.pixiedust.sampling_rate,poundSamplingRate:i.tracking.pixiedust.pound_sampling_rate}).registerModule(n(324),{extFilesPaths:[i.static_root+"/compiled/js/pinterest_tag.js"],configMapsDelegate:n(325)}),e.activatePlugins(),e.push("general/page/update",a),e.push("general/user/update",o),e.domi.onDomReady(function(){e.push("plugin/binder/activate")}),e.activate()}}()},function(t,e,n){!function(){"use strict";t.exports.Core=n(3)}()},function(t,e,n){(function(t){!function(){"use strict";function e(){this._modules={},this._plugins={},this._instances={},this._router=new a,this.inited=new r,this.active=new r,this.crashed=new r,this._inited=!1,this._active=!1,this._crashed=!1,this.crashed.add(function(){this._crashed=!0,this.log.error("CRASHED")},this,Number.MAX_VALUE);var t=this;this._router.sub("bfa/subscribe/{action}/{eventName}",this._subscribe,this,{action:["add","addOnce","remove"],eventName:function(e){return t.utils.isString(e)&&e.length>0}}),this.inited.add(function(){this._inited=!0},this,Number.MAX_VALUE),this.active.add(function(){this._active=!0},this,Number.MAX_VALUE),this.Sandbox=function(t,e,n,i){return this.instanceId=e,this.moduleInited=new r,this.moduleActive=new r,this.fillModuleRoute=function(t){return"module/"+e+"/"+t},this.subOn=function(e,n,i){t._router.sub(e,n,i)},this.settings=n||{},this.moduleId=i,this.utils=t.utils,this.defs=t.defs,this},this.construct.dispatch(this)}var i=n(5),r=i.Signal,a=n(270),o=n(272);e.prototype.log={error:function(t){window.console&&window.console.error("BFA [ BFACore ] "+t)},log:function(){},info:function(){},warn:function(){},enabled:function(){}},e.prototype.construct=new r,e.prototype.utils=i,e.prototype.defs=o,e.prototype._subscribe=function(t,e){return this.utils.isPlainObject(t)&&this.utils.isPlainObject(e)&&this[e.eventName]instanceof r&&this.utils.isFunction(t.fn)&&t.context&&this[e.eventName][e.action](t.fn,t.context),this},e.prototype.registerModule=function(t,e,n){if(this._inited===!0)return this.log.warn("You can't register module after activation"),this;e=e||{};var i=this.utils.checkType("function",t,"module")||this.utils.checkType("object",e,"settings");if(i)throw new TypeError(i);if(!this.utils.isString(n)&&this.utils.isString(t.defaultId)&&(n=t.defaultId),!this.utils.isString(n)||0===n.length)throw new TypeError("moduleId has to be specified (as third argument or as `id` property of module) and must be not empty string");return this.utils.has(this._modules,n)?(this.log.warn("module "+n+" was already registered"),this):(this.push("module/"+n+"/added"),this._modules[n]={Creator:t,settings:e,id:n},this)},e.prototype.plugin=function(t,e,n){if(this._inited===!0)return this.log.warn("You can't add plugins after activation"),this;e=e||{};var i=this.utils.checkType("function",t,"plugin")||this.utils.checkType("object",e,"settings");if(i)throw new TypeError(i);if(!this.utils.isString(n)&&this.utils.isString(t.defaultId)&&(n=t.defaultId),!this.utils.isString(n)||0===n.length)throw new TypeError("pluginId has to be specified (as third argument or as `id` property of plugin) and must be not empty string");return this.utils.has(this._plugins,n)?(this.log.warn("plugin "+n+" was already registered"),this):(this._plugins[n]={Creator:t,instance:null,settings:e,id:n},this)},e.prototype.activatePlugins=function(){function t(r,a){i.utils.isArray(a)||(a=[]),a.push(r),n[r]=!0,i.utils.forEach(i.utils.get(i._plugins[r],"Creator.require",[]),function(e){if(i.utils.isUndefined(i._plugins[e]))throw new Error("Can't resolve \""+e+'" for "'+r+'" plugin');if(a.indexOf(e)>=0)throw new Error('Circular dependency "'+e+'" is required by "'+r+'" plugin: '+a.join(" -> "));n[e]||t(e,a.slice(0))},i),e.indexOf(r)<0&&e.push(r)}if(this._crashed===!0)return void this.log.error("Plugins activation interrupted");var e=[],n={},i=this;try{this.utils.forOwn(this._plugins,function(e){t(e.id)},this);for(var r=0;r<e.length;r++){var a=e[r];null===this._plugins[a].instance?(this._plugins[a].instance=new this._plugins[a].Creator(this,this._plugins[a].settings),this.push("plugin/"+a+"/added")):this.log.warn("Plugin "+a+" already added and activated")}}catch(t){return"undefined"==typeof window.BF_STATIC||"live"!==BF_STATIC.bf_env&&"prod"!==BF_STATIC.bf_env||!window.raven||raven.captureException(t),this.log.error(t),this.log.error("Plugins activation interrupted"),void this.crashed.dispatch()}},e.prototype.activate=function(){if(this._inited===!0)return void this.log.warn("Already initialized");if(this.activatePlugins(),this._crashed===!0)return void this.log.error("Activation interrupted");var e=this;this.utils.forOwn(this._modules,function(e){var n=e.Creator.defaultId,i=!1;this.utils.isString(e.settings.instanceId)&&(n=e.settings.instanceId);var r=new this.Sandbox(this,n,e.settings,e.Creator.defaultId);if(this.utils.isArray(e.Creator.require)&&e.Creator.require.length>0)for(var a=0;a<e.Creator.require.length;a++){var o=e.Creator.require[a];if(!this.utils.has(this._plugins,o)||!this.utils.has(this._plugins[o].instance,"modifySBInstance")){i="Module "+e.Creator.defaultId+" require plugin "+o;break}this._plugins[o].instance.modifySBInstance(r)}if(!i){var s=new e.Creator(r);this.utils.has(s,"init")?(this._instances[n]={module:s,sandbox:r},this.push("module/"+n+"/added")):i="Constructor of module "+t.defaultId+" returned not valid object"}i&&(this.log.error(i),this.log.error("Instance "+n+" of module "+t.defaultId+" is not added properly"))},this);var n=this.utils.keys(this._instances).length,i=this.utils.after(n,function(){e.inited.dispatch(e)}),r=this.utils.after(n,function(){e.active.dispatch(e)});this.utils.forOwn(this._instances,function(t){t.sandbox.moduleInited.addOnce(i),t.sandbox.moduleActive.addOnce(r),this.utils.defer(t.module.init)},this)},e.prototype.push=function(){this._router.pub.apply(this._router,arguments)},t.exports=e}()}).call(e,n(4)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){!function(){"use strict";var e=n(6);t.exports.fromPairs=e,t.exports.isEmpty=n(7),t.exports.isString=n(44),t.exports.isArray=n(35),t.exports.isBoolean=n(45),t.exports.isObject=n(23),t.exports.isPlainObject=n(46),t.exports.isUndefined=n(48),t.exports.isFunction=n(16),t.exports.cloneDeep=n(49),t.exports.clone=n(123),t.exports.has=n(124),t.exports.get=n(137),t.exports.set=n(139),t.exports.forOwn=function(t,e,i){n(141).apply(this,[t,n(147)(e,i)])},t.exports.keys=n(86),t.exports.defaults=n(194),t.exports.defaultsDeep=n(199),t.exports.merge=n(207),t.exports.values=n(208),t.exports.after=n(210),t.exports.defer=n(211),t.exports.bind=n(147),t.exports.delay=n(213),t.exports.every=n(214),t.exports.forEach=n(241),t.exports.map=n(242),t.exports.slice=n(244),t.exports.indexOf=n(246),t.exports.remove=n(247),t.exports.flatten=n(252),t.exports.uniq=n(255),t.exports.startsWith=n(259),t.exports.trim=n(261),t.exports.queryStringToObject=function(t){return t?(t.indexOf("?")!==-1&&(t=t.split("?")[1]),e(t.split("&").map(function(t){return t.split("=").map(decodeURIComponent)}))):{}},t.exports.readCookie=function(t){for(var e,n=document.cookie.split(";"),i=[],r=0;r<n.length;r++){if(n[r]=n[r].trim(),"object"==typeof t&&t.exec){var a=new RegExp(t);if(a.test(n[r])){var o=/(.*)=(.*)$/g;e=o.exec(n[r]),e&&i.push({name:e[1],value:e[2]})}}if("string"==typeof t){var s=RegExp("^\\s*"+t+"=\\s*(.*?)\\s*$");e=n[r].match(s),e&&i.push({name:t,value:e[1]})}}return i},t.exports.checkType=function(e,n,i,r){return typeof n!==e?""+i+" has to be a "+e:r===!0&&t.exports.isEmpty(n)?""+i+" has to be not empty":void 0},t.exports.getAppReferrer=function(t,e){var n=t&&t.match(/fban(\/messenger)?|twitter|pinterest/i);if(n)switch(n[0].toLowerCase()){case"fban/messenger":return"http://msgr.facebook.com";case"fban":if(e&&e.indexOf("m.facebook")===-1)return"http://app.facebook.com";break;default:return"http://app."+n[0].toLowerCase()+".com"}return""},t.exports.Signal=n(269)}()},function(t,e){function n(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}t.exports=n},function(t,e,n){function i(t){if(null==t)return!0;if(u(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||d(t)||o(t)))return!t.length;var e=a(t);if(e==f||e==p)return!t.size;if(l(t))return!r(t).length;for(var n in t)if(g.call(t,n))return!1;return!0}var r=n(8),a=n(12),o=n(32),s=n(35),u=n(36),c=n(38),l=n(9),d=n(40),f="[object Map]",p="[object Set]",h=Object.prototype,g=h.hasOwnProperty;t.exports=i},function(t,e,n){function i(t){if(!r(t))return a(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var r=n(9),a=n(10),o=Object.prototype,s=o.hasOwnProperty;t.exports=i},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||i;return t===n}var i=Object.prototype;t.exports=n},function(t,e,n){var i=n(11),r=i(Object.keys,Object);t.exports=r},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){var i=n(13),r=n(28),a=n(29),o=n(30),s=n(31),u=n(17),c=n(26),l="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",g="[object DataView]",v=c(i),m=c(r),b=c(a),y=c(o),_=c(s),w=u;(i&&w(new i(new ArrayBuffer(1)))!=g||r&&w(new r)!=l||a&&w(a.resolve())!=f||o&&w(new o)!=p||s&&w(new s)!=h)&&(w=function(t){var e=u(t),n=e==d?t.constructor:void 0,i=n?c(n):"";if(i)switch(i){case v:return g;case m:return l;case b:return f;case y:return p;case _:return h}return e}),t.exports=w},function(t,e,n){var i=n(14),r=n(19),a=i(r,"DataView");t.exports=a},function(t,e,n){function i(t,e){var n=a(t,e);return r(n)?n:void 0}var r=n(15),a=n(27);t.exports=i},function(t,e,n){function i(t){if(!o(t)||a(t))return!1;var e=r(t)?h:c;return e.test(s(t))}var r=n(16),a=n(24),o=n(23),s=n(26),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,f=l.toString,p=d.hasOwnProperty,h=RegExp("^"+f.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},function(t,e,n){function i(t){if(!a(t))return!1;var e=r(t);return e==s||e==u||e==o||e==c}var r=n(17),a=n(23),o="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";t.exports=i},function(t,e,n){function i(t){return null==t?void 0===t?u:s:c&&c in Object(t)?a(t):o(t)}var r=n(18),a=n(21),o=n(22),s="[object Null]",u="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=i},function(t,e,n){var i=n(19),r=i.Symbol;t.exports=r},function(t,e,n){var i=n(20),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();t.exports=a},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function i(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var i=!0}catch(t){}var r=s.call(t);return i&&(e?t[u]=n:delete t[u]),r}var r=n(18),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,u=r?r.toStringTag:void 0;t.exports=i},function(t,e){function n(t){return r.call(t)}var i=Object.prototype,r=i.toString;t.exports=n},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function i(t){return!!a&&a in t}var r=n(25),a=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=i},function(t,e,n){var i=n(19),r=i["__core-js_shared__"];t.exports=r},function(t,e){function n(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var i=Function.prototype,r=i.toString;t.exports=n},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){var i=n(14),r=n(19),a=i(r,"Map");t.exports=a},function(t,e,n){var i=n(14),r=n(19),a=i(r,"Promise");t.exports=a},function(t,e,n){var i=n(14),r=n(19),a=i(r,"Set");t.exports=a},function(t,e,n){var i=n(14),r=n(19),a=i(r,"WeakMap");t.exports=a},function(t,e,n){var i=n(33),r=n(34),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(t){return r(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){function i(t){return a(t)&&r(t)==o}var r=n(17),a=n(34),o="[object Arguments]";t.exports=i},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function i(t){return null!=t&&a(t.length)&&!r(t)}var r=n(16),a=n(37);t.exports=i},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;t.exports=n},function(t,e,n){(function(t){var i=n(19),r=n(39),a="object"==typeof e&&e&&!e.nodeType&&e,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===a,u=s?i.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||r;t.exports=l}).call(e,n(4)(t))},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){var i=n(41),r=n(42),a=n(43),o=a&&a.isTypedArray,s=o?r(o):i;t.exports=s},function(t,e,n){function i(t){return o(t)&&a(t.length)&&!!C[r(t)]}var r=n(17),a=n(37),o=n(34),s="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",d="[object Error]",f="[object Function]",p="[object Map]",h="[object Number]",g="[object Object]",v="[object RegExp]",m="[object Set]",b="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",k="[object Float64Array]",T="[object Int8Array]",S="[object Int16Array]",M="[object Int32Array]",I="[object Uint8Array]",F="[object Uint8ClampedArray]",O="[object Uint16Array]",E="[object Uint32Array]",C={};C[x]=C[k]=C[T]=C[S]=C[M]=C[I]=C[F]=C[O]=C[E]=!0,C[s]=C[u]=C[_]=C[c]=C[w]=C[l]=C[d]=C[f]=C[p]=C[h]=C[g]=C[v]=C[m]=C[b]=C[y]=!1,t.exports=i},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var i=n(20),r="object"==typeof e&&e&&!e.nodeType&&e,a=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===r,s=o&&i.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(4)(t))},function(t,e,n){function i(t){return"string"==typeof t||!a(t)&&o(t)&&r(t)==s}var r=n(17),a=n(35),o=n(34),s="[object String]";t.exports=i},function(t,e,n){function i(t){return t===!0||t===!1||a(t)&&r(t)==o}var r=n(17),a=n(34),o="[object Boolean]";t.exports=i},function(t,e,n){function i(t){if(!o(t)||r(t)!=s)return!1;var e=a(t);if(null===e)return!0;var n=d.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}var r=n(17),a=n(47),o=n(34),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=l.call(Object);t.exports=i},function(t,e,n){var i=n(11),r=i(Object.getPrototypeOf,Object);t.exports=r},function(t,e){function n(t){return void 0===t}t.exports=n},function(t,e,n){function i(t){return r(t,a|o)}var r=n(50),a=1,o=4;t.exports=i},function(t,e,n){function i(t,e,n,I,F,O){var E,j=e&k,A=e&T,B=e&S;if(n&&(E=F?n(t,I,F,O):n(t)),void 0!==E)return E;if(!w(t))return t;var N=y(t);if(N){if(E=v(t),!j)return l(t,E)}else{var D=g(t),L=D==C||D==P;if(_(t))return c(t,j);if(D==R||D==M||L&&!F){if(E=A||L?{}:b(t),!j)return A?f(t,u(E,t)):d(t,s(E,t))}else{if(!J[D])return F?t:{};E=m(t,D,i,j)}}O||(O=new r);var z=O.get(t);if(z)return z;O.set(t,E);var U=B?A?h:p:A?keysIn:x,q=N?void 0:U(t);return a(q||t,function(r,a){q&&(a=r,r=t[a]),o(E,a,i(r,e,n,a,t,O))}),E}var r=n(51),a=n(80),o=n(81),s=n(84),u=n(90),c=n(94),l=n(95),d=n(96),f=n(100),p=n(103),h=n(105),g=n(12),v=n(106),m=n(107),b=n(121),y=n(35),_=n(38),w=n(23),x=n(86),k=1,T=2,S=4,M="[object Arguments]",I="[object Array]",F="[object Boolean]",O="[object Date]",E="[object Error]",C="[object Function]",P="[object GeneratorFunction]",j="[object Map]",A="[object Number]",R="[object Object]",B="[object RegExp]",N="[object Set]",D="[object String]",L="[object Symbol]",z="[object WeakMap]",U="[object ArrayBuffer]",q="[object DataView]",V="[object Float32Array]",H="[object Float64Array]",G="[object Int8Array]",$="[object Int16Array]",W="[object Int32Array]",K="[object Uint8Array]",Q="[object Uint8ClampedArray]",Y="[object Uint16Array]",X="[object Uint32Array]",J={};J[M]=J[I]=J[U]=J[q]=J[F]=J[O]=J[V]=J[H]=J[G]=J[$]=J[W]=J[j]=J[A]=J[R]=J[B]=J[N]=J[D]=J[L]=J[K]=J[Q]=J[Y]=J[X]=!0,J[E]=J[C]=J[z]=!1,t.exports=i},function(t,e,n){function i(t){var e=this.__data__=new r(t);this.size=e.size}var r=n(52),a=n(60),o=n(61),s=n(62),u=n(63),c=n(64);i.prototype.clear=a,i.prototype.delete=o,i.prototype.get=s,i.prototype.has=u,i.prototype.set=c,t.exports=i},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=n(53),a=n(54),o=n(57),s=n(58),u=n(59);i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=o,i.prototype.has=s,i.prototype.set=u,t.exports=i},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function i(t){var e=this.__data__,n=r(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():o.call(e,n,1),--this.size,!0}var r=n(55),a=Array.prototype,o=a.splice;t.exports=i},function(t,e,n){function i(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}var r=n(56);t.exports=i},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function i(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}var r=n(55);t.exports=i},function(t,e,n){function i(t){return r(this.__data__,t)>-1}var r=n(55);t.exports=i},function(t,e,n){function i(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var r=n(55);t.exports=i},function(t,e,n){function i(){this.__data__=new r,this.size=0}var r=n(52);t.exports=i},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function i(t,e){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<s-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(t,e),this.size=n.size,this}var r=n(52),a=n(28),o=n(65),s=200;t.exports=i},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=n(66),a=n(74),o=n(77),s=n(78),u=n(79);i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=o,i.prototype.has=s,i.prototype.set=u,t.exports=i},function(t,e,n){function i(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}var r=n(67),a=n(52),o=n(28);t.exports=i},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=n(68),a=n(70),o=n(71),s=n(72),u=n(73);i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=o,i.prototype.has=s,i.prototype.set=u,t.exports=i},function(t,e,n){function i(){this.__data__=r?r(null):{},this.size=0}var r=n(69);t.exports=i},function(t,e,n){var i=n(14),r=i(Object,"create");t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function i(t){var e=this.__data__;if(r){var n=e[t];return n===a?void 0:n}return s.call(e,t)?e[t]:void 0}var r=n(69),a="__lodash_hash_undefined__",o=Object.prototype,s=o.hasOwnProperty;t.exports=i},function(t,e,n){function i(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}var r=n(69),a=Object.prototype,o=a.hasOwnProperty;t.exports=i},function(t,e,n){function i(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?a:e,this}var r=n(69),a="__lodash_hash_undefined__";t.exports=i},function(t,e,n){function i(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}var r=n(75);t.exports=i},function(t,e,n){function i(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}var r=n(76);t.exports=i},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function i(t){return r(this,t).get(t)}var r=n(75);t.exports=i},function(t,e,n){function i(t){return r(this,t).has(t)}var r=n(75);t.exports=i},function(t,e,n){function i(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var r=n(75);t.exports=i},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function i(t,e,n){var i=t[e];s.call(t,e)&&a(i,n)&&(void 0!==n||e in t)||r(t,e,n)}var r=n(82),a=n(56),o=Object.prototype,s=o.hasOwnProperty;t.exports=i},function(t,e,n){function i(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var r=n(83);t.exports=i},function(t,e,n){var i=n(14),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e,n){function i(t,e){return t&&r(e,a(e),t)}var r=n(85),a=n(86);t.exports=i},function(t,e,n){function i(t,e,n,i){var o=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),o?a(n,c,l):r(n,c,l)}return n}var r=n(81),a=n(82);t.exports=i},function(t,e,n){function i(t){return o(t)?r(t):a(t)}var r=n(87),a=n(8),o=n(36);t.exports=i},function(t,e,n){function i(t,e){var n=o(t),i=!n&&a(t),l=!n&&!i&&s(t),f=!n&&!i&&!l&&c(t),p=n||i||l||f,h=p?r(t.length,String):[],g=h.length;for(var v in t)!e&&!d.call(t,v)||p&&("length"==v||l&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,g))||h.push(v);return h}var r=n(88),a=n(32),o=n(35),s=n(38),u=n(89),c=n(40),l=Object.prototype,d=l.hasOwnProperty;t.exports=i},function(t,e){function n(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}t.exports=n},function(t,e){function n(t,e){return e=null==e?i:e,!!e&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function i(t,e){return t&&r(e,a(e),t)}var r=n(85),a=n(91);t.exports=i},function(t,e,n){function i(t){return o(t)?r(t,!0):a(t)}var r=n(87),a=n(92),o=n(36);t.exports=i},function(t,e,n){function i(t){if(!r(t))return o(t);var e=a(t),n=[];for(var i in t)("constructor"!=i||!e&&u.call(t,i))&&n.push(i);return n}var r=n(23),a=n(9),o=n(93),s=Object.prototype,u=s.hasOwnProperty;t.exports=i},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){(function(t){function i(t,e){if(e)return t.slice();var n=t.length,i=c?c(n):new t.constructor(n);return t.copy(i),i}var r=n(19),a="object"==typeof e&&e&&!e.nodeType&&e,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===a,u=s?r.Buffer:void 0,c=u?u.allocUnsafe:void 0;t.exports=i}).call(e,n(4)(t))},function(t,e){function n(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function i(t,e){return r(t,a(t),e)}var r=n(85),a=n(97);t.exports=i},function(t,e,n){var i=n(98),r=n(99),a=Object.prototype,o=a.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(t){return null==t?[]:(t=Object(t),i(s(t),function(e){return o.call(t,e)}))}:r;t.exports=u},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length,r=0,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a}t.exports=n},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){function i(t,e){return r(t,a(t),e)}var r=n(85),a=n(101);t.exports=i},function(t,e,n){var i=n(102),r=n(47),a=n(97),o=n(99),s=Object.getOwnPropertySymbols,u=s?function(t){for(var e=[];t;)i(e,a(t)),t=r(t);return e}:o;t.exports=u},function(t,e){function n(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}t.exports=n},function(t,e,n){function i(t){return r(t,o,a)}var r=n(104),a=n(97),o=n(86);t.exports=i},function(t,e,n){function i(t,e,n){var i=e(t);return a(t)?i:r(i,n(t))}var r=n(102),a=n(35);t.exports=i},function(t,e,n){function i(t){return r(t,o,a)}var r=n(104),a=n(101),o=n(91);t.exports=i},function(t,e){function n(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var i=Object.prototype,r=i.hasOwnProperty;t.exports=n},function(t,e,n){function i(t,e,n,i){var E=t.constructor;switch(e){case y:return r(t);case d:case f:return new E(+t);case _:return a(t,i);case w:case x:case k:case T:case S:case M:case I:case F:case O:return l(t,i);case p:return o(t,i,n);case h:case m:return new E(t);case g:return s(t);case v:return u(t,i,n);case b:return c(t)}}var r=n(108),a=n(110),o=n(111),s=n(115),u=n(116),c=n(119),l=n(120),d="[object Boolean]",f="[object Date]",p="[object Map]",h="[object Number]",g="[object RegExp]",v="[object Set]",m="[object String]",b="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",k="[object Int8Array]",T="[object Int16Array]",S="[object Int32Array]",M="[object Uint8Array]",I="[object Uint8ClampedArray]",F="[object Uint16Array]",O="[object Uint32Array]";t.exports=i},function(t,e,n){function i(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}var r=n(109);t.exports=i},function(t,e,n){var i=n(19),r=i.Uint8Array;t.exports=r},function(t,e,n){function i(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var r=n(108);t.exports=i},function(t,e,n){function i(t,e,n){var i=e?n(o(t),s):o(t);return a(i,r,new t.constructor)}var r=n(112),a=n(113),o=n(114),s=1;t.exports=i},function(t,e){function n(t,e){return t.set(e[0],e[1]),t}t.exports=n},function(t,e){function n(t,e,n,i){var r=-1,a=null==t?0:t.length;for(i&&a&&(n=t[++r]);++r<a;)n=e(n,t[r],r,t);return n}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}t.exports=n},function(t,e){function n(t){var e=new t.constructor(t.source,i.exec(t));return e.lastIndex=t.lastIndex,e}var i=/\w*$/;t.exports=n},function(t,e,n){function i(t,e,n){var i=e?n(o(t),s):o(t);return a(i,r,new t.constructor)}var r=n(117),a=n(113),o=n(118),s=1;t.exports=i},function(t,e){function n(t,e){return t.add(e),t}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function i(t){return o?Object(o.call(t)):{}}var r=n(18),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;t.exports=i},function(t,e,n){function i(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var r=n(108);t.exports=i},function(t,e,n){function i(t){return"function"!=typeof t.constructor||o(t)?{}:r(a(t))}var r=n(122),a=n(47),o=n(9);t.exports=i},function(t,e,n){var i=n(23),r=Object.create,a=function(){function t(){}return function(e){if(!i(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=a},function(t,e,n){function i(t){return r(t,a)}var r=n(50),a=4;t.exports=i},function(t,e,n){function i(t,e){return null!=t&&a(t,e,r)}var r=n(125),a=n(126);t.exports=i},function(t,e){function n(t,e){return null!=t&&r.call(t,e)}var i=Object.prototype,r=i.hasOwnProperty;t.exports=n},function(t,e,n){function i(t,e,n){e=r(e,t);for(var i=-1,l=e.length,d=!1;++i<l;){var f=c(e[i]);if(!(d=null!=t&&n(t,f)))break;t=t[f]}return d||++i!=l?d:(l=null==t?0:t.length,!!l&&u(l)&&s(f,l)&&(o(t)||a(t)))}var r=n(127),a=n(32),o=n(35),s=n(89),u=n(37),c=n(136);t.exports=i},function(t,e,n){function i(t,e){return r(t)?t:a(t,e)?[t]:o(s(t))}var r=n(35),a=n(128),o=n(130),s=n(133);t.exports=i},function(t,e,n){function i(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!a(t))||(s.test(t)||!o.test(t)||null!=e&&t in Object(e))}var r=n(35),a=n(129),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=i},function(t,e,n){function i(t){return"symbol"==typeof t||a(t)&&r(t)==o}var r=n(17),a=n(34),o="[object Symbol]";t.exports=i},function(t,e,n){var i=n(131),r=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i(function(t){var e=[];return r.test(t)&&e.push(""),t.replace(a,function(t,n,i,r){e.push(i?r.replace(o,"$1"):n||t)}),e});t.exports=s},function(t,e,n){function i(t){var e=r(t,function(t){return n.size===a&&n.clear(),t}),n=e.cache;return e}var r=n(132),a=500;t.exports=i},function(t,e,n){function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(a);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=t.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(i.Cache||r),n}var r=n(65),a="Expected a function";i.Cache=r,t.exports=i},function(t,e,n){function i(t){return null==t?"":r(t)}var r=n(134);t.exports=i},function(t,e,n){function i(t){if("string"==typeof t)return t;if(o(t))return a(t,i)+"";if(s(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var r=n(18),a=n(135),o=n(35),s=n(129),u=1/0,c=r?r.prototype:void 0,l=c?c.toString:void 0;t.exports=i},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}t.exports=n},function(t,e,n){function i(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-a?"-0":e}var r=n(129),a=1/0;t.exports=i},function(t,e,n){function i(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}var r=n(138);t.exports=i},function(t,e,n){function i(t,e){e=r(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[a(e[n++])];
return n&&n==i?t:void 0}var r=n(127),a=n(136);t.exports=i},function(t,e,n){function i(t,e,n){return null==t?t:r(t,e,n)}var r=n(140);t.exports=i},function(t,e,n){function i(t,e,n,i){if(!s(t))return t;e=a(e,t);for(var c=-1,l=e.length,d=l-1,f=t;null!=f&&++c<l;){var p=u(e[c]),h=n;if(c!=d){var g=f[p];h=i?i(g,p,f):void 0,void 0===h&&(h=s(g)?g:o(e[c+1])?[]:{})}r(f,p,h),f=f[p]}return t}var r=n(81),a=n(127),o=n(89),s=n(23),u=n(136);t.exports=i},function(t,e,n){function i(t,e){return t&&r(t,a(e))}var r=n(142),a=n(145);t.exports=i},function(t,e,n){function i(t,e){return t&&r(t,e,a)}var r=n(143),a=n(86);t.exports=i},function(t,e,n){var i=n(144),r=i();t.exports=r},function(t,e){function n(t){return function(e,n,i){for(var r=-1,a=Object(e),o=i(e),s=o.length;s--;){var u=o[t?s:++r];if(n(a[u],u,a)===!1)break}return e}}t.exports=n},function(t,e,n){function i(t){return"function"==typeof t?t:r}var r=n(146);t.exports=i},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){var i=n(148),r=n(155),a=n(186),o=n(188),s=1,u=32,c=i(function(t,e,n){var i=s;if(n.length){var l=o(n,a(c));i|=u}return r(t,i,e,n,l)});c.placeholder={},t.exports=c},function(t,e,n){function i(t,e){return o(a(t,e,r),t+"")}var r=n(146),a=n(149),o=n(151);t.exports=i},function(t,e,n){function i(t,e,n){return e=a(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=a(i.length-e,0),u=Array(s);++o<s;)u[o]=i[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=i[o];return c[e]=n(u),r(t,this,c)}}var r=n(150),a=Math.max;t.exports=i},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var i=n(152),r=n(154),a=r(i);t.exports=a},function(t,e,n){var i=n(153),r=n(83),a=n(146),o=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:a;t.exports=o},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e){function n(t){var e=0,n=0;return function(){var o=a(),s=r-(o-n);if(n=o,s>0){if(++e>=i)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var i=800,r=16,a=Date.now;t.exports=n},function(t,e,n){function i(t,e,n,i,x,k,T,S){var M=e&v;if(!M&&"function"!=typeof t)throw new TypeError(h);var I=i?i.length:0;if(I||(e&=~(y|_),i=x=void 0),T=void 0===T?T:w(p(T),0),S=void 0===S?S:p(S),I-=x?x.length:0,e&_){var F=i,O=x;i=x=void 0}var E=M?void 0:c(t),C=[t,e,n,i,x,F,O,k,T,S];if(E&&l(C,E),t=C[0],e=C[1],n=C[2],i=C[3],x=C[4],S=C[9]=void 0===C[9]?M?0:t.length:w(C[9]-I,0),!S&&e&(m|b)&&(e&=~(m|b)),e&&e!=g)P=e==m||e==b?o(t,e,S):e!=y&&e!=(g|y)||x.length?s.apply(void 0,C):u(t,e,n,i);else var P=a(t,e,n);var j=E?r:d;return f(j(P,C),t,e)}var r=n(156),a=n(158),o=n(160),s=n(161),u=n(189),c=n(169),l=n(190),d=n(176),f=n(177),p=n(191),h="Expected a function",g=1,v=2,m=8,b=16,y=32,_=64,w=Math.max;t.exports=i},function(t,e,n){var i=n(146),r=n(157),a=r?function(t,e){return r.set(t,e),t}:i;t.exports=a},function(t,e,n){var i=n(31),r=i&&new i;t.exports=r},function(t,e,n){function i(t,e,n){function i(){var e=this&&this!==a&&this instanceof i?u:t;return e.apply(s?n:this,arguments)}var s=e&o,u=r(t);return i}var r=n(159),a=n(19),o=1;t.exports=i},function(t,e,n){function i(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=r(t.prototype),i=t.apply(n,e);return a(i)?i:n}}var r=n(122),a=n(23);t.exports=i},function(t,e,n){function i(t,e,n){function i(){for(var a=arguments.length,f=Array(a),p=a,h=u(i);p--;)f[p]=arguments[p];var g=a<3&&f[0]!==h&&f[a-1]!==h?[]:c(f,h);if(a-=g.length,a<n)return s(t,e,o,i.placeholder,void 0,f,g,void 0,void 0,n-a);var v=this&&this!==l&&this instanceof i?d:t;return r(v,this,f)}var d=a(t);return i}var r=n(150),a=n(159),o=n(161),s=n(165),u=n(186),c=n(188),l=n(19);t.exports=i},function(t,e,n){function i(t,e,n,y,_,w,x,k,T,S){function M(){for(var p=arguments.length,h=Array(p),g=p;g--;)h[g]=arguments[g];if(E)var v=c(M),m=o(h,v);if(y&&(h=r(h,y,_,E)),w&&(h=a(h,w,x,E)),p-=m,E&&p<S){var b=d(h,v);return u(t,e,i,M.placeholder,n,h,b,k,T,S-p)}var j=F?n:this,A=O?j[t]:t;return p=h.length,k?h=l(h,k):C&&p>1&&h.reverse(),I&&T<p&&(h.length=T),this&&this!==f&&this instanceof M&&(A=P||s(A)),A.apply(j,h)}var I=e&m,F=e&p,O=e&h,E=e&(g|v),C=e&b,P=O?void 0:s(t);return M}var r=n(162),a=n(163),o=n(164),s=n(159),u=n(165),c=n(186),l=n(187),d=n(188),f=n(19),p=1,h=2,g=8,v=16,m=128,b=512;t.exports=i},function(t,e){function n(t,e,n,r){for(var a=-1,o=t.length,s=n.length,u=-1,c=e.length,l=i(o-s,0),d=Array(c+l),f=!r;++u<c;)d[u]=e[u];for(;++a<s;)(f||a<o)&&(d[n[a]]=t[a]);for(;l--;)d[u++]=t[a++];return d}var i=Math.max;t.exports=n},function(t,e){function n(t,e,n,r){for(var a=-1,o=t.length,s=-1,u=n.length,c=-1,l=e.length,d=i(o-u,0),f=Array(d+l),p=!r;++a<d;)f[a]=t[a];for(var h=a;++c<l;)f[h+c]=e[c];for(;++s<u;)(p||a<o)&&(f[h+n[s]]=t[a++]);return f}var i=Math.max;t.exports=n},function(t,e){function n(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}t.exports=n},function(t,e,n){function i(t,e,n,i,p,h,g,v,m,b){var y=e&l,_=y?g:void 0,w=y?void 0:g,x=y?h:void 0,k=y?void 0:h;e|=y?d:f,e&=~(y?f:d),e&c||(e&=~(s|u));var T=[t,e,p,x,_,k,w,v,m,b],S=n.apply(void 0,T);return r(t)&&a(S,T),S.placeholder=i,o(S,t,e)}var r=n(166),a=n(176),o=n(177),s=1,u=2,c=4,l=8,d=32,f=64;t.exports=i},function(t,e,n){function i(t){var e=o(t),n=s[e];if("function"!=typeof n||!(e in r.prototype))return!1;if(t===n)return!0;var i=a(n);return!!i&&t===i[0]}var r=n(167),a=n(169),o=n(171),s=n(173);t.exports=i},function(t,e,n){function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}var r=n(122),a=n(168),o=4294967295;i.prototype=r(a.prototype),i.prototype.constructor=i,t.exports=i},function(t,e){function n(){}t.exports=n},function(t,e,n){var i=n(157),r=n(170),a=i?function(t){return i.get(t)}:r;t.exports=a},function(t,e){function n(){}t.exports=n},function(t,e,n){function i(t){for(var e=t.name+"",n=r[e],i=o.call(r,e)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==t)return a.name}return e}var r=n(172),a=Object.prototype,o=a.hasOwnProperty;t.exports=i},function(t,e){var n={};t.exports=n},function(t,e,n){function i(t){if(u(t)&&!s(t)&&!(t instanceof r)){if(t instanceof a)return t;if(d.call(t,"__wrapped__"))return c(t)}return new a(t)}var r=n(167),a=n(174),o=n(168),s=n(35),u=n(34),c=n(175),l=Object.prototype,d=l.hasOwnProperty;i.prototype=o.prototype,i.prototype.constructor=i,t.exports=i},function(t,e,n){function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}var r=n(122),a=n(168);i.prototype=r(a.prototype),i.prototype.constructor=i,t.exports=i},function(t,e,n){function i(t){if(t instanceof r)return t.clone();var e=new a(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var r=n(167),a=n(174),o=n(95);t.exports=i},function(t,e,n){var i=n(156),r=n(154),a=r(i);t.exports=a},function(t,e,n){function i(t,e,n){var i=e+"";return o(t,a(i,s(r(i),n)))}var r=n(178),a=n(179),o=n(151),s=n(180);t.exports=i},function(t,e){function n(t){var e=t.match(i);return e?e[1].split(r):[]}var i=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=n},function(t,e){function n(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(i,"{\n/* [wrapped with "+e+"] */\n")}var i=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=n},function(t,e,n){function i(t,e){return r(g,function(n){var i="_."+n[0];e&n[1]&&!a(t,i)&&t.push(i)}),t.sort()}var r=n(80),a=n(181),o=1,s=2,u=8,c=16,l=32,d=64,f=128,p=256,h=512,g=[["ary",f],["bind",o],["bindKey",s],["curry",u],["curryRight",c],["flip",h],["partial",l],["partialRight",d],["rearg",p]];t.exports=i},function(t,e,n){function i(t,e){var n=null==t?0:t.length;return!!n&&r(t,e,0)>-1}var r=n(182);t.exports=i},function(t,e,n){function i(t,e,n){return e===e?o(t,e,n):r(t,a,n)}var r=n(183),a=n(184),o=n(185);t.exports=i},function(t,e){function n(t,e,n,i){for(var r=t.length,a=n+(i?1:-1);i?a--:++a<r;)if(e(t[a],a,t))return a;return-1}t.exports=n},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e){function n(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}t.exports=n},function(t,e){function n(t){var e=t;return e.placeholder}t.exports=n},function(t,e,n){function i(t,e){for(var n=t.length,i=o(e.length,n),s=r(t);i--;){var u=e[i];t[i]=a(u,n)?s[u]:void 0}return t}var r=n(95),a=n(89),o=Math.min;t.exports=i},function(t,e){function n(t,e){for(var n=-1,r=t.length,a=0,o=[];++n<r;){var s=t[n];s!==e&&s!==i||(t[n]=i,o[a++]=n)}return o}var i="__lodash_placeholder__";t.exports=n},function(t,e,n){function i(t,e,n,i){function u(){for(var e=-1,a=arguments.length,s=-1,d=i.length,f=Array(d+a),p=this&&this!==o&&this instanceof u?l:t;++s<d;)f[s]=i[s];for(;a--;)f[s++]=arguments[++e];return r(p,c?n:this,f)}var c=e&s,l=a(t);return u}var r=n(150),a=n(159),o=n(19),s=1;t.exports=i},function(t,e,n){function i(t,e){var n=t[1],i=e[1],g=n|i,v=g<(u|c|f),m=i==f&&n==d||i==f&&n==p&&t[7].length<=e[8]||i==(f|p)&&e[7].length<=e[8]&&n==d;if(!v&&!m)return t;i&u&&(t[2]=e[2],g|=n&u?0:l);var b=e[3];if(b){var y=t[3];t[3]=y?r(y,b,e[4]):b,t[4]=y?o(t[3],s):e[4]}return b=e[5],b&&(y=t[5],t[5]=y?a(y,b,e[6]):b,t[6]=y?o(t[5],s):e[6]),b=e[7],b&&(t[7]=b),i&f&&(t[8]=null==t[8]?e[8]:h(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=g,t}var r=n(162),a=n(163),o=n(188),s="__lodash_placeholder__",u=1,c=2,l=4,d=8,f=128,p=256,h=Math.min;t.exports=i},function(t,e,n){function i(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}var r=n(192);t.exports=i},function(t,e,n){function i(t){if(!t)return 0===t?t:0;if(t=r(t),t===a||t===-a){var e=t<0?-1:1;return e*o}return t===t?t:0}var r=n(193),a=1/0,o=1.7976931348623157e308;t.exports=i},function(t,e,n){function i(t){if("number"==typeof t)return t;if(a(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||l.test(t)?d(t.slice(2),n?2:8):u.test(t)?o:+t}var r=n(23),a=n(129),o=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;t.exports=i},function(t,e,n){var i=n(150),r=n(195),a=n(148),o=n(198),s=a(function(t){return t.push(void 0,o),i(r,void 0,t)});t.exports=s},function(t,e,n){var i=n(85),r=n(196),a=n(91),o=r(function(t,e,n,r){i(e,a(e),t,r)});t.exports=o},function(t,e,n){function i(t){return r(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&a(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var u=n[i];u&&t(e,u,i,o)}return e})}var r=n(148),a=n(197);t.exports=i},function(t,e,n){function i(t,e,n){if(!s(n))return!1;var i=typeof e;return!!("number"==i?a(n)&&o(e,n.length):"string"==i&&e in n)&&r(n[e],t)}var r=n(56),a=n(36),o=n(89),s=n(23);t.exports=i},function(t,e,n){function i(t,e,n,i){return void 0===t||r(t,a[n])&&!o.call(i,n)?e:t}var r=n(56),a=Object.prototype,o=a.hasOwnProperty;t.exports=i},function(t,e,n){var i=n(150),r=n(148),a=n(200),o=n(206),s=r(function(t){return t.push(void 0,a),i(o,void 0,t)});t.exports=s},function(t,e,n){function i(t,e,n,o,s,u){return a(t)&&a(e)&&(u.set(e,t),r(t,e,void 0,i,u),u.delete(e)),t}var r=n(201),a=n(23);t.exports=i},function(t,e,n){function i(t,e,n,l,d){t!==e&&o(e,function(o,c){if(u(o))d||(d=new r),s(t,e,c,n,i,l,d);else{var f=l?l(t[c],o,c+"",t,e,d):void 0;void 0===f&&(f=o),a(t,c,f)}},c)}var r=n(51),a=n(202),o=n(143),s=n(203),u=n(23),c=n(91);t.exports=i},function(t,e,n){function i(t,e,n){(void 0===n||a(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}var r=n(82),a=n(56);t.exports=i},function(t,e,n){function i(t,e,n,i,b,y,_){var w=t[n],x=e[n],k=_.get(x);if(k)return void r(t,n,k);var T=y?y(w,x,n+"",t,e,_):void 0,S=void 0===T;if(S){var M=l(x),I=!M&&f(x),F=!M&&!I&&v(x);T=x,M||I||F?l(w)?T=w:d(w)?T=s(w):I?(S=!1,T=a(x,!0)):F?(S=!1,T=o(x,!0)):T=[]:g(x)||c(x)?(T=w,c(w)?T=m(w):(!h(w)||i&&p(w))&&(T=u(x))):S=!1}S&&(_.set(x,T),b(T,x,i,y,_),_.delete(x)),r(t,n,T)}var r=n(202),a=n(94),o=n(120),s=n(95),u=n(121),c=n(32),l=n(35),d=n(204),f=n(38),p=n(16),h=n(23),g=n(46),v=n(40),m=n(205);t.exports=i},function(t,e,n){function i(t){return a(t)&&r(t)}var r=n(36),a=n(34);t.exports=i},function(t,e,n){function i(t){return r(t,a(t))}var r=n(85),a=n(91);t.exports=i},function(t,e,n){var i=n(201),r=n(196),a=r(function(t,e,n,r){i(t,e,n,r)});t.exports=a},function(t,e,n){var i=n(201),r=n(196),a=r(function(t,e,n){i(t,e,n)});t.exports=a},function(t,e,n){function i(t){return null==t?[]:r(t,a(t))}var r=n(209),a=n(86);t.exports=i},function(t,e,n){function i(t,e){return r(e,function(e){return t[e]})}var r=n(135);t.exports=i},function(t,e,n){function i(t,e){if("function"!=typeof e)throw new TypeError(a);return t=r(t),function(){if(--t<1)return e.apply(this,arguments)}}var r=n(191),a="Expected a function";t.exports=i},function(t,e,n){var i=n(212),r=n(148),a=r(function(t,e){return i(t,1,e)});t.exports=a},function(t,e){function n(t,e,n){if("function"!=typeof t)throw new TypeError(i);return setTimeout(function(){t.apply(void 0,n)},e)}var i="Expected a function";t.exports=n},function(t,e,n){var i=n(212),r=n(148),a=n(193),o=r(function(t,e,n){return i(t,a(e)||0,n)});t.exports=o},function(t,e,n){function i(t,e,n){var i=s(t)?r:a;return n&&u(t,e,n)&&(e=void 0),i(t,o(e,3))}var r=n(215),a=n(216),o=n(219),s=n(35),u=n(197);t.exports=i},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}t.exports=n},function(t,e,n){function i(t,e){var n=!0;return r(t,function(t,i,r){return n=!!e(t,i,r)}),n}var r=n(217);t.exports=i},function(t,e,n){var i=n(142),r=n(218),a=r(i);t.exports=a},function(t,e,n){function i(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var a=n.length,o=e?a:-1,s=Object(n);(e?o--:++o<a)&&i(s[o],o,s)!==!1;);return n}}var r=n(36);t.exports=i},function(t,e,n){function i(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?a(t[0],t[1]):r(t):u(t)}var r=n(220),a=n(235),o=n(146),s=n(35),u=n(238);t.exports=i},function(t,e,n){function i(t){var e=a(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}var r=n(221),a=n(232),o=n(234);t.exports=i},function(t,e,n){function i(t,e,n,i){var u=n.length,c=u,l=!i;if(null==t)return!c;for(t=Object(t);u--;){var d=n[u];if(l&&d[2]?d[1]!==t[d[0]]:!(d[0]in t))return!1}for(;++u<c;){d=n[u];var f=d[0],p=t[f],h=d[1];if(l&&d[2]){if(void 0===p&&!(f in t))return!1}else{var g=new r;if(i)var v=i(p,h,f,t,e,g);if(!(void 0===v?a(h,p,o|s,i,g):v))return!1}}return!0}var r=n(51),a=n(222),o=1,s=2;t.exports=i},function(t,e,n){function i(t,e,n,o,s){return t===e||(null==t||null==e||!a(t)&&!a(e)?t!==t&&e!==e:r(t,e,n,o,i,s))}var r=n(223),a=n(34);t.exports=i},function(t,e,n){function i(t,e,n,i,v,b){var y=c(t),_=c(e),w=y?h:u(t),x=_?h:u(e);w=w==p?g:w,x=x==p?g:x;var k=w==g,T=x==g,S=w==x;if(S&&l(t)){if(!l(e))return!1;y=!0,k=!1}if(S&&!k)return b||(b=new r),y||d(t)?a(t,e,n,i,v,b):o(t,e,w,n,i,v,b);if(!(n&f)){var M=k&&m.call(t,"__wrapped__"),I=T&&m.call(e,"__wrapped__");if(M||I){var F=M?t.value():t,O=I?e.value():e;return b||(b=new r),v(F,O,n,i,b)}}return!!S&&(b||(b=new r),s(t,e,n,i,v,b))}var r=n(51),a=n(224),o=n(230),s=n(231),u=n(12),c=n(35),l=n(38),d=n(40),f=1,p="[object Arguments]",h="[object Array]",g="[object Object]",v=Object.prototype,m=v.hasOwnProperty;t.exports=i},function(t,e,n){function i(t,e,n,i,c,l){var d=n&s,f=t.length,p=e.length;if(f!=p&&!(d&&p>f))return!1;var h=l.get(t);if(h&&l.get(e))return h==e;var g=-1,v=!0,m=n&u?new r:void 0;for(l.set(t,e),l.set(e,t);++g<f;){var b=t[g],y=e[g];if(i)var _=d?i(y,b,g,e,t,l):i(b,y,g,t,e,l);if(void 0!==_){if(_)continue;v=!1;break}if(m){if(!a(e,function(t,e){if(!o(m,e)&&(b===t||c(b,t,n,i,l)))return m.push(e)})){v=!1;break}}else if(b!==y&&!c(b,y,n,i,l)){v=!1;break}}return l.delete(t),l.delete(e),v}var r=n(225),a=n(228),o=n(229),s=1,u=2;t.exports=i},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}var r=n(65),a=n(226),o=n(227);i.prototype.add=i.prototype.push=a,i.prototype.has=o,t.exports=i},function(t,e){function n(t){return this.__data__.set(t,i),this}var i="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function i(t,e,n,i,r,k,S){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!k(new a(t),new a(e)));case f:case p:case v:return o(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case y:return t==e+"";case g:var M=u;case b:var I=i&l;if(M||(M=c),t.size!=e.size&&!I)return!1;var F=S.get(t);if(F)return F==e;i|=d,S.set(t,e);var O=s(M(t),M(e),i,r,k,S);return S.delete(t),O;case _:if(T)return T.call(t)==T.call(e)}return!1}var r=n(18),a=n(109),o=n(56),s=n(224),u=n(114),c=n(118),l=1,d=2,f="[object Boolean]",p="[object Date]",h="[object Error]",g="[object Map]",v="[object Number]",m="[object RegExp]",b="[object Set]",y="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",x="[object DataView]",k=r?r.prototype:void 0,T=k?k.valueOf:void 0;t.exports=i},function(t,e,n){function i(t,e,n,i,o,u){var c=n&a,l=r(t),d=l.length,f=r(e),p=f.length;if(d!=p&&!c)return!1;for(var h=d;h--;){var g=l[h];if(!(c?g in e:s.call(e,g)))return!1}var v=u.get(t);if(v&&u.get(e))return v==e;var m=!0;u.set(t,e),u.set(e,t);for(var b=c;++h<d;){g=l[h];var y=t[g],_=e[g];if(i)var w=c?i(_,y,g,e,t,u):i(y,_,g,t,e,u);if(!(void 0===w?y===_||o(y,_,n,i,u):w)){m=!1;break}b||(b="constructor"==g)}if(m&&!b){var x=t.constructor,k=e.constructor;x!=k&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof k&&k instanceof k)&&(m=!1)}return u.delete(t),u.delete(e),m}var r=n(103),a=1,o=Object.prototype,s=o.hasOwnProperty;t.exports=i},function(t,e,n){function i(t){for(var e=a(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,r(o)]}return e}var r=n(233),a=n(86);t.exports=i},function(t,e,n){function i(t){return t===t&&!r(t)}var r=n(23);t.exports=i},function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},function(t,e,n){function i(t,e){return s(t)&&u(e)?c(l(t),e):function(n){var i=a(n,t);return void 0===i&&i===e?o(n,t):r(e,i,d|f)}}var r=n(222),a=n(137),o=n(236),s=n(128),u=n(233),c=n(234),l=n(136),d=1,f=2;t.exports=i},function(t,e,n){function i(t,e){return null!=t&&a(t,e,r)}var r=n(237),a=n(126);t.exports=i},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function i(t){return o(t)?r(s(t)):a(t)}var r=n(239),a=n(240),o=n(128),s=n(136);t.exports=i},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function i(t){return function(e){return r(e,t)}}var r=n(138);t.exports=i},function(t,e,n){function i(t,e){var n=s(t)?r:a;return n(t,o(e))}var r=n(80),a=n(217),o=n(145),s=n(35);t.exports=i},function(t,e,n){function i(t,e){var n=s(t)?r:o;return n(t,a(e,3))}var r=n(135),a=n(219),o=n(243),s=n(35);t.exports=i},function(t,e,n){function i(t,e){var n=-1,i=a(t)?Array(t.length):[];return r(t,function(t,r,a){i[++n]=e(t,r,a)}),i}var r=n(217),a=n(36);t.exports=i},function(t,e,n){function i(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&a(t,e,n)?(e=0,n=i):(e=null==e?0:o(e),n=void 0===n?i:o(n)),r(t,e,n)):[]}var r=n(245),a=n(197),o=n(191);t.exports=i},function(t,e){function n(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(r);++i<r;)a[i]=t[i+e];return a}t.exports=n},function(t,e,n){function i(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var s=null==n?0:a(n);return s<0&&(s=o(i+s,0)),r(t,e,s)}var r=n(182),a=n(191),o=Math.max;t.exports=i},function(t,e,n){function i(t,e){var n=[];if(!t||!t.length)return n;var i=-1,o=[],s=t.length;for(e=r(e,3);++i<s;){var u=t[i];e(u,i,t)&&(n.push(u),o.push(i))}return a(t,o),n}var r=n(219),a=n(248);t.exports=i},function(t,e,n){function i(t,e){for(var n=t?e.length:0,i=n-1;n--;){var o=e[n];if(n==i||o!==u){var u=o;a(o)?s.call(t,o,1):r(t,o)}}return t}var r=n(249),a=n(89),o=Array.prototype,s=o.splice;t.exports=i},function(t,e,n){function i(t,e){return e=r(e,t),t=o(t,e),null==t||delete t[s(a(e))]}var r=n(127),a=n(250),o=n(251),s=n(136);t.exports=i},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function i(t,e){return e.length<2?t:r(t,a(e,0,-1))}var r=n(138),a=n(245);t.exports=i},function(t,e,n){function i(t){var e=null==t?0:t.length;return e?r(t,1):[]}var r=n(253);t.exports=i},function(t,e,n){function i(t,e,n,o,s){var u=-1,c=t.length;for(n||(n=a),s||(s=[]);++u<c;){var l=t[u];e>0&&n(l)?e>1?i(l,e-1,n,o,s):r(s,l):o||(s[s.length]=l)}return s}var r=n(102),a=n(254);t.exports=i},function(t,e,n){function i(t){return o(t)||a(t)||!!(s&&t&&t[s])}var r=n(18),a=n(32),o=n(35),s=r?r.isConcatSpreadable:void 0;t.exports=i},function(t,e,n){function i(t){return t&&t.length?r(t):[]}var r=n(256);t.exports=i},function(t,e,n){function i(t,e,n){var i=-1,d=a,f=t.length,p=!0,h=[],g=h;if(n)p=!1,d=o;else if(f>=l){var v=e?null:u(t);if(v)return c(v);p=!1,d=s,g=new r}else g=e?[]:h;t:for(;++i<f;){var m=t[i],b=e?e(m):m;if(m=n||0!==m?m:0,p&&b===b){for(var y=g.length;y--;)if(g[y]===b)continue t;e&&g.push(b),h.push(m)}else d(g,b,n)||(g!==h&&g.push(b),h.push(m))}return h}var r=n(225),a=n(181),o=n(257),s=n(229),u=n(258),c=n(118),l=200;t.exports=i},function(t,e){function n(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}t.exports=n},function(t,e,n){var i=n(30),r=n(170),a=n(118),o=1/0,s=i&&1/a(new i([,-0]))[1]==o?function(t){return new i(t)}:r;t.exports=s},function(t,e,n){function i(t,e,n){return t=s(t),n=null==n?0:r(o(n),0,t.length),e=a(e),t.slice(n,n+e.length)==e}var r=n(260),a=n(134),o=n(191),s=n(133);t.exports=i},function(t,e){function n(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}t.exports=n},function(t,e,n){function i(t,e,n){if(t=c(t),t&&(n||void 0===e))return t.replace(l,"");if(!t||!(e=r(e)))return t;var i=u(t),d=u(e),f=s(i,d),p=o(i,d)+1;return a(i,f,p).join("")}var r=n(134),a=n(262),o=n(263),s=n(264),u=n(265),c=n(133),l=/^\s+|\s+$/g;t.exports=i},function(t,e,n){function i(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}var r=n(245);t.exports=i},function(t,e,n){function i(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}var r=n(182);t.exports=i},function(t,e,n){function i(t,e){for(var n=-1,i=t.length;++n<i&&r(e,t[n],0)>-1;);return n}var r=n(182);t.exports=i},function(t,e,n){function i(t){return a(t)?o(t):r(t)}var r=n(266),a=n(267),o=n(268);t.exports=i},function(t,e){function n(t){return t.split("")}t.exports=n},function(t,e){function n(t){return l.test(t)}var i="\\ud800-\\udfff",r="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",s=r+a+o,u="\\ufe0e\\ufe0f",c="\\u200d",l=RegExp("["+c+i+s+u+"]");t.exports=n},function(t,e){function n(t){return t.match(x)||[]}var i="\\ud800-\\udfff",r="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",s=r+a+o,u="\\ufe0e\\ufe0f",c="["+i+"]",l="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+d+")",p="[^"+i+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",m=f+"?",b="["+u+"]?",y="(?:"+v+"(?:"+[p,h,g].join("|")+")"+b+m+")*",_=b+m+y,w="(?:"+[p+l+"?",l,h,g,c].join("|")+")",x=RegExp(d+"(?="+d+")|"+w+_,"g");t.exports=n},function(t,e,n){var i;/** @license
	 * JS Signals <http://millermedeiros.github.com/js-signals/>
	 * Released under the MIT license
	 * Author: Miller Medeiros
	 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
	 */
!function(r){function a(t,e,n,i,r){this._listener=e,this._isOnce=n,this.context=i,this._signal=t,this._priority=r||0}function o(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function s(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){s.prototype.dispatch.apply(t,arguments)}}a.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,e,n,i){var r,o=this._indexOfListener(t,n);if(o!==-1){if(r=this._bindings[o],r.isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else r=new a(this,t,e,n,i),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===t&&n.context===e)return i;return-1},has:function(t,e){return this._indexOfListener(t,e)!==-1},add:function(t,e,n){return o(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return o(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){o(t,"remove");var n=this._indexOfListener(t,e);return n!==-1&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=n),i){e=this._bindings.slice(),this._shouldPropagate=!0;do i--;while(e[i]&&this._shouldPropagate&&e[i].execute(n)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var u=s;u.Signal=s,i=function(){return u}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}(this)},function(t,e,n){!function(){"use strict";function e(){this._router=i.create(),this._routes={},this._router.normalizeFn=i.NORM_AS_OBJECT,this._router.ignoreState=!0,this._router.greedy=!0,this._routes=[]}var i=n(271),r=n(5);e.prototype.pub=function(t){if(r.isString(t)){var e,n=r.slice(arguments,1);1===n.length?e=n[0]:n.length>1&&(e=n),this._router.parse(t,[e])}return this},e.prototype.modifySubCB=function(t,e,n){return r.startsWith(t,"track/")?function(){e.apply(n,r.cloneDeep(Array.prototype.slice.call(arguments)))}:e},e.prototype.sub=function(t,e,n,i,a){if(!r.isString(t)||r.isEmpty(t))return this.log.error("`route` must be not empty string"),this;if(!r.isFunction(e))return this.log.error("`cb` must be a function"),this;if(i&&!r.isObject(i))return this.log.error("`rules` must be an object or not specified"),this;var o=this.modifySubCB(t,e,n),s=a?"addOnce":"add";if(r.has(this._routes,t)||i)if(i){var u=this._router.addRoute(t);u.rules=i,u.matched[s](o,n)}else this._routes[t].matched[s](o,n);else this._routes[t]=this._router.addRoute(t),this._routes[t].matched[s](o,n);return this},e.prototype.log={error:function(){},log:function(){},info:function(){},warn:function(){},enabled:function(){}},t.exports=e}()},function(t,e,n){var i,r,a;/** @license
	 * crossroads <http://millermedeiros.github.com/crossroads.js/>
	 * Author: Miller Medeiros | MIT License
	 * v0.12.2 (2015/07/31 18:37)
	 */
!function(){var o=function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function n(t,n){var i=e(t,n);i!==-1&&t.splice(i,1)}function i(t,e){return"[object "+e+"]"===Object.prototype.toString.call(t)}function r(t){return i(t,"RegExp")}function a(t){return i(t,"Array")}function o(t){return"function"==typeof t}function s(t){var e;return e=null===t||"null"===t?null:"true"===t||"false"!==t&&(t===h||"undefined"===t?h:""===t||isNaN(t)?t:parseFloat(t))}function u(t){for(var e=t.length,n=[];e--;)n[e]=s(t[e]);return n}function c(t,e){for(var n,i,r,o,u=(t||"").replace("?","").split("&"),c=-1,l={};i=u[++c];)n=i.indexOf("="),o=i.substring(0,n),r=decodeURIComponent(i.substring(n+1)),e!==!1&&(r=s(r)),o in l?a(l[o])?l[o].push(r):l[o]=[l[o],r]:l[o]=r;return l}function l(){this.bypassed=new t.Signal,this.routed=new t.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function d(e,n,i,a){var o=r(e),s=a.patternLexer;this._router=a,this._pattern=e,this._paramsIds=o?null:s.getParamIds(e),this._optionalParamsIds=o?null:s.getOptionalParamsIds(e),this._matchRegexp=o?e:s.compilePattern(e,a.ignoreCase),this.matched=new t.Signal,this.switched=new t.Signal,n&&this.matched.add(n),this._priority=i||0}var f,p,h;return p=""===/t(.+)?/.exec("t")[1],l.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new l},addRoute:function(t,e,n){var i=new d(t,e,n,this);return this._sortedInsert(i),i},removeRoute:function(t){n(this._routes,t),t._destroy()},removeAllRoutes:function(){for(var t=this.getNumRoutes();t--;)this._routes[t]._destroy();this._routes.length=0},parse:function(t,e){if(t=t||"",e=e||[],this.ignoreState||t!==this._prevMatchedRequest&&t!==this._prevBypassedRequest){var n,i=this._getMatchedRoutes(t),r=0,a=i.length;if(a)for(this._prevMatchedRequest=t,this._notifyPrevRoutes(i,t),this._prevRoutes=i;r<a;)n=i[r],n.route.matched.dispatch.apply(n.route.matched,e.concat(n.params)),n.isFirst=!r,this.routed.dispatch.apply(this.routed,e.concat([t,n])),r+=1;else this._prevBypassedRequest=t,this.bypassed.dispatch.apply(this.bypassed,e.concat([t]));this._pipeParse(t,e)}},_notifyPrevRoutes:function(t,e){for(var n,i=0;n=this._prevRoutes[i++];)n.route.switched&&this._didSwitch(n.route,t)&&n.route.switched.dispatch(e)},_didSwitch:function(t,e){for(var n,i=0;n=e[i++];)if(n.route===t)return!1;return!0},_pipeParse:function(t,e){for(var n,i=0;n=this._piped[i++];)n.parse(t,e)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(t){var e=this._routes,n=e.length;do--n;while(e[n]&&t._priority<=e[n]._priority);e.splice(n+1,0,t)},_getMatchedRoutes:function(t){for(var e,n=[],i=this._routes,r=i.length;(e=i[--r])&&((!n.length||this.greedy||e.greedy)&&e.match(t)&&n.push({route:e,params:e._getParamsArray(t)}),this.greedyEnabled||!n.length););return n},pipe:function(t){this._piped.push(t)},unpipe:function(t){n(this._piped,t)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},f=new l,f.VERSION="0.12.2",f.NORM_AS_ARRAY=function(t,e){return[e.vals_]},f.NORM_AS_OBJECT=function(t,e){return[e]},d.prototype={greedy:!1,rules:void 0,match:function(t){return t=t||"",this._matchRegexp.test(t)&&this._validateParams(t)},_validateParams:function(t){var e,n=this.rules,i=this._getParamsObject(t);for(e in n)if("normalize_"!==e&&n.hasOwnProperty(e)&&!this._isValidParam(t,e,i))return!1;return!0},_isValidParam:function(t,n,i){var s=this.rules[n],u=i[n],c=!1,l=0===n.indexOf("?");return null==u&&this._optionalParamsIds&&e(this._optionalParamsIds,n)!==-1?c=!0:r(s)?(l&&(u=i[n+"_"]),c=s.test(u)):a(s)?(l&&(u=i[n+"_"]),c=this._isValidArrayRule(s,u)):o(s)&&(c=s(u,t,i)),c},_isValidArrayRule:function(t,n){if(!this._router.ignoreCase)return e(t,n)!==-1;"string"==typeof n&&(n=n.toLowerCase());for(var i,r,a=t.length;a--;)if(i=t[a],r="string"==typeof i?i.toLowerCase():i,r===n)return!0;return!1},_getParamsObject:function(t){for(var n,i,r=this._router.shouldTypecast,a=this._router.patternLexer.getParamValues(t,this._matchRegexp,r),o={},u=a.length;u--;)i=a[u],this._paramsIds&&(n=this._paramsIds[u],0===n.indexOf("?")&&i&&(o[n+"_"]=i,i=c(i,r),a[u]=i),p&&""===i&&e(this._optionalParamsIds,n)!==-1&&(i=void 0,a[u]=i),o[n]=i),o[u]=i;return o.request_=r?s(t):t,o.vals_=a,o},_getParamsArray:function(t){var e,n=this.rules?this.rules.normalize_:null;return n=n||this._router.normalizeFn,e=n&&o(n)?n(t,this._getParamsObject(t)):this._getParamsObject(t).vals_},interpolate:function(t){var e=this._router.patternLexer.interpolate(this._pattern,t);if(!this._validateParams(e))throw new Error("Generated string doesn't validate against `Route.rules`.");return e},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},l.prototype.patternLexer=function(){function t(){var t,e;for(t in h)h.hasOwnProperty(t)&&(e=h[t],e.id="__CR_"+t+"__",e.save="save"in e?e.save.replace("{{id}}",e.id):e.id,e.rRestore=new RegExp(e.id,"g"))}function e(t,e){var n,i=[];for(t.lastIndex=0;n=t.exec(e);)i.push(n[1]);return i}function n(t){return e(p,t)}function i(t){return e(h.OP.rgx,t)}function r(t,e){return t=t||"",t&&(b===g?t=t.replace(d,""):b===m&&(t=t.replace(f,"")),t=o(t,"rgx","save"),t=t.replace(l,"\\$&"),t=o(t,"rRestore","res"),b===g&&(t="\\/?"+t)),b!==v&&(t+="\\/?"),new RegExp("^"+t+"$",e?"i":"")}function o(t,e,n){var i,r;for(r in h)h.hasOwnProperty(r)&&(i=h[r],t=t.replace(i[e],i[n]));return t}function s(t,e,n){var i=e.exec(t);return i&&(i.shift(),n&&(i=u(i))),i}function c(t,e){if(e=e||{},"string"!=typeof t)throw new Error("Route pattern should be a string.");var n=function(t,n){var i;if(n="?"===n.substr(0,1)?n.substr(1):n,null!=e[n]){if("object"==typeof e[n]){var r,o=[];for(var s in e[n])if(r=e[n][s],a(r))for(var u in r)"[]"==s.slice(-2)?o.push(encodeURI(s.slice(0,-2))+"[]="+encodeURI(r[u])):o.push(encodeURI(s+"="+r[u]));else o.push(encodeURI(s+"="+r));i="?"+o.join("&")}else i=String(e[n]);if(t.indexOf("*")===-1&&i.indexOf("/")!==-1)throw new Error('Invalid value "'+i+'" for segment "'+t+'".')}else{if(t.indexOf("{")!==-1)throw new Error("The segment "+t+" is required.");i=""}return i};return h.OS.trail||(h.OS.trail=new RegExp("(?:"+h.OS.id+")+$")),t.replace(h.OS.rgx,h.OS.save).replace(p,n).replace(h.OS.trail,"").replace(h.OS.rRestore,"/")}var l=/[\\.+*?\^$\[\](){}\/'#]/g,d=/^\/|\/$/g,f=/\/$/g,p=/(?:\{|:)([^}:]+)(?:\}|:)/g,h={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},g=1,v=2,m=3,b=g;return t(),{strict:function(){b=v},loose:function(){b=g},legacy:function(){b=m},getParamIds:n,getOptionalParamsIds:i,getParamValues:s,compilePattern:r,interpolate:c}}(),f};r=[n(269)],i=o,a="function"==typeof i?i.apply(e,r):i,!(void 0!==a&&(t.exports=a))}()},function(t,e){!function(){"use strict";var e={platform:{desktop:1,mobileweb:2,bflite:3},bfaMode:{develop:1,prod:2,test:3},trackingBehavior:{byDefault:1,ifSpecified:2}};Object.freeze(e),t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){var n={mode:t.defs.bfaMode.prod,debug:!1};this._core=t;var i=this._core.utils.defaultsDeep(e||{},n),r=new t.utils.Signal;return this.setSettings=function(e){t._generalSettings=t.utils.cloneDeep(e||{}),t._onGeneralSettingsChange.dispatch(t.utils.cloneDeep(t._generalSettings))},this.updateSettings=function(e){t._generalSettings=t.utils.merge(t._generalSettings||{},e||{}),t._onGeneralSettingsChange.dispatch(t.utils.cloneDeep(t._generalSettings))},t._onGeneralSettingsChange=r,this.setSettings(i),this._core._router.sub("general/settings/set",this.setSettings,this),this._core._router.sub("general/settings/update",this.updateSettings,this),{modifySBInstance:function(e){e.getGeneralSettings=function(){return t.utils.cloneDeep(t._generalSettings)},e.onGeneralSettingsChange=function(e,n){t._onGeneralSettingsChange.add(e,n)}}}}e.defaultId="generalSettings",t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t){function e(e){e.mode===t.defs.bfaMode.develop||e.debug===!0?t.log.enabled()!==!0&&t.log.enabled(!0):t.log.enabled()===!0&&t.log.enabled(!1)}return t.log=i("BFACore",t._generalSettings.logLevel),t._router.log=t.log,t.createLogger=function(e){return t.utils.isString(e)&&""!==e||t.log.error("core.createLogger: `loggerName` argument must be a not empty string"),i(e,t._generalSettings.logLevel)},t.log.enabled=function(t){return i.enabled(t)},e(t._generalSettings),t._onGeneralSettingsChange.add(e,this),{modifySBInstance:function(e){e.log=i(e.instanceId,t._generalSettings.logLevel)}}}var i=n(275);e.defaultId="logger",e.require=["generalSettings"],t.exports=e}()},function(t,e){!function(){"use strict";function e(t){return t instanceof Error?t.stack||t.message:t.toString()}function n(t,i){return{logLevel:i||1,log:function(t,e){Array.isArray(e)||(e=[e]),n._enabled===!0&&window.console&&window.console[t].apply(window.console,e)},event:function(t,e,n){3===this.logLevel&&(this.log("groupCollapsed",t+" '"+e.t+"'"),this.log("log","EventInfo"),this.log("table",[[e]]),this.log("log","DataObject"),this.log("table",[[n]]),this.log("groupEnd"))},error:function(n){this.logLevel>=1&&this.log("error","BFA ["+t+"] "+e(n))},warn:function(n){this.logLevel>=2&&this.log("warn","BFA ["+t+"] "+e(n))}}}n._enabled=!1,n.enabled=function(t){return"undefined"!=typeof t&&(n._enabled=!!t),n._enabled},t.exports=n}()},function(t,e){!function(){"use strict";function e(t){this._core=t,this._isDomReady=!1,this._domReady=new t.utils.Signal,this._domReady.addOnce(function(){this._isDomReady=!0},this,Number.MAX_VALUE);var e=this;return this._installDomi=function(n){n.domi={onDomReady:function(t,n){e._isDomReady?t.call(n):e._domReady.addOnce(t,n)},loadScript:function(e,n,i,r){function a(){this.onerror=null,this.onload=null,n.apply(r)}function o(){this.onerror=null,this.onload=null,i.apply(r)}var s=document.createElement("script");s.type=e.type||"text/javascript",s.charset=e.charset||"utf8",s.src=e.src,e.async!==!1&&(s.async=!0),t.utils.isUndefined(e.attrs)||t.utils.forOwn(e.attrs,function(t,e){s.setAttribute(e,t)}),t.utils.isFunction(n)&&(s.onload=a),t.utils.isFunction(i)&&(s.onerror=o);var u=document.body||document.getElementsByTagName("body")[0];u&&u.appendChild(s)}}},this._installDomi(t),function(){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)return void e._domReady.dispatch();if(document.addEventListener)document.addEventListener("DOMContentLoaded",e._domReady.dispatch,!1);else if(document.attachEvent)document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&e._domReady.dispatch()});else{var t=window.onload;window.onload=function(){t&&t(),e._domReady.dispatch()}}}(),{modifySBInstance:function(t){e._installDomi(t)}}}e.defaultId="domi",t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){var n={varName:"bfa",eventsArrayName:"c"};if(this.settings=t.utils.defaultsDeep(e||{},n),this.unhandledEventsArray=null,t.utils.has(window,this.settings.varName)){var i=t.utils.get(window,this.settings.varName);if(t.utils.has(i,this.settings.eventsArrayName)&&t.utils.isArray(i[this.settings.eventsArrayName])&&(this.unhandledEventsArray=i[this.settings.eventsArrayName],this.unhandledEventsArray.length>0)){var r=t.utils.remove(this.unhandledEventsArray,function(e){return e[0]&&!t.utils.startsWith(e[0],"track")&&!t.utils.startsWith(e[0],"module")});t.utils.forEach(r,function(e){t.push.apply(t,e)},this)}}return t.inited.addOnce(function(){window[this.settings.varName]=function(){t.push.apply(t,arguments)},this.unhandledEventsArray&&this.unhandledEventsArray.length>0&&t.utils.forEach(this.unhandledEventsArray,function(e){t.push.apply(t,e)},this),window.location.search.indexOf("e2e_test")>-1&&document.documentElement.setAttribute("data-bfa-ready","true")},this),{}}e.defaultId="globalBfaEndpoint",t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t){this._core=t;var e=this;return this._installMapper=function(t){t.mapper=new i},{modifySBInstance:function(t){e._installMapper(t)}}}var i=n(279);e.defaultId="mapper",t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){if(c.isString(t)===!1||t.length<=0)throw new TypeError('"mapTo" should be a non empty string');c.isUndefined(e)&&(e=null),this.destinationVarPath=t,this.mappingType=this.mappingTypes.sourcePath,this.mappingFrom=void 0,this.preFormatters=[],this.defaultValue=e}function i(t){this.options=t,this.mapToCollection=[]}function r(t){i.call(this,t),this.templatesToApply=[]}function a(t,e){if(!t||!c.isFunction(t))throw new Error("routeFunc should be a function that receives src object as parameter and returns bool");if(!(e&&e instanceof i))throw new Error("mapConfig should be an instance of BfaMapperMapConfig");this.routeFunc=t,this.mapConfig=e}function o(t,e){this.mapName=t,this.options=e,this.routers=[],this.defaultMapConfig=null}function s(){this.mapRouters={},this.mapTemplates={},this._utils={utils:c,defs:l}}function u(t,e){if(c.isString(t)===!1||t.length<=0)throw new TypeError('"mapTo" should be a non empty string');c.isUndefined(e)&&(e=null),this.destinationVarPath=t,this.mappings=[],this.defaultValue=e}var c=n(5),l=n(272);e.prototype.mappingTypes={sourcePath:1,function:2},e.prototype.mapFrom=function(t,e){if(c.isFunction(t))this.mappingType=this.mappingTypes.function,this.mappingFrom=t;else{if(!(c.isString(t)&&t.length>0))throw new TypeError('"mapFrom" is object of wrong type: '+(typeof t).toString());this.mappingType=this.mappingTypes.sourcePath,this.mappingFrom=t}return c.isArray(e)&&c.every(e,function(t){return t instanceof Function})&&this.preFormatters.push.apply(this.preFormatters,e),this},e.prototype.map=function(t,e,n){var i=this.defaultValue;if(!c.isUndefined(this.mappingFrom))switch(this.mappingType){case this.mappingTypes.function:i=this.mappingFrom.call(n,t,e);break;case this.mappingTypes.sourcePath:i=c.get(t,this.mappingFrom,this.defaultValue)}return c.isUndefined(i)&&(i=this.defaultValue),this.preFormatters.length>0&&c.forEach(this.preFormatters,function(t){i=t.call(n,i)}),c.set(e,this.destinationVarPath,i),i},i.prototype.addMapTo=function(t,n){var i=new e(t,n);return this.mapToCollection.push(i),i},r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.prototype.applyTemplateByName=function(t){this.templatesToApply.indexOf(t)===-1&&this.templatesToApply.push(t)},o.prototype.getMapConfig=function(t,e){for(var n=null,i=0;i<this.routers.length;i++){var r=this.routers[i];if(r.routeFunc.call(e,t)===!0){n=r.mapConfig;break}}return null===n&&(n=this.defaultMapConfig),n},o.prototype.createConfigForRoute=function(t){var e=new a(t,new r(this.options));return this.routers.push(e),e.mapConfig},o.prototype.createDefaultConfig=function(){return this.defaultMapConfig=new r(this.options),this.defaultMapConfig},s.prototype.addUtility=function(t,e){if(!this.validateName(t))throw new TypeError("`utilityName` have to be not empty string");if(c.has(this._utils,t))throw new Error("utility with "+t+" already exists");return this._utils[t]=e,this},s.prototype.getOrCreateMap=function(t,e){if(!this.validateName(t))throw new TypeError("mapName must be a not empty string");if(this.mapRouters[t])return this.mapRouters[t].defaultMapConfig;var n=new o(t,e);return this.mapRouters[t]=n,n.createDefaultConfig()},s.prototype.isExists=function(t){return c.has(this.mapRouters,t)},s.prototype.getOrCreateRouter=function(t,e){if(!this.validateName(t))throw new TypeError("`routeName` should be not empty string");if(c.has(this.mapRouters,t))return this.mapRouters[t];var n=new o(t,e);return this.mapRouters[t]=n,n},s.prototype.createMapTemplate=function(t,e){if(!this.validateName(t))throw new TypeError("`templateName` should be not empty string");if(c.has(this.mapTemplates[t]))return this.mapTemplates[t];var n=new i(e);return this.mapTemplates[t]=n,n},s.prototype.validateName=function(t){return!(c.isString(t)===!1||t.length<=0)},s.prototype.map=function(t,e,n){var i=this;if((c.isUndefined(n)||null===n)&&(n={}),c.isUndefined(e)||null===e)return n;if(!c.has(this.mapRouters,t))return n;var r=this.mapRouters[t].getMapConfig(e,i._utils);if(null===r)return n;var a=r.mapToCollection;a.length>0&&c.forEach(a,function(t){t.map(e,n,i._utils)});var o=r.templatesToApply;return o.length>0&&c.forEach(o,function(t){if(c.has(i.mapTemplates,t)){var r=i.mapTemplates[t].mapToCollection;c.forEach(r,function(t){t.map(e,n,i._utils)})}}),n},s.prototype.formatters={strToLowerCase:function(t){return c.isString(t)?t.toLowerCase():t},strCutTo255Characters:function(t){return c.isString(t)&&t.length>255?t.substr(0,255):t},strToInt:function(t){try{return parseInt(t)}catch(e){return t}}},u.prototype.mappingTypes={sourcePath:1,function:2},u.prototype.mapFrom=function(t,e){var n={mappingFrom:t,preFormatters:[]};if(c.isFunction(t))n.mappingType=this.mappingTypes.function;else{if(!(c.isString(t)&&t.length>0))throw new TypeError('"mapFrom" is object of wrong type: '+(typeof t).toString());n.mappingType=this.mappingTypes.sourcePath}return c.isArray(e)&&c.every(e,function(t){return t instanceof Function})&&n.preFormatters.push.apply(this.preFormatters,e),this.mappings.push(n),this},u.prototype.map=function(t,e,n){var i=this,r=c.get(e,this.destinationVarPath);if(r||(r=[]),!c.isArray(r))throw new TypeError('"Destination" is an object of wrong type: '+(typeof r).toString()+". Array is expected");c.forEach(this.mappings,function(a){var o=i.defaultValue;if(!c.isUndefined(a.mappingFrom))switch(a.mappingType){case i.mappingTypes.function:o=a.mappingFrom.call(n,t,e);break;case i.mappingTypes.sourcePath:o=c.get(t,a.mappingFrom,i.defaultValue)}c.isUndefined(o)&&(o=i.defaultValue),a.preFormatters.length>0&&c.forEach(a.preFormatters,function(t){o=t.call(n,o)}),r.push(o)}),c.set(e,this.destinationVarPath,r)},i.prototype.addMapToArray=function(t,e){var n=new u(t,e);return this.mapToCollection.push(n),n},t.exports=s}()},function(t,e){!function(){"use strict";function e(t,e){function n(t,e){r.settings.isReady===!0&&t.call(e),r.pageReady.add(t,e)}function i(){return t.utils.cloneDeep(r.settings.pageInfo)}e=e||{},this.defaultSettings={readyOnFirstUpdate:!0,isReady:!1,pageInfo:{uri:{href:document.location.href.replace(/\/p\/\.[0-9a-zA-Z]+\//,"/"),host:document.location.host,path:document.location.pathname.replace(/^\/p\/\.[0-9a-zA-Z]+\//,"/"),search:document.location.search,hash:document.location.hash,protocol:document.location.protocol}}},this.pageReady=new t.utils.Signal,this.pageChanged=new t.utils.Signal,this.settings=t.utils.defaultsDeep(e,this.defaultSettings);var r=this;return t._router.sub("general/page/{action}",function(e,n){if("ready"===n.action)return void(this.isReady||(this.isReady=!0,this.pageReady.dispatch()));if(!t.utils.isPlainObject(e))return void t.log.warn("page info must be a plain object");switch(n.action){case"set":this.settings.pageInfo=e;break;case"update":default:this.settings.pageInfo=t.utils.merge(this.settings.pageInfo,e)}this.pageChanged.dispatch(),!this.settings.isReady&&this.settings.readyOnFirstUpdate&&(this.settings.isReady=!0,this.pageReady.dispatch())},this,{action:["ready","update","set"]}),t._onPageReady=function(t,e){n(t,e)},t._getPageInfo=function(){return i()},{modifySBInstance:function(t){t.getPageInfo=function(){return i()},t.onPageReady=function(t,e){n(t,e)},t.onPageChanged=function(t,e,n){r.pageChanged[n?"addOnce":"add"](t,e)}}}}e.defaultId="pageInfo",t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){function n(t,e){r.settings.isReady===!0&&t.call(e),r.userReady.add(t,e)}function i(){return t.utils.cloneDeep(r.settings.userInfo)}e=e||{},this.defaultSettings={readyOnFirstUpdate:!0,isReady:!1,userInfo:{isLoggedIn:!1,referrer:document.referrer,userAgent:navigator.userAgent,inApp:!1}};var r=this;return this.userReady=new t.utils.Signal,this.userChanged=new t.utils.Signal,this.settings=t.utils.defaultsDeep(e,this.defaultSettings),t._router.sub("general/user/{action}",function(e,n){if("ready"===n.action)return void(this.isReady||(this.isReady=!0,this.userReady.dispatch()));if(!t.utils.isPlainObject(e))return void t.log.warn("user info must be a plain object");switch(n.action){case"set":this.settings.userInfo=e;break;case"update":default:this.settings.userInfo=t.utils.merge(this.settings.userInfo,e)}var i=this.settings.userInfo,r=t.utils.getAppReferrer(i.userAgent,i.referrer);r&&(i.referrer=r,i.inApp=!0),this.userChanged.dispatch(),!this.settings.isReady&&this.settings.readyOnFirstUpdate&&(this.settings.isReady=!0,this.userReady.dispatch())},this,{action:["ready","update","set"]}),t._onUserReady=function(t,e){n(t,e)},t._getUserInfo=function(){return i()},{modifySBInstance:function(t){t.getUserInfo=function(){return i()},t.onUserReady=function(t,e){n(t,e)},t.onUserChanged=function(t,e,n){r.userChanged[n?"addOnce":"add"](t,e)}}}}e.defaultId="userInfo",t.exports=e}()},function(t,e,n){!function(){"use strict";function e(){function t(t,e,n){if(!r.isString(t)||0===t.length)return!1;if(!(n instanceof i))return!1;var o=r.indexOf(r.values(a.trackingBehavior),e)!==-1?e:a.trackingBehavior.byDefault,s=n.opt,u=!1;switch(o){case a.trackingBehavior.ifSpecified:r.isPlainObject(s)&&r.isArray(s.force)&&(s.force.indexOf("all")!==-1||s.force.indexOf(t)!==-1)&&(u=!0);break;case a.trackingBehavior.byDefault:default:(!r.isPlainObject(s)||!r.isArray(s.ignore)||s.ignore.indexOf("all")===-1&&s.ignore.indexOf(t)===-1||r.isArray(s.force)&&s.force.indexOf(t)!==-1)&&(u=!0)}return u}function e(t,e,n){return t=t||{},t instanceof i?t:(r.isString(t.t)&&0!==t.t.length||(t.t=e),r.isString(t.n)&&0!==t.n.length||(t.n=n),i.tryParse(t))}return{modifySBInstance:function(n){n.canTrackEvent=t,n.tryConvertToEventInfo=e}}}var i=n(283),r=n(5),a=n(272);e.defaultId="trackingUtils",t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e,n,r,a,o){this.t=t||"",this.n=e||"",this.l=n||"",this.d=r||"",this.data=i.isObject(a)?a:{},this.opt=i.isObject(o)?o:{}}var i=n(5);e.tryParse=function(t){var n=i.get(t,"t",""),r=i.get(t,"n","");return i.isString(n)&&0!==n.length&&i.isString(r)&&0!==r.length?new e(n,r,i.get(t,"l",""),i.get(t,"d",""),i.get(t,"data",{}),i.get(t,"opt",{})):null},t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){e=e||{},this.defaultSettings={cookieName:"bfa_test"},this.settings=t.utils.defaultsDeep(e,this.defaultSettings);var n=t.utils.readCookie(this.settings.cookieName);return this._isTestMode=n.length>0&&"true"===n[0].value,this.updateGeneralSettings=function(e){e.mode!==t.defs.bfaMode.test&&t.push("general/settings/update",{mode:t.defs.bfaMode.test})},this._isTestMode&&(this.updateGeneralSettings(t._generalSettings),t._onGeneralSettingsChange.add(this.updateGeneralSettings,this)),{}}e.defaultId="testMode",e.require=["generalSettings"],t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){function n(){this._bfaMode=t._generalSettings.mode}function a(e,n){if(e instanceof i&&n){if(!t.utils.has(s.settings.appendersConfig,s._bfaMode))return;for(var r=s.settings.appendersConfig[s._bfaMode],a=0;a<r.length;a++)t.utils.has(s,r[a])&&s[r[a]].trackEvent(this.instanceId,e,n)}else t.log.warn("DebugTracker: can't store event data for "+this.instanceId+": not valid arguments")}function o(e){if(!t.utils.isString(e)||""===e)throw new Error("Error occurred on _createDebugTracker call: instanceId arg has to be not empty string");return{instanceId:e,trackEvent:a}}e=e||{},this.defaultSettings={storageKeyName:"bfa_debugStore",appendersConfig:{}},this.defaultSettings.appendersConfig[t.defs.bfaMode.develop]=[r.logger],this.defaultSettings.appendersConfig[t.defs.bfaMode.test]=[r.sessionStorage,r.logger],this.settings=t.utils.defaults(e,this.defaultSettings),this._bfaMode=t._generalSettings.mode,t._onGeneralSettingsChange.add(n,this);var s=this;return this[r.sessionStorage]={trackEvent:function(e,n,i){var r,a=sessionStorage.getItem(s.settings.storageKeyName);r=null===a?{pageHref:document.location.href}:JSON.parse(a),t.utils.isUndefined(r[e])&&(r[e]=[]),r[e].push({eventType:n.t,eventName:n.n,eventLocation:n.l,eventDescription:n.d,dataObject:i}),sessionStorage.setItem(s.settings.storageKeyName,JSON.stringify(r))}},this[r.logger]={trackEvent:function(t,e,n){this.logger.event(t,e,n)}},this[r.logger].logger=t.createLogger("DebugTracker_"+r.logger),t.createDebugTracker=o,{modifySBInstance:function(t){t.debugTracker=o(t.instanceId)}}}var i=n(283),r={logger:"loggerAppender",sessionStorage:"sessionStorageAppender"};e.defaultId="debugTracker",e.require=["generalSettings","logger"],t.exports=e,t.exports.debugTrackerAppenderTypes=r}()},function(t,e){!function(){"use strict";function e(t,e){function n(t,e){r.settings.isReady===!0&&t.call(e),r.seedSocialFlagsReady.add(t,e)}function i(){return t.utils.cloneDeep(r.settings.seedSocialFlags)}e=e||{},this.defaultSettings={isReady:!1,seedSocialFlags:void 0},this.utils=t.utils,this.settings=t.utils.defaultsDeep(e,this.defaultSettings),this.seedSocialFlagsReady=new t.utils.Signal;var r=this;return r.settings.isReady||(t._onPageReady(function(){this.settings.pageInfo=t._getPageInfo(),this.tryCalculate()},this),t._onUserReady(function(){this.settings.userInfo=t._getUserInfo(),this.tryCalculate()},this)),this.tryCalculate=function(){this.settings.isReady||this.settings.pageInfo&&this.settings.userInfo&&(this.settings.seedSocialFlags=this.calculate(this.settings.pageInfo,this.settings.userInfo),this.settings.isReady=!0,this.seedSocialFlagsReady.dispatch())},t._onPostSeedSocialFlagsReady=function(t,e){n(t,e)},t._getPostSeedSocialFlags=function(){return i()},{modifySBInstance:function(t){t.getPostSeedSocialFlags=function(){return i()},t.onPostSeedSocialFlagsReady=function(t,e){n(t,e)}},calculate:function(t,e){return r.calculate(t,e)}}}e.prototype.calculate=function(t,e){var n=null;return t.post&&(n=this.calculateFlags(t,e)),n},e.prototype.isPromotedPost=function(t){return this.utils.get(t,"post.isPromoted",!1)===!0},e.prototype.isBuzzFeedRegex=/^https?:\/\/([^\/]+\.)?buzzfeed\.com(\/|$)/i,e.prototype.isBuzzFeedReferrer=function(t,e){if(!e.referrer||!e.referrer.match(this.isBuzzFeedRegex))return!1;if(0===t.uri.path.indexOf("/h2/")&&e.referrer.indexOf("buzzfeed.com/h1/")>-1){var n=null,i=this.utils.readCookie("HT_PRIMARY"),r=i.length>0?i[0].value:void 0;if(void 0!==r){var a=decodeURIComponent(r);a.length>4&&"not_available"!==a[4]&&(n=a[4])}if(null===n||!n.match(this.isBuzzFeedRegex))return!1}return!0},e.prototype.removeUtmSource=function(t){var e=t.indexOf("utm_source=sodisco");if(e===-1)return!1;var n=new RegExp("[?&]utm_source=sodisco"),i=t.replace(n,"");"?"!==i.trim()&&"&"!==i.trim()||(i="");var r=window.location.pathname+i+window.location.hash;return window.history.replaceState({},null,r),!0},e.prototype.calculateFlags=function(t,e){if(!t||!e)return null;var n={seed:!1,social:!1,sodisco:!1},i=this.utils.readCookie("BUZZ_WIDGET"),r=i.length>0?i[0].value:void 0;return r&&t.uri.href.indexOf(r)>-1||window.IS_HASH_WIDGET_CLICK?(n.seed=!0,n.sodisco=!0):this.isBuzzFeedReferrer(t,e)===!0?t.uri.search.match(/([&\?]+b=1)/)?n.social=!0:n.seed=!0:0===t.uri.path.indexOf("/h2/")?(n.social=!0,n.sodisco=!0):n.social=!0,this.removeUtmSource(t.uri.search)&&(n.sodisco=!0,n.seed=!0),n},e.require=["pageInfo","userInfo"],e.defaultId="postSeedSocialFlags",t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){e=e||{},this.defaultSettings={isReady:!1,enabled:!1,maxAttempts:20,attemptDelay:100},this.poundIdResult=void 0,this.settings=t.utils.defaultsDeep(e,this.defaultSettings),this.poundIdReadySignal=new t.utils.Signal;var n=this;return this._onPoundIdReady=function(t,e){n.settings.isReady===!0&&t.call(e),n.poundIdReadySignal.add(t,e)},this._activate=function(){n.settings.isReady=!0,n.poundIdReadySignal.dispatch()},this._getPoundIdFromUrlHash=function(t){var e="";if(window.pound&&window.pound.identity){var n=new window.pound.identity.Unique;e=n.unhashed(t.slice(1)).toString()}return{poundId:e,isFromUrl:!0}},this._getPoundIdNative=function(){var t="";return window.bf_visit&&window.bf_visit.unique&&(t=window.bf_visit.unique.unhashed(window.bf_visit.unique.hashed())),{poundId:t,isFromUrl:!1}},t.domi.onDomReady(function(){if(n.settings.enabled)var t=0,e=setInterval(function(){return""!==window.location.hash?(n.poundIdResult=n._getPoundIdFromUrlHash(window.location.hash),n._activate(),void clearInterval(e)):(t===n.settings.maxAttempts&&(n.poundIdResult=n._getPoundIdNative(),n._activate(),clearInterval(e)),void t++)},n.settings.attemptDelay);else n.poundIdResult=n._getPoundIdNative(),n._activate()},this),{modifySBInstance:function(t){t.getPoundId=function(){return n.poundIdResult},t.onPoundIdReady=function(t,e){n._onPoundIdReady(t,e)}}}}e.require=["domi"],e.defaultId="poundId",t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){this.settings=e||{},this._binderBuilder=new i;var n=this;return t._router.sub("plugin/binder/activate",function(e){r.merge(n.settings,e||{}),r.merge(n._binderBuilder.buildConfig,n.settings),t.domi.onDomReady(function(){var e=n._binderBuilder.build();null!==e&&(window.bfaBinder=e,t._router.sub("plugin/binder/trigger",window.bfaBinder.trigger.bind(window.bfaBinder)))})},this,null,!0),{}}var i=n(289),r=n(5),a=n(292);window.bfaBinder={parser:new a},e.defaultId="binder",e.require=["domi"],t.exports=e}()},function(t,e,n){!function(){"use strict";function e(){}var i=n(290),r=n(293),a=n(294),o=n(295),s=n(296),u=n(299),c=n(300),l=n(301),d=n(302),f=n(303),p=n(307);e.prototype.buildConfig={bfaFunctionName:null,domBinder:{delegatedMapping:null,directMapping:null},generalBinder:{pageExitBinder:!1},inViewImpressionBinder:{enabled:!1,locators:[]},scrollBinder:{pixelMode:{enabled:!1},elementMode:{enabled:!1,element:"",expected:0},checkpoints:[],bottomBounds:[]},socialBinder:{facebookMapping:null},videoBinder:{youtube:!1,vimeo:!1,facebook:!1},performanceBinder:{enabled:!0}},e.prototype.useDomDelegatedBinder=function(t){return this.buildConfig.domBinder.delegatedMapping=t,this},e.prototype.useDomDirectBinder=function(t){return this.buildConfig.domBinder.directMapping=t,this},e.prototype.usePageExitBinder=function(){return this.buildConfig.generalBinder.pageExitBinder=!0,this},e.prototype.useInViewImpressionBinder=function(t){return this.buildConfig.inViewImpressionBinder.enabled=!0,this.buildConfig.inViewImpressionBinder.locators=t,this},e.prototype.useScrollPixelModeBinder=function(){return this.buildConfig.scrollBinder.pixelMode.enabled=!0,this},e.prototype.useScrollElementsModeBinder=function(t,e){return this.buildConfig.scrollBinder.elementMode.enabled=!0,this.buildConfig.scrollBinder.elementMode.element=t,this.buildConfig.scrollBinder.elementMode.expected=e,this},e.prototype.useSocialBinder=function(t){return this.buildConfig.socialBinder.mapping=t,this},e.prototype.setBottomBoundElements=function(t){return this.buildConfig.bottomBounds=t,this},e.prototype.setPercentageCheckpoints=function(t){this.scrollBinder.checkpoints=t},e.prototype.useBfaFunction=function(t){this.bfaFunctionName=t},e.prototype.useVideoBinder=function(){this.buildConfig.videoBinder.youtube=!0,this.buildConfig.videoBinder.vimeo=!0,this.buildConfig.videoBinder.facebook=!0},e.prototype.build=function(){if(!this.buildConfig.bfaFunctionName)return null;var t=new p;if(this.buildConfig.domBinder.delegatedMapping){var e=new i(this.buildConfig.domBinder.delegatedMapping,this.buildConfig.bfaFunctionName);
t.domBinders.push(e)}if(this.buildConfig.domBinder.directMapping){var n=new r(this.buildConfig.domBinder.directMapping,this.buildConfig.bfaFunctionName);t.domBinders.push(n)}if(this.buildConfig.generalBinder.pageExitBinder){var h=new a(this.buildConfig.bfaFunctionName);t.generalBinders.push(h)}if(this.buildConfig.socialBinder.facebookMapping){var g=new o(this.buildConfig.socialBinder.facebookMapping,this.buildConfig.bfaFunctionName);t.socialBinders.push(g)}if(this.buildConfig.videoBinder.youtube){var v=new c(this.buildConfig.bfaFunctionName);t.videoBinders.push(v)}if(this.buildConfig.videoBinder.vimeo){var m=new l(this.buildConfig.bfaFunctionName);t.videoBinders.push(m)}if(this.buildConfig.videoBinder.facebook){var b=new d(this.buildConfig.bfaFunctionName);t.videoBinders.push(b)}if(this.buildConfig.scrollBinder.elementMode.enabled||this.buildConfig.scrollBinder.pixelMode.enabled){var y=new s(this.buildConfig.scrollBinder,this.buildConfig.bfaFunctionName);t.scrollBinders.push(y)}if(this.buildConfig.inViewImpressionBinder.enabled){var _=new u({locators:this.buildConfig.inViewImpressionBinder.locators},this.buildConfig.bfaFunctionName);t.scrollBinders.push(_)}if(this.buildConfig.performanceBinder.enabled){var w=new f(this.buildConfig.bfaFunctionName);t.performanceBinders.push(w)}return t.init(),t},t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){this.events=[],this.matches=document.documentElement.matches||document.documentElement.webkitMatchesSelector||document.documentElement.mozMatchesSelector||document.documentElement.oMatchesSelector||document.documentElement.msMatchesSelector,this.init=function(){this.processMapping(),this.subscribeForEvents()},this.processMapping=function(){for(var e in t)if(t.hasOwnProperty(e))for(var n=t[e],i=0;i<n.length;i++)n[i].trackMethod=e,this.events.push(n[i])},this.subscribeForEvents=function(){var t=document.body||document.documentElement,e=this;this.events=this.events.map(function(n){return n.handler=e.getHandler(),t.addEventListener(n.event,n.handler),n})},this.getHandler=function(){var t=this;return function(e){if(!e.bfaHandled&&e.target)for(var n=e.target;n;){for(var i=0;i<t.events.length;i++){var r=t.events[i];if(n.nodeType&&9!==n.nodeType&&r.event===e.type&&t.matches.call(n,r.selector)){var a=r.options?r.options.handlers:null;t.trackElement(n,r.trackMethod,a),e.bfaHandled=!0;break}}if(e.bfaHandled)break;n=n.parentNode}}},this.trackElement=function(t,n,r){if(r)for(var a=0;a<r.length&&!i[r[a]](t,e,n);a++);else{var o=i.DefaultHandler;o(t,e,n)}},this.disable=function(){for(var t=document.body||document.documentElement,e=0;e<this.events.length;e++)t.removeEventListener(this.events[e].event,this.events[e].handler)}}var i=n(291);t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t){if(null===t||void 0===t||!("string"==typeof t||t instanceof String))return null;var e=t.match(g);return{url:e[0]?e[0]:"",scheme:e[2]?e[2]:"",host:e[4]?e[4]:"",path:e[5]?e[5]:"",cleanedPath:e[5]?e[5]:"",query:e[7]?e[7]:"",fragment:e[9]?e[9]:""}}function i(t){return!(t.scheme.length>0&&t.host.length>0&&t.host.indexOf("buzzfeed.com")===-1||0===t.url.indexOf("javascript:;"))}function r(t){return!(!t.host||!t.scheme||t.host.indexOf("buzzfeed.com")>-1||t.scheme.indexOf("http")===-1)}function a(t){return t.path+(t.query?"?"+t.query:"")}function o(t){return t.url}function s(t){var n=e(t);return null===n?"":r(n)?o(n):i(n)?a(n):""}function u(t){return!(t&&t.ignore instanceof Array)||t.ignore.indexOf("bfaBinder")===-1&&t.ignore.indexOf("all")===-1||t.force instanceof Array&&t.force.indexOf("bfaBinder")!==-1}function c(t,n){if(null===t||"A"!==t.nodeName||t.hasAttribute("data-bfa"))return!1;var r=t.getAttribute("href"),o=e(r);if(null===o||!i(o))return!1;var s=new h,u=["track/click/Nav-Link",{t:"click",n:"Nav-Link",l:s.findLocation(t),data:{url:a(o)}}];return n&&window[n]instanceof Function&&window[n].apply(this,u),!0}function l(t,n){if(null===t||"A"!==t.nodeName||t.hasAttribute("data-bfa"))return!1;var i=t.getAttribute("href"),a=e(i);if(!a||!r(a))return!1;var s=new h,u=["track/click/Exit-Link",{t:"click",n:"Exit-Link",l:s.findLocation(t),data:{url:o(a),anchorDesc:t.innerHTML}}];return n&&window[n]instanceof Function&&window[n].apply(this,u),!0}function d(t,e){if(null===t||"SELECT"!==t.nodeName)return!1;var n=t.options[t.selectedIndex];if(!n)return!1;if(!n.hasAttribute("data-bfa"))return!1;var i=new h,r=i.parse(n);if(!u(r.options))return!1;n.hasAttribute("data-href")&&(r.data.url=s(n.getAttribute("data-href")));var a=["track/click/"+r.action,{t:"click",n:r.action,l:r.location,d:r.description,data:r.data,opt:r.options}];return e&&window[e]instanceof Function&&window[e].apply(this,a),!0}function f(t,e,n){if(null===t||"A"!==t.nodeName||!t.hasAttribute("data-bfa"))return!1;var i=new h,r=i.parse(t);if(!u(r.options))return!1;r.data.url=s(t.getAttribute("href"));var a=["track/"+n+"/"+r.action,{t:n,n:r.action,l:r.location,d:r.description,data:r.data,opt:r.options}];return e&&window[e]instanceof Function&&window[e].apply(this,a),!0}function p(t,e,n){if(null===t||!t.hasAttribute("data-bfa"))return!1;var i=new h,r=i.parse(t);if(!u(r.options))return!1;var a=["track/"+n+"/"+r.action,{t:n,n:r.action,l:r.location,d:r.description,data:r.data,opt:r.options}];return e&&window[e]instanceof Function&&window[e].apply(this,a),!0}var h=n(292),g=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?");t.exports={ATagWithInternalLinkHandler:c,ATagWithExternalLinkHandler:l,ATagDefaultHandler:f,SelectTagChangedClickHandler:d,DefaultHandler:p}}()},function(t,e){!function(){"use strict";function e(t){this.defaultConfig={start:"@",end:";",separator:":",objectPropertySeparator:",",objectStart:"{",objectEnd:"}",arrayStart:"[",arrayEnd:"]",parts:{action:"a",description:"d",location:"l",data:"e",options:"o"}},this.config=t||this.defaultConfig,this.parse=function(t){var e={},n=t.getAttribute("data-bfa");return e=null===n||""===n?{action:"",location:"",description:"",data:{},options:{}}:this.processAttribute(n),""===e.location&&(e.location=this.findLocation(t.parentElement)),e.action=this.grabDataSource(e.action),e.location=this.grabDataSource(e.location),e.description=this.grabDataSource(e.description),e},this.processAttribute=function(t){var e=[];for(var n in this.config.parts)if(this.config.parts.hasOwnProperty(n)){var i=t.indexOf(this.config.start+this.config.parts[n]+this.config.separator);i>-1&&e.push({part:n,idx:i})}e=e.sort(function(t,e){return t.idx<e.idx?-1:t.idx===e.idx?0:1});for(var r={action:"",location:"",description:"",data:"",options:""},a=0;a<e.length;a++)a<e.length-1?r[e[a].part]=t.substring(e[a].idx,e[a+1].idx):r[e[a].part]=t.substring(e[a].idx);for(var o in r)r.hasOwnProperty(o)&&(r[o]=r[o].replace(this.config.start+this.config.parts[o]+this.config.separator,"").trim(),r[o][r[o].length-1]===this.config.end&&(r[o]=r[o].substring(0,r[o].length-1)));return r.data=this.convertToObject(r.data),r.options=this.convertToObject(r.options),r},this.findLocation=function(t){for(;null!==t&&t.getAttribute;){var e=t.getAttribute("data-bfa");if(null!==e&&""!==e){var n=this.processAttribute(e);if(""===n.location){t=t.parentElement;continue}return n.location}t=t.parentElement}return""},this.objectParseMode={propertyName:1,propertyValue:2,propertyArray:4},this.convertToObject=function(t){var e={};if(t=t.trim().replace('"',"").replace("'",""),"string"!=typeof t||0!==t.indexOf(this.defaultConfig.objectStart)||t.indexOf(this.defaultConfig.objectEnd)!==t.length-1)return e;for(var n="",i="",r="",a=this.objectParseMode.propertyName,o=1;o<t.length-1;o++)if(t[o]!==this.defaultConfig.separator||a!==this.objectParseMode.propertyName)switch(a){case this.objectParseMode.propertyArray:if(i||(i=[]),t[o]===this.defaultConfig.arrayEnd){i.push(r.trim()),e[n.trim()]=i,n="",r="",i="",a=this.objectParseMode.propertyName;break}if(t[o]===this.defaultConfig.objectPropertySeparator){i.push(r),r="";break}r+=t[o];break;case this.objectParseMode.propertyValue:t[o]===this.defaultConfig.objectPropertySeparator||o===t.length-2?(e[n.trim()]=(i+(t[o]!==this.defaultConfig.objectPropertySeparator?t[o]:"")).trim(),n="",i="",a=this.objectParseMode.propertyName):i+=t[o];break;case this.objectParseMode.propertyName:t[o]!==this.defaultConfig.objectPropertySeparator&&(n+=t[o])}else t[o+1]&&t[o+1]===this.defaultConfig.arrayStart?(a=this.objectParseMode.propertyArray,o++):a=this.objectParseMode.propertyValue;return e},this.grabDataSource=function(t){if(t.indexOf("source:")>-1){var e=t.replace("source:","").trim();if(e&&window){for(var n=window,i=e.split("."),r=i.pop(),a=0;a<i.length;a++)n=n[i[a]];var o=n[r];if(o)return o()}}return t}}t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){this.events=[],this.init=function(){this.processMapping(),this.subscribeForEvents()},this.processMapping=function(){for(var e in t)if(t.hasOwnProperty(e))for(var n=t[e],i=0;i<n.length;i++)n[i].trackMethod=e,this.events.push(n[i])},this.subscribeForEvents=function(){var t=this;this.events=this.events.map(function(e){var n=document.querySelector(e.selector);if(n){var i=e.options?e.options.handlers:null;e.handler=t.getHandler(e.trackMethod,i),n.addEventListener(e.event,e.handler)}return e})},this.getHandler=function(t,e){var n=this;return function(i){n.trackElement(this,t,e),i.bfaHandled=!0}},this.trackElement=function(t,n,r){if(r)for(var a=0;a<r.length&&!i[r[a]](t,e,n);a++);else{var o=i.DefaultHandler;o(t,e,n)}},this.disable=function(){for(var t=0;t<this.events.length;t++){var e=document.querySelector(this.events[t].selector);e&&e.removeEventListener(this.events[t].event,this.events[t].handler)}}}var i=n(291);t.exports=e}()},function(t,e){!function(){"use strict";function e(t){this.visibilityProps={hidden:null,visibilityChange:null},this.trackedByVisibility=!1,this.trackedByUnload=!1;var e=this;this.init=function(){this.visibilityProps=this.getVisibilityProps(),this.visibilityProps.hidden&&this.visibilityProps.visibilityChange&&document.addEventListener(this.visibilityProps.visibilityChange,this.visibilityHandler,!1),window.addEventListener("beforeunload",this.unloadHandler,!1),window.addEventListener("unload",this.unloadHandler,!1),window.addEventListener("pagehide",this.unloadHandler,!1)},this.visibilityHandler=function(){document[e.visibilityProps.hidden]||e.trackedByVisibility||(e.trackedByVisibility=!0,window[t].apply(this,["track/page/exit"]))},this.unloadHandler=function(){e.trackedByUnload||(e.trackedByUnload=!0,window[t].apply(this,["track/page/exit"]))},this.getVisibilityProps=function(){var t=null,e=null;return"undefined"!=typeof document.hidden?(t="hidden",e="visibilitychange"):"undefined"!=typeof document.mozHidden?(t="mozHidden",e="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(t="msHidden",e="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),{hidden:t,visibilityChange:e}}}t.exports=e}()},function(t,e,n){function i(t,e){"use strict";this.mapping=t,this.executable=e,this.parser=new r,this.init=function(){var t=this,e=0,n=setInterval(function(){e>=10&&clearInterval(n),window.FB&&(clearInterval(n),t.processMappings()),e++},1e3)},this.processMappings=function(){if(void 0!==t)for(var e=0;e<t.length;e++)"like"===t[e]&&this.bindLikes(),"unlike"===t[e]&&this.bindDislikes(),"comment"===t[e]&&this.bindComments()},this.bindLikes=function(){var t=this;window.FB.Event.subscribe("edge.create",function(e,n){if(null!==n&&n.getAttribute){var i=t.parser.parse(n),r=["track/click/"+i.action,{t:"click",n:i.action,d:i.description,l:i.location,data:i.data,opt:i.options}];t.executable&&window[t.executable]instanceof Function&&window[t.executable].apply(this,r)}})},this.bindDislikes=function(){var t=this;window.FB.Event.subscribe("edge.remove",function(e,n){var i=t.parser.parse(n),r=["track/click/"+i.action,{t:"click",n:i.action,d:i.description,l:i.location,data:i.data,opt:i.options}];t.executable&&window[t.executable]instanceof Function&&window[t.executable].apply(this,r)})},this.bindComments=function(){var t=this;window.FB.Event.subscribe("comment.create",function(){var e=["track/click/Submit",{t:"click",n:"Submit",d:"Facebook",l:"Contributions"}];t.executable&&window[t.executable]instanceof Function&&window[t.executable].apply(this,e)})}}var r=n(292);t.exports=i},function(t,e,n){!function(){"use strict";function e(t,e){this.options=t||{},this.executable=e,this.scrollHandler=null,this.keyPressHandler=null,this.init=function(){window&&t&&e&&(this.scrollHandler=this.getScrollHandler(),this.keyPressHandler=this.getKeyPressScrollHandler(),this.scrollHandler&&window.addEventListener("scroll",this.debounce(this.scrollHandler,200)),this.keyPressHandler&&document.addEventListener("keydown",this.debounce(this.keyPressHandler,200)))},this.getScrollHandler=function(){var e=null,n=null;return this.options.pixelMode.enabled&&(e=new i(this.options,this.executable),e.init()),this.options.elementMode.enabled&&(n=new r(this.options,this.executable),n.init()),function(){if(t.elementMode.enabled){var i=document.querySelectorAll(t.elementMode.element);i.length!==t.elementMode.expected?n.track():t.pixelMode.enabled&&e.track()}else t.pixelMode.enabled&&e.track()}},this.getKeyPressScrollHandler=function(){var t=this;return function(e){return 32===e.which||33===e.which||34===e.which||38===e.which||40===e.which||e.ctrlKey&&35===e.which||e.ctrlKey&&36===e.which&&t.scrollHandler?void t.scrollHandler():null}},this.debounce=function(t,e,n){var i;return function(){function r(){i=null,n||t.apply(a,o)}var a=this,o=arguments,s=n&&!i;clearTimeout(i),i=setTimeout(r,e),s&&t.apply(a,o)}}}var i=n(297),r=n(298);t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){this.options=t||{},this.executable=e,this.points=[],this.init=function(){this.fillCheckPoints()},this.track=function(){var t,e,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.clientHeight+1,r=document.documentElement.clientTop||document.body.clientTop||0,a=n+i,o=0;for(t=0;t<this.options.bottomBounds.length&&!(e=document.querySelector(this.options.bottomBounds[t]));t++);if(e){var s=e.getBoundingClientRect().top+n-r;a>=s&&o<100&&(o=100),a<=s&&(o=a/s*100)}for(t=0;t<this.options.checkpoints.length;t++)if(this.points[t].percentage<=o&&!this.points[t].passed){this.points[t].passed=!0;var u=["track/scroll/post",{t:"scroll",n:"post",d:this.points[t].percentage.toString()}];this.executable&&window[this.executable]instanceof Function&&window[this.executable].apply(this,u)}},this.fillCheckPoints=function(){for(var t=0;t<this.options.checkpoints.length;t++)this.points.push({percentage:this.options.checkpoints[t],passed:!1})}}t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){this.options=t||{},this.executable=e,this.points=[],this.init=function(){this.fillCheckPoints()},this.track=function(){if(this.options.elementMode.element&&this.options.elementMode.expected){var t,e=window.pageYOffset+document.documentElement.clientHeight+1,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.clientTop||document.body.clientTop||0,r=document.querySelectorAll(this.options.elementMode.element),a=0;for(t=0;t<r.length;t++){var o=r[t].getBoundingClientRect().top+n-i;o<=e&&a++}var s=a/this.options.elementMode.expected*100,u=null;for(t=0;t<this.options.bottomBounds.length&&!(u=document.querySelector(this.options.bottomBounds[t]));t++);if(u){var c=u.getBoundingClientRect().top+n-i;e>=c&&s<100&&(s=100)}for(t=0;t<this.options.checkpoints.length;t++)if(this.points[t].percentage<=s&&!this.points[t].passed){this.points[t].passed=!0;var l=["track/scroll/post",{t:"scroll",n:"post",d:this.points[t].percentage.toString()}];this.executable&&window[this.executable]instanceof Function&&window[this.executable].apply(this,l)}}},this.fillCheckPoints=function(){for(var t=0;t<this.options.checkpoints.length;t++)this.points.push({percentage:this.options.checkpoints[t],passed:!1})}}t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){this.options=t||{},this.executable=e,this.parser=new i,this.init=function(){window&&t&&e&&(this.trigger=this.getHandler(),this.trigger(),window.addEventListener("scroll",this.debounce(this.trigger,200)),document.addEventListener("keydown",this.debounce(this.getKeyPressHandler(),200)))},this.getKeyPressHandler=function(){var t=this,e=this.getHandler();return function(n){return 32===n.which||33===n.which||34===n.which||38===n.which||40===n.which||n.ctrlKey&&35===n.which||n.ctrlKey&&36===n.which&&t.scrollHandler?void e():null}},this.getHandler=function(){function e(t){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.clientHeight+1,i=e+n,r=t.getBoundingClientRect(),a=r.top+e,o=a+r.height;return o<=i&&a>=e}var n=this;return function(){if(n.options.locators){for(var i,r=[],a=0;a<n.options.locators.length;a++){var o=document.querySelectorAll(t.locators[a]);for(i=0;i<o.length;i++)if(o[i].hasAttribute("data-bfa")&&(!o[i].hasAttribute("bfa-impression-tracked")||"false"===o[i].getAttribute("bfa-impression-tracked"))&&e(o[i])){var s=n.parser.parse(o[i]),u={t:"scroll",n:s.action,l:s.location,d:s.description,data:s.data,opt:s.options};r.push(u),o[i].setAttribute("bfa-impression-tracked",!0)}}if(n.executable&&window[n.executable]instanceof Function)for(i=0;i<r.length;i++){var c=["track/scroll/impression",r[i]];window[n.executable].apply(this,c)}}}},this.debounce=function(t,e,n){var i;return function(){function r(){i=null,n||t.apply(a,o)}var a=this,o=arguments,s=n&&!i;clearTimeout(i),i=setTimeout(r,e),s&&t.apply(a,o)}}}var i=n(292);t.exports=e}()},function(t,e){!function(){"use strict";function e(t){this.inited=!1;var e=this;window.bfaYoutubeIframePlayerTracking||(window.bfaYoutubeIframePlayerTracking=function(t){e.processVideo(t)}),this.init=function(){this.inited=!0},this.processVideo=function(n){var i=n.getIframe(),r=i.getAttribute("id"),a=i.getAttribute("data-published"),o=i.getAttribute("src");n.addEventListener("onStateChange",function(n){if(e.inited){var i={id:r,duration:n.target.getDuration(),currentTime:n.target.getCurrentTime(),published:a,url:n.target.getVideoUrl(),source:"youtube"};switch(n.data){case 1:window[t].apply(this,["track/video/play",{data:i}]);break;case 2:window[t].apply(this,["track/video/pause",{data:i}]);break;case 0:window[t].apply(this,["track/video/finish",{data:i}]);break;case 3:window[t].apply(this,["track/video/startedBuffering",{data:i}])}}}),n.addEventListener("onError",function(n){if(e.inited){var i={id:r,published:a,url:o,source:"youtube",errorCode:n.data};window[t].apply(this,["track/video/error",{data:i}])}})}}t.exports=e}()},function(t,e){!function(){"use strict";function e(t){function e(t){/^https?:\/\/player.vimeo.com/.test(t.origin)&&n.processVideo(t)}this.inited=!1;var n=this;window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e,!1),this.init=function(){this.inited=!0},this.processVideo=function(e){var i=JSON.parse(e.data);if("ready"===i.event&&this.registerListeners(i.player_id),this.inited)switch(i.event){case"play":window[t].apply(this,["track/video/play",{data:n.getVideoData(i)}]);break;case"pause":window[t].apply(this,["track/video/pause",{data:n.getVideoData(i)}]);break;case"finish":window[t].apply(this,["track/video/finish",{data:n.getVideoData(i)}])}},this.registerListeners=function(t){var e=document.getElementById(t);e.contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:"play"}),"*"),e.contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:"pause"}),"*"),e.contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:"finish"}),"*")},this.getVideoData=function(t){var e=document.getElementById(t.player_id);return{id:t.player_id,duration:t.data.duration,currentTime:t.data.seconds,published:e.getAttribute("data-published")||e.parentElement.getAttribute("data-published"),url:e.getAttribute("src"),source:"vimeo"}}}t.exports=e}()},function(t,e){!function(){"use strict";function e(t){var e=this;this.initCounter=0,this.init=function(){return window.FB?void window.FB.Event.subscribe("xfbml.ready",function(t){"video"===t.type&&e.processVideo(t)}):void(this.initCounter<10&&(this.initCounter++,setTimeout(function(){e.init()},500)))},this.processVideo=function(e){var n=document.getElementById(e.id),i=e.instance,r={id:e.id,published:n.getAttribute("data-published"),url:n.getAttribute("src"),source:"facebook"};i.subscribe("startedPlaying",function(){r.duration=e.instance.getDuration(),r.currentTime=e.instance.getCurrentPosition(),window[t].apply(this,["track/video/play",{data:r}])}),i.subscribe("paused",function(){r.duration=e.instance.getDuration(),r.currentTime=e.instance.getCurrentPosition(),window[t].apply(this,["track/video/pause",{data:r}])}),i.subscribe("finishedPlaying",function(){r.duration=e.instance.getDuration(),r.currentTime=e.instance.getCurrentPosition(),window[t].apply(this,["track/video/finish",{data:r}])}),i.subscribe("startedBuffering",function(){r.duration=e.instance.getDuration(),r.currentTime=e.instance.getCurrentPosition(),window[t].apply(this,["track/video/startedBuffering",{data:r}])}),i.subscribe("finishedBuffering",function(){r.duration=e.instance.getDuration(),r.currentTime=e.instance.getCurrentPosition(),window[t].apply(this,["track/video/finishedBuffering",{data:r}])}),i.subscribe("error",function(){window[t].apply(this,["track/video/error",{data:r}])})}}t.exports=e}()},function(t,e,n){"use strict";function i(t){this.fireTimings=a(function(){var e=r.getTimes();e&&window[t].apply(this,["track/performance/metrics",{data:e}])}.bind(this)),this.fireCustom=a(function(){window[t].apply(this,["track/performance/custom"])}.bind(this)),this.init=function(){var t=this;window.addEventListener("load",function(){window.setTimeout(t.fireTimings,0)}),window.addEventListener("beforeunload",t.fireTimings),window.addEventListener("pagehide",t.fireTimings),window.addEventListener("unload",t.fireTimings),window.addEventListener("pagehide",t.fireCustom),window.addEventListener("unload",t.fireCustom)}}var r=n(304),a=n(305);t.exports=i},function(t,e){!function(e){"use strict";function n(t){return!isNaN(parseFloat(t))&&isFinite(t)}e.timing=e.timing||{getTimes:function(t){var i=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance;if(void 0===i)return!1;var r=i.timing,a={};if(t=t||{},r){if(t&&!t.simple)for(var o in r)n(r[o])&&(a[o]=parseFloat(r[o]));if(void 0===a.firstPaint){var s=0;e.chrome&&e.chrome.loadTimes?(s=1e3*e.chrome.loadTimes().firstPaintTime,a.firstPaintTime=s-1e3*e.chrome.loadTimes().startLoadTime):"number"==typeof e.performance.timing.msFirstPaint&&(s=e.performance.timing.msFirstPaint,a.firstPaintTime=s-e.performance.timing.navigationStart),t&&!t.simple&&(a.firstPaint=s)}a.loadTime=r.loadEventEnd-r.fetchStart,a.domReadyTime=r.domComplete-r.domInteractive,a.readyStart=r.fetchStart-r.navigationStart,a.redirectTime=r.redirectEnd-r.redirectStart,a.appcacheTime=r.domainLookupStart-r.fetchStart,a.unloadEventTime=r.unloadEventEnd-r.unloadEventStart,a.lookupDomainTime=r.domainLookupEnd-r.domainLookupStart,a.connectTime=r.connectEnd-r.connectStart,a.requestTime=r.responseEnd-r.requestStart,a.initDomTreeTime=r.domInteractive-r.responseEnd,a.loadEventTime=r.loadEventEnd-r.loadEventStart}return a},printTable:function(t){var e={},n=this.getTimes(t)||{};Object.keys(n).sort().forEach(function(t){e[t]={ms:n[t],s:+(n[t]/1e3).toFixed(2)}}),console.table(e)},printSimpleTable:function(){this.printTable({simple:!0})}},"undefined"!=typeof t&&t.exports&&(t.exports=e.timing)}("undefined"!=typeof window?window:{})},function(t,e,n){function i(t){return r(2,t)}var r=n(306);t.exports=i},function(t,e,n){function i(t,e){var n;if("function"!=typeof e)throw new TypeError(a);return t=r(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var r=n(191),a="Expected a function";t.exports=i},function(t,e,n){!function(){"use strict";function e(){this.domBinders=[],this.socialBinders=[],this.scrollBinders=[],this.generalBinders=[],this.videoBinders=[],this.performanceBinders=[],this.parser=new i;var t;this.init=function(){for(t=0;t<this.domBinders.length;t++)this.domBinders[t].init();for(t=0;t<this.socialBinders.length;t++)this.socialBinders[t].init();for(t=0;t<this.scrollBinders.length;t++)this.scrollBinders[t].init();for(t=0;t<this.generalBinders.length;t++)this.generalBinders[t].init();for(t=0;t<this.videoBinders.length;t++)this.videoBinders[t].init();for(t=0;t<this.performanceBinders.length;t++)this.performanceBinders[t].init()},this.trigger=function(t){switch(t.type){case"scroll":this.scrollBinders.forEach(function(t){"function"==typeof t.trigger&&t.trigger()})}}}var i=n(292);t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t){var e={trackingBehavior:i.trackingBehavior.byDefault,extTrackerGlobalName:"COMSCORE",extFilesPaths:[("https:"===document.location.protocol?"https://sb":"http://b")+".scorecardresearch.com/beacon.js"]},n={c1:2,c2:6768151,c3:"buzzfeed.com",c4:"",c5:"",c6:"",c15:""};this._inited=!1,this._active=!1,this.settings=r.defaultsDeep(t.settings||{},e),this.generalSettings=t.getGeneralSettings();var a=this;this.activate=function(){if(!a._active&&a._inited){if(!a.tracker&&a.generalSettings.mode===i.bfaMode.prod){if(!window[a.settings.extTrackerGlobalName])return;a.tracker=window[a.settings.extTrackerGlobalName]}a._active=!0,t.moduleActive.dispatch()}},t.onGeneralSettingsChange(function(){this.generalSettings=t.getGeneralSettings()},this),this._trackPage=function(e){return this._active?void(a.generalSettings.mode===i.bfaMode.prod?this.tracker.beacon(n):t.debugTracker.trackEvent(t.tryConvertToEventInfo(e,"page","view"),n)):void t.moduleActive.addOnce(r.bind(this._trackPage,this,e),this)},t.subOn("track/page/view",this._trackPage,this),this.init=function(){a.generalSettings.mode===i.bfaMode.prod&&!a.tracker&&!window[a.settings.extTrackerGlobalName]&&a.settings.extFilesPaths&&a.settings.extFilesPaths.length>0&&r.forEach(a.settings.extFilesPaths,function(e){t.domi.loadScript({src:e},a.activate,null,a)}),a._inited=!0,t.moduleInited.dispatch(),a.activate()}}var i=n(272),r=n(5);e.defaultId="ComscoreIntegration",e.require=["logger","domi","generalSettings","debugTracker","trackingUtils"],t.exports=e}()},function(t,e){!function(){"use strict";function e(t){var e={trackingBehavior:t.defs.trackingBehavior.byDefault,extTrackerGlobalName:"ga",googleAnalyticsId:"",tracker:null,extFilePath:"//www.google-analytics.com/analytics.js",configMapsDelegate:null};this._inited=!1,this._active=!1,this.settings=t.utils.defaultsDeep(t.settings||{},e),this.generalSettings=t.getGeneralSettings();var n=this;return this.activate=function(){if(!this._active&&this._inited){if(!this.tracker&&this.generalSettings.mode===t.defs.bfaMode.prod){if(!window[this.settings.extTrackerGlobalName])return void t.log.warn("External GA lib is not loaded yet");this.tracker=window[this.settings.extTrackerGlobalName],this.tracker("create",this.settings.googleAnalyticsId,"auto")}this.page&&this.user?(this._active=!0,t.moduleActive.dispatch()):t.log.warn("External GA lib is not ready to track yet")}},t.onGeneralSettingsChange(function(){this.generalSettings=t.getGeneralSettings()},this),t.onPageReady(function(){this.page=t.getPageInfo(),this.activate()},this),t.onUserReady(function(){this.user=t.getUserInfo(),this.activate()},this),this._trackDefault=function(e,n,i){if(!this._active)return void t.moduleActive.addOnce(t.utils.bind(this._trackDefault,this,e,n,i),this);var r=t.tryConvertToEventInfo(e,n,i);if(t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,r)){if(r.data.page=this.page,r.data.user=this.user,r.data.seedSocialFlags=this.postSeedSocialFlags,!t.mapper.isExists("track/"+n))return void t.log.error("Mapping for `track/"+n+"` doesn't exist");var a=t.mapper.map("track/"+n,r,{label:"(no label)",value:function(t){return screen&&screen.orientation&&screen.orientation.type&&t&&(t.dimension5=screen.orientation.type.replace("-primary","")),t||""}(e.opt)});switch(this.generalSettings.mode){case t.defs.bfaMode.prod:this.tracker("send","event",a.category,a.action,a.label,a.value);break;default:t.debugTracker.trackEvent(r,a)}}},this._trackPage=function(e){if(!this._active)return void t.moduleActive.addOnce(t.utils.bind(this._trackPage,this,e),this);var n=t.tryConvertToEventInfo(e,"page","view");if(t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,n)){if(!t.mapper.isExists("track/page/view"))return void t.log.error("Mapping for `track/page/view` doesn't exist");var i=t.mapper.map("track/page/view",n);t.utils.keys(i).length>0?(this.generalSettings.mode===t.defs.bfaMode.prod&&(this.tracker("set","page",window.location.pathname),this.tracker("send","pageview",i.page)),t.debugTracker.trackEvent(n,i)):t.log.warn("Event won't be tracked to GA, because object is empty after mapping. Type: "+n.t+"; Name: "+n.n+";")}},t.subOn("track/page/view",this._trackPage,this),this._trackClick=function(t,e){this._trackDefault(t,"click",e.eventName)},t.subOn("track/click/{eventName}",n._trackClick,this),this._trackPageExit=function(t,e){t={n:"Page-Exit",data:{scrolledDistance:Math.round(window.scrollY/(document.documentElement.offsetHeight-window.innerHeight)*100)}},this._trackDefault(t,"page",e.eventName),this._trackDefault({l:"Feed",n:"last-cell-visible",d:n.feedIndex},"update/feedindex")},this._trackNewsletter=function(t,e){this._trackDefault(t,"signup",e.eventName)},this._trackVideo=function(t,e){"share"!==e.eventName&&this._trackDefault(t,"video",e.eventName)},this._updateFeedIndex=function(t){t.feedItemTrack&&t.cardIndex&&(n.feedIndex=t.cardIndex)},this._trackAbVariation=function(t,e){this._trackDefault(t,"abtest",e.abTestName)},t.subOn("track/video/{eventName}",this._trackVideo,this),t.subOn("track/page/exit",this._trackPageExit,this),t.subOn("track/signup/{eventName}",this._trackNewsletter,this),t.subOn("track/update/feedindex",this._updateFeedIndex,this),t.subOn("track/abtest/{abTestName}",this._trackAbVariation,this),{init:function(){return t.utils.isString(n.settings.googleAnalyticsId)?t.utils.isFunction(n.settings.configMapsDelegate)?(n.settings.configMapsDelegate(t.mapper),n.generalSettings.mode===t.defs.bfaMode.prod?(n.tracker=n.settings.tracker,n.tracker||window[n.settings.extTrackerGlobalName]||!n.settings.extFilePath||t.domi.loadScript({src:n.settings.extFilePath},n.activate,null,n)):n.tracker={},n._inited=!0,t.moduleInited.dispatch(),void n.activate()):void t.log.error("Value of configMapsDelegate (in settings) property must be a `function` that have to set up mapping"):void t.log.error("Must set googleAnalyticsId")}}}e.defaultId="GAIntegration",e.require=["logger","domi","trackingUtils","generalSettings","mapper","debugTracker","pageInfo","userInfo"],t.exports=e}()},function(t,e){!function(){"use strict";t.exports=function(t){t.addUtility("capitalize",function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),t.addUtility("cleanLink",function(t){return t.replace("http://","").replace("https://","").replace("www.","")});var e=t.getOrCreateRouter("track/click"),n=t.getOrCreateRouter("track/video"),i=t.createMapTemplate("gaTemplate");i.addMapTo("category","").mapFrom(function(t){var e;switch("in_feed"===t.l&&(t.l="Feed"),t.data.type&&t.data.type.match("news-package")&&(t.data.type="news"),t.l){case"RightRail":e="RightRail:"+t.data.type;break;default:e=t.l?t.l:""}return e});var r=e.createConfigForRoute(function(t){return t.n.indexOf("dfp")!==-1});r.applyTemplateByName("gaTemplate"),r.addMapTo("action","").mapFrom(function(t){var e=t.n.split("-");return"click:"+e[0].toLowerCase()+"/"+e[1].toLowerCase()}),r.addMapTo("label","").mapFrom(function(t){return t.d});var a=e.createConfigForRoute(function(t){return"Nav"===t.l});a.applyTemplateByName("gaTemplate"),a.addMapTo("action","").mapFrom(function(t){var e=t.n?t.n:"";
return"vertical-more"===t.n&&(e="vertical/more"),"click:"+e}),a.addMapTo("label","").mapFrom(function(t){return t.d?t.d:""});var o=e.createConfigForRoute(function(t){return"Hero"===t.l});o.applyTemplateByName("gaTemplate"),o.addMapTo("action","").mapFrom(function(t){var e;return e=t.n.search("click")!==-1?t.n:"click:"+t.n}),o.addMapTo("label","").mapFrom(function(t){return t.d?t.d:""});var s=e.createConfigForRoute(function(t){return"Search"===t.l});s.applyTemplateByName("gaTemplate"),s.addMapTo("action","").mapFrom(function(t){var e;return e=t.n.search("click")!==-1?t.n:"click:"+t.n}),s.addMapTo("label","").mapFrom(function(t){return t.d?t.d:""});var u=e.createConfigForRoute(function(t){return"Internal Navigation"===t.l});u.applyTemplateByName("gaTemplate"),u.addMapTo("action","").mapFrom(function(){return"click"}),u.addMapTo("label","").mapFrom(function(t){return t.d});var c=e.createConfigForRoute(function(t){return"Thumbstrip"===t.l});c.applyTemplateByName("gaTemplate"),c.addMapTo("action","").mapFrom(function(t){var e;switch(t.n){case"click:post-dfp":e="click:post/dfp";break;default:e=t.n}return e}),c.addMapTo("label","").mapFrom(function(t){return t.d});var l=n.createConfigForRoute(function(t){return"Feed"===t.l||"in_feed"===t.l});l.applyTemplateByName("gaTemplate"),l.addMapTo("action","").mapFrom(function(t){if(t.n)return t.n}),l.addMapTo("label","").mapFrom(function(t){if(t.d)return t.d});var d=e.createConfigForRoute(function(t){return"Feed"===t.l});d.applyTemplateByName("gaTemplate"),d.addMapTo("action","").mapFrom(function(t){var e;return t.n.match("|")&&(t.n=t.n.replace("|","/")),e=t.n.match("click:")?t.n:"click:"+t.n}),d.addMapTo("label","").mapFrom(function(t){if(t.d)return t.d});var f=e.createConfigForRoute(function(t){return"RightRail"===t.l});f.applyTemplateByName("gaTemplate"),f.addMapTo("action","").mapFrom(function(t){var e="click:post";switch(t.n){case"post":e=e;break;default:e=t.n}return e}),f.addMapTo("label","").mapFrom(function(t){if(t.d)return t.d});var p=e.createConfigForRoute(function(t){return"Share"===t.l});p.addMapTo("category","").mapFrom(function(){return"Share"}),p.addMapTo("action","").mapFrom(function(t){var e;return e="click:feed-module"==t.n?"click:feed-module":"open-share-sheet"===t.n?"click:open-share-sheet":"click:feed-module/share-sheet"}),p.addMapTo("label","").mapFrom(function(t){return t.d});var h=e.createConfigForRoute(function(t){return"Zoom"===t.n});h.addMapTo("category","MobileBuzz:content"),h.addMapTo("action","").mapFrom(function(t){return"click:zoom/list-item:"+t.data.idx});var g=e.createConfigForRoute(function(){});g.applyTemplateByName("gaTemplate"),g.addMapTo("action","click:link"),g.addMapTo("label","").mapFrom(function(t){return t.d?t.d:this.cleanLink(t.data.url)});var v=t.getOrCreateMap("track/page/view");v.addMapTo("page","").mapFrom("data.url");var m=t.getOrCreateRouter("track/page"),b=m.createConfigForRoute(function(t){return"Page-Exit"===t.n});b.applyTemplateByName("gaTemplate"),b.addMapTo("action","").mapFrom("n",[t.formatters.strToLowerCase]),b.addMapTo("label","").mapFrom(function(t){return t.data.scrolledDistance+"%"});var y=t.getOrCreateRouter("track/update/feedindex"),_=y.createConfigForRoute(function(t){return"Feed"===t.l});_.applyTemplateByName("gaTemplate"),_.addMapTo("action","last-cell-visible"),_.addMapTo("label","").mapFrom(function(t){return t.d});var w=t.getOrCreateMap("track/abtest");w.addMapTo("category","ABTestRegister"),w.addMapTo("action","").mapFrom(function(t){return t.n}),w.addMapTo("label","").mapFrom(function(t){return t.data.value}),w.addMapTo("value",null)}}()},function(t,e){!function(){"use strict";function e(t){var e={trackingBehavior:t.defs.trackingBehavior.byDefault,extTrackerGlobalName:"_qevents",quantcastPcode:"",tracker:null,extFilePath:"https://secure.quantserve.com/quant.js",configMapsDelegate:null};this._inited=!1,this._active=!1,this.settings=t.utils.defaultsDeep(t.settings||{},e),this.generalSettings=t.getGeneralSettings();var n=this;return this.activate=function(){if(!this._active&&this._inited){if(!this.tracker&&this.generalSettings.mode===t.defs.bfaMode.prod){if(!window[this.settings.extTrackerGlobalName])return void t.log.warn("External Quantcast lib is still loading");this.tracker=window[this.settings.extTrackerGlobalName]}this.page?(this._active=!0,t.moduleActive.dispatch()):t.log.warn("External Quantcast lib is not ready yet")}},t.onGeneralSettingsChange(function(){this.generalSettings=t.getGeneralSettings()},this),t.onPageReady(function(){this.page=t.getPageInfo(),this.activate()},this),this.getEventInfo=function(e,n,i){var r=t.tryConvertToEventInfo(e,n,i);return t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,r)?(r.data.page=this.page,r):(t.log.warn(t.moduleId+" cannot track current event. Type: "+n+"; Name: "+i+";"),null)},this._trackDefault=function(e,n){if(null!==n&&t.utils.keys(n).length>0)switch(this.generalSettings.mode){case t.defs.bfaMode.prod:this.tracker.push(n);break;default:t.debugTracker.trackEvent(e,n)}else t.log.warn("Event won't be tracked to Quantcast, because object is empty after mapping. Type: "+e.t+"; Name: "+e.n+"; Location: "+e.l+"; Desc: "+e.d+";")},this._trackPage=function(e){if(!this._active)return void t.moduleActive.addOnce(t.utils.bind(this._trackPage,this,e),this);var n=this.getEventInfo(e,"page","view");return t.mapper.isExists("track/page/view")?void this._trackDefault(n,t.mapper.map("track/page/view",n,{qacct:this.settings.quantcastPcode})):void t.log.error("Mapping for `track/page/view` doesn't exist")},t.subOn("track/page/view",this._trackPage,this),{init:function(){return t.utils.isFunction(n.settings.configMapsDelegate)?t.utils.isString(n.settings.quantcastPcode)?(n.settings.configMapsDelegate(t.mapper),n.generalSettings.mode===t.defs.bfaMode.prod?(n.tracker=n.settings.tracker,n.tracker||window[n.settings.extTrackerGlobalName]||!n.settings.extFilePath||t.domi.loadScript({src:n.settings.extFilePath},n.activate,null,n)):n.tracker={},n._inited=!0,t.moduleInited.dispatch(),void n.activate()):void t.log.error("Value for Quantcast pcode must be set"):void t.log.error("Value of configMapsDelegate (in settings) property must be a `function` that have to set up mapping")}}}e.defaultId="QuantcastIntegration",e.require=["logger","domi","trackingUtils","generalSettings","mapper","debugTracker","pageInfo"],t.exports=e}()},function(t,e){!function(){"use strict";t.exports=function(t){var e=t.getOrCreateRouter("track/page/view"),n=e.createConfigForRoute(function(t){return"index"===this.utils.get(t,"data.page.type")});n.addMapTo("labels","").mapFrom(function(t){return this.utils.get(t,"data.page.post.id")})}}()},function(t,e,n){!function(){"use strict";function e(t){var e={trackingBehavior:r.trackingBehavior.byDefault,extTrackerGlobalName:"fbq",tracker:null,configMapsDelegate:null,extFilesPaths:[],facebookId:"224284281076687"};this._inited=!1,this._active=!1,this.settings=i.defaultsDeep(t.settings||{},e),this.generalSettings=t.getGeneralSettings();var n=this;this.activate=function(){if(!n._active&&n._inited){if(!this.tracker&&this.generalSettings.mode===r.bfaMode.prod){if(!window[this.settings.extTrackerGlobalName])return;this.tracker=window[this.settings.extTrackerGlobalName],this.tracker("init",this.settings.facebookId)}this.page&&n.user&&(this._active=!0,t.moduleActive.dispatch())}},t.onGeneralSettingsChange(function(){n.generalSettings=t.getGeneralSettings()},this),t.onPageReady(function(){n.page=t.getPageInfo(),n.activate()},this),t.onUserReady(function(){n.user=t.getUserInfo(),n.activate()},this),this.getEventInfo=function(e,n,i){var r=t.tryConvertToEventInfo(e,n,i);return t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,r)?(r.data.page=this.page,r.data.user=this.user,r):(t.log.warn(t.moduleId+" cannot track current event. Type: "+n+"; Name: "+i+";"),null)},this._trackDefault=function(e,n){if(e&&null!==n&&i.keys(n).length>0){var a="";switch("fbEventName"in n&&(a=n.fbEventName,delete n.fbEventName),this.generalSettings.mode){case r.bfaMode.prod:this.tracker("trackCustom",a,n);break;default:t.debugTracker.trackEvent(e,n)}}},this._trackPage=function(e){if(!this._active)return void t.moduleActive.addOnce(i.bind(this._trackPage,this,e),this);var n=this.getEventInfo(e,"page","view");if(!t.mapper.isExists("track/page/view"))return void t.log.warn("Mapping for `track/page/view` doesn't exist");var r=t.mapper.map("track/page/view",n,{});this._trackDefault(n,r)},t.subOn("track/page/view",this._trackPage,this),this._trackClick=function(e,n){if(!this._active)return void t.moduleActive.addOnce(i.bind(this._trackClick,this,e,n),this);var r=this.getEventInfo(e,"click",n.eventName);if(!t.mapper.isExists("track/click"))return void t.log.warn("Mapping for `track/click` doesn't exist");var a=t.mapper.map("track/click",r,{});this._trackDefault(r,a)},t.subOn("track/click/{eventName}",this._trackClick,this),this._trackQuiz=function(e,n){if(!this._active)return void t.moduleActive.addOnce(i.bind(this._trackQuiz,this,e,n),this);var r=this.getEventInfo(e,"quiz",n.eventName);if(!t.mapper.isExists("track/quiz"))return void t.log.warn("Mapping for `track/quiz` doesn't exist");var a=t.mapper.map("track/quiz",r,{});this._trackDefault(r,a)},t.subOn("track/quiz/{eventName}",this._trackQuiz,this),this._trackVideo=function(e,n){if(!this._active)return void t.moduleActive.addOnce(i.bind(this._trackVideo,this,e,n),this);var r=this.getEventInfo(e,"video",n.eventName);if(!t.mapper.isExists("track/video"))return void t.log.warn("Mapping for `track/video` doesn't exist");var a=t.mapper.map("track/video",r,{});this._trackDefault(r,a)},t.subOn("track/video/{eventName}",this._trackVideo,this),this._trackAbVariation=function(e,n){if(!this._active)return void t.moduleActive.addOnce(i.bind(this._trackAbVariation,this,e,n),this);var r=this.getEventInfo(e,"abtest",n.eventName);if(!t.mapper.isExists("track/abtest"))return void t.log.warn("Mapping for `track/abtest` doesn't exist");var a=t.mapper.map("track/abtest",r,{});this._trackDefault(r,a)},t.subOn("track/abtest/{abTestName}",this._trackAbVariation,this),this.init=function(){n.settings.configMapsDelegate(t.mapper),n.generalSettings.mode===r.bfaMode.prod?(n.tracker=n.settings.tracker,!n.tracker&&!window[n.extTrackerGlobalName]&&n.settings.extFilesPaths&&n.settings.extFilesPaths.length>0&&t.domi.onDomReady(function(){i.forEach(n.settings.extFilesPaths,function(e){t.domi.loadScript({src:e},n.activate,null,n)})},n)):n.tracker={},n._inited=!0,t.moduleInited.dispatch(),n.activate()}}var i=n(5),r=n(272);e.defaultId="FacebookIntegration",e.require=["logger","domi","pageInfo","userInfo","mapper","trackingUtils","generalSettings","debugTracker"],t.exports=e}()},function(t,e){!function(){"use strict";t.exports=function(t){var e=t.getOrCreateMap("track/page/view");e.addMapTo("page","").mapFrom("data.url"),e.addMapTo("fbEventName","PageView");var n=t.getOrCreateRouter("track/click"),i=n.createConfigForRoute(function(t){return"Share"===t.l});i.addMapTo("category","").mapFrom(function(){return"Share"}),i.addMapTo("action","").mapFrom(function(t){var e;return e="click:feed-module"==t.n?"click:feed-module":"open-share-sheet"===t.n?"click:open-share-sheet":"click:feed-module/share-sheet"}),i.addMapTo("label","").mapFrom("d"),i.addMapTo("fbEventName","Share");var r=n.createConfigForRoute(function(t){return"Feed"===t.l});r.addMapTo("action","").mapFrom(function(t){var e;return t.n.match("|")&&(t.n=t.n.replace("|","/")),e=t.n.match("click:")?t.n:"click:"+t.n}),r.addMapTo("label","").mapFrom("d"),r.addMapTo("fbEventName","Feed");var a=t.getOrCreateRouter("track/video"),o=a.createConfigForRoute(function(t){return"Feed"===t.l});o.applyTemplateByName("gaTemplate"),o.addMapTo("action","").mapFrom("n"),o.addMapTo("label","").mapFrom("d"),o.addMapTo("value","").mapFrom(function(t){var e;if(t.opt)return t.opt.dimension5&&screen.orientation&&screen.orientation.type&&(t.opt.dimension5=screen.orientation.type.replace("-primary","")),e=t.opt}),o.addMapTo("fbEventName","Video")}}()},function(t,e,n){!function(){"use strict";function e(t){function e(t,e){l._playheadCounter&&s({playheadPosition:l._playheadCounter}),t.playheadPosition=e||0,l._playheadCounter=t.playheadPosition,l._lastPlayed=t.assetid,l._loadedData=!0,l.videoTracker.ggPM("loadMetadata",t),l._loadedVideos||(l._loadedVideos={}),l._loadedVideos[t.assetid]||(l._loadedVideos[t.assetid]=t),a(t)}function n(t){l._playheadInterval&&(clearInterval(l._playheadInterval),l._playheadInterval=null),l._playheadCounter=t.playheadPosition,l._playheadInterval||(l.videoTracker.ggPM("play",t),u(),l._playheadInterval=setInterval(function(){u()},1e3))}function a(t){return l._lastPlayed!==t.assetid?(l._playheadInterval&&(clearInterval(l._playheadInterval),l._playheadInterval=null),void(l._loadedVideos&&l._loadedVideos[t.assetid]&&e(l._loadedVideos[t.assetid],t.playheadPosition))):!l._loadedData&&l._loadedVideos&&l._loadedVideos[t.assetid]?void e(l._loadedVideos[t.assetid]):(l._playheadCounter=t.playheadPosition,void(l._playheadInterval||(l.videoTracker.ggPM("play",t),u(),l._playheadInterval=setInterval(function(){u()},1e3))))}function o(t){l._playheadInterval&&(clearInterval(l._playheadInterval),l._playheadInterval=null,l._playheadCounter=t.playheadPosition,l.videoTracker.ggPM("stop",l._playheadCounter))}function s(t){l._playheadCounter&&(clearInterval(l._playheadInterval),l._playheadCounter=t.playheadPosition,l.videoTracker.ggPM("end",l._playheadCounter),l._playheadInterval=null,l._playheadCounter=null,l._loadedData=!1)}function u(){l.videoTracker.ggPM("setPlayheadPosition",l._playheadCounter),l._playheadCounter++}var c={trackingBehavior:r.trackingBehavior.byDefault,extTrackerGlobalName:"NOLCMB",staticTracker:null,videoTracker:null,staticConfig:{apid:"P7A907367-6D97-4DFD-AF90-B51EDF8D9AC5",sfcode:"dcr",nsdkv:"511",apn:"BuzzFeed Webapp Static"},videoConfig:{apid:"P3816F089-E5B5-4BF1-9D71-A955F54BCDE3",sfcode:"dcr",nsdkv:"511",apn:"buzzfeedVideos"},configMapsDelegate:null,extFilesPaths:[],trackers:[]};this._inited=!1,this._active=!1,this.settings=i.defaultsDeep(t.settings||{},c),this.generalSettings=t.getGeneralSettings();var l=this;this._canInitializeTracker=function(t){return 0===this.settings.trackers.length||this.settings.trackers.indexOf(t)!==-1},this.activate=function(){if(!this._active&&this._inited){if(this.generalSettings.mode===r.bfaMode.prod){if(!window[this.settings.extTrackerGlobalName])return;var e=window[this.settings.extTrackerGlobalName];!this.staticTracker&&this._canInitializeTracker("static")&&(this.staticTracker=e.getInstance("static_instance"),this.staticTracker.ggInitialize(this.settings.staticConfig)),!this.videoTracker&&this._canInitializeTracker("video")&&(this.videoTracker=e.getInstance("video_instance"),this.videoTracker.ggInitialize(this.settings.videoConfig))}this.page&&(l._active=!0,t.moduleActive.dispatch())}},t.onGeneralSettingsChange(function(){l.generalSettings=t.getGeneralSettings()},this),t.onPageReady(function(){l.page=t.getPageInfo(),l.activate()},this),this.getEventInfo=function(e,n,i){var r=t.tryConvertToEventInfo(e,n,i);return t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,r)?(r.data.page=this.page,r):(t.log.warn("Event won't be tracked to Nielsen because of `Event type` and `Tracking behavior`. Type: "+r.t+"; Name: "+r.n+"; Location: "+r.l+"; Desc: "+r.d+";"),null)},this._trackPage=function(e){if(!this._active)return void t.moduleActive.addOnce(i.bind(this._trackPage,this,e),this);if(!t.mapper.isExists("track/page/view"))return void t.log.warn("Mapping for `track/page/view` doesn't exist");var n=this.getEventInfo(e,"page","view");if(n){var a=t.mapper.map("track/page/view",n,{});this.generalSettings.mode===r.bfaMode.prod?this.staticTracker.ggPM("staticstart",a):t.debugTracker.trackEvent(n,a)}},t.subOn("track/page/view",this._trackPage,this),this._trackVideo=function(u,c){if(!this._active)return void t.moduleActive.addOnce(i.bind(this._trackVideo,this,u,c),this);if(!t.mapper.isExists("track/video"))return void t.log.warn("Mapping for `track/video` doesn't exist");var l=this.getEventInfo(u,"video",c.eventName);if(l){var d=t.mapper.map("track/video",l,{});if(this.generalSettings.mode===r.bfaMode.prod)switch(c.eventName){case"load":e(d);break;case"play":a(d);break;case"pause":o(d);break;case"finish":s(d);break;case"scrub":n(d)}else t.debugTracker.trackEvent(l,d)}},t.subOn("track/video/{eventName}",this._trackVideo,this),this.init=function(){l.settings.configMapsDelegate(t.mapper),l.generalSettings.mode===r.bfaMode.prod?(l.staticTracker=l.settings.staticTracker,l.videoTracker=l.settings.videoTracker,!l.staticTracker&&!l.videoTracker&&!window[l.extTrackerGlobalName]&&l.settings.extFilesPaths&&l.settings.extFilesPaths.length>0&&t.domi.onDomReady(function(){i.forEach(l.settings.extFilesPaths,function(e){t.domi.loadScript({src:e},l.activate,null,l)})},l)):(l.staticTracker={},l.videoTracker={}),l._inited=!0,t.moduleInited.dispatch(),l.activate()}}var i=n(5),r=n(272);e.defaultId="NielsenIntegration",e.require=["logger","domi","pageInfo","mapper","trackingUtils","generalSettings","debugTracker"],t.exports=e}()},function(t,e){!function(){"use strict";t.exports=function(t){var e=t.getOrCreateMap("track/page/view");e.addMapTo("type","static"),e.addMapTo("assetid","").mapFrom(function(){var t=parseInt(Date.now()+1e10*Math.random());return t.toString(16)}),e.addMapTo("section","").mapFrom(function(){return"home"},[t.formatters.strToLowerCase]),e.addMapTo("segA","").mapFrom(function(t){return this.utils.get(t,"data.page.post.isPromoted")?"sponsored":"editorial"}),e.addMapTo("segB","").mapFrom(function(t){var e=t.data.page.platform;return e}),e.addMapTo("segC","").mapFrom("data.page.country");var n=t.getOrCreateRouter("track/video"),i=n.createConfigForRoute(function(t){return"video_view"===t.data.e});i.addMapTo("type","content"),i.addMapTo("assetid","").mapFrom("d"),i.addMapTo("isfullepisode","n"),i.addMapTo("program").mapFrom(function(t){return t.data.a||"BuzzFeed Video"}),i.addMapTo("title","").mapFrom("data.n"),i.addMapTo("length","").mapFrom(function(t){return Math.round(t.data.d)}),i.addMapTo("mediaURL","").mapFrom("data.u"),i.addMapTo("segB","").mapFrom("data.page.platform"),i.addMapTo("segC","").mapFrom("data.page.country"),i.addMapTo("airdate","").mapFrom(function(t){return t.data.ut.replace(/-/g,"").replace("T"," ").replace("Z","")}),i.addMapTo("adloadtype","2"),i.addMapTo("hasAds","0");var r=n.createConfigForRoute(function(t){return"play"===t.data.e||"resume"===t.data.e});r.addMapTo("playheadPosition","").mapFrom("data.d"),r.addMapTo("assetid","").mapFrom("d");var a=n.createConfigForRoute(function(t){return"pause"===t.data.e});a.addMapTo("playheadPosition","").mapFrom("data.d");var o=n.createConfigForRoute(function(t){return"scrub"===t.data.e});o.addMapTo("playheadPosition","").mapFrom(function(t){return parseInt(t.data.st)});var s=n.createConfigForRoute(function(t){return"100%"===t.d});s.addMapTo("playheadPosition","").mapFrom("data.d")}}()},function(t,e,n){"use strict";function i(t){var e=o.queryStringToObject(document.location.search),n={sessionId:Date.now().toString(32)+(1e8*Math.random()|0).toString(32),e2e:e.e2e_test};this._inited=!1,this._active=!1,this.generalSettings=t.getGeneralSettings(),this.settings=o.defaultsDeep(t.settings||{},n);var i=this;this.activate=function(){!i._active&&i._inited&&i.poundId&&this.page&&this.user&&!o.isUndefined(this.postSeedSocialFlags)&&!o.isUndefined(this.poundId)&&(i.pixiedust=new r,i.pixiedust.setSessionVars({session_id:i.settings.sessionId,client_id:i.poundId,source:"buzz_web"}),i.pixiedust.start({env:i.generalSettings.env,sampling_rate:i.settings.samplingRate||0,sampling_rate_options:{buzz_recommendation_impression:i.settings.poundSamplingRate||0,buzz_recommendation_click:i.settings.poundSamplingRate||0}}),i._active=!0,t.moduleActive.dispatch())},t.onGeneralSettingsChange(function(){i.generalSettings=t.getGeneralSettings()},this),t.onPageReady(function(){i.page=t.getPageInfo(),i.activate()},this),t.onUserReady(function(){i.user=t.getUserInfo(),i.activate()},this),t.onPostSeedSocialFlagsReady(function(){i.postSeedSocialFlags=t.getPostSeedSocialFlags(),i.activate()},this),t.onPoundIdReady(function(){i.poundId=t.getPoundId().poundId,i.activate()},this),this.getEventInfo=function(e,n,i){var r=t.tryConvertToEventInfo(e,n,i);return t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,r)?(r.data.page=this.page,r.data.user=this.user,r.data.seedSocialFlags=this.postSeedSocialFlags,r.data.poundId=this.poundId,r):(t.log.warn(t.moduleId+" cannot track current event. Type: "+n+"; Name: "+i+";"),null)},this._trackPage=function(e){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackPage,this,e),this);if(!t.mapper.isExists("track/page/view"))return void t.log.warn("Mapping for `pixiedust: track/page/view` doesn't exist");var n=i.getEventInfo(e,"page","view");this._trackDefault(n,"track/page/view")},t.subOn("track/page/view",this._trackPage,this),this._trackPageExit=function(e){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackPageExit,this,e),this);if(!t.mapper.isExists("track/page/exit"))return void t.log.warn("Mapping for `pixiedust: track/page/exit` doesn't exist");var n=i.getEventInfo(e,"page","exit");this._trackDefault(n,"track/page/exit",!0)},t.subOn("track/page/exit",this._trackPageExit,this),this._trackClick=function(e,n){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackClick,this,e,n),this);if(!t.mapper.isExists("track/click"))return void t.log.warn("Mapping for `track/click` doesn't exist");var i=this.getEventInfo(e,"click",n.eventName);this._trackDefault(i,"track/click",!0)},t.subOn("track/click/{eventName}",this._trackClick,this),this._trackVideo=function(e,n){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackVideo,this,e,n),this);if(!t.mapper.isExists("track/video"))return void t.log.warn("Mapping for `track/video` doesn't exist");var i=this.getEventInfo(e,"video",n.eventName);this._trackDefault(i,"track/video")},t.subOn("track/video/{eventName}",this._trackVideo,this),this._trackPound=function(e,n){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackPound,this,e,n),this);if(!t.mapper.isExists("track/pound"))return void t.log.warn("Mapping for `track/pound` doesn't exist");var i=this.getEventInfo(e,"pound",n.eventName),r=!(!i||"share"!==i.n);this._trackDefault(i,"track/pound",r)},t.subOn("track/pound/{eventName}",this._trackPound,this),this._trackImpression=function(e,n){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackImpression,this,e,n),this);if(!t.mapper.isExists("track/scroll/impression"))return void t.log.warn("Mapping for `track/scroll/impression` doesn't exist");var i=this.getEventInfo(e,"impression",n.eventName);this._trackDefault(i,"track/scroll/impression")},t.subOn("track/scroll/impression",this._trackImpression,this),this._trackPerformance=function(e){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackPerformance,this,e),this);if(!t.mapper.isExists("track/performance/metrics"))return void t.log.warn("Mapping for `pixiedust: track/performance/metrics` doesn't exist");var n=i.getEventInfo(e,"performance","metrics");this._trackDefault(n,"track/performance/metrics",!0)},t.subOn("track/performance/metrics",this._trackPerformance,this),this._trackCustomPerformance=function(e){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackCustomPerformance,this,e),this);if(!t.mapper.isExists("track/performance/custom"))return void t.log.warn("Mapping for `pixiedust: track/performance/custom` doesn't exist");var n=i.getEventInfo(e,"performance","custom");this._trackDefault(n,"track/performance/custom",!0)},t.subOn("track/performance/custom",this._trackCustomPerformance,this),this._trackAbVariation=function(e,n){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackAbVariation,this,e,n),this);if(!t.mapper.isExists("track/abtest"))return void t.log.warn("Mapping for `track/abtest` doesn't exist");var i=this.getEventInfo(e,"abtest",n.abTestName);this._trackDefault(i,"track/abtest")},t.subOn("track/abtest/{abTestName}",this._trackAbVariation,this),this._trackAbeagleRequest=function(e,n){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackAbeagleRequest,this,e,n),this);if(!t.mapper.isExists("track/abeagle/request"))return void t.log.warn("Mapping for `track/abeagle/request` doesn't exist");var i=this.getEventInfo(e,"abeagle","request");this._trackDefault(i,"track/abeagle/request")},t.subOn("track/abeagle/request",this._trackAbeagleRequest,this),this._trackQuiz=function(e,n){if(!this._active)return void t.moduleActive.addOnce(o.bind(this._trackQuiz,this,e,n),this);if(!t.mapper.isExists("track/quiz"))return void t.log.warn("Mapping for `track/quiz` doesn't exist");var i=this.getEventInfo(e,"quiz",n.eventName);this._trackDefault(i,"track/quiz")},t.subOn("track/quiz/{eventName}",this._trackQuiz,this),this._trackDefault=function(e,n,i){if(e){e.data.env=this.generalSettings.mode===a.bfaMode.prod?"prod":"dev",e.data.debug=this.generalSettings.debug;var r=t.mapper.map(n,e,{});o.keys(r).length>0&&(this.settings.e2e&&(r.e2e_test=this.settings.e2e),this.pixiedust.push(r),i&&this.pixiedust.flush(),this.generalSettings.mode!==a.bfaMode.prod&&t.debugTracker.trackEvent(e,r))}},this.init=function(){i.settings.configMapsDelegate(t.mapper),i._inited=!0,t.moduleInited.dispatch(),i.activate()}}var r=n(318),a=n(272),o=n(5);i.defaultId="PixiedustIntegration",i.require=["logger","pageInfo","userInfo","debugTracker","mapper","trackingUtils","generalSettings","postSeedSocialFlags","poundId"],t.exports=i},function(t,e,n){function i(t){var e=o.get("samplingRateOptions")||{},n=e[t.type],i=r.isFinite(n)?n:1;return Math.random()<i}var r=n(319),a=n(320),o=n(321),s=n(322),u=new a,c=function(){this.enabled=!1,this.started=!1,this.version=s,this.queue=[]};c.prototype.push=function(t){return this.enabled&&i(t)?u.push(t):(this.queue.push(t),!0)},c.prototype.start=function(t){if(this.started){if(o.get("debug"))throw new Error("Pixiedust instance may only be started once")}else if(t=t||{},o.init(t.env),o.set({samplingRate:t.sampling_rate,samplingRateOptions:r.clone(t.sampling_rate_options)}),this.enabled=Math.random()<o.get("samplingRate"),this.started=!0,o.get("debug")&&this.setupTestMethods(),this.enabled)for(;this.queue.length;)this.push(this.queue.shift())},c.prototype.setupTestMethods=function(){this.__testHistory=function(){if(!this.enabled&&o.get("debug"))throw new Error("Pixiedust is not enabled (perhaps due to sampling)");return u.getHistory()}},c.prototype.setSessionVars=u.setSessionVars,c.prototype.flush=u.sendData.bind(u),t.exports=c},function(t,e,n){var i,r;(function(){var n=this,a=n._,o=Array.prototype,s=Object.prototype,u=Function.prototype,c=o.push,l=o.slice,d=o.concat,f=s.toString,p=s.hasOwnProperty,h=Array.isArray,g=Object.keys,v=u.bind,m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=m),e._=m,m.VERSION="1.7.0";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,a){return t.call(e,n,i,r,a)}}return function(){return t.apply(e,arguments)}};m.iteratee=function(t,e,n){return null==t?m.identity:m.isFunction(t)?b(t,e,n):m.isObject(t)?m.matches(t):m.property(t)},m.each=m.forEach=function(t,e,n){if(null==t)return t;e=b(e,n);var i,r=t.length;if(r===+r)for(i=0;i<r;i++)e(t[i],i,t);else{var a=m.keys(t);for(i=0,r=a.length;i<r;i++)e(t[a[i]],a[i],t)}return t},m.map=m.collect=function(t,e,n){if(null==t)return[];e=m.iteratee(e,n);for(var i,r=t.length!==+t.length&&m.keys(t),a=(r||t).length,o=Array(a),s=0;s<a;s++)i=r?r[s]:s,o[s]=e(t[i],i,t);return o};var y="Reduce of empty array with no initial value";m.reduce=m.foldl=m.inject=function(t,e,n,i){null==t&&(t=[]),e=b(e,i,4);var r,a=t.length!==+t.length&&m.keys(t),o=(a||t).length,s=0;if(arguments.length<3){if(!o)throw new TypeError(y);n=t[a?a[s++]:s++]}for(;s<o;s++)r=a?a[s]:s,n=e(n,t[r],r,t);return n},m.reduceRight=m.foldr=function(t,e,n,i){null==t&&(t=[]),e=b(e,i,4);var r,a=t.length!==+t.length&&m.keys(t),o=(a||t).length;if(arguments.length<3){if(!o)throw new TypeError(y);n=t[a?a[--o]:--o]}for(;o--;)r=a?a[o]:o,n=e(n,t[r],r,t);return n},m.find=m.detect=function(t,e,n){var i;return e=m.iteratee(e,n),m.some(t,function(t,n,r){if(e(t,n,r))return i=t,!0}),i},m.filter=m.select=function(t,e,n){var i=[];return null==t?i:(e=m.iteratee(e,n),m.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i)},m.reject=function(t,e,n){return m.filter(t,m.negate(m.iteratee(e)),n)},m.every=m.all=function(t,e,n){if(null==t)return!0;e=m.iteratee(e,n);var i,r,a=t.length!==+t.length&&m.keys(t),o=(a||t).length;for(i=0;i<o;i++)if(r=a?a[i]:i,!e(t[r],r,t))return!1;return!0},m.some=m.any=function(t,e,n){if(null==t)return!1;e=m.iteratee(e,n);var i,r,a=t.length!==+t.length&&m.keys(t),o=(a||t).length;for(i=0;i<o;i++)if(r=a?a[i]:i,e(t[r],r,t))return!0;return!1},m.contains=m.include=function(t,e){return null!=t&&(t.length!==+t.length&&(t=m.values(t)),m.indexOf(t,e)>=0)},m.invoke=function(t,e){var n=l.call(arguments,2),i=m.isFunction(e);return m.map(t,function(t){return(i?e:t[e]).apply(t,n)})},m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matches(e))},m.findWhere=function(t,e){return m.find(t,m.matches(e))},m.max=function(t,e,n){var i,r,a=-(1/0),o=-(1/0);if(null==e&&null!=t){t=t.length===+t.length?t:m.values(t);for(var s=0,u=t.length;s<u;s++)i=t[s],i>a&&(a=i)}else e=m.iteratee(e,n),m.each(t,function(t,n,i){r=e(t,n,i),(r>o||r===-(1/0)&&a===-(1/0))&&(a=t,o=r)});return a},m.min=function(t,e,n){var i,r,a=1/0,o=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:m.values(t);for(var s=0,u=t.length;s<u;s++)i=t[s],i<a&&(a=i)}else e=m.iteratee(e,n),m.each(t,function(t,n,i){r=e(t,n,i),(r<o||r===1/0&&a===1/0)&&(a=t,o=r)});return a},m.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:m.values(t),i=n.length,r=Array(i),a=0;a<i;a++)e=m.random(0,a),e!==a&&(r[a]=r[e]),r[e]=n[a];return r},m.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=m.values(t)),t[m.random(t.length-1)]):m.shuffle(t).slice(0,Math.max(0,e))},m.sortBy=function(t,e,n){return e=m.iteratee(e,n),m.pluck(m.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var _=function(t){return function(e,n,i){var r={};return n=m.iteratee(n,i),m.each(e,function(i,a){var o=n(i,a,e);t(r,i,o)}),r}};m.groupBy=_(function(t,e,n){m.has(t,n)?t[n].push(e):t[n]=[e]}),m.indexBy=_(function(t,e,n){t[n]=e}),m.countBy=_(function(t,e,n){m.has(t,n)?t[n]++:t[n]=1}),m.sortedIndex=function(t,e,n,i){n=m.iteratee(n,i,1);for(var r=n(e),a=0,o=t.length;a<o;){var s=a+o>>>1;n(t[s])<r?a=s+1:o=s}return a},m.toArray=function(t){return t?m.isArray(t)?l.call(t):t.length===+t.length?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:t.length===+t.length?t.length:m.keys(t).length},m.partition=function(t,e,n){e=m.iteratee(e,n);var i=[],r=[];return m.each(t,function(t,n,a){(e(t,n,a)?i:r).push(t)}),[i,r]},m.first=m.head=m.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:e<0?[]:l.call(t,0,e)},m.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:l.call(t,Math.max(t.length-e,0))},m.rest=m.tail=m.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,m.identity)};var w=function(t,e,n,i){if(e&&m.every(t,m.isArray))return d.apply(i,t);for(var r=0,a=t.length;r<a;r++){var o=t[r];m.isArray(o)||m.isArguments(o)?e?c.apply(i,o):w(o,e,n,i):n||i.push(o);
}return i};m.flatten=function(t,e){return w(t,e,!1,[])},m.without=function(t){return m.difference(t,l.call(arguments,1))},m.uniq=m.unique=function(t,e,n,i){if(null==t)return[];m.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=m.iteratee(n,i));for(var r=[],a=[],o=0,s=t.length;o<s;o++){var u=t[o];if(e)o&&a===u||r.push(u),a=u;else if(n){var c=n(u,o,t);m.indexOf(a,c)<0&&(a.push(c),r.push(u))}else m.indexOf(r,u)<0&&r.push(u)}return r},m.union=function(){return m.uniq(w(arguments,!0,!0,[]))},m.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,i=0,r=t.length;i<r;i++){var a=t[i];if(!m.contains(e,a)){for(var o=1;o<n&&m.contains(arguments[o],a);o++);o===n&&e.push(a)}}return e},m.difference=function(t){var e=w(l.call(arguments,1),!0,!0,[]);return m.filter(t,function(t){return!m.contains(e,t)})},m.zip=function(t){if(null==t)return[];for(var e=m.max(arguments,"length").length,n=Array(e),i=0;i<e;i++)n[i]=m.pluck(arguments,i);return n},m.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},m.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=m.sortedIndex(t,e),t[i]===e?i:-1;i=n<0?Math.max(0,r+n):n}for(;i<r;i++)if(t[i]===e)return i;return-1},m.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=t.length;for("number"==typeof n&&(i=n<0?i+n+1:Math.min(i,n+1));--i>=0;)if(t[i]===e)return i;return-1},m.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),a=0;a<i;a++,t+=n)r[a]=t;return r};var x=function(){};m.bind=function(t,e){var n,i;if(v&&t.bind===v)return v.apply(t,l.call(arguments,1));if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");return n=l.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(l.call(arguments)));x.prototype=t.prototype;var r=new x;x.prototype=null;var a=t.apply(r,n.concat(l.call(arguments)));return m.isObject(a)?a:r}},m.partial=function(t){var e=l.call(arguments,1);return function(){for(var n=0,i=e.slice(),r=0,a=i.length;r<a;r++)i[r]===m&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},m.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=m.bind(t[n],t);return t},m.memoize=function(t,e){var n=function(i){var r=n.cache,a=e?e.apply(this,arguments):i;return m.has(r,a)||(r[a]=t.apply(this,arguments)),r[a]};return n.cache={},n},m.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},m.defer=function(t){return m.delay.apply(m,[t,1].concat(l.call(arguments,1)))},m.throttle=function(t,e,n){var i,r,a,o=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:m.now(),o=null,a=t.apply(i,r),o||(i=r=null)};return function(){var c=m.now();s||n.leading!==!1||(s=c);var l=e-(c-s);return i=this,r=arguments,l<=0||l>e?(clearTimeout(o),o=null,s=c,a=t.apply(i,r),o||(i=r=null)):o||n.trailing===!1||(o=setTimeout(u,l)),a}},m.debounce=function(t,e,n){var i,r,a,o,s,u=function(){var c=m.now()-o;c<e&&c>0?i=setTimeout(u,e-c):(i=null,n||(s=t.apply(a,r),i||(a=r=null)))};return function(){a=this,r=arguments,o=m.now();var c=n&&!i;return i||(i=setTimeout(u,e)),c&&(s=t.apply(a,r),a=r=null),s}},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},m.once=m.partial(m.before,2),m.keys=function(t){if(!m.isObject(t))return[];if(g)return g(t);var e=[];for(var n in t)m.has(t,n)&&e.push(n);return e},m.values=function(t){for(var e=m.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},m.pairs=function(t){for(var e=m.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},m.invert=function(t){for(var e={},n=m.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()},m.extend=function(t){if(!m.isObject(t))return t;for(var e,n,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(n in e)p.call(e,n)&&(t[n]=e[n])}return t},m.pick=function(t,e,n){var i,r={};if(null==t)return r;if(m.isFunction(e)){e=b(e,n);for(i in t){var a=t[i];e(a,i,t)&&(r[i]=a)}}else{var o=d.apply([],l.call(arguments,1));t=new Object(t);for(var s=0,u=o.length;s<u;s++)i=o[s],i in t&&(r[i]=t[i])}return r},m.omit=function(t,e,n){if(m.isFunction(e))e=m.negate(e);else{var i=m.map(d.apply([],l.call(arguments,1)),String);e=function(t,e){return!m.contains(i,e)}}return m.pick(t,e,n)},m.defaults=function(t){if(!m.isObject(t))return t;for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(var r in i)void 0===t[r]&&(t[r]=i[r])}return t},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t};var k=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var r=f.call(t);if(r!==f.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var a=n.length;a--;)if(n[a]===t)return i[a]===e;var o=t.constructor,s=e.constructor;if(o!==s&&"constructor"in t&&"constructor"in e&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(s)&&s instanceof s))return!1;n.push(t),i.push(e);var u,c;if("[object Array]"===r){if(u=t.length,c=u===e.length)for(;u--&&(c=k(t[u],e[u],n,i)););}else{var l,d=m.keys(t);if(u=d.length,c=m.keys(e).length===u)for(;u--&&(l=d[u],c=m.has(e,l)&&k(t[l],e[l],n,i)););}return n.pop(),i.pop(),c};m.isEqual=function(t,e){return k(t,e,[],[])},m.isEmpty=function(t){if(null==t)return!0;if(m.isArray(t)||m.isString(t)||m.isArguments(t))return 0===t.length;for(var e in t)if(m.has(t,e))return!1;return!0},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=h||function(t){return"[object Array]"===f.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){m["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return m.has(t,"callee")}),m.isFunction=function(t){return"function"==typeof t||!1},m.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&t!==+t},m.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===f.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){return null!=t&&p.call(t,e)},m.noConflict=function(){return n._=a,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return function(e){return e[t]}},m.matches=function(t){var e=m.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var i=0;i<n;i++){var r=e[i],a=r[0];if(r[1]!==t[a]||!(a in t))return!1}return!0}},m.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},S=m.invert(T),M=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};m.escape=M(T),m.unescape=M(S),m.result=function(t,e){if(null!=t){var n=t[e];return m.isFunction(n)?t[e]():n}};var I=0;m.uniqueId=function(t){var e=++I+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},E=/\\|'|\r|\n|\u2028|\u2029/g,C=function(t){return"\\"+O[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var i=RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),r=0,a="__p+='";t.replace(i,function(e,n,i,o,s){return a+=t.slice(r,s).replace(E,C),r=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return o.call(this,t,m)},u=e.variable||"obj";return s.source="function("+u+"){\n"+a+"}",s},m.chain=function(t){var e=m(t);return e._chain=!0,e};var P=function(t){return this._chain?m(t).chain():t};m.mixin=function(t){m.each(m.functions(t),function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),P.call(this,n.apply(m,t))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],P.call(this,n)}}),m.each(["concat","join","slice"],function(t){var e=o[t];m.prototype[t]=function(){return P.call(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},i=[],r=function(){return m}.apply(e,i),!(void 0!==r&&(t.exports=r))}).call(this)},function(t,e,n){function i(t){return r.object(r.map(t,function(t,e){return t=r.isNull(t)||r.isUndefined(t)?"":t,[e,t]}))}var r=n(319),a=n(321),o="\v";t.exports=function(){var t={};return{queue:[],timeout:null,history:[],push:function(e){var n=r.defaults({},e,t);if(!this.validateData(n))return!1;var i=r.last(this.queue);if(i&&i.type!==n.type)return this.sendData(),this.push(n),!0;this.queue.push(n);var o=this.getURL(this.queue);return o.length>a.get("urlLengthLimit")?(this.queue.pop(),this.sendData(),this.push(n),!0):(a.get("batch")?this.timeout||(this.timeout=setTimeout(this.sendData.bind(this),a.get("delay"))):this.sendData(),!0)},validateData:function(t){for(var e=a.get("requiredFields"),n=0,i=e.length;n<i;n++)if(!(e[n]in t)){if(a.get("debug"))throw new Error("Pixiedust required event field: "+e[n]);return!1}var o=a.get("acceptedDataTypes");for(var s in t){var u=t[s],c=typeof t[s];if(!r.isNull(u)&&!r.isUndefined(u)&&!r.contains(o,c)){if(a.get("debug"))throw new Error('Pixiedust: field "'+s+'" is invalid data type: '+c);return!1}}var l=this.getURL([t]);if(l.length>a.get("urlLengthLimit")){if(a.get("debug"))throw new Error("Pixiedust: single event exceeds url length limit",t);return!1}return!0},sendData:function(){var t;this.queue&&this.queue.length&&(t=this.getURL(this.queue),this.createPixel(t),this.history.push(t)),this.queue=[],clearTimeout(this.timeout),this.timeout=null},createPixel:function(t){(new Image).src=t},getURL:function(t){var e=r.uniq(r.flatten(r.map(t,r.keys)));r.each(t,function(t){r.each(t,function(e,n){(r.isNull(e)||r.isUndefined(e))&&(t[n]="")})}),t=r.map(t,i);var n=r.object(r.map(e,function(e){return[e,r.pluck(t,e)]}));n._z=Date.now(),n._d=o,n._n=t.length;var a=r.map(n,function(t,e){return t=r.isArray(t)?t:[t],encodeURIComponent(e)+"="+encodeURIComponent(t.join(o))});return this.url()+"?"+a.join("&")},setSessionVars:function(e){r.each(e,function(t,n){(r.isNull(t)||r.isUndefined(t))&&(e[n]="")}),t=r.extend(t,i(e))},url:function(){return a.get("trackingURL")+"/v"+a.get("apiVersion")+".gif"},getHistory:function(){return this.history.slice()}}}},function(t,e,n){function i(t){if(t in u)return u[t];var e=c[s];return e&&t in e?e[t]:l[t]}function r(t,e){var n={};o.isObject(t)?n=t:n[t]=e,o.extend(u,n)}function a(t){return c[t]?void(s=t):void console.warn("Pixiedust: environment not recognized:",t)}var o=n(319),s="dev",u={},c={dev:{trackingURL:"https://pixiedust-dev.buzzfeed.com",debug:!0},stage:{trackingURL:"https://pixiedust-stage.buzzfeed.com",debug:!0},prod:{trackingURL:"https://pixiedust.buzzfeed.com",debug:!1}};c.live=c.prod;var l={apiVersion:"1",delay:200,urlLengthLimit:2e3,batch:!0,samplingRate:0,requiredFields:["type","source","session_id"],acceptedDataTypes:["string","boolean","number"]};t.exports={init:a,get:i,set:r}},function(t,e){t.exports="1.0.0"},function(t,e){!function(){"use strict";function e(){var t={LINUX:"Linux",MAC_OS:"MacOs",UNIX:"Unix",UNKNOWN:"Unknown",WINDOWS:"Windows"},e="";return e=navigator.appVersion.indexOf("Win")!==-1?t.WINDOWS:navigator.appVersion.indexOf("Mac")!==-1?t.MAC_OS:navigator.appVersion.indexOf("X11")!==-1?t.UNIX:navigator.appVersion.indexOf("Linux")!==-1?t.LINUX:t.UNKNOWN}t.exports=function(t){function n(n,i){n.addMapTo("source","buzz_web"),n.addMapTo("client_id","").mapFrom(function(t){return this.strToInt(t.data.poundId)}),n.addMapTo("user_agent",navigator.userAgent.toLowerCase()),n.addMapTo("screen_resolution","").mapFrom(function(){return window.screen.availWidth+" x "+window.screen.availHeight}),n.addMapTo("referrer","").mapFrom(function(){return window.document.referrer}),n.addMapTo("url","").mapFrom(function(t){var e=this.utils.get(t,"data.page.uri.path",null);return null===e&&"Home"===window.BF_STATIC.page&&(e="/index"),null===e&&(e=this.utils.get(t,"data.page.uri.href")),null===e&&(e=document.location.href),0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&(e=document.location.origin+e+this.utils.get(t,"data.page.uri.search","")),e}),n.addMapTo("page","").mapFrom(function(t){return"index"===t.data.page.type?"Home":window.BF_STATIC.page}),n.addMapTo("author",""),n.addMapTo("author_id",""),n.addMapTo("buzz",""),n.addMapTo("buzz_id",""),"undefined"!=typeof i&&i.forEach(function(i){switch(i){case"page_type":n.addMapTo("page_type","feed");break;case"variation_id":n.addMapTo("variation_id","");break;case"unit":n.addMapTo("unit","").mapFrom("l",[t.formatters.strToLowerCase]);break;case"mode":n.addMapTo("mode").mapFrom("data.page.platform",[t.formatters.strToLowerCase]);break;case"page_url":n.addMapTo("page_url","").mapFrom(function(t){var e=this.utils.get(t,"data.page.uri.path",null);return"Home"===window.BF_STATIC.page&&window.BF_STATIC.page_view_url&&(e=0!==window.BF_STATIC.page_view_url.indexOf("/")?"/"+window.BF_STATIC.page_view_url:window.BF_STATIC.page_view_url),null===e&&"Home"===window.BF_STATIC.page&&(e="/index"),null===e&&(e=this.utils.get(t,"data.page.uri.href")),null===e&&(e=document.location.href),0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&(e=document.location.origin+e+this.utils.get(t,"data.page.uri.search","")),e});break;case"os":n.addMapTo("os",e());break;case"position":n.addMapTo("position","").mapFrom(function(t){return t.data&&t.data.p?this.strToInt(t.data.p):t.d?this.strToInt(t.d):void 0});break;case"content_id":n.addMapTo("content_id","").mapFrom(function(t){return t.opt.dimension2?"buzz:"+this.strToInt(t.opt.dimension2):t.opt.dimension3?"video:"+this.strToInt(t.opt.dimension3):void 0});break;case"post_category":n.addMapTo("post_category","");break;case"unit_client_id":n.addMapTo("unit_client_id","")}})}t.addUtility("capitalize",function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),t.addUtility("isNumeric",function(t){return!isNaN(parseFloat(t))&&isFinite(t)}),t.addUtility("strToInt",function(t){var e=parseInt(t);return!isNaN(e)&&isFinite(e)?e:""}),t.addUtility("getIdFromObjectId",function(t){return"string"==typeof t&&t.indexOf(":")>-1&&(t=t.split(":")[1]),t});var i=t.getOrCreateRouter("track/page/view"),r=i.createConfigForRoute(function(t){var e=/\?p=(\d)/,n=this.utils.get(t,"data.url","");return""===n||!n.match(e)});n(r),r.addMapTo("type","pageview");var a=t.getOrCreateRouter("track/page/exit"),o=a.createConfigForRoute(function(t){return"exit"===t.n});n(o,["post_category"]),o.addMapTo("type","page_exit"),o.addMapTo("page").mapFrom(function(){if(window.BF_STATIC)return window.BF_STATIC.page});var s=t.getOrCreateRouter("track/click"),u=s.createConfigForRoute(function(t){return"Nav"===t.l});n(u,["mode","os","page_url","content_id","position","unit","variation_id","unit_client_id","post_category","page_type"]),u.addMapTo("type","unit_click");var c=s.createConfigForRoute(function(t){return t.data.fromUW?(c.addMapTo("unit_client_id",this.strToInt(t.data.poundId)),c.addMapTo("content_id","buzz:"+t.data.adbuzzid),c.addMapTo("position",t.d),!1):"click:open-share-sheet"!==t.n&&("Feed"===t.l||"Thumbstrip"===t.l||"Sidebar"===t.l||"Search"===t.l||"RightRail"===t.l)});n(c,["mode","page_url","os","position","post_category","content_id","unit_client_id","page_type","variation_id","unit"]),c.addMapTo("type","unit_click");var l=t.getOrCreateRouter("track/video"),d=["share","click:native-video-play","native-video:autoplay","video:spinner","video:playback"],f=l.createConfigForRoute(function(t){return"in_feed"===t.l&&(!t.n||t.n&&d.indexOf(t.n)===-1)});n(f,["mode","page_url","os","position","content_id","page_type","unit","unit_client_id","post_category","variation_id"]),f.addMapTo("type","").mapFrom("data.e",[t.formatters.strToLowerCase]),f.addMapTo("orientation").mapFrom("data.o",[t.formatters.strToLowerCase]),f.addMapTo("player_location","").mapFrom("l",[t.formatters.strToLowerCase]),f.addMapTo("duration","").mapFrom(function(t){return this.strToInt(t.data.d)}),f.addMapTo("play_start_type").mapFrom("data.s",[t.formatters.strToLowerCase]),f.addMapTo("audio_volume").mapFrom("data.v",[t.formatters.strToLowerCase]),f.addMapTo("video_ts").mapFrom(function(t){return this.strToInt(t.data.t)});var p=t.getOrCreateRouter("track/scroll/impression"),h=p.createConfigForRoute(function(t){var e=5,n="dev"===t.data.env||t.data.debug;return"scroll"===t.t&&"Feed"===t.l&&!this.utils.isUndefined(t.data)&&!this.utils.isUndefined(t.data.obj_id)&&this.isNumeric(this.getIdFromObjectId(t.data.obj_id))&&(!this.utils.isUndefined(t.data.poundId)&&!this.utils.isUndefined(t.data.poundId)&&t.data.poundId.poundId%(1/(e/100))===e||n)});n(h,["mode","page_url","os","position","content_id","unit_client_id","post_category","variation_id","unit","page_type"]),h.addMapTo("type","unit_impression");var g=t.getOrCreateRouter("track/click"),v=g.createConfigForRoute(function(t){return"Share"===t.l});n(v,["mode","page_url","os","position","content_id"]),v.addMapTo("type","share"),v.addMapTo("unit","feed"),v.addMapTo("share_type","").mapFrom("d"),v.addMapTo("share_activity_source","").mapFrom(function(t){return"click:feed-module"===t.n?"on_screen":"share_sheet"}),v.addMapTo("share_button_location","feed_module"),v.addMapTo("share_tap_outcome","");var m=t.getOrCreateMap("track/performance/metrics");m.addMapTo("type","website_performance"),m.addMapTo("source","buzz_web"),m.addMapTo("platform","obiwan"),m.addMapTo("client_id","").mapFrom("data.poundId"),m.addMapTo("be_tcp","").mapFrom("data.connectTime"),m.addMapTo("be_dns","").mapFrom("data.lookupDomainTime"),m.addMapTo("be_latency","").mapFrom(function(t){return t.data.responseEnd-t.data.fetchStart}),m.addMapTo("be_time","").mapFrom(function(t){return t.data.responseStart-t.data.navigationStart}),m.addMapTo("fe_firstpaint","").mapFrom("data.firstPaintTime"),m.addMapTo("fe_page_load","").mapFrom(function(t){return t.data.loadEventEnd-t.data.responseEnd}),m.addMapTo("fe_page_load_full","").mapFrom(function(t){return t.data.loadEventEnd-t.data.navigationStart}),m.addMapTo("fe_time","").mapFrom(function(t){return t.data.loadEventEnd-t.data.responseStart})}}()},function(t,e){!function(){"use strict";function e(t){var e={trackingBehavior:t.defs.trackingBehavior.byDefault,extTrackerGlobalName:"pintrk",tracker:null,configMapsDelegate:null,extFilesPaths:[],pinterestTagId:"2615790681679"};this._inited=!1,this._active=!1,this.settings=t.utils.defaultsDeep(t.settings||{},e),this.generalSettings=t.getGeneralSettings();var n=this;return this.activate=function(){if(!n._active&&n._inited){if(!this.tracker&&this.generalSettings.mode===t.defs.bfaMode.prod){if(!window[this.settings.extTrackerGlobalName])return;this.tracker=window[this.settings.extTrackerGlobalName],this.tracker("load",this.settings.pinterestTagId)}this.page&&(this._active=!0,t.moduleActive.dispatch())}},t.onGeneralSettingsChange(function(){n.generalSettings=t.getGeneralSettings()},this),t.onPageReady(function(){n.page=t.getPageInfo(),n.activate()},this),this.getEventInfo=function(e,n,i){var r=t.tryConvertToEventInfo(e,n,i);return t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,r)?(r.data.page=this.page,r):(t.log.warn(t.moduleId+" cannot track current event. Type: "+n+"; Name: "+i+";"),null)},this._trackDefault=function(e,n){if(e&&null!==n&&t.utils.keys(n).length>0)switch(this.generalSettings.mode){case t.defs.bfaMode.prod:this.tracker(e.t,n);break;default:t.debugTracker.trackEvent(e,n)}},this._trackPage=function(e){if(!this._active)return void t.moduleActive.addOnce(t.utils.bind(this._trackPage,this,e),this);var n=this.getEventInfo(e,"page","view");if(!t.mapper.isExists("track/page/view"))return void t.log.warn("Mapping for `track/page/view` doesn't exist");var i=t.mapper.map("track/page/view",n,{});this._trackDefault(n,i)},t.subOn("track/page/view",this._trackPage,this),{init:function(){n.settings.configMapsDelegate(t.mapper),n.generalSettings.mode===t.defs.bfaMode.prod?(n.tracker=n.settings.tracker,!n.tracker&&!window[n.settings.extTrackerGlobalName]&&n.settings.extFilesPaths&&n.settings.extFilesPaths.length>0&&(window[n.settings.extTrackerGlobalName]=function(){window[n.settings.extTrackerGlobalName].queue.push(Array.prototype.slice.call(arguments))},window[n.settings.extTrackerGlobalName].queue=[],window[n.settings.extTrackerGlobalName].version="3.0",t.domi.onDomReady(function(){t.utils.forEach(n.settings.extFilesPaths,function(e){t.domi.loadScript({src:e},n.activate,null,n)})},n))):n.tracker={},n._inited=!0,t.moduleInited.dispatch(),n.activate()}}}e.defaultId="pinterestIntegration",e.require=["logger","domi","pageInfo","mapper","trackingUtils","generalSettings","debugTracker"],t.exports=e}()},function(t,e){!function(){"use strict";t.exports=function(t){var e=t.getOrCreateMap("track/page/view");e.addMapTo("page_name","").mapFrom(function(t){var e=this.utils.trim(t.data.page.uri.cleanedPath,"/").toLowerCase();return""===e||"index"===e?"Home":e}),e.addMapTo("page_category","").mapFrom(function(t){var e=this.utils.get(t,"data.page.category","");return e||(e=this.utils.trim(t.data.page.uri.cleanedPath,"/").toLowerCase(),e&&"index"!==e||(e="")),e},[t.formatters.strToLowerCase])}}()}]);