"use strict";void 0===window.console&&(window.console={log:function(){},debug:function(){}});void 0===window.localStorage&&(window.localStorage={getItem:function(){},setItem:function(){}});"undefined"==typeof JSON&&(JSON={stringify:function(){},parse:function(){}});Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;(n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=t);for(;n<t;n++)if(n in this&&this[n]===e)return n;return-1});"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n});Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(a){if("object"!=typeof a&&("function"!=typeof a||null===a))throw new TypeError("Object.keys called on non-object");var o,r,s=[];for(o in a)e.call(a,o)&&s.push(o);if(t)for(r=0;i>r;r++)e.call(a,n[r])&&s.push(n[r]);return s}}());Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,i=arguments.length>=2?arguments[1]:void 0,a=0;a<n;a++)if(a in t&&e.call(i,t[a],a,t))return!0;return!1});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n);t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();String.prototype.includes||(String.prototype.includes=function(e,t){"number"!=typeof t&&(t=0);return!(t+e.length>this.length)&&-1!==this.indexOf(e,t)});window.Demandbase=window.Demandbase||{};window.Demandbase.Config=window.Demandbase.Config||{};window.Demandbase.Config.hooks=window.Demandbase.Config.hooks||{};window.Demandbase.Config.ads=window.Demandbase.Config.ads||{};window.Demandbase.Config.analytics=window.Demandbase.Config.analytics||{};window.Demandbase.Config.tokens=window.Demandbase.Config.tokens||{};window.Demandbase.Config.forms=window.Demandbase.Config.forms||{};window.Demandbase.Config.SiteOptimization=window.Demandbase.Config.SiteOptimization||{};window.Demandbase.Config.ExtendedCompanyTargeting=window.Demandbase.Config.ExtendedCompanyTargeting||{};window.Demandbase.Connectors=window.Demandbase.Connectors||{};var Demandbase;!function(e){e.version="5.6.3.1"}(Demandbase||(Demandbase={}));var Demandbase;!function(e){!function(e){!function(e){var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,i=/^(eval@)?(\[native code\])?$/;e.parse=function(e){return void 0!==e.stacktrace||void 0!==e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(n)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):void 0};e.extractLocation=function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]};e._parseInt=function(e,t){void 0===t&&(t=10);if(e)return parseInt(e,t)};e.parseV8OrIE=function(e){return e.stack.split("\n").filter(function(e){return!!e.match(n)},this).map(function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(t.pop());return{function:t.join(" ")||void 0,file:["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0],line:this._parseInt(n[1]),column:this._parseInt(n[2])}},this)};e.parseFFOrSafari=function(e){return e.stack.split("\n").filter(function(e){return!e.match(i)},this).map(function(e){e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1"));if(-1===e.indexOf("@")&&-1===e.indexOf(":"))return{function:e};var t=e.split("@"),n=this.extractLocation(t.pop());return{function:t.join("@")||void 0,file:n[0],line:this._parseInt(n[1]),column:this._parseInt(n[2])}},this)};e.parseOpera=function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)};e.parseOpera9=function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),i=[],a=2,o=n.length;a<o;a+=2){var r=t.exec(n[a]);r&&i.push({file:r[2],line:this._parseInt(r[1])})}return i};e.parseOpera10=function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),i=[],a=0,o=n.length;a<o;a+=2){var r=t.exec(n[a]);r&&i.push({function:r[3]||void 0,file:r[2],line:this._parseInt(r[1])})}return i};e.parseOpera11=function(e){return e.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(e){var t,n=e.split("@"),i=this.extractLocation(n.pop()),a=n.shift()||"",o=a.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;a.match(/\(([^\)]*)\)/)&&(t=a.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));void 0===t||"[arguments not available]"===t||t.split(",");return{function:o,file:i[0],line:this._parseInt(i[1]),column:this._parseInt(i[2])}},this)}}(e.ErrorStackParser||(e.ErrorStackParser={}))}(e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));var Demandbase;!function(e){!function(t){!function(n){function i(e){var t={referrer:document.referrer,page:document.URL,page_title:document.title};if(window.Demandbase.Config.isInIFrame){t.page=document.referrer;try{t.referrer=window.top.document.referrer;t.page_title=window.top.document.title}catch(e){t.referrer=null;t.page_title="3rd Party iFrame"}}return a(t=Object.assign(t,e))}function a(e){var t="?";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t=t.substring(0,t.length-1)}n.buildApiParamString=i;n.buildApiUrl=function(n,a){var o=n||t.Constants.URL_IP_API;o+=i(a);e.ExtendedCompanyTargeting&&(o+=e.ExtendedCompanyTargeting.buildParamString());return o};n.buildQueryString=a}(t.Api||(t.Api={}))}(e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Object.assign(e.Demandbase.utils,e.Demandbase.utils,{buildApiParamString:Demandbase.Utilities.Api.buildApiParamString,buildApiUrl:Demandbase.Utilities.Api.buildApiUrl,buildQueryString:Demandbase.Utilities.Api.buildQueryString})}(window);var Demandbase;!function(e){!function(t){!function(t){t.callbackStack=[];t.callback=function(n){for(var i=0;i<t.callbackStack.length;i++)!function(i){var a=t.callbackStack[i];e.ErrorReporter.wrap(function(){a.call(window.Demandbase,n)})()}(i)};t.domScriptCallback=function(t){e.IpApi.CompanyProfile=e.Utilities.flatten(t);this.callback(t)};t.registerCallback=function(n){if(-1===t.callbackStack.indexOf(n)){t.callbackStack.push(n);window.Demandbase.IP.CompanyProfile&&e.ErrorReporter.wrap(function(){n.call(window.Demandbase,window.Demandbase.IP.CompanyProfile)})()}}}(t.Callbacks||(t.Callbacks={}))}(e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Object.assign(e.Demandbase.utils,e.Demandbase.utils,{callback:Demandbase.Utilities.Callbacks.callback.bind(Demandbase.Utilities.Callbacks),registerCallback:Demandbase.Utilities.Callbacks.registerCallback.bind(Demandbase.Utilities.Callbacks)})}(window);var Demandbase;!function(e){!function(e){!function(e){e.QS_USE_TEST_DOMAIN="db_useTestDomain";e.QS_QUERY_DOMAIN="db_domain";e.QS_ENABLE_LOG="db_logging";e.QS_ENABLE_DEBUG="db_debug";e.QS_ENABLE_TEST_MODE="db_testMode";e.TEST_MODE_NAME="dbtme";e.DFLT_NON_COMPANY="(Non-Company Visitor)";e.DFLT_AW_EMPTY="(AccountWatch Empty)";e.DFLT_NON_AW="(Non-AccountWatch Visitor)";e.DFLT_EVENT_TYPE="click";e.URL_IP_API="api.demandbase.com/api/v2/ip.json";e.URL_DOMAIN_API="api.demandbase.com/api/v1/domain.json";e.URL_AD_PIXEL=window.Demandbase.Config.tokens.URL_AD_PIXEL||"d.company-target.com/pixel?type=js&id=";e.URL_CURRENT=function(){var e=document.URL;window.Demandbase.Config.isInIFrame&&(e=document.referrer);return e=encodeURIComponent(e)}();e.PROTOCOL="https:"==document.location.protocol?"https://":"http://"}(e.Constants||(e.Constants={}))}(e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Object.assign(e.Demandbase.utils,e.Demandbase.utils,{tokens:Demandbase.Utilities.Constants})}(window);var Demandbase;!function(e){!function(e){var t=function(){function t(e){void 0===e&&(e={});this.ssid=e.ssid||null;this.tuuid=e.tuuid||null;this.createdAt=e.createdAt||new Date;this.updatedAt=e.updatedAt||new Date}t.fetch=function(){return this.fromJSON(e.DataStorage.store.getItem("DemandbaseDataStorage")||"{}")};t.initialize=function(){e.DataStorage.setStore()};t.fromJSON=function(e){void 0===e&&(e="{}");var n=JSON.parse(e),i=new Date,a=new Date;n.createdAt&&(i=new Date(n.createdAt));n.updatedAt&&(a=new Date(n.updatedAt));return new t({ssid:n.ssid,tuuid:n.tuuid,createdAt:i,updatedAt:a})};t.prototype.toJSON=function(){return JSON.stringify({ssid:this.ssid,tuuid:this.tuuid,createdAt:this.createdAt.toJSON(),updatedAt:this.updatedAt.toJSON()})};t.update=function(e){void 0===e&&(e={});t.fetch().update(e)};t.prototype.update=function(e){void 0===e&&(e={});this.ssid=e.ssid;this.tuuid=e.tuuid;this.updatedAt=new Date;this.save()};t.prototype.save=function(){e.DataStorage.store.setItem("DemandbaseDataStorage",this.toJSON())};t.prototype.isStale=function(){var e=new Date((new Date).setDate((new Date).getDate()-30));return this.updatedAt<=e};t.setStore=function(){e.isLocalStorageEnabled()?e.DataStorage.setDefaultStore():e.isCookieEnabled()?e.DataStorage.setCookieStore():e.DataStorage.setMemoryStore()};t.setDefaultStore=function(){e.DataStorage.store=window.localStorage};t.setCookieStore=function(){var t=this;e.DataStorage.store={getItem:function(e){return e&&t.hasOwnProperty(e)?window.decodeURIComponent(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+window.encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return window.decodeURIComponent(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(t,n){if(t){document.cookie=window.encodeURIComponent(t)+"="+window.encodeURIComponent(n)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/";e.DataStorage.store.length=document.cookie.match(/\=/g).length}},length:0,removeItem:function(n){if(n&&t.hasOwnProperty(n)){document.cookie=window.encodeURIComponent(n)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";e.DataStorage.store.length--}},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+window.encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}};e.DataStorage.store.length=(document.cookie.match(/\=/g)||e.DataStorage.store).length};t.setMemoryStore=function(){e.DataStorage.store={_data:{},length:0,setItem:function(t,n){e.DataStorage.store.length++;return e.DataStorage.store._data[t]=String(n)},getItem:function(t){return e.DataStorage.store._data.hasOwnProperty(t)?e.DataStorage.store._data[t]:void 0},removeItem:function(t){e.DataStorage.store.length--;return delete e.DataStorage.store._data[t]},clear:function(){e.DataStorage.store.length=0;return e.DataStorage.store._data={}}}};return t}();e.DataStorage=t}(e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var t=function(){function t(t){void 0===t&&(t={});this.name=t.name||"";this.modify=t.modify||null;this.segments=t.segments||[];this.url=t.url||[];this.modify||(this.modify=function(){e.Utilities.Logging.log("DBContent: modify function not defined")});"string"==typeof this.segments&&(this.segments=[this.segments]);"string"==typeof this.url&&(this.url=[this.url])}t.prototype.run=function(){var t=!1;for(var n in this.url)if(this.url.hasOwnProperty(n)){var i=this.url[n];window.Demandbase.utils.isCurrentPage(i)&&(t=!0)}if(t){var a=!1;for(var n in this.segments)if(this.segments.hasOwnProperty(n)){var o=this.segments[n],r=window.Demandbase.Segments[o];void 0!==r&&r&&(a=!0)}if(!a){e.Utilities.Logging.log("DBContent modify "+this.name+" not fired.  Segment "+o);return!1}e.Utilities.Logging.log("DBContent: running modify function for: "+this.name);this.modify.call(document);return!0}e.Utilities.Logging.log("DBContent modify "+this.name+" not fired. no URL match with: "+this.url);return!1};return t}();e.DBContent=t}(Demandbase||(Demandbase={}));var Demandbase;!function(e){!function(t){function n(t){if(!t)return!1;var n=["name","segments","pages","modify"];if("function"!=typeof t.modify){e.Utilities.Logging.log("DBContentBuilder: invalid type in config.");return!1}for(var i=0;i<n.length;i++)if(void 0===t[n[i]]){e.Utilities.Logging.log("DBContentBuilder: invalid config missing: "+n[i]);return!1}return!0}t.isValid=n;t.build=function(t){if(n(t)){"string"==typeof t.pages?t.url=[t.pages]:t.url=t.pages;"string"==typeof t.segments&&(t.segments=[t.segments]);return new e.DBContent(t)}return null}}(e.DBContentBuilder||(e.DBContentBuilder={}))}(Demandbase||(Demandbase={}));var Demandbase;!function(e){!function(t){!function(t){function n(t,n,i){if(!t){e.Utilities.Logging.log("Event not registered - invalid element/s.");return null}t.jquery&&(t=t[0]);e.Utilities.addEventListener(t,n,i);e.Utilities.Logging.log("Event Listener bind to: "+t+" on event "+n);return!0}function i(t){for(var n=!1,i=["elements","listener"],a=t.elements||null,o=t.listener||null,r=(window.Demandbase.utils,0);r<i.length;r++)if(void 0===t[i[r]]||!t[i[r]]){e.Utilities.Logging.log("Invalid Event object. Missing: "+i[r]);return!1}if("function"!=typeof o){e.Utilities.Logging.log('Invalid Event: "listener" must be a function. Got ('+o+")");return!1}a instanceof Node||a instanceof NodeList||a instanceof HTMLElement||a instanceof HTMLCollection||a instanceof Window||a instanceof Document||"function"==typeof a||void 0!==window.Demandbase.jQuery&&a instanceof window.Demandbase.jQuery?n=!0:e.Utilities.Logging.log("Invalid Event:  element: "+a+' has type: "'+a.constructor+'" which is not proper instance type.');return n}t.add=function(t){var a=!0;if(!i(t)){e.Utilities.Logging.log("Event not added.");return!1}var o=t.type||window.Demandbase.utils.tokens.DFLT_EVENT_TYPE,r=t.elements,s=r.constructor;if(s!==HTMLCollection&&s!==NodeList)return n(t.elements,o,t.listener);for(var d in r)if(r.hasOwnProperty(d)&&!n(r[d],o,t.listener)){a=!1;e.Utilities.Logging.log("Event not added to"+r[d])}return a};t._attachListener=n;t.isValid=i}(t.Events||(t.Events={}))}(e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Object.assign(e.Demandbase.utils,e.Demandbase.utils,{events:Demandbase.Utilities.Events})}(window);var Demandbase;!function(e){!function(t){!function(t){function n(t){(window.Demandbase.Config.logging||"true"===e.Utilities.getQueryParam(e.Utilities.Constants.QS_ENABLE_LOG))&&console.log("DB: "+t)}t.logging=!1;t.debug=!1;t.alert=function(e){n(e)};t.log=n}(t.Logging||(t.Logging={}))}(e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Object.assign(e.Demandbase.utils,e.Demandbase.utils,{logging:Demandbase.Utilities.Logging.logging,debug:Demandbase.Utilities.Logging.debug,alert:Demandbase.Utilities.Logging.alert.bind(Demandbase.Utilities.Logging),log:Demandbase.Utilities.Logging.log.bind(Demandbase.Utilities.Logging)})}(window);var Demandbase;!function(e){!function(e){e.addEventListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent(t,n)};e.detectIFrame=function(){return window.top!==window.self};e.dig=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=e,a=0,o=t;a<o.length;a++){var r=o[a];if(void 0===i)return;i="function"==typeof r?r(i):i[r]}return i};e.flatten=function(e){for(var t in e){var n=e[t];if("object"==typeof n&&null!==n&&e.hasOwnProperty(t)){for(var i in n)e[t+"_"+i]=n[i];delete e[t]}}return e};e.getAttributeValue=function(e,t){var n={city:"registry_city",state:"registry_state",zip:"registry_zip_code",country:"registry_country_code",country_name:"registry_country",latitude:"registry_latitude",longitude:"registry_longitude"},i=window.Demandbase.Config.nonCompanyDefault||window.Demandbase.utils.tokens.DFLT_NON_COMPANY,a=window.Demandbase.Config.emptyWatchDefault||window.Demandbase.utils.tokens.DFLT_AW_EMPTY,o=n[t]||"",r=e[t]||e[o]||i,s=(e.company_name||i)!==i,d=Object.keys(e).some(function(e){return 0===e.indexOf("watch_list_")});if(!1===e[t])return"false";if(-1!==t.indexOf("watch_list_")&&s){d||(a=window.Demandbase.Config.nonWatchDefault||window.Demandbase.utils.tokens.DFLT_NON_AW);r=e[t]||a}return r};e.getDocumentReadyState=function(){return document.readyState};e.getElementByIdOrName=function(e){return document.getElementById(e)||document.getElementsByName(e)[0]||null};e.getQueryParam=function(e){var t={},n=window.location.search.substring(1),i=n.split("&");if(!n)return"";for(var a=0;a<i.length;a++){var o=i[a].split("="),r=o[0],s=o[1];t[r]=s}return t[e]||""};e.isCookieEnabled=function(){return window.navigator.cookieEnabled};e.isCurrentPage=function(e,t){function n(e){return 0===e.indexOf("//")?e.substring("//".length,e.length):e.replace(/^.*?:\/\//g,"")}function i(e){return e.replace(/^(www\.)/g,"")}function a(e){-1!==e.indexOf(o,e.length-o.length)&&(e=e.substring(0,e.length-1));-1!==e.indexOf("/",e.length-"/".length)&&(e=e.substring(0,e.length-1));return e}var o="#",r=document.location.hash,s=document.location.search,d=document.location.href;window.Demandbase.Config.isInIFrame&&(d=document.referrer);if(t){var l=t.indexOf(o);-1===l&&(l=t.length);r=t.substring(t.indexOf(o),t.length);s=t.substring(t.indexOf("?"),l);d=t}e=a(e=i(e=n(e)));d=a(d=i(d=n(d)));-1===e.indexOf(o)&&-1!==d.indexOf(o)&&(d=d.substring(0,d.length-r.length));-1===e.indexOf("?")&&-1!==d.indexOf("?")&&(d=d.substring(0,d.length-s.length));return(d=a(d))===e};e.isLocalStorageEnabled=function(){try{localStorage.setItem("LOCAL_STORAGE_CHECK","LOCAL_STORAGE_CHECK");localStorage.getItem("LOCAL_STORAGE_CHECK");localStorage.removeItem("LOCAL_STORAGE_CHECK");return!0}catch(e){return!1}};e.isOldBrowserOrUserAgentUnavailable=function(){try{return window.navigator.userAgent.indexOf("MSIE ")>0}catch(e){return!0}};e.insertScript=function(e,t){if(e){window.Demandbase._loadedScripts=window.Demandbase._loadedScripts||{};if(!window.Demandbase._loadedScripts[e]){window.Demandbase._loadedScripts[e]=!0;var n=document.createElement("script"),i=document.getElementsByTagName("script")[0];n.async=!0;n.id=t||"";n.src="https://"+e.replace(/(^\/\/)|(^http:\/\/)|(^https:\/\/)/,"");i.parentNode.insertBefore(n,i)}}};e.jqid=function(e){return e?"#"+e.replace(/(:|\.|\[|\]|,)/g,"\\$1"):null}}(e.Utilities||(e.Utilities={}))}(Demandbase||(Demandbase={}));!function(e){e.Demandbase.utils=e.Demandbase.utils||{};Object.assign(e.Demandbase.utils,e.Demandbase.utils,Demandbase.Utilities);Object.assign(e.Demandbase.utils,e.Demandbase.utils,{loadScript:Demandbase.Utilities.insertScript,flattenData:Demandbase.Utilities.flatten,getAttrValue:Demandbase.Utilities.getAttributeValue})}(window);var Demandbase;!function(e){var t=function(){function e(){}e.prototype.isEnabled=function(){return this.configuration.enabled};return e}();e.BaseModule=t}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var t=function(t){function n(){var e=t.call(this)||this;e.ADVERTISING_PIXEL_ID="ad";e.CONVERSION_PIXEL_ID="cn";e.RETARGETING_PIXEL_ID="rt";e.DEFAULT_CONFIGURATION={enabled:!0,key:null,reportingOnly:!1,campaigns:[],pixels:{ad:null,rt:null,cn:null},conversionTriggers:{pages:[],events:{}}};e.configuration={};e.trackConversion=e.trackConversionListener;e.load=e.initialize;e.loadPixels=e.insertPixels;e._loadPixel=e.insertPixel;e._setCampaign=e.loadCampaign;e._setEvents=e.registerEvents;Object.assign(e.configuration,e.DEFAULT_CONFIGURATION,window.Demandbase.Config.Advertising);Object.assign(e.configuration,e.configuration,window.Demandbase.Config.ads);return e}__extends(n,t);n.prototype.initialize=function(){this.loadCampaign();this.insertPixels();this.registerEvents();!0===this.configuration.reportingOnly&&this.configuration.key&&this.configuration.key!==window.Demandbase.Config.key&&e.IpApiReportingOnly.get(this.configuration.key,!1)};n.prototype.isConversionPage=function(){for(var e=this.configuration.conversionTriggers.pages,t=0;t<e.length;t++){var n=e[t];if(window.Demandbase.utils.isCurrentPage(n))return!0}return!1};n.prototype.insertPixels=function(){this.insertPixel(this.ADVERTISING_PIXEL_ID);this.isConversionPage()?this.insertPixel(this.CONVERSION_PIXEL_ID):this.insertPixel(this.RETARGETING_PIXEL_ID)};n.prototype.insertPixel=function(e){var t=this.configuration.pixels[e];if(t){var n=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0],i=document.createElement("img");i.setAttribute("style","display:none");i.setAttribute("alt","Demandbase pixel");i.id="db_pixel_"+e;i.src=window.Demandbase.utils.tokens.PROTOCOL+window.Demandbase.utils.tokens.URL_AD_PIXEL+t+"&page="+window.Demandbase.utils.tokens.URL_CURRENT;n.appendChild(i)}};n.prototype.loadCampaign=function(){for(var e=this.configuration.campaigns,t=0;t<e.length;t++)for(var n=e[t],i=0;i<n.pages.length;i++){var a=n.pages[i];if(window.Demandbase.utils.isCurrentPage(a)){this.configuration.pixels=n.pixels;this.configuration.conversionTriggers=n.conversionTriggers;return}}};n.prototype.registerEvents=function(){var e=this.configuration.conversionTriggers.events;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];n.listener||(n.trackConversion?n.listener=this.trackConversionListener:n.virtualPageview&&(n.listener=this.virtualPageViewListener));window.Demandbase.utils.events.add(n)}};n.prototype.trackConversionListener=function(){window.Demandbase.Advertising.insertPixel(window.Demandbase.Advertising.CONVERSION_PIXEL_ID)};n.prototype.virtualPageViewListener=function(){window.Demandbase.Advertising.insertPixels();window.Demandbase.IP.load(void 0,!1)};return n}(e.BaseModule);e.AdvertisingModule=t}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var t=function(t){function n(){var e=t.call(this)||this;e.DEFAULT_CONFIGURATION={enabled:!0};e.configuration={};e.mods={};Object.assign(e.configuration,e.DEFAULT_CONFIGURATION,window.Demandbase.Config.Content);Object.assign(e.configuration,window.Demandbase.Config.content);return e}__extends(n,t);n.prototype.initialize=function(){e.Utilities.Callbacks.registerCallback(this.callback.bind(this));this.setup()};n.prototype.callback=function(){this.setup();this.modify()};n.prototype.setup=function(){if(void 0!==window.Demandbase.Config.content)for(var e in window.Demandbase.Config.content){var t=window.Demandbase.Config.content[e],n=window.Demandbase.DBContentBuilder.build(t);n&&(this.mods[n.name]=n)}};n.prototype.modify=function(){var t=this;return e.ErrorReporter.wrap(function(){for(var e in t.mods)t.mods.hasOwnProperty(e)&&t.mods[e].run()&&!0})()};return n}(e.BaseModule);e.ContentModule=t}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var t=function(t){function n(){var e=t.call(this)||this;e.VERSION="0.0.0";e.PROJECT_ID="141580";e.PROJECT_KEY="9a0a3519e930259f5886a7af53b0ccaa";e.DEFAULT_CONFIGURATION={environment:"production"};e.configuration={};Object.assign(e.configuration,e.DEFAULT_CONFIGURATION,window.Demandbase.Config.ErrorReporter);return e}__extends(n,t);n.prototype.initialize=function(){};n.prototype.send=function(e){var t;t=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var n="https://airbrake.io/api/v3/projects/"+this.PROJECT_ID+"/notices?key="+this.PROJECT_KEY;try{t.open("POST",n,!0);t.setRequestHeader("Content-type","application/json");t.send(this.formatMessage(e))}catch(e){}};n.prototype.wrap=function(t){var n=this;if("function"!=typeof t)throw new Error("Invalid Function: "+t);return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];try{return t.apply(n,i)}catch(t){n.send(t);e.Utilities.Logging.alert("Error: "+t+"\n"+t.stack)}}};n.prototype.formatMessage=function(e){return JSON.stringify({errors:[this.parseError(e)],context:this.parseContext(),environment:this.parseEnviroment(),session:this.parseSession(),params:this.parseParams()})};n.prototype.parseError=function(t){return{type:t.name,message:t.message,backtrace:e.Utilities.ErrorStackParser.parse(t)}};n.prototype.parseContext=function(){return{notifier:{name:"ErrorReporterModule",version:this.VERSION},environment:this.configuration.environment,version:window.Demandbase.version,url:window.location.href,userAgent:navigator.userAgent,rootDirectory:window.location.origin,readyState:document.readyState}};n.prototype.parseEnviroment=function(){return{config:window.Demandbase.Config}};n.prototype.parseSession=function(){return{companyProfile:e.Utilities.dig(e,"IP","CompanyProfile")}};n.prototype.parseParams=function(){return{}};return n}(e.BaseModule);e.ErrorReporterModule=t}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var t=function(t){function n(){var n=t.call(this)||this;n.ORIGIN="//b.company-target.com";n.DEFAULT_CONFIGURATION={enabled:!0,callback:function(e){}};n.configuration={};n.values={gpid:void 0,cid:void 0,sid:void 0,ip:void 0,impid:void 0,tuuid:void 0,dmps:void 0};Object.assign(n.configuration,n.DEFAULT_CONFIGURATION,e.Config.ExtendedCompanyTargeting);void 0!==e.Config.disableEctModule&&(n.configuration.enabled=!e.Config.disableEctModule);return n}__extends(n,t);n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&!e.Utilities.isOldBrowserOrUserAgentUnavailable()};n.prototype.initialize=function(){this.read()};n.prototype.loadIFrame=function(){e.Utilities.addEventListener(window,"message",e.ErrorReporter.wrap(this.iFrameCallback.bind(this)));switch(e.Utilities.getDocumentReadyState()){case"uninitialized":case"loading":case"loaded":e.Utilities.addEventListener(window,"DOMContentLoaded",e.ErrorReporter.wrap(this.appendIFrame.bind(this)));break;case"interactive":case"complete":default:document.body?this.appendIFrame():e.Utilities.addEventListener(window,"load",e.ErrorReporter.wrap(this.appendIFrame.bind(this)))}};n.prototype.appendIFrame=function(){if(!document.getElementById("db_ect")){var e=document.createElement("iframe");e.src=document.location.protocol+this.ORIGIN+"/ect.html";e.id="db_ect";e.height="0";e.width="0";e.style.display="none";document.body.appendChild(e)}};n.prototype.iFrameCallback=function(t){if(0===t.origin.indexOf(document.location.protocol+this.ORIGIN)){e.Utilities.DataStorage.update({ssid:t.data.ssid,tuuid:t.data.tuuid});this.read()}};n.prototype.read=function(){var t=this,n=e.Utilities.DataStorage.fetch();if(n.isStale()||!n.ssid||!n.tuuid){this.loadIFrame();if(!n.ssid&&!n.tuuid)return}this.parse(n.ssid,n.tuuid);e.IpApi.getOnce();e.ErrorReporter.wrap(function(){t.configuration.callback(t.values)})()};n.prototype.parse=function(e,t){if(e){var n={gpid:0,cid:1,sid:2,ip:3,dmps:4},i=e.split("-");this.values.gpid=i[n.gpid];this.values.cid=i[n.cid];this.values.sid=i[n.sid];this.values.ip=i[n.ip];this.values.dmps=i[n.dmps]}if(t){this.values.impid=t;this.values.tuuid=t}};n.prototype.buildParamString=function(){var t={};this.isEnabled()&&(this.values.gpid||this.values.cid||this.values.dmps||this.values.ip||this.values.sid)&&Object.assign(t,{gpid:this.values.gpid||"",cid:this.values.cid||"",dmps:this.values.dmps||"",tip:this.values.ip||"",tsid:this.values.sid||""});this.values.impid&&(t.impid=this.values.impid);return e.Utilities.Api.buildQueryString(t).replace("?","&")};return n}(e.BaseModule);e.ExtendedCompanyTargetingModule=t}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var t=function(t){function n(){var e=t.call(this)||this;e.REMOTE_MODULE_URL="scripts.demandbase.com/forms.min.js";e.DEFAULT_CONFIGURATION={enabled:void 0,emailID:null,emailFields:[]};e.configuration={};e.inserted=!1;e.setConfiguration();return e}__extends(n,t);n.prototype.initialize=function(){e.Utilities.Callbacks.registerCallback(this.whenReady.bind(this))};n.prototype.whenReady=function(){this.isMktoForms2Installed()?window.MktoForms2.whenReady(e.ErrorReporter.wrap(this.load.bind(this))):this.load()};n.prototype.load=function(){var t=!1;if("function"==typeof e.Config.isFormPage){t=e.Config.isFormPage();this.setConfiguration();t=e.Config.isFormPage()}else t=this.isFormPage();t&&!this.inserted&&this.insertForms()};n.prototype.isFormPage=function(){var t=this.configuration.emailFields;this.configuration.emailID&&t.push(this.configuration.emailID);for(var n=0;n<t.length;n++)if(e.Utilities.getElementByIdOrName(t[n]))return!0;return!1};n.prototype.isMktoForms2Installed=function(){return void 0!==window.MktoForms2&&void 0!==window.MktoForms2.whenReady};n.prototype.insertForms=function(){this.inserted=!0;window.Demandbase.Connectors.initWebForm=this.initializeWebForm;e.Utilities.insertScript(e.FormsLoader.REMOTE_MODULE_URL,"db_form_module")};n.prototype.initializeWebForm=function(t){t=t||e.Config.forms||e.Config.Forms||{};window.Demandbase.Connectors.WebForm.connect(t)};n.prototype.setConfiguration=function(){Object.assign(this.configuration,this.DEFAULT_CONFIGURATION,e.Config.Forms);void 0===this.configuration.enabled&&void 0!==e.Config.Forms&&(this.configuration.enabled=!0);Object.assign(this.configuration,this.configuration,e.Config.forms);void 0===this.configuration.enabled&&void 0!==e.Config.forms&&(this.configuration.enabled=!0)};return n}(e.BaseModule);e.FormsLoaderModule=t}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var t=function(t){function n(){var n=t.call(this)||this;n.REMOTE_MODULE_URL="https://tag.demandbase.com/shared/siteOptimization.min.js";n.REMOTE_STYLESHEET_URL="https://tag.demandbase.com/shared/siteOptimization.css";n.DEFAULT_CONFIGURATION={additionalClass:null,backgroundColorClass:null,closedTitle:"Recommended Content",companyProfile:null,cssFileURL:n.REMOTE_STYLESHEET_URL,delay:0,enabled:void 0,fadeIn:0,fontColor:null,fontName:null,googleAnalyticsTrackerName:null,isGoogleAnalyticsEnabled:!1,isRippleAnimation:!0,isSwitchersDots:!0,isSwitchersArrows:!1,itemBackgroundColor:null,mainClass:"defaultBlock",openByDefault:!1,openTitle:null,recommendationApiURL:"https://ai-personalization-prod-api.demandbase.com/recommend/",recommendationCompanyName:null,recommendationCompanyId:null,recommendationKey:null,recommendationsProtocol:"forceHTTPS",recommendationUrl:window.location.href,showCloseButton:!0,showCompanyName:!0,showFeedbackLink:!1,showIndicatorArrows:!0,showLogo:!0,showLogoWhenClosed:!0,showLogoWhenOpen:!1,showOnlyOnScroll:!1,showTitleWhenClosed:!0,showTitleWhenOpen:!0,switcherArrowsColor:"#444",widgetBackgroundColor:null,widgetContainerId:null};n.configuration={};n.inserted=!1;Object.assign(n.configuration,n.DEFAULT_CONFIGURATION,window.Demandbase.Config.SiteOptimization);n.configuration.recommendationKey=e.Config.key;return n}__extends(n,t);n.prototype.initialize=function(){e.Utilities.Callbacks.registerCallback(this.callback.bind(this))};n.prototype.callback=function(e){this.configuration.companyProfile=e;this.insertSiteOptimization()};n.prototype.insertSiteOptimization=function(){this.inserted=!0;e.Utilities.insertScript(e.SiteOptimizationLoader.REMOTE_MODULE_URL,"db_site_optimization_module")};return n}(e.BaseModule);e.SiteOptimizationLoaderModule=t}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var t=function(t){function n(){var e=t.call(this)||this;e.DEFAULT_CONFIGURATION={enabled:!0,events:null,fieldMap:null,googleAnalyticsClassicScope:2,trackerName:null};e.configuration={};e.gType="";e._cEvent=e.sendEvent;Object.assign(e.configuration,e.DEFAULT_CONFIGURATION,window.Demandbase.Config.Google_Analytics);Object.assign(e.configuration,e.configuration,window.Demandbase.Config.analytics);return e}__extends(n,t);n.prototype.initialize=function(){this.configuration.fieldMap&&e.Utilities.Callbacks.registerCallback(this.callback.bind(this));this._setEvents()};n.prototype.sendEvent=function(t,n,i){"ga"===this.gType?this._trackEvent(t,n,i):window.ga(function(){window.Demandbase.Connectors.Google_Analytics._sendEvent(t,n,i)});e.Utilities.Logging.log("Sent Custom Event:"+t+"/"+n+"/"+i)};n.prototype._setTrackerName=function(){var e=this;if(!this.configuration.trackerName)if(void 0!==window._gat&&"function"==typeof window._gat._getTrackers){var t=_gat._getTrackers();if(t.length>0){var n=t[0]._getName()||"";this.configuration.trackerName=n}}else window.ga(function(){var t=window.ga.getAll()||[];if(t.length>0){var n=t[0].get("name")||"";e.configuration.trackerName=n}})};n.prototype.callback=function(e){try{if(!e)throw new Error("Error - no data passed to callback");var t=window.Demandbase.Connectors.Google_Analytics;t._detectG();t._setTrackerName();for(var n in t.configuration.fieldMap)if(t.configuration.fieldMap.hasOwnProperty(n)){var i=n,a=t.configuration.fieldMap[n],o=window.Demandbase.utils.getAttrValue(e,a);t._var(i,a,o.toString())}t.sendEvent("Demandbase","API Resolution","IP API")}catch(e){window.Demandbase.utils.alert("GA Error: "+e+"\n"+e.stack);window.Demandbase.Connectors.Google_Analytics.sendEvent("Demandbase","API Resolution","Callback Error")}};n.prototype._detectG=function(){if(window._gaq){this.gType="ga";_gaq.push(["_addDevId","NE7T9"])}else this.gType=null;this._setGaObject();window.ga(function(){window.Demandbase.Connectors.Google_Analytics.gType="ua"});e.Utilities.Logging.log("Detected Google version: "+this.gType)};n.prototype._sendEvent=function(e,t,n){var i=this.configuration.trackerName?this.configuration.trackerName+".send":"send";window.ga(i,"event",{eventCategory:e,eventAction:t,eventLabel:n,nonInteraction:!0})};n.prototype._setCustomDimension=function(e,t){var n=this.configuration.trackerName?this.configuration.trackerName+".set":"set";window.ga(n,"dimension"+e,t)};n.prototype._setCustomVariable=function(e,t,n){var i=this.configuration.trackerName?this.configuration.trackerName+"._setCustomVar":"_setCustomVar",a=this.configuration.googleAnalyticsClassicScope||2;window._gaq.push([i,e>>0,t,n,a])};n.prototype._setEvents=function(){var t=this.configuration.events||[];if(t){var n=window.Demandbase.utils;for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];if(a.data){var o=a.data.category||"",r=a.data.action||"",s=a.data.label||"";void 0===a.listener&&o&&r&&s?a.listener=function(){window.Demandbase.Connectors.Google_Analytics.sendEvent(o,r,s);e.Utilities.Logging.log("Event listener ran")}:o&&r&&s||e.Utilities.Logging.log("Need to define a custom listener function or set data with category/action/label")}n.events.add(a)}}};n.prototype._setGaObject=function(){if(void 0===window.ga){window.GoogleAnalyticsObject="ga";window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)};window.ga.l=+new Date}};n.prototype._trackEvent=function(e,t,n){var i=this.configuration.trackerName?this.configuration.trackerName+"._trackEvent":"_trackEvent";window._gaq.push([i,e,t,n,0,1])};n.prototype._var=function(t,n,i){"ga"===this.gType?this._setCustomVariable(t,n,i):window.ga(function(){window.Demandbase.Connectors.Google_Analytics._setCustomDimension(t,i)});e.Utilities.Logging.log(t+" "+n+" : "+i)};return n}(e.BaseModule);e.Google_AnalyticsModule=t}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var t=function(t){function n(){var e=t.call(this)||this;e.DEFAULT_CONFIGURATION={enabled:!0};e.configuration={};Object.assign(e.configuration,e.DEFAULT_CONFIGURATION,window.Demandbase.Config.Google_TagManager);return e}__extends(n,t);n.prototype.initialize=function(){e.Utilities.Callbacks.registerCallback(this.callback.bind(this))};n.prototype.callback=function(t){e.Connectors.Google_TagManager.pushToDataLayer(t)};n.prototype.pushToDataLayer=function(t,n){if(!window.google_tag_manager||!window.dataLayer||"function"!=typeof dataLayer.push)return!1;var i=n?"_"+n:"";dataLayer.push(t);dataLayer.push({event:"Demandbase_Loaded"+i});e.Utilities.Logging.log("Pushed to GTM dataLayer");return!0};return n}(e.BaseModule);e.Google_TagManagerModule=t}(Demandbase||(Demandbase={}));var Demandbase;!function(e){var t=function(t){function n(){var n=t.call(this)||this;n.TEST_MODE_ENABLED="db_useTestIp";n.TEST_MODE_VALUE="db_ip";n.API_ENDPOINT="api.demandbase.com/api/v2/ip.json";n.DEFAULT_CONFIGURATION={apiKey:null,testModeEnabled:!1,testModeValue:null};n.configuration={};n.initialized=!1;n.key=n.configuration.apiKey;n.useTestValue=n.configuration.testModeEnabled;n.testValue=n.configuration.testModeValue;n.load=n.get;n._loadOnce=n.getOnce;n.CompanyProfile=void 0;n.isCalled=!1;try{Object.assign(n.configuration,n.DEFAULT_CONFIGURATION,{apiKey:e.Config.key||e.Utilities.dig(e.Config,"analytics","key")||e.Utilities.dig(e.Config,"ads","key")||e.Utilities.dig(e.Config,"forms","key"),testModeEnabled:e.Utilities.getQueryParam(n.TEST_MODE_ENABLED)||e.Config.useTestIp,testModeValue:e.Utilities.getQueryParam(n.TEST_MODE_VALUE)||e.Config.testIp});n.initialized=!0}catch(e){n.initialized=!1}return n}__extends(n,t);n.prototype.initialize=function(){try{Object.assign(this.configuration,this.configuration,{apiKey:e.Config.key||e.Utilities.dig(e.Config,"analytics","key")||e.Utilities.dig(e.Config,"ads","key")||e.Utilities.dig(e.Config,"forms","key"),testModeEnabled:e.Utilities.getQueryParam(this.TEST_MODE_ENABLED)||e.Config.useTestIp,testModeValue:e.Utilities.getQueryParam(this.TEST_MODE_VALUE)||e.Config.testIp});this.initialized=!0}catch(t){this.initialized=!1;e.ErrorReporter.send(t)}};n.prototype.get=function(t,n){var i=this;void 0===t&&(t=void 0);void 0===n&&(n=!0);this.initialized||this.initialize();if(e.Utilities.isOldBrowserOrUserAgentUnavailable()){this.getByDomScript(t,n);return e.Utilities.Logging.log("IP API query via DOM tag")}var a;a=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var o={key:t||this.configuration.apiKey,query:this.fetchIpAddress()};if(!o.key)return e.Utilities.Logging.log("IP API query cancelled - check auth key.");n&&(a.onreadystatechange=e.ErrorReporter.wrap(function(){i.responseHandler(a)}));try{a.open("GET","https://"+e.Utilities.Api.buildApiUrl(this.API_ENDPOINT,o));a.send()}catch(e){throw 0===a.status?new Error("IP API Request Blocked"):e}};n.prototype.getByDomScript=function(t,n){void 0===t&&(t=void 0);void 0===n&&(n=!0);var i={key:t||this.configuration.apiKey,query:this.fetchIpAddress(),callback:n?"Demandbase.Utilities.Callbacks.domScriptCallback":""};if(!i.key)return e.Utilities.Logging.log("IP API query cancelled - check auth key.");e.Utilities.insertScript(e.Utilities.Api.buildApiUrl(this.API_ENDPOINT,i),"db_ip_api")};n.prototype.getOnce=function(){if(this.isCalled)e.Utilities.Logging.log("IP API call halted. Already called.");else{this.isCalled=!0;this.get()}};n.prototype.fetchIpAddress=function(){return this.configuration.testModeEnabled?this.configuration.testModeValue:void 0!==e.ExtendedCompanyTargeting&&e.ExtendedCompanyTargeting.isEnabled()&&e.ExtendedCompanyTargeting.values.ip?e.ExtendedCompanyTargeting.values.ip:void 0};n.prototype.responseHandler=function(t){if(4===t.readyState&&200===t.status){var n=JSON.parse(t.responseText);this.CompanyProfile=e.Utilities.flatten(n);e.Utilities.Callbacks.callback(this.CompanyProfile)}};return n}(e.BaseModule);e.IpApiModule=t}(Demandbase||(Demandbase={}));window.Demandbase.Domain={name:"Demandbase Domain API Wrapper",key:window.Demandbase.Config.key||window.Demandbase.Config.analytics.key||window.Demandbase.Config.ads.key||window.Demandbase.Config.forms.key||"ERR_NO_AUTH_KEY",CompanyProfile:null,useTestValue:window.Demandbase.utils.getQueryParam(window.Demandbase.utils.tokens.QS_USE_TEST_DOMAIN)||window.Demandbase.Config.useTestDomain||!1,testValue:window.Demandbase.utils.getQueryParam(window.Demandbase.utils.tokens.QS_QUERY_DOMAIN)||window.Demandbase.Config.testDomain||"No Test Domain Set",_callback:function(e){if(e.domain||e.person){e=e.domain||e.person;Demandbase.Utilities.flatten(e);this.CompanyProfile=e}else Demandbase.Utilities.Logging.log("Demandbase.Domain: No company profile available for domain: "+this.getDomain())},load:function(){if("function"==typeof window.Demandbase.Config.getDomain&&void 0!==this.key){var e="",t={};e=this.useTestValue?this.testValue:this.getDomain();t={key:this.key,callback:"Demandbase.Domain._callback",query:e};Demandbase.Utilities.Logging.log("Calling Domain API...");Demandbase.Utilities.insertScript(Demandbase.Utilities.Api.buildApiUrl(Demandbase.Utilities.Constants.URL_DOMAIN_API,t),"db_domain_api")}else Demandbase.Utilities.Logging.log("Domain API query cancelled - check auth key or Config.getDomain")},getDomain:function(e){if(this.useTestValue)return this.testValue;if("function"==typeof window.Demandbase.Config.getDomain)return window.Demandbase.Config.getDomain.call(window.Demandbase.Config);Demandbase.Utilities.Logging.log("Warning: Config.getDomain fcn not defined.");return"getDomain function is not defined"}};if(void 0===window.__db)var __db={segments:null,conditions:null};window.Demandbase.DBCondition=function(e,t,n,i,a){this.name=e;this.attributeValue=t;this.operator=n;this.value=i;this.attributeName=a;this._checkValue=function(e){switch(n){case"equals":return this.attributeValue==e;case"not equals":return this.attributeValue!==e;case"contains":return-1!==this.attributeValue.indexOf(e);default:return!1}};this.evaluate=function(){n=this.operator.toLowerCase();n=window.Demandbase.DBCondition.prototype.supportedOperators[n];if("object"==typeof this.value){for(var e in this.value)if(!0===this._checkValue(this.value[e]))return!0;return!1}return this._checkValue(this.value)}};window.Demandbase.DBCondition.prototype.name="DBCondition";window.Demandbase.DBCondition.prototype.supportedOperators={"=":"equals","==":"equals",equal:"equals",equals:"equals","!=":"not equals","!==":"not equals","not equal":"not equals","not equals":"not equals",contains:"contains",contain:"contains"};window.Demandbase.DBConditionBuilder={isValid:function(e){for(var t=["name","attributeValue","operator","value","attributeName"],n=0;n<t.length;n++)if(void 0===e[t[n]])return!1;return!0},build:function(e,t){if(void 0!==e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)return e;e.attributeName||(e.attributeName=e.attribute||"NO_ATTR_SET");e.attributeValue=t[e.attribute]||"";if(!this.isValid(e))return null;var n=e.name,i=e.attributeValue,a=e.operator,o=e.value,r=e.attributeName;return new window.Demandbase.DBCondition(n,i,a,o,r)}};var DBSegment=function(e,t){this.name=e;this.rules=[];this.operator="";this.addCondition=function(e){if(!(e&&e.evaluate||void 0!==e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)){if(!(e=window.Demandbase.DBConditionBuilder.build(e,window.Demandbase.Segments.CompanyProfile)))throw new Error("Invalid Condition: "+e.name);Demandbase.Utilities.Logging.log("DBSegmentBuilder converted condition successfully...")}this.rules.push(e);switch(this.operator||DBSegment.prototype.supportedOperators.any){case"and":return this.value=this.value&&e.evaluate();case"or":return this.value=this.value||e.evaluate();default:return e.evaluate()}};this.value=this.addCondition(t)};DBSegment.prototype.name="DBSegment";DBSegment.prototype.supportedOperators={"&&":"and","&":"and",and:"and","||":"or","|":"or",or:"or",any:"or",all:"and"};window.Demandbase.DBSegmentBuilder={isValid:function(e){for(var t=["name","operator","rules"],n=0;n<t.length;n++)if(void 0===e[t[n]])return!1;return"Array"===e.rules.constructor.name},build:function(e){if(!this.isValid(e))return null;var t,n=e.name,i=e.rules[0],a=e.operator;if(i){(t=new DBSegment(n,i)).operator=DBSegment.prototype.supportedOperators[a]||DBSegment.prototype.supportedOperators.any;if(e.rules.length>1)for(var o=1;o<e.rules.length;o+=1){if(void 0===(i=e.rules[o]).constructor.prototype.name||"DBCondition"!==i.constructor.prototype.name){var r=window.Demandbase.DBConditionBuilder.build(i,void 0);r&&(i=r)}t.addCondition(i)}return t}}};window.Demandbase.Segments=window.Demandbase.Segments||{name:"Demandbase Segments",CompanyProfile:null,AccountWatchVisitor:!1,IsCompany:!1,version:"1.2.2",_debug:!1,_allConditions:[],_allSegments:[],_isInitialized:!1,_setup:function(){this._isInitialized&&this._reset();this.CompanyProfile||!window.Demandbase.IP&&!window.Demandbase.Domain||(this.CompanyProfile=window.Demandbase.IP.CompanyProfile||window.Demandbase.Domain.CompanyProfile||{});"Detailed"===this.CompanyProfile.information_level&&(this.IsCompany=!0);for(var e in this.CompanyProfile)this.CompanyProfile.hasOwnProperty(e)&&0===e.indexOf("watch_list_")&&(this.AccountWatchVisitor=!0);for(var t in this._allConditions)this._allConditions.hasOwnProperty(t)&&this._allConditions[t]&&(void 0===this._allConditions[t].constructor.prototype.name||"DBCondition"!==this._allConditions[t].constructor.prototype.name)&&this.add("condition",this._allConditions[t]);for(var n in this._allSegments)this._allSegments.hasOwnProperty(n)&&this._allSegments[n].name&&(void 0===this._allSegments[n].constructor.prototype.name||"DBSegment"!==this._allSegments[n].constructor.prototype.name)&&this.add("segment",this._allSegments[n])},_reset:function(){this._allConditions=window.Demandbase.Config.conditions||__db.conditions||[];this._allSegments=window.Demandbase.Config.segments||__db.segments||[]},load:function(){Demandbase.Utilities.Callbacks.registerCallback(this.init.bind(this))},init:function(e){window.Demandbase.Segments._debug=Demandbase.Utilities.Logging.debug||!1;window.Demandbase.Segments._allConditions=window.Demandbase.Config.conditions||__db.conditions||[];window.Demandbase.Segments._allSegments=window.Demandbase.Config.segments||__db.segments||[];var t=window.Demandbase.Segments;t.CompanyProfile=e;t._setup();t._isInitialized=!0},getActiveSegments:function(){var e=[];for(var t in this._allSegments)this._allSegments.hasOwnProperty(t)&&this._allSegments[t].value&&e.push(this._allSegments[t]);return e},getInactiveSegments:function(){var e=[];for(var t in this._allSegments)this._allSegments.hasOwnProperty(t)&&(this._allSegments[t].value||e.push(this._allSegments[t]));return e},add:function(e,t){if(!e||!t||t=={}){Demandbase.Utilities.Logging.log("Demandbase.Segments.add operation failed due to invalid/empty parameters.");return null}if("condition"===e){for(var n,i=this._allConditions.length,a=0;a<this._allConditions.length;a++)if(this._allConditions[a].name===t.name){i=a;break}(n=window.Demandbase.DBConditionBuilder.build(t,this.CompanyProfile))?this._allConditions[i]=n:Demandbase.Utilities.Logging.log("Invalid Condition (not created) from: "+JSON.stringify(t));if(void 0===t.standalone||!1!==t.standalone){var o=t.name;this.add("segment",{name:o,rules:[o],operator:DBSegment.prototype.supportedOperators.any})}}else if("segment"===e){if("segment"!==this.isValid(t))return null;t.name;for(var r,s,d=this._allSegments.length,l=t.rules||[],u=0;u<this._allSegments.length;u++)if(this._allSegments[u].name===t.name){d=u;break}for(var c=0;c<l.length;c++){var m=l[c];if(!DBSegment.prototype.supportedOperators[m]){DBSegment.prototype.supportedOperators[m]||(s=this.get("condition",m));s?l[c]=s:Demandbase.Utilities.Logging.log("Segment: "+t+" uses a Condition ("+l[c]+") that is not defined.")}}t.rules=l;if(r=window.Demandbase.DBSegmentBuilder.build(t)){this._allSegments[d]=r;if(this.hasOwnProperty(r.name))this[r.name]=r;else try{Object.defineProperty(this,r.name,{value:r.value,writable:!0})}catch(e){window.Demandbase.Segments[r.name]=r.value}}else Demandbase.Utilities.Logging.log("Invalid Segment (not created) from: "+JSON.stringify(t))}else Demandbase.Utilities.Logging.log('Invalid "type" parameter ('+e+') passed to "add" function.  Must be "segment" or "condition".')},get:function(e,t){var n=[];1===arguments.length&&(t=e);if("condition"===e){if(void 0!==t.constructor.prototype.name&&"DBCondition"===t.constructor.prototype.name)return t;n=this._allConditions}else{if(void 0!==t.constructor.prototype.name&&"DBSegment"===t.constructor.prototype.name)return t;n=this._allSegments}for(var i in n)if(this._allConditions[i].name===t)return this._allConditions[i];DBSegment.prototype.supportedOperators[t]||Demandbase.Utilities.Logging.log('No item with type: "'+e+'" found with name: '+t);return null},isValid:function(e){var t,n=["name","rules"],i=["name","attribute","operator","value"];if(!e)return!1;if(void 0!==e.constructor.prototype.name&&"DBSegment"===e.constructor.prototype.name)return"segment";if(void 0!==e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)return"condition";try{if(e.hasOwnProperty("name")&&e.hasOwnProperty("rules")){if("object"==typeof e.rules)return"segment"}else for(var a in n)if(!e.hasOwnProperty(n[a])){Demandbase.Utilities.Logging.log('Invalid DBSegment definition.  Missing property:"'+n[a]+'"');return!1}if(t)return t;for(var a in i){if(!e.hasOwnProperty(i[a])){Demandbase.Utilities.Logging.log('Invalid DBCondition definition.  Missing property:"'+i[a]+'"');return!1}t="condition"}return t}catch(e){Demandbase.ErrorReporter.send(e);return!1}}};var Demandbase;!function(e){e.initialize=function(){null==window.Demandbase.Config.isInIFrame&&(window.Demandbase.Config.isInIFrame=e.Utilities.detectIFrame());e.Utilities.DataStorage.initialize();e.Advertising=new e.AdvertisingModule;window.Demandbase.Ads=e.Advertising;if(e.Advertising.isEnabled()){e.IpApiReportingOnly=new e.IpApiModule;e.Advertising.initialize()}e.IpApi=new e.IpApiModule;window.Demandbase.IP=e.IpApi;window.Demandbase.Segments.load();window.Demandbase.Config.callback&&e.Utilities.Callbacks.registerCallback(window.Demandbase.Config.callback);e.FormsLoader=new e.FormsLoaderModule;if(e.FormsLoader.isEnabled()){e.FormsLoader.initialize();window.Demandbase.utils.loadFormModule=e.FormsLoader.load.bind(e.FormsLoader);window.Demandbase.utils.isFormPage=e.FormsLoader.isFormPage.bind(e.FormsLoader)}e.SiteOptimizationLoader=new e.SiteOptimizationLoaderModule;e.SiteOptimizationLoader.isEnabled()&&e.SiteOptimizationLoader.initialize();e.Connectors.Google_Analytics=new e.Google_AnalyticsModule;e.Connectors.Google_Analytics.isEnabled()&&e.Connectors.Google_Analytics.initialize();e.Connectors.Google_TagManager=new e.Google_TagManagerModule;e.Connectors.Google_TagManager.isEnabled()&&e.Connectors.Google_TagManager.initialize();e.ExtendedCompanyTargeting=new e.ExtendedCompanyTargetingModule;window.Demandbase.utils.ect=e.ExtendedCompanyTargeting;e.utils.ect.initialize();setTimeout(function(){e.IpApi.getOnce()},window.Demandbase.Config.ectTimeout||200);e.Content=new e.ContentModule;e.Content.isEnabled()&&e.Content.initialize();"function"==typeof window.Demandbase.Config.getDomain&&window.Demandbase.Config.getDomain()&&window.Demandbase.Domain.load();window.Demandbase._isInitialized=!0;"function"==typeof window.Demandbase.Config.onLoad&&window.Demandbase.Config.onLoad.call(window.Demandbase)}}(Demandbase||(Demandbase={}));window.Demandbase.Config.clientId="qQQxkRp0";window.Demandbase.Config.key="238a3366c6a82ca72b5dc123a7ad40b1";window.Demandbase.Config.ads={pixels:{ad:"1421361246",rt:"1421361512",cn:null},key:"b561357daf8504abd0ca9cc239218ae0",reportingOnly:!0};window.Demandbase.Config.isFormPage=function(){return"http://www.adobe.com/products/request-consultation/marketing-cloud.html?forms-mode=db"===document.location.href};window.Demandbase.Config.forms={companyID:"Form40_10",emailID:"Form40_1",fieldMap:{},autocompleteLabel:"{company_name}<br><span>{street_address}, {city}, {state}</span>",priorityMap:{company:3,ip:2,domain:1},autocompleteCount:35,autocompleteFilters:{country:function(){if(document.querySelector("form input[name='id']"))return window.Demandbase.Config.forms.countryHelper(document.getElementById("Form"+document.querySelector("form input[name='id']").value+"_14").value)},state:function(){if(document.querySelector("form input[name='id']"))return window.Demandbase.Config.forms.stateHelper(document.getElementById("Form"+document.querySelector("form input[name='id']").value+"_15").value)}},countryHelper:function(e){var t=window.Demandbase.Config.countryMapping;for(var n in t)if(t[n]===e)return n;return""},stateHelper:function(e){var t=window.Demandbase.Config.stateMapping;for(var n in t)if(t[n]===e)return n;return""},adobe_custom_mapping:function(e){e=JSON.parse(JSON.stringify(e));try{window.faasSid(e.demandbase_sid);window.faasIndustryCode(e.industry);window.faasEmpRangeCode(e.employee_count);window.faasAddress1(e.street_address);window.faasCity(e.city);window.faasZipCode(e.zip);window.faasBizPhone(e.phone);window.faasAnnualSales(e.annual_sales);window.faasWebsite(e.web_site);window.faasSic(e.primary_sic)}catch(e){window.Demandbase.utils.log(e)}},hooks:{pre_init:function(){"function"==typeof window.faasIP&&window.faasIp(window.Demandbase.IP.CompanyProfile.ip)},response:function(e){window.Demandbase.Connectors.WebForm._sourceChecker.sources,document.querySelector("form input[name='id']").value;if(e.pick){$("#Form"+$("form input[name='id']").val()+"_16").val("");$("#Form"+$("form input[name='id']").val()+"_120").val("success");window.Demandbase.Autocomplete={};window.Demandbase.Autocomplete.CompanyProfile=e.pick;return window.Demandbase.Config.forms.adobe_custom_mapping(e.pick)}if(e.input_match){$("#Form"+$("form input[name='id']").val()+"_125").val("");$("#Form"+$("form input[name='id']").val()+"_18").val("");$("#Form"+$("form input[name='id']").val()+"_17").val("");$("#Form"+$("form input[name='id']").val()+"_126").val("");$("#Form"+$("form input[name='id']").val()+"_115").val("");$("#Form"+$("form input[name='id']").val()+"_122").val("");$("#Form"+$("form input[name='id']").val()+"_16").val("");$("#Form"+$("form input[name='id']").val()+"_123").val("");$("#Form"+$("form input[name='id']").val()+"_127").val("");$("#Form"+$("form input[name='id']").val()+"_104").val("");$("#Form"+$("form input[name='id']").val()+"_33").val("");$("#Form"+$("form input[name='id']").val()+"_120").val("failure");return window.Demandbase.Config.forms.adobe_custom_mapping(window.Demandbase.IP.CompanyProfile)}}}};window.Demandbase.Config.demandbase_loaded=function(e,t){};window.Demandbase.Config.callback=function(e){if(e)try{void 0!==window.Demandbase.Config.demandbase_loaded.call&&window.Demandbase.Config.demandbase_loaded.call(window.Demandbase,e);window.Demandbase.Config.data_ip=e}catch(e){window.Demandbase.utils.log(e)}};window.Demandbase.Config.data_ip={};window.Demandbase.Config.data_person={};window.Demandbase.Config.countryMapping={AD:"546",AE:"547",AF:"555",AG:"556",AI:"557",AL:"558",AM:"559",AN:"560",AO:"561",AQ:"562",AR:"563",AT:"590",AU:"600",AW:"609",AZ:"610",BA:"611",BB:"612",BD:"613",BE:"614",BF:"624",BG:"625",BH:"635",BI:"636",BJ:"637",BM:"638",BN:"639",BO:"640",BR:"641",BS:"669",BT:"670",BW:"671",BY:"672",BZ:"673",CA:"674",CC:"688",CD:"689",CF:"690",CG:"691",CH:"692",CI:"719",CK:"720",CL:"721",CM:"737",CN:"738",CO:"771",CR:"807",CV:"810",CX:"811",CY:"812",CZ:"813",DE:"822",DJ:"839",DK:"840",DM:"857",DO:"858",DZ:"859",EC:"860",EE:"862",EG:"863",EH:"867",ER:"868",ES:"869",ET:"920",FI:"921",FJ:"928",FK:"929",FM:"930",FO:"931",FR:"932",GA:"1034",GB:"1035",GD:"1230",GE:"1231",GF:"1232",GH:"1233",GI:"1234",GL:"1235",GM:"1236",GN:"1237",GP:"1238",GQ:"1239",GR:"1240",GS:"1294",GT:"1295",GW:"1296",GY:"1297",HK:"1298",HN:"1305",HR:"1306",HT:"1328",HU:"1329",ID:"1370",IE:"1398",IL:"1425",IN:"1432",IO:"1468",IQ:"1469",IS:"1471",IT:"1472",JM:"1577",JO:"1578",JP:"1579",KE:"1627",KG:"1629",KH:"1630",KI:"1631",KM:"1632",KN:"1633",KR:"1635",KW:"1653",KY:"1654",KZ:"1655",LA:"1669",LB:"1670",LC:"1671",LI:"1672",LK:"1673",LR:"1674",LS:"1675",LT:"1676",LU:"1677",LV:"1678",LY:"1679",MA:"1680",MC:"1681",MD:"1682",ME:"1725",MG:"1726",MH:"1727",MK:"1728",ML:"1729",MM:"1730",MN:"1731",MO:"1732",MQ:"1733",MR:"1734",MS:"1735",MT:"1736",MU:"1737",MV:"1738",MW:"1739",MX:"1740",MY:"1774",MZ:"1793",NA:"1794",NC:"1795",NE:"1796",NF:"1797",NG:"1798",NI:"1799",NL:"1800",NO:"1817",NP:"1837",NR:"1838",NU:"1842",NZ:"1843",OM:"1856",PA:"1857",PE:"1858",PF:"1883",PG:"1884",PH:"1885",PK:"1986",PL:"1994",PM:"2044",PN:"2045",PS:"2046",PT:"2047",PY:"2088",QA:"2089",RE:"2090",RO:"2091",RS:"2134",RU:"2135",RW:"2247",SA:"2248",SB:"2249",SC:"2250",SE:"2252",SG:"2274",SH:"2276",SI:"2277",SJ:"2338",SK:"2339",SL:"2344",SM:"2345",SN:"2346",SO:"2347",SR:"2348",ST:"2349",SV:"2350",SZ:"2352",TC:"2353",TD:"2354",TG:"2355",TH:"2356",TJ:"2437",TK:"2438",TL:"2439",TM:"2440",TN:"2441",TO:"2442",TR:"2443",TT:"2523",TV:"2524",TW:"2525",TZ:"2547",UA:"2548",UG:"2578",UM:"2579",US:"2580",UY:"2641",UZ:"2644",VA:"2645",VC:"2646",VE:"2647",VG:"2674",VN:"2679",VU:"2681",WF:"2682",WS:"2683",YE:"2684",YT:"2685",ZA:"2686",ZM:"2699",ZW:"2700"};window.Demandbase.Config.stateMapping={AA:"2581",AE:"2582",AK:"2583",AL:"2584",AP:"2585",AR:"2586",AS:"2587",AZ:"2588",CA:"2589",CO:"2590",CT:"2591",DC:"2592",DE:"2593",FL:"2594",GA:"2595",GU:"2596",HI:"2597",IA:"2598",ID:"2599",IL:"2600",IN:"2601",KS:"2602",KY:"2603",LA:"2604",MA:"2605",MD:"2606",ME:"2607",MI:"2608",MN:"2609",MO:"2610",MP:"2611",MS:"2612",MT:"2613",NC:"2614",ND:"2615",NE:"2616",NH:"2617",NJ:"2618",NM:"2619",NV:"2620",NY:"2621",OH:"2622",OK:"2623",OR:"2624",PA:"2625",PR:"2626",PW:"2627",RI:"2628",SC:"2629",SD:"2630",TN:"2631",TX:"2632",UT:"2633",VA:"2634",VI:"2635",VT:"2636",WA:"2637",WI:"2638",WV:"2639",WY:"2640",AB:"675",BC:"676",MB:"677",NB:"678",NL:"679",NS:"680",NT:"681",NU:"682",ON:"683",PE:"684",QC:"685",SK:"686",YT:"687"};window.Demandbase.checkForElements=function(e,t,n){try{if(e===n)return!1;if(null===document.querySelector("form input[name='id']")||(void 0===window.Demandbase.IP.CompanyProfile||null!==window.faasIp&&"function"!=typeof window.faasIp)&&"db_company_check"===window.Demandbase.Config.forms.companyID){e++;setTimeout(window.Demandbase.checkForElements,t,e,t,n)}else{clearTimeout(e);window.Demandbase.Config.forms.companyID="Form"+document.querySelector("form input[name='id']").value+"_10";window.Demandbase.Config.forms.emailID="Form"+document.querySelector("form input[name='id']").value+"_1";!0===window.Demandbase.Config.isFormPage()&&void 0!==window.Demandbase.utils&&window.Demandbase.utils.loadFormModule()}}catch(e){window.Demandbase.utils.log(e);return!1}};window.Demandbase.Config.demandbaseFormLoad=function(){window.Demandbase.formCheck=!0;window.Demandbase.checkForElements(0,50,75)};Demandbase.ErrorReporter=new Demandbase.ErrorReporterModule;Demandbase.ErrorReporter.initialize();Demandbase.ErrorReporter.wrap(Demandbase.initialize.bind(Demandbase))();