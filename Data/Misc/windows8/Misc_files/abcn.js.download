/*! redesign-static 2018-04-20 */
if(function($){$.fn.useCombinerWidth=function(width){if(width&&this&&this[0]&&this[0].src&&this[0].tagName&&"IMG"==this[0].tagName){var imageURL=this[0].src;imageURL.match(/a[1-4]?.espncdn.com/)&&imageURL.match(/.+?img=.+(?=&w)/)&&(this[0].src=imageURL.match(/.+?img=.+(?=&w)/)[0]+"&w="+width)}}}(jQuery),"undefined"==typeof window.console&&(window.console={log:function(){},error:function(){}}),String.prototype.namespace=function(separator){var i,len,ns=this.split(separator||"."),p=window;for(i=0,len=ns.length;len>i;i++)p=p[ns[i]]=p[ns[i]]||{}},jQuery.ajaxSetup({cache:!0}),function($){"use strict";var prodCdnHost="cdn.espn.go.com/core",device=abcn_ui.deviceType,host=window.location.host,protocol=window.location.protocol,debug=-1!==(window.location.search||"").indexOf("ajaxCdnTest=1"),hostMap={"beta.espn.go.com":prodCdnHost,"espn-qa.go.com":prodCdnHost,"espn.com":prodCdnHost,"sports.espn.go.com":prodCdnHost,"scores.espn.go.com":prodCdnHost,"espn.go.com":prodCdnHost,"www.espn.go.com":prodCdnHost,"insider.espn.go.com":"insider.espn.go.com/core"};debug&&($.ajaxPrefilter(function(options){0===options.url.indexOf("http://api-app.espn.com")&&window.console.log("%c%s","color: #f0f; font-weight: bold;","WARNING: "+options.url+" still using old API endpoint")}),hostMap[host]=prodCdnHost);var hostRegEx=/^.*\/\/[^\/]+/,blacklistUrl=/\/(videohub|espn360|insider)\//,BLANK_FUNCTION=function(){};abcn_ui&&abcn_ui.Helpers&&abcn_ui.Helpers.nav&&abcn_ui.Helpers.nav.isNavExternal||$.ajaxPrefilter(function(options,originalOptions){if(!originalOptions._noCdn&&!options.url.match(blacklistUrl)){var requestHost=function(){var matches=hostRegEx.exec(options.url);return matches instanceof Array&&matches[0]?matches[0]:host}().replace(protocol+"//",""),targetHost=requestHost in hostMap?hostMap[requestHost]:void 0;if(targetHost){originalOptions.canUseCDN&&(targetHost=prodCdnHost);var requestPath=options.url.replace(hostRegEx,""),originalErrorHandler="function"==typeof options.error?options.error.bind(options.error):BLANK_FUNCTION;if(device&&(options.data=("string"==typeof options.data&&options.data.length?options.data+"&":"")+"device="+device),espn.api&&espn.api.disasterURLs&&targetHost in espn.api.disasterURLs&&targetHost!==espn.api.disasterURLs[targetHost]&&(targetHost=espn.api.disasterURLs[targetHost],"GET"===options.type)){if(-1!==requestPath.indexOf("?")){var pathParts=requestPath.split("?"),pathParams="";pathParts.length&&(requestPath=pathParts[0],pathParams=pathParts[1]||""),options.data=$.trim([pathParams,options.data||""].join("&"),"&")}if(options.data){for(;options.data!==decodeURIComponent(options.data);)options.data=decodeURIComponent(options.data);requestPath+=encodeURIComponent(encodeURIComponent(options.data?"?"+options.data:"")),options.data=""}}options.url=protocol+"//"+targetHost+requestPath,options.crossDomain=!0,options.error=function(){$.ajax($.extend(originalOptions,{_noCdn:!0,error:originalErrorHandler}))}}}})}(window.jQuery),!jQuery.support.cors){var stripSymbolsRegEx=/[^\w\s]/gi;jQuery.ajaxPrefilter("json *",function(options,originalOptions){return options.crossDomain&&"script"!==options.dataType?("cache"in originalOptions&&originalOptions.cache===!1||(options.cache=!0),"jsonpCallback"in originalOptions||(options.jsonpCallback="func"+(options.url||"").replace(stripSymbolsRegEx,"")+(options.data||"").replace(stripSymbolsRegEx,"")),"jsonp"):void 0})}jQuery.cachedScript=function(url,options){return options=$.extend(options||{},{dataType:"script",cache:!0,url:url}),jQuery.ajax(options)},jQuery.getScriptCache=function(url,callback){var options={};callback&&(options={success:callback}),jQuery.cachedScript(url,options)},jQuery.cookie=function(key,value,options){var regex,r,date,expires,settings=jQuery.extend({domain:window.location.href.match("espn.go.com")?".espn.go.com":document.domain,path:"/",secure:"https:"===window.location.protocol,expires:null},options),path=null!==settings.path?"; path="+settings.path:"",domain=settings.domain&&"localhost"!==settings.domain?"; domain="+settings.domain:"",secure=settings.path===!0?"; secure=":"";return"undefined"==typeof value?(regex=new RegExp("(^|;) ?"+key+"=([^;]+)(;|$)","g"),r=regex.exec(document.cookie),null!==r?decodeURIComponent(r[2]):null):(null===settings.expires||"number"!=typeof settings.expires&&!settings.expires.toUTCString||("number"==typeof settings.expires?(date=new Date,date.setTime(date.getTime()+24*settings.expires*60*60*1e3)):date=settings.expires,expires="; expires="+date.toUTCString()),document.cookie=[key,"=",encodeURIComponent(value),expires,path,domain,secure].join(""),document.cookie)},jQuery.parseUri=function(str){for(var o=jQuery.parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;i--;)uri[o.key[i]]=m[i]||"";return uri[o.q.name]={},uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){$1&&(uri[o.q.name][$1]=$2)}),uri},jQuery.parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},"undefined"!=typeof debug&&(debug.setLevel(0),(jQuery.parseUri(window.location).queryKey.debug||jQuery.parseUri(window.location).queryKey.development)&&debug.setLevel(5)),"espn.core".namespace(),espn.core.SWID=jQuery.cookie("SWID")||"",window.location.href.indexOf("go.com")>-1?espn.core.loggedIn=/^\{[\w\-]+\}/.test(espn.core.SWID):espn.core.loggedIn=!1;var loggedIn=espn.core.loggedIn,queryKey=jQuery.parseUri(window.location).queryKey;queryKey&&queryKey.login&&(loggedIn=queryKey.login),(null==loggedIn||0==JSON.parse(loggedIn.toString()))&&(espn.core.loggedIn=!1),"espn.refresh".namespace(),espn.refresh.active=!1,espn.refresh.stop=window.ESPN_refresh_stop=function(){"undefined"!=typeof window.ESPN_refresh&&(clearTimeout(window.ESPN_refresh),espn.refresh.active=!1)},espn.refresh.start=window.ESPN_refresh_start=function(msec){espn.refresh.active=!0,window.ESPN_refresh=window.setTimeout(function(){window.location.href=window.location.href},msec||9e5)},espn.core.ad_segments=function(){var o="",c=jQuery.cookie("CRBLM");if(c)for(var c=c.substring(9),index=0,value=0,count=0,key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0,n=c.length,nn=n-n%4;nn>i;){var enc1=key.indexOf(c.charAt(i++)),enc2=key.indexOf(c.charAt(i++));if(value|=(enc1<<2|enc2>>4)<<(index++?0:8),!(index-2)&&value&&(o+="seg="+value+";",20==++count))break;value*=(index%=6)&&index-2?1:0;var enc3=key.indexOf(c.charAt(i++));if(64!=enc3){if(value|=((15&enc2)<<4|enc3>>2)<<(index++?0:8),!(index-2)&&value&&(o+="seg="+value+";",20==++count))break;value*=(index%=6)&&index-2?1:0}var enc4=key.indexOf(c.charAt(i++));if(64!=enc4){if(value|=((3&enc3)<<6|enc4)<<(index++?0:8),!(index-2)&&value&&(o+="seg="+value+";",20==++count))break;value*=(index%=6)&&index-2?1:0}}return o},"espn.cookie".namespace(),espn.cookie={get:function(key){return jQuery.cookie(key)},set:function(key,value,days,options){jQuery.cookie(key,value,jQuery.extend({},options,{expires:days}))},del:function(key,options){jQuery.cookie(key,"",jQuery.extend({},options,{expires:-1}))}},window.newWin=function(url){var subWindow,sNewWin="newWin",options="width=800,height=525,resizable=yes,scrollbars=yes,location=yes,status=yes,toolbar=yes,menubar=yes,directories=yes",w=window;url.indexOf("http")<0&&(url="http://games.espn.go.com"+url),!subWindow||subWindow.closed?subWindow=w.open(url,sNewWin,options):(subWindow.focus(),subWindow=w.open(url,sNewWin,options))},function($,window,document,undefined){function ESPN_WindowNameStorage(){function __getKey(){var i=64,a=[],s=$.cookie("ESPN_WindowNameStorage")||"",charMap="0123456789abcdefghijklmnopqrstuvwxyz".split("");if(""!==s)return s;for(;i--;){var c=charMap[~~(Math.random()*charMap.length)];a.push(~~(2*Math.random())?c.toUpperCase():c)}return s=a.join(""),$.cookie("ESPN_WindowNameStorage",s,{domain:".espn.go.com"}),s}this.SWID=espn.core.SWID||__getKey(),this._storedData=function(){var data={};try{data=window.name.length?TEAdecrypt(window.name,this.SWID):"",data.length&&(data=JSON.parse(data),data="object"==typeof data?data:{})}catch(e){}return data}}function ESPN_SessionStorage(){}function ESPN_LocalStorage(){}ESPN_WindowNameStorage.prototype={getItem:function(key){var data=this._storedData();return data[key]||null},setItem:function(key,val){var data=this._storedData();data[key]=val,window.name=TEAencrypt(JSON.stringify(data),this.SWID)},removeItem:function(key){var data=this._storedData();try{delete data[key]}catch(e){}window.name=TEAencrypt(JSON.stringify(data),this.SWID)}},ESPN_SessionStorage.prototype={getItem:function(key){var val=null;try{val=window.sessionStorage[key].value?window.sessionStorage[key].value:window.sessionStorage[key],val=JSON.parse(val)}catch(e){}return val},setItem:function(key,val){window.sessionStorage[key]=JSON.stringify(val)},removeItem:function(key){window.sessionStorage.removeItem(key)}};var proto={setItem:function(){},getItem:function(){},removeItem:function(){}};try{Modernizr.localstorage&&(proto={getItem:function(k){var val=null;try{val=window.localStorage[k]||null,val&&(val=JSON.parse(val))}catch(e){}return val},setItem:function(k,v){try{window.localStorage[k]=JSON.stringify(v)}catch(e){}},removeItem:function(k){try{window.localStorage.removeItem(k)}catch(e){}}})}catch(e){}ESPN_LocalStorage.prototype=proto,"espn.storage".namespace(),function(){var useSessionStorage=function(){try{return"sessionStorage"in window&&null!==window.sessionStorage&&((window.sessionStorage.__testSetter=1)||!0)}catch(e){return!1}}();$&&$.support&&($.support.sessionStorage=useSessionStorage);var store=useSessionStorage?new ESPN_SessionStorage:new ESPN_WindowNameStorage,permStore=new ESPN_LocalStorage;espn.storageFactory={getTransient:function(){return store},getMostPermanent:function(){return Modernizr.localstorage?permStore:store}},espn.storage={getItem:function(key){return store.getItem(key)},getPermItem:function(key){return permStore.getItem(key)},setItem:function(key,val){return store.setItem(key,val)},setPermItem:function(key,val){return permStore.setItem(key,val)},removeItem:function(key){return store.removeItem(key)},removePermItem:function(key){return permStore.removeItem(key)}},jQuery.publish("espn.storage_initialized")}()}(this.jQuery,this,this.document),function($){"use strict";var abcn_ui=window.abcn_ui||{},console=window.console;abcn_ui.Behaviors={},abcn_ui.Helpers={},abcn_ui.Helpers.get_media_query_in_use=function(){function parse(str){return str.replace(/'/gi,"").replace(/"/gi,"")}return window.opera?parse(window.getComputedStyle(document.body,":after").getPropertyValue("content")):window.getComputedStyle?parse(window.getComputedStyle(document.head,null).getPropertyValue("font-family")):abcn_ui.media_query_in_use||"desktop"},abcn_ui.media_query_in_use=abcn_ui.Helpers.get_media_query_in_use(),abcn_ui.dep_mobile=!1,abcn_ui.ie8=!1,abcn_ui.externalRef="";var disableBehaviors=decodeURIComponent((new RegExp("[?|&]_disable_behaviors=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null,disableBehaviorsHash={},behaviorsOn=!0,disableBehaviorsArray=[];if("all"!==disableBehaviors&&(disableBehaviorsHash={},disableBehaviors)){disableBehaviorsArray=disableBehaviors.split(",");for(var d=0;d<=disableBehaviorsArray.length-1;++d)disableBehaviorsHash[disableBehaviorsArray[d]]=!0,behaviorsOn=!1}abcn_ui.LoadBehavior=function(context){if("all"!==disableBehaviors){var behaviors="",BehaviorClass=null;if("undefined"!=typeof document.querySelectorAll){if(void 0===context)context=document;else{if(!(context.length>0))return!1;context=context[0]}for(var all=context.querySelectorAll("[data-behavior]"),i=-1,currentElement=null,splitted_behaviors=[],v=0,j=0;all[++i];)for(currentElement=all[i],behaviors=currentElement.getAttribute("data-behavior"),splitted_behaviors=behaviors?behaviors.split(" "):[],v=0,j=splitted_behaviors.length;j>v;++v)behaviorsOn&&!disableBehaviorsHash[splitted_behaviors[v]]?(BehaviorClass=abcn_ui.Behaviors[splitted_behaviors[v]],"function"==typeof BehaviorClass&&new BehaviorClass($(currentElement))):console.log("disabling behavior:"+splitted_behaviors[v])}else{void 0===context&&(context=$(document));var that=null;context.find("*[data-behavior]").each(function(){that=$(this),behaviors=that.attr("data-behavior"),$.each(behaviors?behaviors.split(" "):[],function(index,behaviorName){behaviorsOn&&!disableBehaviorsHash[behaviorName]?(BehaviorClass=abcn_ui.Behaviors[behaviorName],"function"==typeof BehaviorClass&&new BehaviorClass(that)):console.log("disabling behavior:"+behaviorName)})})}}else console.log("Disabling all behaviors");$(document).trigger("behavior.load",[context])},abcn_ui.onReady=function(){setTimeout(function(){window.scrollTo(0,1)},0),abcn_ui.LoadBehavior()},$(document).ready(function(){if(abcn_ui.media_query_in_use=abcn_ui.Helpers.get_media_query_in_use(),abcn_ui.Helpers.breakpoint_css_class(),abcn_ui.Helpers.dep_mobile(),abcn_ui.Helpers.is_IE8(),abcn_ui.Helpers.page.setContentPreBehavior(),abcn_ui.onReady(),abcn_ui.Helpers.links.init(),abcn_ui.Helpers.history.init(),abcn_ui.Helpers.window_scroll.init(),!$("body").hasClass("static-nav")){var vp=$("#global-viewport");$("#global-nav-secondary li").length>0&&(vp.addClass("interior"),vp.addClass($("#global-nav-secondary ul.tertiary").length>0?"tertiary":"secondary")),"mobile"===abcn_ui.Helpers.get_media_query_in_use()?$(window).load(function(){abcn_ui.Helpers.nav.init()}):abcn_ui.Helpers.nav.init()}$(window).on("windowresize.debounce",function(){var new_media_query=abcn_ui.Helpers.get_media_query_in_use();abcn_ui.media_query_in_use!==new_media_query&&(abcn_ui.media_query_in_use=new_media_query,$.event.trigger({type:"media_query_updated"}))}),abcn_ui.ie8&&abcn_ui.Helpers.ie8()})}(window.jQuery),abcn_ui.Helpers.appboy_load={showNotifAfterLogin:!1,isActive:!1,init:function(){"desktop"==$("#header-wrapper").attr("data-device")&&(abcn_ui.Helpers.appboy_load.isActive=!0,abcn_ui.ufNotificationArr=abcn_ui.ufNotificationArr||[],window.Notification&&"denied"!==Notification.permission&&-1==window.navigator.userAgent.indexOf("Edge")&&(null!==$.cookie("abcn_appboySDK")&&abcn_ui.ufNotificationArr.length>0&&abcn_ui.Helpers.appboy_load.initAppBoy(!1),$.cookie("abcn_appboyWK")||null==$.cookie("abcn_appboySDK")&&abcn_ui.Helpers.appboy_load.initBreakingNewsFlow(),$(document).on("listenForAppboy",function(e){abcn_ui.Helpers.appboy_load.ask_notif_permission()})))},initBreakingNewsFlow:function(){$(document).on("abcn.breakingnews.render",function(){abcn_ui.Helpers.appboy_load.renderNavAlertMsg(),$.cookie("abcn_appboyWK")||($(".nav-alerts-notify-msg").fadeIn(),$.event.trigger({type:"notif.signup.render"})),$(".nav-alerts-notify-sub").on("click",function(e){$(".nav-alerts-notify-msg").fadeOut(),$.event.trigger({type:"notif.signup.close"}),abcn_ui.Helpers.appboy_load.ask_notif_permission(),abcn_ui.Helpers.appboy_load.biweekly_cookie()}),$(".nav-alerts-notify-no").on("click",function(e){$(".nav-alerts-notify-msg").fadeOut(),$.event.trigger({type:"notif.signup.close"}),abcn_ui.Helpers.appboy_load.biweekly_cookie()})})},biweekly_cookie:function(){$.cookie("abcn_appboyWK",(new Date).getTime(),{expires:14,domain:window.location.hostname})},renderNavAlertMsg:function(){var deviceString="desktop";switch($("#header-wrapper").attr("data-device")){case"mobile":deviceString="phone";break;case"tablet":deviceString="tablet"}var markup='<div class="nav-alerts-notify-msg" style="display:none;">Be the first to know! Get breaking news notifications on your '+deviceString+' <span class="nav-alerts-notify-wrapper"><span class="nav-alerts-notify-sub"></span> <span class="nav-alerts-notify-no"></span></span></div>';0==$(".nav-alerts-notify-msg").length&&$("#alerts .nav-alerts").append(markup)},sdk_set_cookie:function(result){result?($.cookie("abcn_appboySDK",(new Date).getTime(),{expires:3650,domain:window.location.hostname}),$.cookie("abcn_appboyNotifStateUpdated",result,{expires:3650,domain:window.location.hostname}),$(".nav-alerts-notify-msg").fadeOut()):$.cookie("abcn_appboyNotifStateUpdated",result,{expires:3650,domain:window.location.hostname})},get_notif_status:function(){return null==$.cookie("abcn_appboyNotifStateUpdated")?"default":$.cookie("abcn_appboyNotifStateUpdated")},ask_notif_permission:function(){"desktop"==$("#header-wrapper").attr("data-device")&&window.Notification&&null==$.cookie("abcn_appboySDK")&&"denied"!==Notification.permission&&"default"==window.abcn_ui.Helpers.appboy_load.get_notif_status()&&window.abcn_ui.Helpers.appboy_load.notifPopup(!0)},notifPopup:function(inFocus){var baseurl="https://abcnews.go.com",path=inFocus?"/notification/request":"/notification/request?focus=false";document.domain.indexOf("qa")>-1||document.domain.indexOf("localhost")>-1?baseurl="https://qa.n7.abcnews.go.com":document.domain.indexOf("preview")>-1&&(baseurl="https://preview.abcnews.go.com");var dualScreenLeft=void 0!=window.screenLeft?window.screenLeft:screen.left,dualScreenTop=void 0!=window.screenTop?window.screenTop:screen.top,width=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,height=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,left=width/2-275+dualScreenLeft,top=height/2-315+dualScreenTop,opener=window.open(baseurl+path,"_blank","noresizable,noscrollbars,width=550,height=630top="+top+", left="+left);inFocus||(opener.resizeTo(0,0),opener.moveTo(0,window.screen.availHeight+10),setTimeout(function(){opener.close()},2e4))},initAppBoy:function(init){+function(a,p,P,b,y){appboy={};for(var s="destroy getDeviceId toggleAppboyLogging setLogger openSession changeUser requestImmediateDataFlush requestFeedRefresh subscribeToFeedUpdates logCardImpressions logCardClick logFeedDisplayed requestInAppMessageRefresh logInAppMessageImpression logInAppMessageClick logInAppMessageButtonClick logInAppMessageHtmlClick subscribeToNewInAppMessages removeSubscription removeAllSubscriptions logCustomEvent logPurchase isPushSupported isPushBlocked isPushGranted isPushPermissionGranted registerAppboyPushMessages unregisterAppboyPushMessages submitFeedback ab ab.User ab.User.Genders ab.User.NotificationSubscriptionTypes ab.User.prototype.getUserId ab.User.prototype.setFirstName ab.User.prototype.setLastName ab.User.prototype.setEmail ab.User.prototype.setGender ab.User.prototype.setDateOfBirth ab.User.prototype.setCountry ab.User.prototype.setHomeCity ab.User.prototype.setEmailNotificationSubscriptionType ab.User.prototype.setPushNotificationSubscriptionType ab.User.prototype.setPhoneNumber ab.User.prototype.setAvatarImageUrl ab.User.prototype.setLastKnownLocation ab.User.prototype.setUserAttribute ab.User.prototype.setCustomUserAttribute ab.User.prototype.addToCustomAttributeArray ab.User.prototype.removeFromCustomAttributeArray ab.User.prototype.incrementCustomUserAttribute ab.User.prototype.addAlias ab.InAppMessage ab.InAppMessage.SlideFrom ab.InAppMessage.ClickAction ab.InAppMessage.DismissType ab.InAppMessage.OpenTarget ab.InAppMessage.ImageStyle ab.InAppMessage.Orientation ab.InAppMessage.CropType ab.InAppMessage.prototype.subscribeToClickedEvent ab.InAppMessage.prototype.subscribeToDismissedEvent ab.InAppMessage.prototype.removeSubscription ab.InAppMessage.prototype.removeAllSubscriptions ab.InAppMessage.Button ab.InAppMessage.Button.prototype.subscribeToClickedEvent ab.InAppMessage.Button.prototype.removeSubscription ab.InAppMessage.Button.prototype.removeAllSubscriptions ab.SlideUpMessage ab.ModalMessage ab.FullScreenMessage ab.HtmlMessage ab.ControlMessage ab.Feed ab.Feed.prototype.getUnreadCardCount ab.Card ab.ClassicCard ab.CaptionedImage ab.Banner ab.WindowUtils display display.automaticallyShowNewInAppMessages display.showInAppMessage display.showFeed display.destroyFeed display.toggleFeed sharedLib".split(" "),i=0;i<s.length;i++){for(var k=appboy,l=s[i].split("."),j=0;j<l.length-1;j++)k=k[l[j]];k[l[j]]=function(){console&&void 0}}appboy.initialize=function(){console&&void 0},appboy.getUser=function(){return new appboy.ab.User},appboy.getCachedFeed=function(){return new appboy.ab.Feed},(y=a.createElement(p)).type="text/javascript",y.src="https://s.abcnews.com/assets/beta/js/custom/appboy-1.6.min.js",(c=a.getElementsByTagName(p)[0]).parentNode.insertBefore(y,c),y.addEventListener?y.addEventListener("load",b,!1):y.readyState&&(y.onreadystatechange=b)}(document,"script","link",function(){var ab_key=document.domain.indexOf("qa")>-1||document.domain.indexOf("localhost")>-1?"2b09c4e3-408a-4cb0-afbe-65a260c5c258":"0ca73e32-3849-46c5-a406-e001c45b799e";if(appboy.initialize(ab_key,{minimumIntervalBetweenTriggerActionsInSeconds:.5,safariWebsitePushId:"web.com.abc.abcnews",enableLogging:!0}),appboy.display.automaticallyShowNewInAppMessages(),null!=$.cookie("SWID")&&window.abcn_ui.Helpers.ufirst.SWID()){appboy.changeUser($.cookie("SWID"));var abUser=appboy.getUser();if("undefined"!=typeof abcn_ui.ufNotificationArr&&abcn_ui.ufNotificationArr.length>0)for(tag in abcn_ui.ufNotificationArr)abUser.addToCustomAttributeArray("tags",abcn_ui.ufNotificationArr[tag])}else appboy.changeUser($.cookie("UNID"));appboy.openSession(),init&&abcn_ui.Helpers.appboy_load.registerPushPermission()})},registerPushPermission:function(){"undefined"!=typeof appboy&&appboy.registerAppboyPushMessages(function(){abcn_ui.Helpers.appboy_load.pushPermissionResult(!0)},function(){abcn_ui.Helpers.appboy_load.pushPermissionResult(!1)})},pushPermissionResult:function(success){success?"undefined"!=typeof appboy&&(appboy.requestImmediateDataFlush(),abcn_ui.Helpers.appboy_load.sdk_set_cookie(success),$(".ap-frame .modal").removeClass("hide-it"),setTimeout(function(){$(".ap-frame .modal").addClass("hide-it")},3e3)):abcn_ui.Helpers.appboy_load.sdk_set_cookie(success),setTimeout(function(){window.close()},4e3)}},function($){function findAndLoadVilinyx(event){var $id=event.story,storyObj=event.storyObj,defaultSelector="article.article[data-id="+$id+"]",pCount=0;"undefined"!=typeof storyObj.v_roadblock&&""!==storyObj.v_roadblock&&-1===$.inArray($id,vilinyxEmbedArr)&&(vilinyxEmbedArr.push($id),$(defaultSelector+" p").each(function(i){"articleBody"!==$(this).attr("itemprop")||$(this).parent().is("blockquote")||(0===i&&""===$.trim($(this).html())?$(this).remove():""!==$.trim($(this).html())&&(3===pCount&&$(this).before(storyObj.v_roadblock),pCount++))}))}function findAndLoadGMA(event){var $id=event.story,storyObj=event.storyObj,defaultSelector="article.article[data-id="+$id+"]",pCount=0;"undefined"!=typeof storyObj.gma_roadblock&&""!==storyObj.gma_roadblock&&-1===$.inArray($id,gmaEmbedArr)&&(gmaEmbedArr.push($id),$(defaultSelector+" p").each(function(i){"articleBody"!==$(this).attr("itemprop")||$(this).parent().is("blockquote")||(0===i&&""===$.trim($(this).html())?$(this).remove():""!==$.trim($(this).html())&&(2===pCount&&$(this).before(storyObj.gma_roadblock),pCount++))}))}$(document).on("abcn.story.reload newfeed.click",function(event){findAndLoadGMA(event),findAndLoadVilinyx(event)});var vilinyxEmbedArr=[],gmaEmbedArr=[];$(document).on("abcn.story.gmaroadblock abcn.story.vilinyxsuggestions",function(event){var $id=event.story_id,markup=event.markup,defaultSelector="article.article[data-id="+$id+"]",pCount=0;$(defaultSelector+" p").each(function(i){"articleBody"!==$(this).attr("itemprop")||$(this).parent().is("blockquote")||(0===i&&""===$.trim($(this).html())?$(this).remove():""!==$.trim($(this).html())&&(3===pCount&&$(this).before(markup),pCount++))})}),$(document).on("abcn.story.roadblock1 abcn.story.roadblock2",function(event){var $id=event.story_id,rb1=event.markup,defaultSelector="article.article[data-id="+$id+"]",pCount=0;$(defaultSelector+" p").each(function(i){"articleBody"!==$(this).attr("itemprop")||$(this).parent().is("blockquote")||(0===i&&""===$.trim($(this).html())?$(this).remove():""!==$.trim($(this).html())&&(5===pCount&&$(this).before(rb1),pCount++))})})}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Helpers.breakpoint_css_class=function(){function updateClass(){insert_class="mobile"!==abcn_ui.media_query_in_use&&"tablet"!==abcn_ui.media_query_in_use?"desktop":abcn_ui.media_query_in_use,$html.removeClass(old_class).addClass(insert_class),old_class=insert_class}var $html=$("html"),old_class="",insert_class="";$(document).on("media_query_updated",function(){updateClass()}),updateClass()}}(window.jQuery),function($){window.abcn_ui.Helpers.build_or_destroy=function(params,build,destroy,requires_reinit){function checkParams(){var decision=!0,mq=abcn_ui.media_query_in_use;return(window.Modernizr.touch&&!opts.touch||!window.Modernizr.touch&&!opts.notouch)&&(decision=!1),"mobile"!==mq||opts.mobile||(decision=!1),"tablet"!==mq||opts.tablet||(decision=!1),"mobile"===mq||"tablet"===mq||opts.desktop||(decision=!1),decision}function doDestroy(){void 0!==destroy&&"function"==typeof destroy&&built&&(destroy(),built=!1)}function doBuild(){void 0===build||"function"!=typeof build||built&&!rebuild||(rebuild&&doDestroy(),build(),built=!0)}function build_or_destroy(){checkParams()?doBuild():doDestroy()}var abcn_ui=window.abcn_ui,defaults={touch:!0,notouch:!0,mobile:!0,tablet:!0,desktop:!0},opts=$.extend({},defaults,params),built=!1,rebuild=void 0!==requires_reinit&&requires_reinit===!0?!0:!1;$(document).on("media_query_updated",function(){build_or_destroy()}),build_or_destroy()}}(jQuery),abcn_ui.Helpers.captions={config:{eventsLoaded:!1},init:function(container){window.abcn_ui.Helpers.captions.buildCaptions(container),window.abcn_ui.Helpers.captions.config.eventsLoaded||(window.abcn_ui.Helpers.captions.config.eventsLoaded=!0,$(window).on("resize orientationchange",function(){window.abcn_ui.Helpers.captions.resizeHandler()}),$(document).on("click",".more-link",function(e){return $(this).parent().addClass("expanded").attr("style","white-space:normal"),$(this).remove(),!1}))},buildCaptions:function(container){var id=$(container).data("id");-1===$.inArray(id,window.captions)&&(window.captions.push(id),window.abcn_ui.Helpers.captions.resizeHandler(id))},resizeHandler:function(id){var defaultSelector="article figure:not(.v-lead) figcaption";id&&(defaultSelector="article[data-id="+id+"] figure:not(.v-lead) figcaption"),$(defaultSelector).each(function(i){var $item=$(this);$item.hasClass("expanded")||(window.abcn_ui.Helpers.captions.boundary($item),$item.css("a"===$item.parent().get(0).tagName.toLowerCase()?{width:$item.parent().parent().width()}:{width:$item.parent().width()}))})},boundary:function(item){var $el=item,$el_w=$el.width();$el.children(".caption").css("display","inline-block");var $el_caption_w=$el.children(".caption").width(),show_more=$el_caption_w>$el_w?!0:!1;show_more?0===$el.find(".more-link").length&&($el.append('<a href="#" class="more-link" data-social="true">more <span>+</span></a>'),$el.css({"padding-right":"52px"})):($el.css({"padding-right":"15px"}),$el.find(".more-link").remove()),setTimeout(function(){$el.children(".caption").removeAttr("style")},1)}},function($){$("body").on("click",".backtotop",function(){$("body, html").animate({scrollTop:"0"})})}(jQuery),window.abcn_ui.Helpers.cookie_monster=function(window,document,$){function recycleCookies(){for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var index=cookies[i].indexOf("="),cookieName=index>-1?cookies[i].substr(0,index):cookies[i];cookieName=cookieName.trim(),deleteCookie=!0;for(var j=0;j<safeFindList.length;j++)if(cookieName.indexOf(safeFindList[j])>-1){deleteCookie=!1;break}deleteCookie&&-1===$.inArray(cookieName,safeList)&&($.cookie(cookieName,"1",{expires:-1,domain:".go.com"}),$.cookie(cookieName,"1",{expires:-1,domain:"go.com"}),$.cookie(cookieName,"1",{expires:-1,domain:"espn.go.com"}),$.cookie(cookieName,"1",{expires:-1,domain:".espn.go.com"}),$.cookie(cookieName,"1",{expires:-1,domain:"."+window.location.hostname}),$.cookie(cookieName,"1",{expires:-1,domain:window.location.hostname}),$.cookie(cookieName,"1",{expires:-1}),eraseCookie(cookieName))}}function createCookie(name,value,days){if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3);var expires="; expires="+date.toGMTString()}else var expires="";document.cookie=name+"="+value+expires+"; path=/"}function readCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}function eraseCookie(name){createCookie(name,"",-1)}var recyclerCookie="cookieMonster",today=new Date,safeList=["SWID","BLUE","RED","DE2","DS","AMCV_espn","VAS","espnuk-cookie-consent","CRBLM","CRBLM_LAST_UPDATE","espnAuth",recyclerCookie],safeFindList=["s_","_s2"];if(!$.cookie(recyclerCookie)){var recyclerExpiration=new Date;recyclerExpiration.setDate(today.getDate()+30),$.cookie(recyclerCookie,"1",{expires:recyclerExpiration,domain:window.location.hostname}),recycleCookies()}return{recycleCookies:recycleCookies,createCookie:createCookie,readCookie:readCookie,eraseCookie:eraseCookie}}(this,this.document,jQuery),function($){window.abcn_ui.Helpers.dep_mobile=function(){function isBadAndroidVersion(){var match=navigator.userAgent.match(/Android\s([0-9\.]*)/);return match=match?match[1]:!1,parseInt(match,10)<4?!0:!1}function isMobile(){var ua=window.navigator.userAgent;return/Mobi/.test(ua)||/RIM Tablet/i.test(ua)||/Silk/i.test(ua)||/Android/i.test(ua)}var isHTML5=window.history&&history.pushState&&"querySelector"in document&&"localStorage"in window&&"addEventListener"in window&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&!isBadAndroidVersion();if(!isHTML5&&isMobile()){window.abcn_ui.dep_mobile=!0,$("#global-viewport").addClass("dep-mobile");var menuEl=$("#global-nav-mobile-trigger span");menuEl.empty(),menuEl.addClass("icon-menu dep-mobile")}}}(window.jQuery),function(){window.abcn_ui.Helpers.detect_wake_from_sleep=function(){function detectWakeFromSleep(){var now=(new Date).getTime();if(now-_initialLoadTime>12e4){if(window.navigator.onLine===!1)return!1;location.reload()}return _initialLoadTime=now,!0}var _initialLoadTime=(new Date).getTime();window.setInterval(detectWakeFromSleep,2e3)},window.abcn_ui.Helpers.detect_wake_from_sleep()}(),window.abcn_ui.Helpers.is_IE8=function(){var abcn_ui=window.abcn_ui;abcn_ui.ie8=document.all&&!document.addEventListener?!0:!1},window.abcn_ui.Helpers.is_IE9=function(){var abcn_ui=window.abcn_ui;return abcn_ui.ie9=!!navigator.userAgent.match(/MSIE 9\.0/),abcn_ui.ie9},window.abcn_ui.Helpers.history=function(window,document,$){var abcn_ui=window.abcn_ui,History=window.history,$document=$(document),historyEnabled=History&&History.pushState,storeHtml=!(navigator.userAgent.match(/CriOS/i)||navigator.userAgent.match(/iPad/i)&&1===window.devicePixelRatio);return $(document).on("page.load",function(e,data,url,options){options=options||{},"history"!==options.eventType&&abcn_ui.Helpers.history.pushState(data,null,url)}),{enabled:historyEnabled,storeHtml:storeHtml,firstLoad:function(){historyEnabled&&null===window.history.state&&History.replaceState(abcn_ui.Helpers.history.getStateData({eventType:"firstLoad",ads:espn.ads&&espn.ads.configPre?espn.ads.configPre:{},tier2Nav:espn.nav&&espn.nav.tier2?espn.nav.tier2:"",tier3Nav:espn.nav&&espn.nav.tier3?espn.nav.tier3:""}),null,window.location.href)},init:function(){historyEnabled&&(abcn_ui.Helpers.history.firstLoad(),$(window).on("load",function(){setTimeout(function(){$(window).on("popstate",function(e){
abcn_ui.Helpers.history.change(e.originalEvent)})},0)}))},change:function(event){historyEnabled&&$document.trigger("history.change",[event.state])},getStateData:function(data){var pageTitle=$("title").html(),pageDescription=$('meta[name="description"]').attr("content"),pageSport=$("body").attr("data-sport")||"",storeHtml=window.abcn_ui.Helpers.history.storeHtml;data=data||{};var content={};return storeHtml&&(content={html:abcn_ui.Helpers.page.contentPreBehavior}),$.extend(!0,{url:window.location.href,scrollPos:0,sport:[pageSport],handlerName:"",meta:{title:pageTitle,description:pageDescription,keywords:$('meta[name="keywords"]').attr("content"),ogTitle:pageTitle,ogDescription:pageDescription,twitterTitle:pageTitle,twitterDescription:pageDescription,type:$("body").attr("data-pagetype")},tabIndex:2,content:content},data)},pushState:function(obj,title,url){if(obj&&historyEnabled){!storeHtml&&obj.content&&(obj.content="");var stateObj={tabIndex:obj.tabIndex,meta:obj.meta,ads:obj.ads,analytics:obj.analytics,scrollPos:obj.scrollPos,content:obj.content,url:url,sport:obj.sport,handlerName:obj.handlerName,tier2Nav:obj.tier2Nav,tier3Nav:obj.tier3Nav,scripts:obj.scriptsToLoad};try{History.pushState(stateObj,title,url)}catch(err){stateObj.content="",History.pushState(stateObj,title,url)}$document.trigger("page.pushState",[obj,url])}},updateState:function(key,value){if(historyEnabled){var currentHistory=history.state;currentHistory&&(currentHistory[key]=value,History.replaceState(currentHistory,null,window.location.href))}}}}(this,this.document,window.jQuery),function($){window.abcn_ui.Helpers.ie8=function(){$(".news-feed_item-meta a:nth-child(n+3)").css("display","none"),$(".news-feed_item-meta a:last-of-type").addClass("last")}}(window.jQuery),abcn_ui.Helpers.inline_css={set_children_height:function(container){resize=function(){var maxHeight=0;$(container).children().each(function(){maxHeight=$(this).height()>maxHeight?$(this).height():maxHeight}),$(container).children().each(function(){$(this).removeAttr("style").css("height",maxHeight)})},$(window).on("windowresize.debounce",function(){resize()}),resize()}},abcn_ui.Helpers.interest_alert_band={init:function(tags){function checkIntArrLen(){6===abcn_ui.interestArrayFinal.length&&(window.clearInterval(checkInterestArray),abcn_ui.Helpers.ufirst_alerts.markup_ready())}var abcn_ui=window.abcn_ui;abcn_ui.interestContainer=$(".abcn-interests > article .carousel"),abcn_ui.interestContainerM=$(".abcn-interests > article");var mq=abcn_ui.Helpers.get_media_query_in_use(),maxNum=6,newArr=[];if(abcn_ui.interestArrayFinal=[],"mobile"!==mq)var checkInterestArray=window.setInterval(checkIntArrLen,100);if(tags.length>0){var offset=tags.length<maxNum?!0:!1;if($.each(tags,function(index,value){newArr.splice(index,0,value)}),offset){var offsetNum=maxNum-newArr.length,_protocol=/localhost/.test(window.location.host)?"http://":"https://";$.ajax({type:"GET",url:_protocol+location.host+"/xmldata/config/jsonConfig?id=my_alerts",cache:!0,dataType:"json",success:function(data){$.each(data.gettingStarted,function(i,item){-1===$.inArray(item,newArr)&&offsetNum>0&&(newArr.push(item),offsetNum--)}),newArr.length>0&&newArr.forEach(function(item,i){"mobile"!==mq?abcn_ui.Helpers.interest_alert_band.columnMarkup(item,i):2>=i&&abcn_ui.Helpers.interest_alert_band.mobileMarkup(item,i)})}})}else newArr.forEach(function(item,i){if("mobile"!==mq&&5>=i)abcn_ui.Helpers.interest_alert_band.columnMarkup(item,i);else{if(!(2>=i))return;abcn_ui.Helpers.interest_alert_band.mobileMarkup(item,i)}})}else abcn_ui.Helpers.interest_alert_band.defaultConfigView()},defaultConfigView:function(){var mq=abcn_ui.Helpers.get_media_query_in_use(),maxNum=6,newArr=[],_protocol=/localhost/.test(window.location.host)?"http://":"https://";$.ajax({type:"GET",url:_protocol+location.host+"/xmldata/config/jsonConfig?id=my_alerts",cache:!0,dataType:"json",success:function(data){$.each(data.gettingStarted,function(i,item){newArr.splice(i,0,item)}),newArr.length>0&&(intCntr=0,$.each(newArr,function(i,item){intCntr++,maxNum-1>=i&&("mobile"!==mq?abcn_ui.Helpers.interest_alert_band.columnMarkup(item,i):intCntr<=3&&abcn_ui.Helpers.interest_alert_band.mobileMarkup(item,i))}))}})},columnMarkup:function(interest,index){var _protocol=/localhost/.test(window.location.host)?"http://":"https://";$.ajax({type:"GET",url:_protocol+location.host+"/meta/alertTagDetail?alertTag="+interest+"&limit=4&collection=true",cache:!0,dataType:"json",success:function(data){var alertDisplayName=data.DisplayName?data.DisplayName:data.AlertTag,alertValueName=data.AlertTag,tag=abcn_ui.Helpers.ufirst_manager.formatAlertKey(alertValueName),markup="",cid="cid=clicksource_interest_band";markup='<div class="item">                                 <div class="interest_lead_container">                                     <div class="interest-lead abcn-alert-topic">                                         <a href="/alerts/'+tag+"?"+cid+'">                                             <span class="uf-checkmark">                                                 <span class="icon-interest-check"></span>                                             </span>                                             '+alertDisplayName+'                                         </a>                                     </div>                                   <div class="add-interest pull-right uf-tag" data-alert="'+alertValueName+'" data-alert-display="'+alertDisplayName+'">Add Interest</div>                                 </div>                                 <ul>',data.Items.forEach(function(item,i){if(3>=i){var id=item.id,url=item.location,type=item.type?item.type.toLowerCase():"",title=null!=item.altTitle?item.altTitle:item.title,hasImage=item.hasOwnProperty("image")&&null!=item.image&&"wirestory"!==type,image=hasImage?item.image:"",newImage=image&&-1!==image.indexOf("4x3t_240")?image.replace("4x3t_240","16x9_240"):image;newImage=newImage.replace("http://a.","https://s.");var imageClass=newImage?"":" no-image",jsonDate=item.pubDate,outDate=jsonDate?abcn_ui.Helpers.ufirst.displayDate(jsonDate):"",_op=-1===url.indexOf("?")?"?":"&",isArticle=abcn_ui.interestContainer.hasClass("article-version")?!0:!1,videoURL="video"!==type||isArticle?url+_op+cid:"javascript:void(0)",ssMarkup="slideshow"===type?'<span class="icon-slideshow2"></span>':"",imageMarkup="",isLast=3===i?' class="_last"':"",titleMarkup="video"===type?'<div class="title video-modal video-play-button-external'+imageClass+'"><h1><a href="'+videoURL+'" class="'+type+' black-ln">'+title+"</a></h1></div>":'<div class="title'+imageClass+'"><h1><a href="'+url+_op+cid+'" class="black-ln'+imageClass+'">'+title+"</a></h1></div>";newImage&&(imageMarkup+='<div class="img-wrap"><picture>',imageMarkup+="video"===type?'<a href="'+videoURL+'" class="no-hover video-modal"><img data-src="'+newImage+'" class="lazyload" /><span class="icon-play-plain video-modal video-play-button-external"></span></a>':'<a href="'+url+_op+cid+'" class="'+type+'"><img data-src="'+newImage+'" class="lazyload" />'+ssMarkup+"</a>",imageMarkup+="</picture></div>"),markup+="<li"+isLast+'>                         <figure class="feed-item-figure '+type+' video-play-button-external" data-id="'+id+'">                             <div class="interest-container">                                  <div class="date">                                     '+outDate+"                                  </div>                                  "+titleMarkup+"                                  "+imageMarkup+"                             </div>                         </figure>                         </li>"}}),markup+="</ul></div>";var tempArrObj={markup:markup,markup_idx:index};abcn_ui.interestArrayFinal.push(tempArrObj)}})},mobileMarkup:function(interest,index){var _protocol=/localhost/.test(window.location.host)?"http://":"https://";$.ajax({type:"GET",url:_protocol+location.host+"/meta/alertTagDetail?alertTag="+interest+"&limit=4&collection=true",cache:!0,dataType:"json",success:function(data){var alertDisplayName=data.DisplayName,alertValueName=data.AlertTag,tag=abcn_ui.Helpers.ufirst_manager.formatAlertKey(alertValueName),cid="cid=clicksource_interest_band",markup="";markup='<div class="item">                                 <div class="interest_lead_container">                                   <div class="interest-lead abcn-alert-topic" data-alert="'+alertValueName+'">                                        <a href="/alerts/'+tag+"?"+cid+'">                                          <span class="uf-checkmark">                                                 <span class="icon-interest-check"></span>                                             </span>                                         '+alertDisplayName+'                                         </a>                                     </div>                                   <div class="add-interest abcn-interest-tag pull-right uf-tag" data-alert="'+alertValueName+'" data-alert-display="'+alertDisplayName+'">Add Interest</div>                                 </div>                                 <ul>',$.each(data.Items,function(i,item){if(0!==i)return!1;var id=item.id,url=item.location,type=item.type?item.type.toLowerCase():"",title=null!=item.altTitle?item.altTitle:item.title,hasImage=item.hasOwnProperty("image")&&null!=item.image&&"wirestory"!==type,newImage=hasImage?item.image:"",imageClass=newImage?"":" no-image",jsonDate=item.pubDate,outDate=jsonDate?abcn_ui.Helpers.ufirst.displayDate(jsonDate):"",isArticle=abcn_ui.interestContainerM.hasClass("_mobile")?!0:!1,_op=-1===url.indexOf("?")?"?":"&",videoURL="video"!==type||isArticle?url+_op+cid:"javascript:void(0)",ssMarkup="slideshow"===type?'<span class="icon-slideshow2"></span>':"",imageMarkup="",titleMarkup="video"===type?'<div class="title video-modal video-play-button-external'+imageClass+'"><h1><a href="'+videoURL+'" class="'+type+' black-ln">'+title+'</a></h1><div class="date">'+outDate+"</div></div>":'<div class="title'+imageClass+'"><h1><a href="'+url+_op+cid+'" class="black-ln'+imageClass+'">'+title+'</a></h1><div class="date">'+outDate+"</div></div>";newImage&&(imageMarkup+='<div class="img-wrap"><picture>',imageMarkup+="video"===type?'<a href="'+videoURL+'" class="no-hover video-modal"><img data-src="'+newImage+'" class="lazyload" /><span class="icon-play-plain video-modal video-play-button-external"></span></a>':'<a href="'+url+_op+cid+'" class="'+type+'"><img data-src="'+newImage+'" class="lazyload" />'+ssMarkup+"</a>",imageMarkup+="</picture></div>"),markup+='<li>                             <figure class="feed-item-figure '+type+' video-play-button-external" data-id="'+id+'">                                 <div class="interest-container">                                     '+titleMarkup+"                                     "+imageMarkup+"                                 </div>                             </figure>                         </li>"}),markup+="</ul></div>";var tempArrObj={markup:markup,markup_idx:index};abcn_ui.interestArrayFinal.push(tempArrObj),2===index&&abcn_ui.Helpers.interest_alert_band.buildMobile()}})},buildMobile:function(){"undefined"!=typeof abcn_ui.interestContainer[0]&&setTimeout(function(){var sortedItems=abcn_ui.interestArrayFinal.sort(function(a,b){return a.markup_idx-b.markup_idx});sortedItems.forEach(function(item){abcn_ui.interestContainer[0].innerHTML+=item.markup}),document.dispatchEvent(listenForInterest),$("#interest-carousel").addClass("active"),abcn_ui.Helpers.ufirst_alerts.add_interest_fadeIn()},200)},buildCarousel:function(){"undefined"!=typeof abcn_ui.interestContainer[0]&&setTimeout(function(){function countIntItems(){6===$("#interest-carousel .item").length&&(window.clearInterval(checkInterestItem),setTimeout(function(){var slideMax=abcn_ui.interestContainer.hasClass("article-version")?2:3;abcn_ui.interestContainer.slick({infinite:!1,slidesToShow:slideMax,slidesToScroll:1,lazyLoad:"ondemand",arrows:!0,speed:180,responsive:[{breakpoint:1280,settings:{slidesToShow:slideMax,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:768,settings:{infinite:!1,centerMode:!0,slidesToShow:1,centerPadding:"0",arrows:!1,variableWidth:!1}}]}),$("#interest-carousel").addClass("active"),setButtonHeight(),abcn_ui.Helpers.ufirst_alerts.add_interest_fadeIn(),document.dispatchEvent(listenForInterest)},250))}function slickSetPosition(){abcn_ui.interestContainer.slick("setPosition"),setButtonHeight()}function setButtonHeight(){var buttonEl=abcn_ui.interestContainer.find(".slick-arrow"),buttonPos=(abcn_ui.interestContainer.height()-73)/2;buttonEl.css("top",buttonPos)}var sortedItems=abcn_ui.interestArrayFinal.sort(function(a,b){return a.markup_idx-b.markup_idx});if(sortedItems.forEach(function(item){abcn_ui.interestContainer[0].innerHTML+=item.markup}),!abcn_ui.interestContainer.hasClass("slick-initialized"))var checkInterestItem=setInterval(countIntItems,150);$(window).on("resize orientationchange",$.debounce(400,function(){slickSetPosition()}))},200)}},function($){window.abcn_ui.Helpers.lightbox=function(window){function closeLightbox(){"function"==typeof onBeforeClosedCallback&&onBeforeClosedCallback(),$lightbox.removeClass("js-bloomed"),$mask.removeClass("active").off("click"),$("body").removeClass("inactive"),$("body").removeClass("scroll-locked"),$("body").removeClass("touch-device"),$("body").scrollTop($currentOffset),$("#global-viewport").removeClass("inactive"),setTimeout(function(){$mask.remove(),$lightbox.remove(),$(".lightbox-container").remove(),blooming=!1,"function"==typeof onClosedCallback&&onClosedCallback(),$lightbox=null,$lightbox_content=null,$mask=null},250),$(window).off("windowresize.debounce.module_bloom"),$(window).off("keyup.module_bloom"),$(window).off("close_module_bloom"),$(window).off("lightbox.close"),$(window).off("lightbox.resize")}function calcPosition(){var topPosition;return topPosition=Math.round(($(window).innerHeight()-$lightbox.outerHeight())/2),0>topPosition&&(topPosition=0),{top:topPosition}}var $lightbox,$lightbox_content,$mask,onClosedCallback,onBeforeClosedCallback,$currentOffset,abcn_ui=window.abcn_ui,blooming=!1;return{show:function(options){onClosedCallback=options.onClosed,onBeforeClosedCallback=options.onBeforeClose,$.event.trigger({type:"video_dock_remove"}),blooming=!0,$mask=$('<div class="js-feed-item-mask"></div>'),$lightbox=$('<article class="lightbox"><div class="btn-close"><span class="icon-close"></span></div></article>'),$lightbox_content=options.container,options.template&&($lightbox_content=$(window.JST["lightbox/"+options.template](options.content_obj).trim()));var $lightbox_images=$($lightbox_content).find("img"),imageLoadCount=0;if($lightbox_images.length>0){$lightbox.hide(),$lightbox.css({"transition-property":"none","-webkit-transition-property":"none","-moz-transition-property":"none","o-transition-property":"none"});var imagesReady=function(){$lightbox.show(),$lightbox.css({"transition-property":"all","-webkit-transition-property":"all","-moz-transition-property":"all","o-transition-property":"all"})},imageLoad=function(){$(window).trigger("lightbox.resize"),imageLoadCount++,imageLoadCount===$lightbox_images.length&&imagesReady()};$lightbox_images.each(function(i,imageEl){imageEl.onload=imageLoad,imageEl.error=imageLoad})}$lightbox.addClass(options.className).append($lightbox_content),$("body").addClass("inactive"),$("body").append($mask).append($lightbox),$(".lightbox").wrap("<div class='lightbox-container'></div>"),setTimeout(function(){$mask.addClass("active"),$lightbox.addClass("js-bloomed")},1);var centered=($(window).outerHeight()-$lightbox.outerHeight())/2;0>centered&&(centered=10);var thisOffset="object"==typeof options.position?options.position:{top:centered};$lightbox.css(thisOffset),options.scrollTo===!0&&$("html, body").animate({scrollTop:thisOffset.top-50}),$(".lightbox").hasClass("social")||$(".img-container").addClass("no-thumb"),$currentOffset=$("body").scrollTop(),$("#global-viewport").addClass("inactive"),$("body").addClass("scroll-locked"),window.Modernizr.touch&&$("body").addClass("touch-device"),$(".module_bloom").find("img").useCombinerWidth(640),$(".lightbox-container").on("click",function(event){event&&!event.target.href&&event.target.className&&!event.target.className.match(/button/)&&closeLightbox()}),$(".lightbox").on("click",function(event){event&&!event.target.href&&event.target.className&&!event.target.className.match(/button/)&&(event.stopPropagation?event.stopPropagation():window.event&&(window.event.cancelBubble=!0))}),$(".btn-close",$lightbox).on("click",function(){closeLightbox()}),$(window).on("keyup.module_bloom",function(event){blooming&&27===event.keyCode&&closeLightbox()}),$(window).on("windowresize.debounce.module_bloom",function(){if(blooming){var thisOffset=calcPosition();$lightbox.css({top:thisOffset.top})}}),$(window).on("lightbox.resize",function(){var thisOffset=calcPosition();$lightbox.css({top:thisOffset.top})}),$(window).on("lightbox.close",function(){closeLightbox()}),$(window).on("close_module_bloom",function(){blooming&&closeLightbox()}),abcn_ui.LoadBehavior($(".lightbox")),$(document).trigger("lightbox.show"),"function"==typeof options.callback&&options.callback($lightbox)},hide:function(){closeLightbox()}}}(this),$(document).on("history.change",function(){$(".lightbox").length>0&&window.abcn_ui.Helpers.lightbox.hide()})}(jQuery),window.abcn_ui.Helpers.links=function(window,document,$){var abcn_ui=window.abcn_ui,ajaxSelector='#global-viewport a:not([data-route="false"]):not([data-popup]):not([data-social])',newTabKey=!1;return $(document).on("keydown",function(e){(91===e.keyCode||17===e.keyCode)&&(newTabKey=!0)}),$(document).on("keyup",function(e){(91===e.keyCode||17===e.keyCode)&&(newTabKey=!1)}),{shouldAjax:function(link){var currentHrefNoHash,urlNoHash,url=$(link).attr("href"),ajax=!1;return url&&(url=url.toLowerCase(),-1===url.indexOf("http://abcnews.go.com")&&(url="http://abcnews.go.com"+url),ajax=url&&0!==url.indexOf("http")&&"#"!==url&&""!==url&&!url.match(/javascript:/)&&!abcn_ui.dep_mobile,urlNoHash=url,urlNoHash.length>=1&&urlNoHash.indexOf("#")>-1&&(urlNoHash=urlNoHash.substring(0,url.indexOf("#")),""!==urlNoHash&&-1===urlNoHash.indexOf("http")&&(urlNoHash=window.location.protocol+"//"+window.location.host+urlNoHash)),currentHrefNoHash=window.location.href,currentHrefNoHash.indexOf("#")>0&&(currentHrefNoHash=currentHrefNoHash.substring(0,currentHrefNoHash.indexOf("#"))),""===urlNoHash&&(urlNoHash=currentHrefNoHash),urlNoHash&&currentHrefNoHash&&urlNoHash===currentHrefNoHash&&(ajax=!1),url.indexOf("abcnews.go.com/topics")>=0&&(ajax=!1),-1===url.indexOf("abcnews.go.com")&&(ajax=!1),url.indexOf("abcnews.go.com")>=0&&(url.indexOf("/story/")>=0||url.indexOf("story?id=")>=0||url.indexOf("/wirestory/")>=0||url.indexOf("wirestory?id=")>=0)&&(ajax=!0)),ajax},ajaxify:function(){$(document).on("click",ajaxSelector,function(e){if(!newTabKey){var actualLink=$(this).attr("href");if($(this).attr("data-id")&&"false"==$(this).attr("data-redirect")){$.event.trigger({type:"newfeed.click",dataKey:s_omni.pageName?s_omni.pageName:""});var url="/beta/json/article?id="+$(this).attr("data-id")+"&showNewsFeed=true&analytics=true";if(history.replaceState&&history.state&&history.state.meta&&history.state.content&&"story"!==history.state.context){history.state.scrollPos=$(window).scrollTop();var storeHtml=window.abcn_ui.Helpers.history.storeHtml;if(storeHtml){var contentTooBig=history.state.content.html;history.state.content.html=abcn_ui.Helpers.page.contentPreBehavior}try{history.replaceState(history.state,history.state.meta.title,history.state.url)}catch(err){history.state.scrollPos=0,storeHtml&&(history.state.content.html=contentTooBig),history.replaceState(history.state,history.state.meta.title,history.state.url)}}0===$(this).parents("#main-container").length&&abcn_ui.Helpers.page&&(abcn_ui.Helpers.page.changeT3=!0,abcn_ui.Helpers.page.context="",abcn_ui.Helpers.page.minifeed=""),$(document).trigger("link.click",[actualLink]),abcn_ui.Helpers.links.shouldAjax(this)?(e.preventDefault(),window.navUrl=actualLink,$(document).trigger("link.ajax",[url,actualLink,this])):window.location.href=actualLink}else{var target,$link=$(this);$link.attr("data-social")||"#"==$link.attr("href")||"javascript:void(0);"==$link.attr("href")||(e.preventDefault(),target=$link.attr("target"),"_blank"===target||"_new"===target?($("body").hasClass("scroll-locked")&&$("body").removeClass("scroll-locked"),window.open(actualLink,"_blank")):window.parent.location.href=actualLink)}}})},init:function(){abcn_ui.Helpers.history.enabled?(this.ajaxify(),abcn_ui.Helpers.page_styles(),abcn_ui.Helpers.page_transitions()):$(document).on("click",ajaxSelector,function(e){var url=$(this).attr("href");0!==url.indexOf("http")&&"#"!==url&&(e.preventDefault(),window.location.href=url)})}}}(this,this.document,window.jQuery),window.abcn_ui.Helpers.live_alerts_render={config:{v_init:!0,bn_init:!0,hasRun:!1,poll_timer:1e4,mq:abcn_ui.Helpers.get_media_query_in_use()},detect:function(){var device_type=$("#header-wrapper").attr("data-device");return device_type},liveInitialize:function(){setTimeout(function(){abcn_ui.Helpers.live_alerts_render.liveListen()},window.abcn_ui.Helpers.live_alerts_render.config.poll_timer)},liveListen:function(){var buster=new Date,buildURL="http://a.abcnews.com";"https:"==window.location.protocol&&(buildURL="https://s.abcnews.com");var url=buildURL+"/js/livealerts/live.js",_usJS=!0;if(window.location.hostname.indexOf("preview.abcnews.go.com")>=0?url=buildURL+"/js/livealerts/live_preview.js?v="+buster.getTime():(window.location.hostname.indexOf("qa.n7.abcnews.go.com")>=0||window.location.hostname.indexOf("localhost")>=0)&&(_usJS=!1),_usJS){var liveAlertScriptTag="<script id='live-alerts-script' data-cache-buster='bn_"+buster.getTime()+"' src='"+url+"'></script>";0!=$("#live-alerts-script").length&&$("#live-alerts-script").remove(),$("head").append(liveAlertScriptTag)}else $.get("/beta/json/live?"+buster.getTime(),function(data){abcn_ui.Helpers.live_alerts_render.updateLiveAlerts(data)})},updateLiveAlerts:function(data){if(abcn_ui.Helpers.ufirst.get_breaking_news(abcn_ui.Helpers.ufirst.consume_breaking_news),void 0===window.takeover_active){var alertRoot=(this.detect(),data.alerts.content);if(alertRoot&&alertRoot!==!1){var alertData=localStorage.getItem("abcn_alerts"),alertHider=localStorage.getItem("abcn_alerts_hide"),bn_closed=data.alerts.content.replace(/(<([^>]+)>)/gi,"").trim(),alertClass="developing_news"===data.alerts.type?"abcn-developing-active":"abcn-breaking-active";alertHider&&alertHider.length===bn_closed.length&&(window.abcn_ui.Helpers.live_alerts_render.config.bn_init=!1);var bn_setup=alertData?alertData.replace(/(<([^>]+)>)/gi,"").trim():!1;if(window.abcn_ui.Helpers.live_alerts_render.config.bn_init||bn_setup&&bn_setup.length!==bn_closed.length){$("#global-viewport").removeClass("alert-transition abcn-breaking-active"),$("#global-viewport").removeClass("alert-transition abcn-developing-active");var alertTarget=$("#breaking-alerts");window.abcn_ui.Helpers.live_alerts_render.config.hasRun=!0,$("#global-viewport").addClass("alert-transition "+alertClass),$("body").addClass("breaking-on"),$("#alerts").length&&alertTarget.empty(),alertTarget.append(data.alerts.content),alertTarget.removeClass(),alertTarget.addClass(data.alerts.type);$("#alerts .closer").length||($("#alerts").append('<div class="closer"></div>'),$("#alerts .closer").on("click",function(){localStorage.setItem("abcn_alerts_hide",bn_closed),$(this).parent().parent().hide(),$(this).parent().parent().empty(),$(this).off("click"),$("#global-viewport").removeClass("alert-transition "+alertClass),$("body").removeClass("breaking-on"),window.abcn_ui.Helpers.live_alerts_render.config.hasRun=!1,$.event.trigger({type:"abcn.breakingnews.close"})}));var chevronTarget=$(".chevron-toggle"),bnTargetHeight=50;$(document).scroll(function(e){var scrollPercent=(bnTargetHeight-window.scrollY)/bnTargetHeight;scrollPercent>0?chevronTarget.css("opacity",scrollPercent):chevronTarget.css("opacity",0)}),alertTarget.show(),$.event.trigger({type:"abcn.breakingnews.render"}),window.abcn_ui.Helpers.live_alerts_render.config.bn_init=!1,localStorage.setItem("abcn_alerts",bn_closed)}}else $("#global-viewport").removeClass("alert-transition abcn-breaking-active"),$("#global-viewport").removeClass("alert-transition abcn-developing-active"),$("body").removeClass("breaking-on"),window.abcn_ui.Helpers.live_alerts_render.config.hasRun&&$("#breaking-alerts").hide().empty(),$.event.trigger({type:"abcn.breakingnews.close"})}},liveMarkup:function(item,useli,device){var $this=item,id=$this.id?$this.id:"",headline=$this.headline?$this.headline:"",image=$this.image?$this.image:"",closer=useli?"</li>":"",markup=useli?'<li class="livevideoheader_'+id+'" itemprop="name">':"",url="";switch(device){case"phone":url=$this.canonicalUrl?$this.canonicalUrl:"";break;case"tablet":url=$this.tabletUrl?$this.tabletUrl:"";break;default:url=$this.desktopUrl?$this.desktopUrl:""}return image&&(markup+='<figure><picture><a itemprop="url" href="'+url+'" name="lpos=nav[header_'+device+'_live]&lid=[image]" data-mobile="false"><img src="'+image+'" border="0" alt="'+headline+'" class="lazyautosizes lazyloaded" /><span class="icon-play"></span></a></picture></figure>'),markup+='<div class="text-container"><a itemprop="url" href="'+url+'" name="lpos=nav[header_'+device+'_live]&lid=[headline]" data-mobile="false"><span class="link-text">'+headline+'</span><span class="link-text-short">'+headline+"</span></a></div>",markup+=closer},updateBadge:function(data){var badgeNum=data.length,lsNum=localStorage.getItem("abcn_live_length"),bTarget=$("#global-nav .live .badge");lsNum&&parseInt(lsNum)<badgeNum?$("#global-nav .live span").length&&(bTarget.removeClass("badge").addClass("badge-update"),bTarget.html("New"),setTimeout(function(){bTarget.removeClass("badge-update").addClass("badge"),bTarget.html(badgeNum)},6e3)):bTarget.html(badgeNum),localStorage.setItem("abcn_live_length",badgeNum)}},window.abcn_ui.Helpers.livebar={config:{v_init:!0,bn_init:!0,caro_initialized:!1,poll_timer:1e4,players:[],hlsArr:[],shouldInit:!1,device:"",takeover_active:"undefined"==typeof window.takeover_active?!1:!0,mq:abcn_ui.Helpers.get_media_query_in_use(),liveUrlMap:{}},init:function(){var deviceType=this.detect();if("tablet"==deviceType&&this.setDisplayPref("false"),window.abcn_ui.Helpers.livebar.config.mq.indexOf("desktop")>-1){localStorage.removeItem("abcn_livebar_data");var hlsfeed="https:"==window.location.protocol?"/video/hlspreview?secure=true":"/video/hlspreview";$.get(hlsfeed).success(function(data){window.abcn_ui.Helpers.livebar.config.liveUrlMap=data}),window.abcn_ui.Helpers.livebar.config.takeover_active||(window.abcn_ui.Helpers.livebar.config.shouldInit=!0,/\/live|\/video/.test(window.location.href.toLowerCase())&&(window.abcn_ui.Helpers.livebar.config.shouldInit=!1),abcn_ui.device.isTablet&&/\/photos\//.test(window.location.href.toLowerCase())&&(window.abcn_ui.Helpers.livebar.config.shouldInit=!1)),1==window.abcn_ui.Helpers.livebar.config.shouldInit&&($.get("/beta/json/livebar",function(data){abcn_ui.Helpers.livebar.updateLiveBar(data)}),"undefined"==typeof akamai&&$.getScript(abcn_ui.Helpers.livebar.config.playerversion+"/amp.premier/amp.premier.min.js?v=2",function(){if(0==akamai.amp.AMP.defaults.loaded){var player_config=abcn_ui.Helpers.livebar.config.playerversion+"/amp.premier/amp.premier.default.xml?stonewood=0&sec=1";akamai.amp.AMP.loadDefaults(player_config)}}),abcn_ui.Helpers.livebar.listen()),window.abcn_ui.Helpers.livebar.config.takeover_active||($(document).on("abcn.scroll.up",function(){window.abcn_ui.Helpers.livebar.shouldRender()&&$("#global-live-bar").length>0&&window.abcn_ui.Helpers.livebar.render()}),$(document).on("abcn.scroll.down",function(){window.abcn_ui.Helpers.livebar.hide()}))}},setDisplayPref:function(state){$.cookie("abcn_livebar_show",state,{expires:1,domain:window.location.hostname})},getDisplayPref:function(){return $.cookie("abcn_livebar_show")},shouldRender:function(){var deviceType=this.detect(),renderFlag=!1;return window.abcn_ui.Helpers.livebar.config.takeover_active||(null!=this.getDisplayPref()?renderFlag="true"==this.getDisplayPref()&&("desktop"==deviceType||window.abcn_ui.Helpers.livebar.config.mq.indexOf("desktop")>-1)?!0:!1:"/"==window.location.pathname&&(renderFlag=!0)),renderFlag},listen:function(){if("undefined"!=typeof Pusher){var pusher=new Pusher("bbd22899e72cfe54c160"),channel=pusher.subscribe("livebar");window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var pusherEvent=/localhost|qa.n7.abcnews.go.com/.test(window.location.origin)?"desktop-livebar-update-qa":"desktop-livebar-update";/pusherpreview=true/.test(window.location.href)&&(pusherEvent="desktop-livebar-update-prev"),channel.bind(pusherEvent,function(data){window.abcn_ui.Helpers.livebar.updateLiveBar(data)})}},isActive:function(){var container=$("#global-live-bar");return container.hasClass("active")?!0:!1},render:function(){var container=$("#global-live-bar");container.attr("class","active");try{abcn_ui.Helpers.livebar.playVideos()}catch(e){}$("#global-viewport").addClass("livebar-active"),$.event.trigger({type:"abcn.livebar.load"}),setTimeout(function(){if(!$("body").attr("data-content-id")){var nextDiv=$("#header-container").nextAll("div");if(nextDiv.length>=1){var selectedDiv=$(nextDiv[0]),existingMarginTop=parseInt(selectedDiv.css("margin-top")),newMarginTop=existingMarginTop+94;if(!selectedDiv.hasClass("margin-adjusted")){selectedDiv.addClass("margin-adjusted");var bnDiv=$("#breaking-alerts");$(bnDiv).is(":visible")?$(".pushdown-trident").css("margin-top","0"):selectedDiv.css("margin-top",newMarginTop+"px")}}}},100)},hide:function(){var container=$("#global-live-bar");container.attr("class","inactive"),$("#global-viewport").removeClass("livebar-active"),abcn_ui.Helpers.livebar.pauseVideos();var bnDiv=$("#breaking-alerts");0===$(".margin-adjusted").length||$(bnDiv).is(":visible")||($(".margin-adjusted").removeAttr("style"),$(".margin-adjusted").removeClass("margin-adjusted")),$.event.trigger({type:"abcn.livebar.hide"})},detect:function(){var device_type=$("#header-wrapper").attr("data-device");return device_type},updateLiveBar:function(data){var deviceType=this.detect(),items=[];try{items="object"==typeof data.items?data.items:"object"==typeof data.data?data.data:JSON.parse(data.data)}catch(e){}if(data&&items.length>0&&"phone"!==deviceType){if(window.abcn_ui.Helpers.livebar.config.v_init){$("#global-nav .live > a").append('<span class="badge"></span>');var paginator='<div class="live-bar-paginator"><div class="prev"><span class="icon-chevron-left-01"></span></div><div class="next"><span class="icon-chevron-right-01"></span></div></div>';$("#header-wrapper").prepend('<div id="global-live-bar" class="inactive"><div class="carousel" data-behavior="livevideo_carousel"></div>'+paginator+"</div>"),window.abcn_ui.Helpers.livebar.config.v_init=!1}this.updateBadge(items);var liveData=localStorage.getItem("abcn_livebar_data"),container=$("#global-live-bar"),target=$("#global-live-bar > .carousel");if(liveData){var liveDataJson=JSON.parse(liveData),liveDataJsonItems="undefined"!=typeof liveDataJson.items?liveDataJson.items:"object"==typeof liveDataJson.data?liveDataJson.data:JSON.parse(liveDataJson.data);if(liveDataJsonItems.length>items.length){var itemsToRemove=liveDataJsonItems.length-items.length;for(i=0;i<itemsToRemove;i++)window.abcn_ui.Helpers.livebar.removeVideo(i),abcn_ui.Helpers.livebar.config.caro_initialized&&$(".carousel",container).slick("slickRemove",!1)}}$.each(items,function(i,item){var id=item.id?item.id:"",videoId=item.videoId;item.headline?item.headline:"";if(liveData)if("object"==typeof $("#global-live-bar > .carousel .item")[i])window.abcn_ui.Helpers.livebar.updateItemMarkup(item,i);else{
var randomId=Math.floor(2e3*Math.random()),containerId=id+"_"+randomId,lMarkup=window.abcn_ui.Helpers.livebar.liveMarkup(item,!0,deviceType,randomId);window.abcn_ui.Helpers.livebar.config.caro_initialized?$("#global-live-bar .carousel").slick("slickAdd",lMarkup):target.append(lMarkup),"desktop"==$("#header-wrapper").data("device")&&setTimeout(function(){abcn_ui.Helpers.livebar.createVideo(containerId,videoId)},2e3)}else{var lMarkup=window.abcn_ui.Helpers.livebar.liveMarkup(item,!0,deviceType);window.abcn_ui.Helpers.livebar.config.caro_initialized?$("#global-live-bar .carousel").slick("slickAdd",lMarkup):target.append(lMarkup),"desktop"==$("#header-wrapper").data("device")&&0==$("#amp-"+videoId).length&&setTimeout(function(){abcn_ui.Helpers.livebar.createVideo(id,videoId)},2e3)}}),window.abcn_ui.Helpers.livebar.config.caro_initialized||(abcn_ui.LoadBehavior(container),window.abcn_ui.Helpers.livebar.config.caro_initialized=!0),window.abcn_ui.Helpers.livebar.shouldRender()&&window.abcn_ui.Helpers.livebar.render(),localStorage.setItem("abcn_livebar_data",JSON.stringify(data))}else $("#global-live-bar").length&&(window.abcn_ui.Helpers.livebar.hide(),$("#global-live-bar").remove(),window.abcn_ui.Helpers.livebar.config.caro_initialized=!1),$("#global-nav .live span").length&&($("#global-nav .live div, #global-nav .live span").remove(),window.abcn_ui.Helpers.livebar.config.v_init=!0),localStorage.removeItem("abcn_livebar_data")},updateBadge:function(data){var badgeNum=data.length;localStorage.getItem("abcn_livebar_length"),$("#global-nav .live .badge");localStorage.setItem("abcn_livebar_length",badgeNum)},isSafari:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},isHlsJSCompatible:function(){var _useHlsJs=!0,uaArr=navigator.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(uaArr.length>0)switch(uaArr[1].toLowerCase()){case"firefox":uaArr[2]<=42&&(_useHlsJs=!1);break;case"trident":_useHlsJs=!1;break;case"msie":_useHlsJs=!1;case"safari":_useHlsJs=!1}return!1},createVideo:function(container,videoId){$targetdiv=$(".livebarvideo_"+container).find(".liveplayer"),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var feedUrlBase=window.location.origin;$targetdiv.append('<div id="amp-'+container+'"></div>');var previewPlaybackMode="html-auto",videoFormat="html-auto"==previewPlaybackMode?"m3u8_low":"f4m_low",comscoreFlag=0==abcn_ui.Helpers.livebar.config.players.length?!0:!1,streamSenseFlag=0==abcn_ui.Helpers.livebar.config.players.length?!0:!1;player_settings={autoplay:!0,mode:previewPlaybackMode,flash:{vars:{inpage_bitrate_index_limit:1,core_player_name:"abcn_live"+videoId,mbr_starting_index:2,ad_control_enabled:!1,playback_clicktoggle_enabled:!1,fullscreen_enabled:!1,suppress_events:"mediaPlayerViewInitialized",share_mode:"2",namespace:"abcn_live"+videoId,volume:0},params:{wmode:"opaque"}},volume:0,controls:{mode:"none"},chartbeatanalytics:{enabled:!1},comscore:{enabled:comscoreFlag},comscorestreamsense:{enabled:streamSenseFlag,data:{metadata:{ads:{c4:"livepreview"},video:{c4:"livepreview"}}}},newrelic:{enabled:!1},nielsen:{enabled:!1},mediaanalytics:{enabled:!1},omniture:{enabled:!1},freewheel:{enabled:!1},feed:{url:feedUrlBase+"/video/itemfeed?id="+videoId+"&format="+videoFormat},hls:{data:{enableWorker:!0,enableSoftwareAES:!0}},playoverlay:{enabled:!1}},player_handler=function(event){event.player.setVolume(0),event.player.setAutoplay(!0),event.player.captioning.setHidden(!0),abcn_ui.Helpers.video.globalReadyHandler(event)},"undefined"==typeof akamai&&$.getScript(abcn_ui.Helpers.livebar.config.playerversion+"/amp.premier/amp.premier.min.js?v=2",function(){if(0==akamai.amp.AMP.defaults.loaded){var player_config=abcn_ui.Helpers.livebar.config.playerversion+"/amp.premier/amp.premier.default.xml?stonewood=0&sec=1";akamai.amp.AMP.loadDefaults(player_config)}}),abcn_ui.Helpers.livebar.config.players.push(akamai.amp.AMP.create("amp-"+container,player_settings,player_handler))},destroyVideos:function(){$.each(abcn_ui.Helpers.livebar.config.players,function(idx,player){"undefined"!=typeof player.comscorestreamsense&&player.comscorestreamsense.retrieveProxy("ModuleProxy").myStreamingTag.stop(),player.pause(),$(player.getContainer()).remove(),player.destroy()}),abcn_ui.Helpers.livebar.config.players=[],abcn_ui.Helpers.livebar.config.hlsArr=[]},removeVideo:function(idx){var targetVideo=abcn_ui.Helpers.livebar.config.players[abcn_ui.Helpers.livebar.config.players.length-1];targetVideo.pause(),"undefined"!=typeof targetVideo.comscorestreamsense&&targetVideo.comscorestreamsense.retrieveProxy("ModuleProxy").myStreamingTag.stop(),$(targetVideo.getContainer()).remove(),targetVideo.destroy(),abcn_ui.Helpers.livebar.config.players.splice(-1,1)},pauseVideos:function(){$.each(abcn_ui.Helpers.livebar.config.players,function(idx,player){player.pause()})},playVideos:function(){$.each(abcn_ui.Helpers.livebar.config.players,function(idx,player){player.getPaused()&&player.play()})},liveMarkup:function(item,useli,device,randomId){var $this=item,id=$this.id?$this.id:"",random_id="undefined"!=typeof randomId?"_"+randomId:"",headline=$this.headline?$this.headline:$this.hed?$this.hed:"",image=$this.image?$this.image:"",closer=useli?"</div>":"",playerContainer="desktop"==device?'<div class="liveplayer"></div>':"",markup=useli?'<div class="item livebarvideo_'+id+random_id+'" itemprop="name">':"",url=$this.url,delim=url.indexOf("?")>-1?"&":"?";return image&&(image=image.replace("http://a","http://s"),markup+='<figure class="feed-item-figure"><div class="img-wrap"><picture><a itemprop="url" href="'+url+'" name="lpos=nav[header_'+device+'_live]&lid=[image]" data-mobile="false"><img src="'+image+'" border="0" alt="'+headline+'" class="lazyautosizes lazyloaded" /></a></picture><a itemprop="url" href="'+url+delim+'cid=HP_LB_THUMB" name="lpos=nav[header_'+device+'_live]&lid=[headline]" data-mobile="false">'+playerContainer+"</a></div></figure>"),markup+='<div class="text-container"><p class="link-callout"><span class="icon-live-01"></span></p><a itemprop="url" href="'+url+delim+'cid=HP_LB_HED" name="lpos=nav[header_'+device+'_live]&lid=[headline]" data-mobile="false"><p class="link-text">'+headline+"</p></a></div>",markup+=closer},updateItemMarkup:function(item,targetIdx){var $this=item,id=$this.id?$this.id:"",headline=$this.headline?$this.headline:$this.hed?$this.hed:"",url=($this.image?$this.image:"",$this.url),delim=url.indexOf("?")>-1?"&":"?",img_url=url+delim+"urlHP_LB_THUMB",hed_url=url+delim+"urlHP_LB_HED",$targetEl=$($("#global-live-bar > .carousel .item")[targetIdx]);$targetEl.find(".link-text").html(headline),$targetEl.find(".img-wrap a").attr("href",img_url),$targetEl.find(".text-container a").attr("href",hed_url),abcn_ui.Helpers.livebar.config.players[targetIdx].evaluateBindings("#{media.guid}")!=id?abcn_ui.Helpers.video.seedPlayer(abcn_ui.Helpers.livebar.config.players[targetIdx],id):setTimeout(function(){abcn_ui.Helpers.livebar.config.players[targetIdx].paused&&abcn_ui.Helpers.livebar.config.players[targetIdx].play()},500)}},window.abcn_ui.Helpers.load_progress=function(window,$){"use strict";function clearTimeouts(){clearTimeout(p25),clearTimeout(p50),clearTimeout(p75)}var p25,p50,p75,$logo=$("#global-header h1"),$progress=$('<div class="progress"><div class="bar" /></div>'),$bar=$progress.find(".bar");return{start:function(){clearTimeouts(),$bar.attr("class","bar"),$logo.append($progress),p25=setTimeout(function(){$bar.addClass("p25")},500),p50=setTimeout(function(){$bar.addClass("p50")},1e3),p75=setTimeout(function(){$bar.addClass("p75")},1500)},stop:function(){$progress.parent().length&&(clearTimeouts(),$bar.length>0&&$bar.addClass("p100"),setTimeout(function(){$progress.detach(),$bar.removeClass("p25 p50 p75 p100")},500))}}}(this,window.jQuery);var abcn_ui=window.abcn_ui;abcn_ui.Helpers.nativo_ad={init:function(){window.abcn_ui.Helpers.nativo_ad.build(),$(document).on("nativo.load",function(){window.abcn_ui.Helpers.nativo_ad.build()})},build:function(){var selector="#news-feed .sidebar .container .news-feed-item";$(selector).each(function(i){return 3===i?($(this).after('<article><div class="nativo"></div></article>'),!1):void 0})},setup:function(){window.init_nativoInit=!1,window.init_nativo&&(window.abcn_ui.Helpers.nativo_ad.init(),setTimeout(function(){PostRelease.Start()},1),$(document).on("rain.reload",function(e){window.init_nativoInit?setTimeout(function(){PostRelease.Start()},1):window.init_nativoInit=!0}))}},window.abcn_ui.Helpers.nav=function(window,document,$){var abcn_ui=window.abcn_ui;return $(document).on("media_query_updated",$.debounce(750,function(){var $active=$("#global-nav-mobile .tier-1 > li.active");$active.find(".nav-search:hidden").length>0&&$($active).removeClass("active").next("li").addClass("active"),abcn_ui.Helpers.nav.init()})),{init:function(){var type=this.getType();abcn_ui.Helpers.nav.fetch(type)},getType:function(){var type=abcn_ui.Helpers.get_media_query_in_use();return"tablet"===type&&(type=abcn_ui.Helpers.nav.isNavExternal===!0?"desktop":"mobile"),type.indexOf("desktop")>-1&&(type="desktop"),type},showPrimaryNav:function(){$("#global-nav > ul").show()},sportReplaces:function(sportString){return""},getSport:function(){return""},fetch:function(type){abcn_ui.Helpers.nav.showPrimaryNav()},error:function(){$(document).trigger("links.ajaxEnabled",[!1]),abcn_ui.Helpers.nav.showPrimaryNav()},removeParameter:function(url,parameter){var fragment=url.split("#"),urlparts=fragment[0].split("?");if(urlparts.length>=2){for(var urlBase=urlparts.shift(),queryString=urlparts.join("?"),prefix=encodeURIComponent(parameter)+"=",pars=queryString.split(/[&;]/g),i=pars.length;i-->0;)-1!==pars[i].lastIndexOf(prefix,0)&&pars.splice(i,1);url=urlBase+(pars.length>0?"?"+pars.join("&"):""),fragment[1]&&(url+="#"+fragment[1])}return url}}}(this,this.document,jQuery,window._),function($){abcn_ui.Helpers.newsletter_signup=function(container){function buildNewsletter(){$(container).submit(function(e){e.preventDefault(),processSubmission()}),window.location.href.indexOf("#reg")>-1&&($(errorDiv).html("Thanks for subscribing!"),isComplete=!0,renderError(isComplete))}function processSubmission(){if(isValidEntry()){submitLock("lock");var optInChecked=$this.find(".terms").is(":checked");optInChecked?pswdLessReg.nwltr_campaign=pswdLessReg.nwltr_campaign_init+",ABCNEWS General_Level1 NLO 110503,WDIGFamilySites":pswdLessReg.nwltr_campaign=pswdLessReg.nwltr_campaign_init;var fromURL=window.location.href,url="http://app.abcnews.go.com/app/newsletterSignon?emailAddress="+pswdLessReg.emailVal+"&list="+pswdLessReg.nwltr_campaign+"&fromURL="+fromURL,headID=document.getElementsByTagName("head")[0],newScript=document.createElement("script");newScript.type="text/javascript",newScript.src=url,headID.appendChild(newScript)}}function isValidEntry(){var isValid=!0;return checkEmailAddress()||(renderError(!1),isValid=!1),isValid}function renderError(complete){var setClasses=complete?"active complete":"active";if(0===$(errorDiv).height()&&($(errorDiv).addClass(setClasses),"active"===setClasses)){var inputEl=$this.find(".form-control");$(inputEl).focus()}}function checkEmailAddress(){var emailValid=!1;pswdLessReg.emailVal=$("input.form-control").val();var filter=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return filter.test(pswdLessReg.emailVal)&&(emailValid=!0),emailValid}function submitLock(state){var button=$this.find(".submit");$(button).text("lock"===state?"Processing...":"Sign Up")}function destroyNewsletter(){$(container).off("submit")}var abcn_ui=window.abcn_ui;pswdLessReg={},pswdLessReg.nwltr_campaign_init="Political_Unit",$this=$(container);var errorDiv=$this.find(".error_txt");pswdLessReg.render=function(){submitLock("release");var isComplete=!1;pswdLessReg.redirectGoRegURL?$(errorDiv).html('Address is already registered. <a href="'+pswdLessReg.redirectGoRegURL+'" target="_blank">Please login to continue.</a>'):"failed"===pswdLessReg.attemptStatus?pswdLessReg.resultErrorCode.indexOf("emailaddress.invalid")>-1&&$(errorDiv).html("Sorry, you must enter a valid e-mail address."):"successful"===pswdLessReg.attemptStatus?($(errorDiv).html("Thanks for subscribing! Subscription will be sent to: "+pswdLessReg.emailAddress),isComplete=!0):("0"!==pswdLessReg.resultErrorLength||"registered not logged in"===pswdLessReg.loginType)&&$(errorDiv).html("There was a problem with your request. Please try again later."),renderError(isComplete)},abcn_ui.Helpers.build_or_destroy({},buildNewsletter,destroyNewsletter)}}(window.jQuery),function(window){var abcn_ui=window.abcn_ui;abcn_ui.Helpers.page=function(window,document,$){return $(document).on("link.ajax",function(e,url,fullurl){abcn_ui.Helpers.page.fullurl=fullurl,abcn_ui.Helpers.page.fetch(url,fullurl)}),$(document).on("history.change",function(e,state){if(state){var handler="handlerName"in state?function(){var handlerName=state.handlerName;if("undefined"!=typeof handlerName){var handlerPath=handlerName instanceof Array?handlerName:handlerName.split("."),handler=window;if(handlerPath.length){for(var p in handlerPath)handlerPath.hasOwnProperty(p)&&(handler=handler&&handler[handlerPath[p]]);return"function"==typeof handler?handler:void 0}}}():void 0;if(!handler||!handler(e,state))if(state.content&&state.content.html)abcn_ui.Helpers.page.load(state,null,{eventType:"history"});else{var url=state.url;if(url.indexOf(!1)){var loadURL=new RegExp("(/[^?/]+/?)?(?:-(\\d{6,})[^?]*|[^?])*[?]?.*?(?:id=(\\d+))?").exec(state.url),loadID=loadURL[3]?loadURL[3]:loadURL[2];url="/beta/json/article?id="+loadID+"&showNewsFeed=true&analytics=true"}abcn_ui.Helpers.page.fetch(url,null,{eventType:"history",tabIndex:state.tabIndex})}}}),{url:"",fullurl:"",container:$("#main-container"),sportSection:"",context:"",minifeed:"",changeT3:!0,setContext:function(sport){"undefined"==typeof sport&&(sport=abcn_ui.Helpers.nav.getSport());var context,firstLoad=""===abcn_ui.Helpers.page.context;context="index"!==$("body").attr("data-pagetype")||""!==sport&&"top"!==sport?sport:"top",abcn_ui.Helpers.page.context=context,firstLoad||($("#global-nav > ul > li.menu-"+sport).addClass("active"),abcn_ui.Helpers.nav.updateSubNav()),"top"===abcn_ui.Helpers.page.context?$("body").addClass("page-context-top"):$("body").removeClass("page-context-top");var $newsFeed=$("#news-feed");$newsFeed.length>0&&(abcn_ui.Helpers.page.minifeed=$newsFeed.data("minifeed")),"clubhouse"===$("body").attr("data-pagetype")&&(abcn_ui.Helpers.page.changeT3=!1)},fetch:function(url,fullurl,options){abcn_ui.Helpers.page.url=url,abcn_ui.Helpers.page.fullurl=fullurl,abcn_ui.Helpers.page.loading&&abcn_ui.Helpers.page.loading.abort(),options=options||{},$(document).trigger("page.beforeload",[]),$(document).trigger("page.preRender",[url,null,!0]);var params={xhr:1,render:!0};if(url.indexOf("/insider/")>-1&&(params=abcn_ui.Helpers.insider.refresh(params)),""!==abcn_ui.Helpers.page.context&&url.match(/(story|post|recap|report|preview|clip|video).*$/g)&&(params.sportSection=abcn_ui.Helpers.page.context,abcn_ui.Helpers.page.minifeed&&""!==abcn_ui.Helpers.page.minifeed)){var minifeedParams=JSON.parse('{"'+decodeURI(abcn_ui.Helpers.page.minifeed).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');$.extend(params,minifeedParams)}abcn_ui.Helpers.page.container;abcn_ui.Helpers.page.loading=$.ajax({url:abcn_ui.Helpers.page.url,data:params,type:"get"}),abcn_ui.Helpers.page.loading.done(function(data){abcn_ui.Helpers.page.load(data,url,options)}),abcn_ui.Helpers.page.loading.fail(function(){abcn_ui.Helpers.page.error(),$(document).trigger("page.error",[])})},load:function(data,url,options){options=options||{},setTimeout(function(){$(document).trigger("page.load",[data,abcn_ui.Helpers.page.fullurl,options]),$(document).trigger("nativo.load")},100),data&&data.content?abcn_ui.Helpers.page.render(data.content.html||"",data,options):abcn_ui.Helpers.page.error()},render:function(html,data,options){var container=abcn_ui.Helpers.page.container;data.meta.type,data.scriptsToLoad,data&&data.meta&&data.meta.autoCSS?data.meta.autoCSS:!1;if(container){if($(document).off("article.load"),data.newsfeed){$("#article-feed").html(html),$("#news-feed").remove();var sidebarNewsfeed='<section id="news-feed" class="col-c chk-height" data-behavior="desktop_story_news_feed"><div id="news-feed-content"  class="sidebar"><div class="container-wrapper"><div class="container">'+data.newsfeed.html+"</div></div></div></section>";$(".main-content").append(sidebarNewsfeed),$("body").hasClass("abcn-mobile")||"undefined"!=typeof STR&&STR.Tag.boot()}else container.html(html);rain.dropAuto(data.ads),data.meta&&($("title").html(data.meta.title),$('meta[name="description"]').attr("content",data.meta.description),$('meta[name="keywords"]').attr("content",data.meta.keywords)),data.analytics&&(prepURL="http://"+window.location.host+abcn_ui.Helpers.page.fullurl,abcn_ui.Helpers.tracking.init(data,prepURL)),abcn_ui.Helpers.video.resetStoryPlayer(data),window.captions=[],window.abcn_ui.Helpers.captions.config.eventsLoaded=!1;var elId=$(".main-content .col-b article").data("id"),newEl=$(".main-content .col-b article[data-id="+elId+"]");window.abcn_ui.Helpers.captions.init(newEl),setTimeout(function(){$(document).trigger("page.render",[abcn_ui.Helpers.page.url,html,data,options])},100),$(window).scrollTop(0)}},error:function(){window.location=abcn_ui.Helpers.page.fullurl},updateContent:function(parentSelector,$extend){var obj=$.parseHTML("<div>"+abcn_ui.Helpers.page.contentPreBehavior+"</div>");$(obj).find(parentSelector).append($extend),abcn_ui.Helpers.page.contentPreBehavior=$(obj).html()},setContentPreBehavior:function(){if(this.contentPreBehavior=abcn_ui.Helpers.page.container.html(),"mobile"===abcn_ui.Helpers.get_media_query_in_use()){var obj=$.parseHTML("<div>"+abcn_ui.Helpers.page.contentPreBehavior+"</div>");$(obj).children("section").attr("class","js-hide"),$(obj).children("section").eq(0).attr("class","js-show"),this.contentPreBehavior=$(obj).html()}}}}(window,window.document,jQuery),abcn_ui.Helpers.page.setContext()}(window),function($){var abcn_ui=window.abcn_ui;abcn_ui.Helpers.page_styles=function(){$(document).on("page.render",function(){abcn_ui.LoadBehavior(abcn_ui.Helpers.page.container)}),$(document).on("page.beforeload",function(){abcn_ui.Helpers.page.container.attr("style","")}),$(document).on("page.load",function(e,data){var previousType,newType;previousType=$("body").attr("data-pagetype")||"",newType=data&&data.meta&&data.meta.type?data.meta.type:"","content"===newType&&(newType="story"),"content"===previousType&&(previousType="story"),previousType!==newType&&($("body").attr("data-pagetype",newType).removeClass(previousType).addClass(newType),$(document).trigger("page.typeChange",[previousType,newType]))})}}(window.jQuery),function($){"use strict";var abcn_ui=window.abcn_ui;window.espn;abcn_ui.Helpers.page_transitions=function(){var safari_timeout,$window=$(window),$body=$("body"),$document=$(document);document.head.getElementsByClassName("page-type-include")[0]||{};$body.prepend($('<div class="shim" />')),$document.on("link.ajax",function(){$.event.trigger({type:"close_module_bloom"}),abcn_ui.Helpers.load_progress.start()}),$document.on("page.beforeload",function(){var url=window.location.href;-1===url.indexOf("#")&&(clearTimeout(safari_timeout),$body.height($document.height()).removeClass("page-rendered").addClass("rendering"),setTimeout(function(){},0))});$document.on("page.preRender",function(e,url,pagetype,prefetch,autoCSS){$window.scrollTop(0),$body.height(""),$body.removeClass("loading"),safari_timeout=setTimeout(function(){$body.removeClass("rendering").addClass("page-rendered")},500),abcn_ui.Helpers.load_progress.stop()})}}(window.jQuery),window.abcn_ui.Helpers.purge=function(d){if(void 0===d)return!1;var i,l,n,a=d.attributes;if(a)for(i=a.length-1;i>=0;i-=1)n=a[i].name,"function"==typeof d[n]&&(d[n]=null);if(a=d.childNodes)for(l=a.length,i=0;l>i;i+=1)window.abcn_ui.Helpers.purge(d.childNodes[i])},function($){window.abcn_ui.Helpers.remove_link_shim=function(){setTimeout(function(){$("body").removeClass("rendering")},500)}}(window.jQuery),function($){function isMobile(){var u=navigator.userAgent;return u.match(/Mobile/i)||u.match(/Android/i)||u.match(/iPad/i)||u.match(/Mini/i)||u.match(/Silk/i)}var $body=$("body");$(window).load(function(){window.espn.plugins.getTwitter(function(){window.twttr.widgets.load(document.getElementById("now-feed"))})}),$body.on("click",".btn-social.facebook",function(event){var href=$(this).attr("href"),opener=window.open(href,"_blank","noresizable,noscrollbars,width=550,height=420"),windowBlocked="undefined"==typeof opener;windowBlocked||(event.returnValue=!1,event.preventDefault&&event.preventDefault())}),$body.on("click",".btn-social.pinterest",function(event){var href=$(this).attr("href"),opener=window.open(href,"_blank","noresizable,noscrollbars,width=750,height=500"),windowBlocked="undefined"==typeof opener;windowBlocked||(event.returnValue=!1,event.preventDefault&&event.preventDefault())}),$body.on("click",".btn-social.email,.page-action.email",function(event){var href=$(this).attr("href"),opener=window.open(href,"_blank","noresizable,noscrollbars,width=600,height=500"),windowBlocked="undefined"==typeof opener;windowBlocked||(event.returnValue=!1,event.preventDefault&&event.preventDefault())}),$body.on("click",".btn-social.whats-app",function(event){event.preventDefault(),event.stopPropagation(),window.location=$(this).attr("href")}),$body.on("click",".page-action.print",function(event){event.preventDefault();var href=$(this).attr("href"),opener=window.open(href,"_blank"),windowBlocked="undefined"==typeof opener&&isMobile();windowBlocked||(event.returnValue=!1,event.preventDefault&&event.preventDefault())}),$body.on("click",".btn-share-page.twitter",function(event){event.stopPropagation();var urlToShare="undefined"!=typeof $body.data("src")?$body.data("src"):window.location.href;urlToShare=-1==urlToShare.indexOf("?")?urlToShare+"?cid=":"&cid=share_twitter_widget";var href="http://twitter.com/intent/tweet?url="+encodeURI(urlToShare)+"&via=ABC",opener=window.open(href,"_blank","noresizable,noscrollbars,width=550,height=420"),windowBlocked="undefined"==typeof opener;windowBlocked||(event.returnValue=!1,event.preventDefault&&event.preventDefault())}),$body.on("click",".btn-share-page.facebook",function(event){var urlToShare="undefined"!=typeof $body.data("src")?$body.data("src"):window.location.href;urlToShare=-1==urlToShare.indexOf("?")?urlToShare+"?cid=":"&cid=";var href="https://www.facebook.com/sharer.php?u="+urlToShare+"share_facebook_widget",opener=window.open(href,"_blank","noresizable,noscrollbars,width=550,height=420"),windowBlocked="undefined"==typeof opener;windowBlocked||(event.returnValue=!1,event.preventDefault&&event.preventDefault())})}(jQuery),function($){function findAndLoadYieldmo(event){if(window.yieldmo_active){var $id=event.story,storyObj=event.storyObj,defaultSelector="article.article[data-id="+$id+"]",yieldmoDiv=$(defaultSelector).find(".ym");if(0===yieldmoDiv.length){var pCount=0;$(defaultSelector+" p").each(function(i){"articleBody"!==$(this).attr("itemprop")||$(this).parent().is("blockquote")||(0===i&&""===$.trim($(this).html())?$(this).remove():""!==$.trim($(this).html())&&(2===pCount&&$(this).before(storyObj.yieldmo),7===pCount&&$(this).before(storyObj.yieldmo2),pCount++))}),setTimeout(function(){!function(e,t){if(void 0===t._ym){t._ym="";var m=e.createElement("script");m.type="text/javascript",m.async=!0,m.src="//static.yieldmo.com/ym.m3.js",(e.getElementsByTagName("head")[0]||e.getElementsByTagName("body")[0]).appendChild(m)}else t._ym instanceof String||void 0===t._ym.chkPls||t._ym.chkPls()}(document,window)},1)}}}function findAndLoadOutbrain($article,type){if($article.length>0){var $outbrainWidget=$article.find(".outbrain-container");"mobile"===abcn_ui.media_query_in_use;setTimeout(function(){var ob_widget_id="AR_20";"undefined"!=typeof abcn_opt_obr_AR21&&1==abcn_opt_obr_AR21&&(ob_widget_id="AR_21"),$outbrainWidget.attr("data-widget-id",ob_widget_id).addClass("OUTBRAIN").removeClass("outbrain-container"),"undefined"!=typeof OBR&&OBR.extern.researchWidget()},500)}}var abcn_ui=window.abcn_ui;$(document).on("abcn.story.reload",function(event){findAndLoadYieldmo(event)}),$(document).on("abcn.story.yieldmo",function(event){if(window.yieldmo_active){var $id=event.story_id,yieldmo=event.yieldmo.replace(/\\"/g,'"'),yieldmo2=event.yieldmo2.replace(/\\"/g,'"');yieldmo=yieldmo.substring(1,yieldmo.length-1),yieldmo2=yieldmo2.substring(1,yieldmo2.length-1);var defaultSelector="article.article[data-id="+$id+"]",yieldmoDiv=$(defaultSelector).find(".ym");if(0===yieldmoDiv.length){var pCount=0;$(defaultSelector+" p").each(function(i){"articleBody"!==$(this).attr("itemprop")||$(this).parent().is("blockquote")||(0===i&&""===$.trim($(this).html())?$(this).remove():""!==$.trim($(this).html())&&(2===pCount&&$(this).before(yieldmo),7===pCount&&$(this).before(yieldmo2),pCount++))})}}}),$(document).on("page.scroll",$.debounce(100,function(e,story){e.stopPropagation();var $article=$('article.article[data-id="'+story.uid+'"]');$(".outbrain-container").length&&findAndLoadOutbrain($article,story.type)})),$(document).on("ready page.load",function(){var $article=$("article.article");$(".outbrain-container").length&&findAndLoadOutbrain($article,$("body").data("pagetype"))})}(jQuery);var swfobject=function(){function f(){if(!J){try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=!0;for(var X=U.length,Y=0;X>Y;Y++)U[Y]()}}function K(X){J?X():U[U.length]=X}function s(Y){if(typeof O.addEventListener!=D)O.addEventListener("load",Y,!1);else if(typeof j.addEventListener!=D)j.addEventListener("load",Y,!1);else if(typeof O.attachEvent!=D)i(O,"onload",Y);else if("function"==typeof O.onload){var X=O.onload;O.onload=function(){X(),Y()}}else O.onload=Y}function h(){T?V():H()}function V(){var X=j.getElementsByTagName("body")[0],aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;!function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");ab&&(ab=ab.split(" ")[1].split(","),M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)])}else if(10>Y)return Y++,void setTimeout(arguments.callee,10);X.removeChild(aa),Z=null,H()}()}else H()}function H(){var ag=o.length;if(ag>0)for(var af=0;ag>af;af++){var Y=o[af].id,ab=o[af].callbackFn,aa={success:!1,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae)if(!F(o[af].swfVersion)||M.wk&&M.wk<312)if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall,ai.width=ae.getAttribute("width")||"0",ai.height=ae.getAttribute("height")||"0",ae.getAttribute("class")&&(ai.styleclass=ae.getAttribute("class")),ae.getAttribute("align")&&(ai.align=ae.getAttribute("align"));for(var ah={},X=ae.getElementsByTagName("param"),ac=X.length,ad=0;ac>ad;ad++)"movie"!=X[ad].getAttribute("name").toLowerCase()&&(ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value"));P(ai,ah,Y,ab)}else p(ae),ab&&ab(aa);else w(Y,!0),ab&&(aa.success=!0,aa.ref=z(Y),ab(aa))}else if(w(Y,!0),ab){var Z=z(Y);Z&&typeof Z.SetVariable!=D&&(aa.success=!0,aa.ref=Z),ab(aa)}}}function z(aa){var X=null,Y=c(aa);if(Y&&"OBJECT"==Y.nodeName)if(typeof Y.SetVariable!=D)X=Y;else{var Z=Y.getElementsByTagName(r)[0];Z&&(X=Z)}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=!0,E=Z||null,B={success:!1,id:X};var ae=c(X);if(ae){"OBJECT"==ae.nodeName?(l=g(ae),Q=null):(l=ae,Q=X),aa.id=R,(typeof aa.width==D||!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)&&(aa.width="310"),(typeof aa.height==D||!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)&&(aa.height="137"),j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D?ab.flashvars+="&"+ac:ab.flashvars=ac,M.ie&&M.win&&4!=ae.readyState){var Y=C("div");X+="SWFObjectNew",Y.setAttribute("id",X),ae.parentNode.insertBefore(Y,ae),ae.style.display="none",function(){4==ae.readyState?ae.parentNode.removeChild(ae):setTimeout(arguments.callee,10)}()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&4!=Y.readyState){var X=C("div");Y.parentNode.insertBefore(X,Y),X.parentNode.replaceChild(g(Y),X),Y.style.display="none",function(){4==Y.readyState?Y.parentNode.removeChild(Y):setTimeout(arguments.callee,10)}()}else Y.parentNode.replaceChild(g(Y),Y)}function g(ab){var aa=C("div");if(M.win&&M.ie)aa.innerHTML=ab.innerHTML;else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad)for(var X=ad.length,Z=0;X>Z;Z++)1==ad[Z].nodeType&&"PARAM"==ad[Z].nodeName||8==ad[Z].nodeType||aa.appendChild(ad[Z].cloneNode(!0))}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312)return X;if(aa)if(typeof ai.id==D&&(ai.id=Y),M.ie&&M.win){var ah="";for(var ae in ai)ai[ae]!=Object.prototype[ae]&&("data"==ae.toLowerCase()?ag.movie=ai[ae]:"styleclass"==ae.toLowerCase()?ah+=' class="'+ai[ae]+'"':"classid"!=ae.toLowerCase()&&(ah+=" "+ae+'="'+ai[ae]+'"'));var af="";for(var ad in ag)ag[ad]!=Object.prototype[ad]&&(af+='<param name="'+ad+'" value="'+ag[ad]+'" />');aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>",N[N.length]=ai.id,X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai)ai[ac]!=Object.prototype[ac]&&("styleclass"==ac.toLowerCase()?Z.setAttribute("class",ai[ac]):"classid"!=ac.toLowerCase()&&Z.setAttribute(ac,ai[ac]));for(var ab in ag)ag[ab]!=Object.prototype[ab]&&"movie"!=ab.toLowerCase()&&e(Z,ab,ag[ab]);aa.parentNode.replaceChild(Z,aa),X=Z}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X),aa.setAttribute("value",Y),Z.appendChild(aa)}function y(Y){var X=c(Y);X&&"OBJECT"==X.nodeName&&(M.ie&&M.win?(X.style.display="none",function(){4==X.readyState?b(Y):setTimeout(arguments.callee,10)}()):X.parentNode.removeChild(X))}function b(Z){var Y=c(Z);if(Y){for(var X in Y)"function"==typeof Y[X]&&(Y[X]=null);Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y),I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");return X[0]=parseInt(X[0],10),X[1]=parseInt(X[1],10)||0,X[2]=parseInt(X[2],10)||0,Y[0]>X[0]||Y[0]==X[0]&&Y[1]>X[1]||Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]?!0:!1}function v(ac,Y,ad,ab){if(!M.ie||!M.mac){var aa=j.getElementsByTagName("head")[0];if(aa){var X=ad&&"string"==typeof ad?ad:"screen";if(ab&&(n=null,G=null),!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css"),Z.setAttribute("media",X),n=aa.appendChild(Z),M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0&&(n=j.styleSheets[j.styleSheets.length-1]),G=X}M.ie&&M.win?n&&typeof n.addRule==r&&n.addRule(ac,Y):n&&typeof j.createTextNode!=D&&n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(m){var Y=X?"visible":"hidden";J&&c(Z)?c(Z).style.visibility=Y:v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/,X=null!=Z.exec(Y);return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var l,Q,E,B,n,G,D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=!1,U=[h],o=[],N=[],I=[],J=!1,a=!1,m=!0,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=/win/.test(Y?Y:ah),ac=/mac/.test(Y?Y:ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,X=!1,ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r)ab=t.plugins[S].description,
!ab||typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin||(T=!0,X=!1,ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10),ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10),ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof O.ActiveXObject!=D)try{var ad=new ActiveXObject(W);ad&&(ab=ad.GetVariable("$version"),ab&&(X=!0,ab=ab.split(" ")[1].split(","),ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]))}catch(Z){}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}();(function(){M.w3&&((typeof j.readyState!=D&&"complete"==j.readyState||typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))&&f(),J||(typeof j.addEventListener!=D&&j.addEventListener("DOMContentLoaded",f,!1),M.ie&&M.win&&(j.attachEvent(x,function(){"complete"==j.readyState&&(j.detachEvent(x,arguments.callee),f())}),O==top&&!function(){if(!J){try{j.documentElement.doScroll("left")}catch(X){return void setTimeout(arguments.callee,0)}f()}}()),M.wk&&!function(){return J?void 0:/loaded|complete/.test(j.readyState)?void f():void setTimeout(arguments.callee,0)}(),s(f)))})(),function(){M.ie&&M.win&&window.attachEvent("onunload",function(){for(var ac=I.length,ab=0;ac>ab;ab++)I[ab][0].detachEvent(I[ab][1],I[ab][2]);for(var Z=N.length,aa=0;Z>aa;aa++)y(N[aa]);for(var Y in M)M[Y]=null;M=null;for(var X in swfobject)swfobject[X]=null;swfobject=null})}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab,Y.swfVersion=X,Y.expressInstall=aa,Y.callbackFn=Z,o[o.length]=Y,w(ab,!1)}else Z&&Z({success:!1,id:ab})},getObjectById:function(X){return M.w3?z(X):void 0},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:!1,id:ah};M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y?(w(ah,!1),K(function(){ae+="",ag+="";var aj={};if(af&&typeof af===r)for(var al in af)aj[al]=af[al];aj.data=ab,aj.width=ae,aj.height=ag;var am={};if(ad&&typeof ad===r)for(var ak in ad)am[ak]=ad[ak];if(Z&&typeof Z===r)for(var ai in Z)typeof am.flashvars!=D?am.flashvars+="&"+ai+"="+Z[ai]:am.flashvars=ai+"="+Z[ai];if(F(Y)){var an=u(aj,am,ah);aj.id==ah&&w(ah,!0),X.success=!0,X.ref=an}else{if(aa&&A())return aj.data=aa,void P(aj,am,ah,ac);w(ah,!0)}ac&&ac(X)})):ac&&ac(X)},switchOffAutoHideShow:function(){m=!1},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){return M.w3?u(Z,Y,X):void 0},showExpressInstall:function(Z,aa,X,Y){M.w3&&A()&&P(Z,aa,X,Y)},removeSWF:function(X){M.w3&&y(X)},createCSS:function(aa,Z,Y,X){M.w3&&v(aa,Z,Y,X)},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)&&(Z=Z.split("?")[1]),null==aa)return L(Z);for(var Y=Z.split("&"),X=0;X<Y.length;X++)if(Y[X].substring(0,Y[X].indexOf("="))==aa)return L(Y[X].substring(Y[X].indexOf("=")+1))}return""},expressInstallCallback:function(){if(a){var X=c(R);X&&l&&(X.parentNode.replaceChild(l,X),Q&&(w(Q,!0),M.ie&&M.win&&(l.style.display="block")),E&&E(B)),a=!1}}}}();window.espn.plugins=function(){function getFacebook(callback){if(window.FB)callback();else{var url="//connect.facebook.net/en_US",appId="4942312939";!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src=url+"/all.js#xfbml=1&appId="+appId,js.onload=callback,fjs.parentNode.insertBefore(js,fjs))}(document,"script","facebook-jssdk")}}function getOutbrain(callback){window.OBR?callback():jQuery.getScriptCache("https://widgets.outbrain.com/outbrain.js",callback)}function getTwitter(callback){window.twttr?callback():!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src="https://platform.twitter.com/widgets.js",js.onload=callback,fjs.parentNode.insertBefore(js,fjs))}(document,"script","twitter-wjs")}return{getFacebook:getFacebook,getOutbrain:getOutbrain,getTwitter:getTwitter}}(),window.abcn_ui.Helpers.tracking={data:{page_name:""},eventListener:function(){$(document).on("click","*[data-track]",function(e){$(this).attr("data-track")})},initListner:function(){$(document).on("newfeed.click",function(e){if(""!=e.dataKey)if(memcachejs.get("abcnd-prev-page")){var temp=memcachejs.get("abcnd-prev-page");temp!=e.dataKey&&(memcachejs.remove("abcnd-prev-page"),memcachejs.set("abcnd-prev-page",e.dataKey,1800))}else memcachejs.set("abcnd-prev-page",e.dataKey,1800)})},buildAnalyticsMap:function(omniMap,url){for(var key in omniMap)if(omniMap.hasOwnProperty(key)){var value=omniMap[key];"undefined"!==s_omni[key]&&("referrer"==key?value=document.referrer:"server"==key?value=window.document.location.hostname:"pageURL"==key&&(value=url),s_omni[key]=value)}},checkLocal:function(){try{return localStorage.setItem("testLS","test"),localStorage.removeItem("testLS"),!0}catch(e){return!1}},checkCookie:function(){return navigator.cookieEnabled},preInit:function(map){"undefined"!==map.pageName&&(window.abcn_ui.Helpers.tracking.data.page_name=map.pageName)},init:function(map,url,typeC,firstAnalytics){if(firstAnalytics)var map={analytics:map,ads:firstAnalytics.ads,chartbeat:firstAnalytics.chartbeat};window.abcn_ui.Helpers.tracking.buildAnalyticsMap(map.analytics,url),"scrolled"==typeC?s_omni.events="event3,event19":s_omni.events="event3";var thirtyMinutesLater=new Date;thirtyMinutesLater.setMinutes(thirtyMinutesLater.getMinutes()+30);var linkTrack=!1;if(abcn_ui.Helpers.tracking.checkLocal()?linkTrack=memcachejs.get("abcnd-link-track"):abcn_ui.Helpers.tracking.checkCookie()&&(linkTrack=readCookie("abcnd-link-track")),linkTrack){var lpos=linkTrack.split("lpos=");2==lpos.length&&"undefined"!=typeof s_omni&&(s_omni.prop9=lpos[1],abcn_ui.Helpers.tracking.checkLocal()?memcachejs.remove("abcnd-link-track"):abcn_ui.Helpers.tracking.checkCookie()&&(document.cookie="abcnd-link-track=; expires="+thirtyMinutesLater.toGMTString()+";"))}"scrolled"!=typeC?(tryLocalStorage?(memcachejs.remove("abcnd-link-track"),memcachejs.get("abcnd-prev-page")&&(s_omni.prop12=memcachejs.get("abcnd-prev-page"),memcachejs.remove("abcnd-prev-page"))):arecookiesEnabled&&(document.cookie="abcnd-link-track=; expires="+thirtyMinutesLater.toGMTString()+";",readCookie("abcnd-prev-page")&&(s_omni.prop12=readCookie("abcnd-prev-page"),document.cookie="abcnd-prev-page=; expires="+thirtyMinutesLater.toGMTString()+";")),setTrackID()):""!=window.abcn_ui.Helpers.tracking.data.page_name&&(s_omni.prop12=window.abcn_ui.Helpers.tracking.data.page_name),s_omni.t();var _cb_sections="";"undefined"!=typeof map.ads&&map.ads.section?_cb_sections=map.ads.section:"undefined"!=typeof abcnewsSite&&abcnewsSite.section&&(_cb_sections=abcnewsSite.section);var _cb_authors="";if("undefined"!=typeof map.ads&&map.ads.byline&&(_cb_authors=map.ads.byline),"undefined"!=typeof pSUPERFLY&&map.chartbeat.location){var relativeURL=map.chartbeat.location.replace("http://"+window.location.host,"");pSUPERFLY.virtualPage({authors:_cb_authors,sections:_cb_sections,title:map.chartbeat.headline,path:relativeURL})}window.bkInit(),window.abcn_ui.Helpers.tracking.preInit(map.analytics)}},window.abcn_interest={hasRun:!1,breaking_news_data:!1,loadedFirstTime:!0,oldBN:null,popover_clicked:!1,no_id:!1,checkIfDefaultCookieChanged:null,checkIfAppBoyCookie:null,pauseBuildManage:!1,manualToggle:!1,triangeCookie:""},window.abcn_ui.Helpers.ufirst={init:function(){document.querySelector("#global-interest-trigger").setAttribute("style","display: block !important");var abcn_ui=window.abcn_ui,abcn_interest=window.abcn_interest;abcn_ui.useragent=abcn_ui.Helpers.ufirst.useragent_check(),"isMobileOrTablet"===abcn_ui.useragent&&FastClick.attach(document.body),document.domain.indexOf("qa.n7.abcnews.go.com")>-1||document.domain.indexOf("localhost")>-1?abcn_ui.ufbaseURL="https://preview.ufirst.abcnews.go.com":document.domain.indexOf("preview.abcnews.go.com")>-1?abcn_ui.ufbaseURL="https://preview.ufirst.abcnews.go.com":abcn_ui.ufbaseURL="https://ufirst.abcnews.go.com",abcn_ui.ufTagArr=[],listenForInterest=document.createEvent("Event"),listenForInterest.initEvent("listenForInterest",!0,!0),listenForAppboy=document.createEvent("Event"),listenForAppboy.initEvent("listenForAppboy",!0,!0),abcn_ui.Helpers.ufirst.get_breaking_news(abcn_ui.Helpers.ufirst.consume_breaking_news),abcn_ui.Helpers.ufirst_alerts.pageShow(),abcn_ui.Helpers.ufirst.init_setup();var one_idCounter=0;$(document).on("user_login user_logout",function(event){"undefined"==typeof oneID_already_fired?(one_idCounter++,1===one_idCounter&&"UNID"===abcn_interest.triangeCookie||1===one_idCounter&&"NOID"===abcn_interest.triangeCookie?abcn_ui.Helpers.ufirst.addRemoveBodyClass("user_logout"):1===one_idCounter&&"SWID"===abcn_interest.triangeCookie&&abcn_ui.Helpers.ufirst.addRemoveBodyClass("user_login"),(one_idCounter>=2||1===one_idCounter&&"NOID"===abcn_interest.triangeCookie&&"user_login"===event.type)&&(oneID_already_fired=!0,one_idCounter=0,abcn_interest.triangeCookie="SWID",abcn_ui.Helpers.ufirst.addRemoveBodyClass(event.type),abcn_ui.Helpers.ufirst_alerts.init_login_state(event))):(abcn_ui.Helpers.ufirst.addRemoveBodyClass(event.type),abcn_ui.Helpers.ufirst_alerts.init_login_state(event))})},init_setup:function(){abcn_interest.hasRun=!0,abcn_ui.SWID_state=abcn_ui.Helpers.ufirst.SWID(),abcn_ui.UNID_state=abcn_ui.Helpers.ufirst.UNID(),abcn_ui.SWID_state?(abcn_interest.triangeCookie="SWID",abcn_ui.Helpers.ufirst.addRemoveBodyClass("user_login"),abcn_ui.Helpers.ufirst.get_tag_list("swid",!1)):(abcn_ui.Helpers.ufirst.addRemoveBodyClass("user_logout"),abcn_ui.Helpers.ufirst.check_unid_validation())},check_unid_validation:function(){function doesUnidExist(){abcn_ui.UNID_state=abcn_ui.Helpers.ufirst.UNID(),interval_counter++,5>=interval_counter?abcn_ui.UNID_state&&(abcn_interest.triangeCookie="UNID",window.clearInterval(check_unid_cookie),abcn_ui.Helpers.ufirst.get_tag_list("unid",!1)):(window.clearInterval(check_unid_cookie),abcn_interest.triangeCookie="NOID",abcn_ui.Helpers.ufirst.get_tag_list("noid",!1))}var interval_counter=0,check_unid_cookie=window.setInterval(doesUnidExist,500)},SWID:function(){abcn_ui.SWID=$.cookie("SWID")||"";var valid_SWID=!1;return abcn_ui.SWID&&abcn_ui.SWID.match("^{")&&abcn_ui.SWID.match("}$")&&(valid_SWID=!0),valid_SWID},displayDate:function(jsonDate){function prettyPrintElapsedTimeForDate(new_date){var monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],second=1e3,minute=60*second,hour=60*minute;if(null==new_date)return"";var elapsed=Math.abs(Date.now()-new_date);if(minute>elapsed)return Math.floor(elapsed/second)+"s ago";if(hour>elapsed)return Math.floor(elapsed/minute)+"m ago";if(4*hour>elapsed)return Math.floor(elapsed/hour)+"h ago";var dateStamp=new Date(new Date-elapsed),dateStr=monthNames[dateStamp.getMonth()]+" "+dateStamp.getDate();return dateStr}if(jsonDate){var split_it=jsonDate.split(" "),split_dash=split_it[0].split("/"),construct_date=split_dash[2]+"-"+split_dash[0]+"-"+split_dash[1]+" "+split_it[1],pst_date=moment.tz(construct_date,"America/Los_Angeles").format(),new_date=moment(pst_date),result=prettyPrintElapsedTimeForDate(new_date);return result}return""},UNID:function(){abcn_ui.UNID=$.cookie("UNID")||"";var valid_UNID=!1;return abcn_ui.UNID&&(valid_UNID=!0),valid_UNID},get_tag_list:function(swid_or_unid,changeUser){switch(swid_or_unid){case"swid":var tagData={swid:abcn_ui.SWID,unid:null,type:"getUserTagsList",isOneID:!0};break;case"unid":var tagData={unid:abcn_ui.UNID,swid:null,type:"getUserTagsList",isOneID:!1}}"noid"===swid_or_unid?(abcn_interest.no_id=!0,abcn_ui.Helpers.ufirst_alerts.init()):$.ajax({type:"POST",url:abcn_ui.ufbaseURL+"/news/gttgl",data:JSON.stringify(tagData),dataType:"json"}).done(function(data,textStatus,jqXHR){4===jqXHR.readyState&&200===jqXHR.status&&"failed"!==data.status?changeUser?("undefined"!=typeof data.tags?(data.tags=data.tags.filter(function(i,idx){return-1===i.indexOf("av-")?"null"!==i:void 0}),abcn_ui.ufTagArr=data.tags):abcn_ui.ufTagArr.length=0,abcn_ui.Helpers.ufirst_alerts.tag_behavior(!0)):abcn_ui.Helpers.ufirst_alerts.init(data):4===jqXHR.readyState&&200===jqXHR.status&&"failed"===data.status&&(changeUser?("undefined"!=typeof data.tags?(data.tags=data.tags.filter(function(i,idx){return-1===i.indexOf("av-")?"null"!==i:void 0}),abcn_ui.ufTagArr=data.tags):abcn_ui.ufTagArr.length=0,abcn_ui.Helpers.ufirst_alerts.tag_behavior(!0)):abcn_ui.Helpers.ufirst_alerts.init())}).fail(function(jqXHR,textStatus,errorThrown){})},change_user:function(){var changeObj={type:"change_user",unid:abcn_ui.UNID,swid:$.cookie("SWID")};$.ajax({type:"POST",url:abcn_ui.ufbaseURL+"/news/chgcct",data:JSON.stringify(changeObj),dataType:"json",success:function(success,textStatus,jqXHR){changeUser=!0,abcn_interest.no_id=!1,abcn_ui.Helpers.ufirst.get_tag_list("swid","changeUser")},error:function(error,textStatus,jqXHR){}})},get_breaking_news:function(callBack){var _protocol=/localhost/.test(window.location.host)?"http://":"https://";$.get(_protocol+window.location.host+"/xmldata/feed/breakingnews",function(data){callBack(data)})},consume_breaking_news:function(data){function runBrk(data){document.querySelector(".notification-badge").classList.add("breakingnews-active"),abcn_ui.Helpers.ufirst.build_breaking_lis(data.channels.reverse())}data&&data.channels.length>=1&&runBrk(data)},build_breaking_lis:function(data){$(".notification-bn-ul > .notification-li").remove(),"undefined"!=typeof data?(abcn_interest.breaking_news_data=!0,document.querySelector(".notification-sections").classList.add("overflow_y","turn_on_noti_sections"),data.forEach(function(b){var outDate=b.lastModified,_op=-1===b.link.indexOf("?")?"?":"&",newLink=""!==b.link?b.link+_op+"cid=clicksource_nc_breaking":"javascript:void();",desktop_markup='<li class="notification-li">                    <figure class="feed-item-figure" data-id="49510419">                        <div class="interest-container">                            <div class="date">'+outDate+'</div>                       \n                                <div class="title bntitle">                                    <h1>                                        <a href="'+newLink+'" class="red-ln">'+b.text+"</a>                                    </h1>                                </div>";document.querySelector(".notification-bn-ul").innerHTML+=desktop_markup}),$(".notification-breaking-box").fadeIn(350)):$(".notification-breaking-box").hide()},useragent_check:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?"isMobileOrTablet":"isDesktop"},addRemoveBodyClass:function(eventType){switch(eventType){case"user_login":document.getElementsByTagName("body")[0].classList.remove("abcn-logged-out"),document.getElementsByTagName("body")[0].classList.add("abcn-logged-in");break;case"user_logout":document.getElementsByTagName("body")[0].classList.remove("abcn-logged-in"),document.getElementsByTagName("body")[0].classList.add("abcn-logged-out")}}},window.abcn_ui.Helpers.ufirst_alertindex={init:function(){window.isAlertIndex=!0;var abcn_ui=window.abcn_ui;abcn_ui.Helpers.ufirst_alerts.pageShow(),abcn_ui.Helpers.ufirst_manager.suggestedTags()},init_setup:function(){abcn_ui.Helpers.ufirst.init()}},window.abcn_ui.Helpers.ufirst_alerts={init:function(data){var abcn_ui=window.abcn_ui;abcn_ui.mq=abcn_ui.Helpers.get_media_query_in_use(),abcn_ui.appboyGroupID="0ce5be2c-32e9-4f54-a3e2-4714f8e930cf",document.domain.indexOf("qa.n7.abcnews.go.com")>-1||document.domain.indexOf("localhost")>-1?abcn_ui.ufbaseURL="https://preview.ufirst.abcnews.go.com":document.domain.indexOf("preview.abcnews.go.com")>-1?abcn_ui.ufbaseURL="https://preview.ufirst.abcnews.go.com":abcn_ui.ufbaseURL="https://ufirst.abcnews.go.com",abcn_ui.Helpers.ufirst_alerts.click_events(),abcn_ui.Helpers.ufirst_alerts.cleanArrays(data,!0),abcn_ui.Helpers.ufirst_alerts.interest_polling(),document.addEventListener("listenForInterest",function(e){abcn_ui.Helpers.ufirst_alerts.check_interest_band(500)},!1);var checkDataBehavior=document.querySelector("#header-wrapper").getAttribute("data-behavior");abcn_ui.appboyKSIsActive=-1===checkDataBehavior.indexOf("appboy_init"),"isDesktop"===abcn_ui.useragent&&("denied"!=window.Notification.permission||abcn_ui.appboyKSIsActive?(document.querySelector(".interest-switch").style.display="inline-block",document.querySelector(".interest-turnon-noti").style.display="inline-block"):$(".manage-interests > .notification-title").remove()),abcn_ui.Helpers.ufirst_alerts.tag_behavior(),"mobile"===abcn_ui.mq&&(document.querySelector(".abcn-interest-notifications").style.maxHeight="initial",document.querySelector(".abcn-interest-notifications").style.height="0px",document.querySelector(".abcn-interest-notifications > .notification-body > .notification-sections").style.maxHeight=$(window).height()-54-100+"px",document.querySelector(".notification-settings-interests").style.height=$(window).height()-204+"px",document.querySelector(".abcn-interest-notifications > .notification-body > .notification-settings").style.height=$(window).height()-54+"px"),$(window).on("resize",function(){"isDesktop"===abcn_ui.useragent&&$(window).width()>767&&$(".mobile-flag").removeClass("mobile-flag")})},add_interest_fadeIn:function(){$(".add-interest").each(function(ix){$(this).hasClass("uf-tag-active")||$(this).fadeTo(150,1,function(){$(this).parent().find(".uf-checkmark, .interest-check").removeClass("interest-check-active")}).css("pointer-events","initial")})},cleanArrays:function(data,resetTagArray){data&&"undefined"!=typeof data.tags&&data.tags.length>0?(data.tags=data.tags.filter(function(i,idx){return-1===i.indexOf("av-")?"null"!==i:void 0}),abcn_ui.ufTagArr=data.tags,null===$.cookie("abcn_hasInterestTag")&&$.cookie("abcn_hasInterestTag",(new Date).getTime(),{expires:3650,domain:window.location.hostname})):resetTagArray&&(abcn_ui.ufTagArr=[]),"undefined"!=typeof abcn_interest.loadedFirstTime&&abcn_interest.loadedFirstTime===!0&&$(".abcn-interests").length&&(abcn_interest.loadedFirstTime=!1,window.abcn_ui.Helpers.interest_alert_band.init(abcn_ui.ufTagArr)),abcn_ui.ufNotificationArr=[]},init_login_state:function(event){abcn_ui.SWID_state=abcn_ui.Helpers.ufirst.SWID(),abcn_ui.UNID_state=abcn_ui.Helpers.ufirst.UNID(),"user_login"===event.type&&(abcn_ui.Helpers.ufirst.change_user(),abcn_ui.Helpers.ufirst_alerts.userLoggedIn()),"user_logout"===event.type&&(abcn_ui.Helpers.ufirst_alerts.userLoggedOut(),abcn_ui.Helpers.ufirst.get_tag_list("unid",!0),$.cookie("uf-tag-hold")&&$.cookie("uf-tag-hold","",{expires:-1}))},tag_behavior:function(isChangeUser){"undefined"!=typeof abcn_interest.checkIfDefaultCookieChanged&&"undefined"!=typeof abcn_interest.checkIfAppBoyCookie&&(window.clearInterval(abcn_interest.checkIfDefaultCookieChanged),window.clearInterval(abcn_interest.checkIfAppBoyCookie)),abcn_ui.Helpers.ufirst_alerts.add_interest_fadeIn(),isChangeUser?(abcn_interest.pauseBuildManage=!1,abcn_ui.Helpers.ufirst_alerts.cleanArrays("",!1),isChangeUser=!1,abcn_ui.SWID_state&&abcn_ui.Helpers.ufirst_alerts.userLoggedIn(),abcn_ui.Helpers.ufirst_alerts.get_notification_tracker(function(data){if(null!=data&&"undefined"!=typeof data.notifications){var notCounter=0;data.notifications.forEach(function(n){notCounter++,0==abcn_ui.ufNotificationArr.filter(function(t){return t===n})?abcn_ui.ufNotificationArr.push(n):"",localStorage.setItem("abcn_ui.ufNotificationArr",JSON.stringify(abcn_ui.ufNotificationArr)),0==abcn_ui.ufTagArr.filter(function(t){return t===n})?abcn_ui.ufTagArr.push(n):"",notCounter===data.notifications.length&&abcn_ui.Helpers.ufirst_alerts.interest_notification_center()})}else $(".uf-tag-active").removeClass("uf-tag-active"),setTimeout(function(){abcn_ui.Helpers.ufirst_alerts.add_interest_fadeIn(),setTimeout(function(){abcn_ui.Helpers.ufirst_alerts.check_interest_band(100),abcn_ui.Helpers.ufirst_alerts.empty_notification_center()},100)},100)})):(abcn_ui.SWID_state?abcn_ui.Helpers.ufirst_alerts.userLoggedIn():abcn_ui.Helpers.ufirst_alerts.userLoggedOut(),abcn_ui.Helpers.ufirst_alerts.interest_notification_center())},uf_logIn:function(){$(window).scrollTop(0),"undefined"==typeof ufuser_init&&($("body").append('<div class="uf-lightbox">                 <div class="uf-language">                     <div class="uf-lang-wrap">                        <header class="header">                             <h1 class="logo logo-primary"></h1>                         </header>                         <section class="main">                             <div class="main-text">Log in or register for an ABC News account to subscribe to stories and get real time updates as they happen.</div>                             <div class="main-signup-wrap">                                 <a href="#" class="uf-signup main-signup uf-create-acct black-ln">Sign Up</a> <a href="#" class="uf-signup main-login yellow-ln">Log In</a>                            </div>                        </section>                     </div>                     <div class="uf-close"></div>                 </div>             </div>'),ufuser_init=!0),$(".uf-lightbox").addClass("uflb-active"),$("html").css("overflow","hidden"),$(".uf-close").on("click",function(){$(".uf-lightbox").removeClass("uflb-active"),$("html").attr("style",""),$(".uf-close").off("click")})},textSwitcher:function(el,lang1,lang2){return $(el).text()===lang1?$(el).text(lang2):""},pageShow:function(){window.onpageshow=function(event){var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);(window.isAndroid||window.isiPad||window.isiPhone||isSafari)&&event.persisted&&window.location.reload()}},interest_notification_center:function(){0===abcn_ui.ufTagArr.length?(!$.cookie("abcn_appboyNotifStateUpdated")&&"isDesktop"===abcn_ui.useragent||"default"===$.cookie("abcn_appboyNotifStateUpdated")&&"isDesktop"===abcn_ui.useragent)&&($(".promote-web-not").show(),$(".noti-footer-callouts .promote-web-not").removeClass("turn_off_noti_sections").addClass("turn_on_noti_sections"),$(".noti-footer-notloggedin, .interest-footer").removeClass("turn_on_noti_sections"),$(".noti-footer-notloggedin, .interest-footer").addClass("turn_off_noti_sections")):($(".promote-web-not").hide(),abcn_ui.SWID_state&&($(".noti-footer-notloggedin, .interest-footer").removeClass("turn_on_noti_sections"),$(".noti-footer-notloggedin, .interest-footer").addClass("turn_off_noti_sections"))),"isDesktop"===abcn_ui.useragent&&document.querySelector(".abcn-interest-notifications").addEventListener("mouseenter",function(){$(".notification-sections, .notification-settings").scrollGuard()}),"undefined"!=typeof abcn_ui.ufTagArr&&abcn_ui.ufTagArr.length>=1?abcn_ui.Helpers.ufirst_alerts.get_interest_items(abcn_ui.Helpers.ufirst_alerts.build_interest_lis,20):(abcn_ui.Helpers.ufirst_alerts.check_interest_band(100),abcn_ui.Helpers.ufirst_alerts.empty_notification_center())},build_interest_lis:function(data){if("undefined"!=typeof data.contents)switch(document.querySelector(".interest_loader").style.display="block",abcn_ui.SWID.length<=1&&abcn_ui.UNID.length<=1&&0===abcn_ui.ufTagArr.length&&!document.querySelector(".notification-settings").classList.contains("slide_in")&&$(".gear-holder").fadeOut(),abcn_ui.ufTagArr.length>=1&&!document.querySelector(".notification-settings").classList.contains("slide_in")&&$(".gear-holder, .see-all").fadeIn(),data){case"no tags":"undefined"==typeof abcn_interest.breaking_news_data||abcn_interest.breaking_news_data||abcn_ui.Helpers.ufirst_alerts.empty_notification_center();break;default:$(".notification-interest-box").show(),document.querySelector(".notification-settings").classList.contains("slide_in")||$(".gear-holder").fadeIn(350);var interestCheck=[],inCounter=0;localStorage.getItem("abcn_interest_check")||data.contents.forEach(function(t,ix){inCounter++;var intobj={contentId:t.contentId,alertTag:t.alertTag};interestCheck.push(intobj),inCounter===data.contents.length&&localStorage.setItem("abcn_interest_check",JSON.stringify(interestCheck))}),$(".notification-int-ul .notification-li, .empty-state").remove(),abcn_ui.Helpers.ufirst_alerts.tags_exist();var user_interest=data.contents;lis_built=0,user_interest.forEach(function(uint){lis_built++;var jsonDate=({alertTag:uint.alertTag,displayName:uint.displayName},uint.lastPushedTime),outDate=jsonDate?abcn_ui.Helpers.ufirst.displayDate(jsonDate):"",display_name_check_if_null=null!=uint.displayName?uint.displayName:uint.alertTag,isMobile=abcn_ui.Helpers.get_media_query_in_use(),imgClass="mobile"===isMobile?"mobile_4x3":"",contentTitle=uint.contentTitle.length>50?uint.contentTitle.substring(0,50)+"...":uint.contentTitle,hasImage=null!=uint.imageBase?!0:"",image=hasImage?uint.imageBase:"",_op=-1===uint.contentLink.indexOf("?")?"?":"&";if("mobile"===isMobile)var newImage=image&&-1==image.indexOf("4x3t_96")?image.replace("16x9_384","4x3_240"):image,imgMarkup='<div class="img-wrap '+imgClass+'">                            <picture>                                <a href="'+uint.contentLink+_op+'cid=clicksource_nc_interest" class="story">                                    <img data-src="https://s.abcnews.com'+newImage+'" class="lazyloaded mobile" src=" https://s.abcnews.com'+newImage+"\" onerror=\"this.onerror=null;this.parentNode.parentNode.parentNode.parentNode.querySelector(' .title').style.width=' 100%';this.parentNode.parentNode.parentNode.style.display='none'\">                                </a>                            </picture>                        </div>";else var newImage=image&&-1!==image.indexOf("4x3t_240")?image.replace("4x3t_240","16x9_240"):image,imgMarkup='<div class="img-wrap '+imgClass+'">                            <picture>                                <a href="'+uint.contentLink+_op+'cid=clicksource_nc_interest" class="story">                                    <img data-src="https://s.abcnews.com'+newImage+'" class=" lazyloaded" src=" https://s.abcnews.com'+newImage+'" onerror="this.onerror=null;this.parentNode.parentNode.parentNode.style.display=\'none\'">                                </a>                            </picture>                        </div>';var addNoImageClass=null!=uint.imageBase?"":" no-image",alert_tag=null!=uint.alertTag?uint.alertTag:"null",desktop_markup='<li class="notification-li">                            <figure class="feed-item-figure" data-id="'+uint.contentId+'">                                <div class="interest-container">                                    <div class="date">'+outDate+'</div>                       \n                                        <div class="title '+addNoImageClass+'">                                            <span class="interest-check interest-check-active"><span class="icon-interest-check _article"></span></span>                            \n                                            <span class="interest-tag"><a href="http://abcnews.go.com/alerts/'+abcn_ui.Helpers.ufirst_manager.formatAlertKey(alert_tag).toLowerCase()+'">'+display_name_check_if_null+'</a></span>                                            <h1>                                                <a href="'+uint.contentLink+_op+'cid=clicksource_nc_interest" class="black-ln">'+contentTitle+"</a>                                            </h1>                                        </div>"+imgMarkup+"</div>                            </figure>                        </li>",mobile_markup='<li class="notification-li mobile">                          <figure class="feed-item-figure" data-id="'+uint.contentId+'">                            <div class="interest-container mobile">                                <div class="mobile-title-holder">                     \n                                    <div class="title is_mobile '+addNoImageClass+' ">                                        <span class="interest-check interest-check-active"><span class="icon-interest-check _article"></span></span>                            \n                                        <span class="interest-tag"><a href="http://abcnews.go.com/alerts/'+abcn_ui.Helpers.ufirst_manager.formatAlertKey(alert_tag).toLowerCase()+'">'+display_name_check_if_null+'</a></span>                                        <h1>                                            <a href="'+uint.contentLink+_op+'cid=clicksource_nc_interest" class="black-ln">'+contentTitle+'</a>                                        </h1>                                        <div class="date mobile">'+outDate+"</div>                                     </div>"+imgMarkup+"</div>                             </div>                          </figure>                        </li>";switch(isMobile){case"mobile":interest_markup=mobile_markup;break;default:interest_markup=desktop_markup}document.querySelector(".notification-int-ul").innerHTML+=interest_markup,document.querySelector(".notification-sections").classList.add("overflow_y"),document.querySelector(".notification-sections").classList.add("turn_on_noti_sections"),lis_built===user_interest.length&&(abcn_ui.Helpers.ufirst_alerts.check_interest_band(100),abcn_interest.pauseBuildManage?document.querySelector(".interest_loader").style.display="none":($("li.interest-tag").remove(),abcn_ui.Helpers.ufirst_alerts.build_manage_lis(),document.querySelector(".interest_loader").style.display="none"))})}else abcn_ui.Helpers.ufirst_alerts.empty_notification_center()},build_manage_lis:function(){function getDisplayData(data){if(data.tags.length>=1){var notification_settings_ul=(document.querySelector(".empty_outer"),document.querySelector(".notification-settings"),document.querySelector(".notification-settings-interests"));document.querySelector(".manage-interests").style.display="block",data.tags.forEach(function(d){tag_counter++;var alert_tag=null!=d.tag?d.tag:"null";"isDesktop"===abcn_ui.useragent&&"false"!=$.cookie("abcn_appboyNotifStateUpdated")&&"denied"!=window.Notification.permission||abcn_ui.appboyKSIsActive?notification_settings_ul.innerHTML+='<li class="interest-tag" data-alert="'+d.tag+'"><a href="http://abcnews.go.com/alerts/'+abcn_ui.Helpers.ufirst_manager.formatAlertKey(alert_tag).toLowerCase()+'">'+d.displayName+'</a>                                <div class="unsub_wrapper">                                    <label class="interest-toggle interest-check-active">                                    <input type="checkbox" data-alert="'+d.tag+'">                                        <span class="interest-slider round">                                        </span>                                    </label>                                    <div class="unsub-outer"  data-alert="'+d.tag+'"> \n                                        <div class="unsubscribe-interest"></div>                                    </div> \n                                </div>                              \n                            </li>':"isDesktop"===abcn_ui.useragent&&"false"===$.cookie("abcn_appboyNotifStateUpdated")?notification_settings_ul.innerHTML+='<li class="interest-tag" data-alert="'+d.tag+'"><a href="http://abcnews.go.com/alerts/'+abcn_ui.Helpers.ufirst_manager.formatAlertKey(alert_tag).toLowerCase()+'">'+d.displayName+'</a>                                <div class="unsub_wrapper">                                    <div class="unsub-outer"  data-alert="'+d.tag+'"> \n                                        <div class="unsubscribe-interest"></div>                                    </div> \n                                </div>                              \n                            </li>':notification_settings_ul.innerHTML+='<li class="interest-tag" data-alert="'+d.tag+'"><a href="http://abcnews.go.com/alerts/'+abcn_ui.Helpers.ufirst_manager.formatAlertKey(alert_tag).toLowerCase()+'">'+d.displayName+'</a>                                    <div class="unsub_wrapper">                                        <div class="unsub-outer"  data-alert="'+d.tag+'"> \n                                            <div class="unsubscribe-interest"></div>                                        </div> \n                                    </div>                              \n                                </li>',
tag_counter===data.tags.length&&abcn_ui.Helpers.ufirst_alerts.adjust_notification_states()})}}var tag_counter=(document.querySelector(".notification-settings"),document.querySelector(".notification-settings-interests"),0);abcn_ui.Helpers.ufirst_alerts.get_display_name(getDisplayData)},empty_notification_center:function(){function buildSuggestedTags(data){$(".interest-tag").remove();var displayName;Object.keys(data.alertTopic[0]).forEach(function(key){displayName=data.alertTopic[0][key];var alert_tag=abcn_ui.Helpers.ufirst_manager.formatAlertKey(key).toLowerCase(),liElem='<li class="interest-tag" data-alert="'+key+'"><a href="http://abcnews.go.com/alerts/'+alert_tag+'">'+displayName+'</a>                            <div class="unsub_wrapper">                                    <span class="interest-check"><span class="icon-interest-check"></span></span>                                    <div class="add-interest uf-tag from-notcenter" data-alert="'+key+'" data-alert-display="'+displayName+'">Add Interest                                    </div>                             </div>                               \n                        </li>';$suggestedInt.innerHTML+=liElem})}$(".notification-interest-box, .notification-sections").show(),$(".empty-state").remove();var $suggestedInt=document.querySelector(".notification-int-ul");$suggestedInt.innerHTML+='<li class="empty-state">Customize your news by choosing the topics that interest you. We\'ll notify you here about the important stories.</li>',$(".notification-settings").removeClass("slide_in"),$(".notification-sections").addClass("overflow_y turn_on_noti_sections"),document.querySelector(".parent-title").innerHTML="Notifications",setTimeout(function(){document.querySelector(".notification-settings").classList.add("turn_off_noti_sections"),$(".gear-holder, .see-all").hide(),abcn_ui.SWID_state?abcn_ui.Helpers.ufirst_alerts.userLoggedIn():abcn_ui.UNID_state&&abcn_ui.Helpers.ufirst_alerts.userLoggedOut()},350),$(".notification-int-ul .notification-li, li.interest-tag").remove(),0===$(".notification-settings-interests").children().length&&$(".back-to").fadeOut(),abcn_ui.Helpers.ufirst_alerts.get_suggested_tags(buildSuggestedTags)},click_events:function(){function appToggle(isChecked,tag){var not_pos=abcn_ui.ufNotificationArr.indexOf(tag);-1===not_pos?abcn_ui.ufNotificationArr.push(tag):abcn_ui.ufNotificationArr.splice(not_pos,1),localStorage.setItem("abcn_ui.ufNotificationArr",JSON.stringify(abcn_ui.ufNotificationArr)),abcn_ui.Helpers.ufirst_alerts.toggleTagFromAppboy(isChecked,tag)}$(".interest-close").on("click",function(e){abcn_interest.popover_clicked=!0,abcn_interest.popover_clicked&&(window.clearTimeout(presentPopover),abcn_interest.popover_clicked=!1,abcn_ui.Helpers.ufirst_alerts.tag_behavior()),$(".abcn-interest-popover, .abcn-interests-modules").removeClass("turn_opacity_on"),setTimeout(function(){$(".abcn-interest-popover, .abcn-interests-modules").removeClass("popover-active")},150),e.stopPropagation()}),$("#global-interest-trigger").on("click",function(){document.querySelector(".notification-badge").classList.remove("breakingnews-active"),document.querySelector(".notification-badge").classList.remove("interestbadge-active")}),$(".abcn-interest-notifications").on("click",".gear-holder",function(e){$(".back-to").remove(),document.querySelector(".notification-settings").classList.add("slide_in"),document.querySelector(".notification-settings").classList.contains("slide_in")&&($(".notification-header").append('<div class="notification-title back-to"><span class="icon-chevron-left-01"></span> Back to notifications</div>'),$(this).fadeOut(350,function(){$(".back-to").fadeIn(350)}),document.querySelector(".parent-title").innerHTML="Manage"),e.stopPropagation()}),$(".abcn-interest-notifications").on("click",".back-to",function(e){document.querySelector(".notification-settings").classList.remove("slide_in"),$(".back-to").fadeOut(350,function(){$(this).remove(),$(".gear-holder").fadeIn(350)}),document.querySelector(".parent-title").innerHTML="Notifications",e.stopPropagation()}),$(".abcn-interest-notifications").on("click",".unsub-outer",function(event){var tag=event.currentTarget.getAttribute("data-alert");abcn_ui.Helpers.ufirst_alerts.remove_interest(tag),abcn_ui.Helpers.ufirst_alerts.check_interest_band(100),event.stopPropagation()}),$(".abcn-interest-notifications").on("click",".interest-toggle > input",function(event){event.stopPropagation()}),$(".abcn-interest-notifications").on("click",".interest-toggle",function(event){abcn_interest.manualToggle=!0;var $this=$(this),tag=$this.find("input").attr("data-alert");setTimeout(function(){function ckMe(){int_cnt++,20>=int_cnt?"true"===$.cookie("abcn_appboyNotifStateUpdated")&&(window.clearInterval(ckApB),appToggle(isChecked,tag)):int_cnt>=21&&window.clearInterval(ckApB)}var isChecked=$this.find("input").prop("checked");if("true"===$.cookie("abcn_appboyNotifStateUpdated"))appToggle(isChecked,tag);else if("default"===$.cookie("abcn_appboyNotifStateUpdated")||"false"===$.cookie("abcn_appboyNotifStateUpdated")||!$.cookie("abcn_appboyNotifStateUpdated")){document.dispatchEvent(listenForAppboy);var ckApB=window.setInterval(ckMe,500),int_cnt=0}},150),event.stopPropagation()}),$(".abcn-interest-popover").on("click",".interest-switch > input",function(event){event.stopPropagation()}),$(".abcn-interest-popover").on("click",".interest-switch",function(event){setTimeout(function(){abcn_ui.Helpers.ufirst_alerts.toggle_popover_notifications(),$.cookie("abcn_appboyNotifStateUpdated")&&"default"!==$.cookie("abcn_appboyNotifStateUpdated")||document.dispatchEvent(listenForAppboy)},150),event.stopPropagation()}),$(".abcn-interest-notifications").on("click",".bn-toggleswitch > input",function(event){event.stopPropagation()}),$(".abcn-interest-notifications").on("click",".bn-toggleswitch",function(event){setTimeout(function(){var isChecked=document.querySelector(".bn-toggleswitch > input").checked,off_flag=document.querySelector(".bn-toggleswitch> input").parentNode.querySelector(".off_text"),on_flag=document.querySelector(".bn-toggleswitch > input").parentNode.querySelector(".on_text");switch(isChecked){case!0:on_flag.style.opacity=1,off_flag.style.opacity=0;break;case!1:on_flag.style.opacity=0,off_flag.style.opacity=1}$.cookie("abcn_appboyNotifStateUpdated")&&"default"!==$.cookie("abcn_appboyNotifStateUpdated")||document.dispatchEvent(listenForAppboy)},150),event.stopPropagation()}),$("article, .col-b, .notification-int-ul").on("click",".uf-tag",function(e){var fromNotCenter=this.classList.contains("from-notcenter")?!0:!1;if("isDesktop"===abcn_ui.useragent&&($(".interest-switch > input").prop("checked",!1),$(".interest-switch").find(".on_text")[0].style.opacity=0,$(".interest-switch").find(".off_text")[0].style.opacity=1),abcn_interest.no_id&&!$.cookie("UNID"))abcn_ui.Helpers.ufirst_alerts.uf_logIn();else{abcn_ui.UNID_state=abcn_ui.Helpers.ufirst.UNID(),abcn_ui.UNID=$.cookie("UNID")||"",document.querySelector(".parent-title").innerHTML="Notifications";var alert_data=$(this).attr("data-alert"),alert_string=$(e.target).attr("class"),alert_data_text=$(this).attr("data-alert-display");$(this).parent().find(".insert-display-name").text();if(/tag-route/i.test(alert_string)){var tag=$(this).attr("data-alert"),dashedTag=abcn_ui.Helpers.ufirst_manager.formatAlertKey(tag);window.location.href="/alerts/"+dashedTag}else abcn_ui.SWID_state||abcn_ui.UNID_state?(fromNotCenter||$(".tools > .interest").removeClass("hover"),$("body").hasClass("abcn-tablet")&&$(".tools > .interest").removeClass("active"),abcn_ui.Helpers.ufirst_alerts.add_interest(alert_data,fromNotCenter),$(".interest-active").text(alert_data_text),$(".interest-switch > input").attr("data-alert",alert_data)):(window.abcn_ui.Helpers.appboy_load.showNotifAfterLogin=!0,$.cookie("uf-tag-hold",alert_data))}e.stopPropagation()})},toggle_popover_notifications:function(){var isChecked=document.querySelector(".interest-switch > input").checked,off_flag=document.querySelector(".interest-switch > input").parentNode.querySelector(".off_text"),on_flag=document.querySelector(".interest-switch > input").parentNode.querySelector(".on_text"),alert_tag=$(".interest-switch > input").attr("data-alert");switch(isChecked){case!0:on_flag.style.opacity=1,off_flag.style.opacity=0,abcn_ui.Helpers.ufirst_alerts.add_to_appboy(!0,"",abcn_ui.ufNotificationArr);break;case!1:on_flag.style.opacity=0,off_flag.style.opacity=1,abcn_ui.Helpers.ufirst_alerts.remove_from_appboy(alert_tag)}},userLoggedOut:function(){0===abcn_ui.ufTagArr.length?(!$.cookie("abcn_appboyNotifStateUpdated")&&"isDesktop"===abcn_ui.useragent||"default"===$.cookie("abcn_appboyNotifStateUpdated")&&"isDesktop"===abcn_ui.useragent)&&($(".promote-web-not").show(),$(".noti-footer-callouts .promote-web-not").removeClass("turn_off_noti_sections").addClass("turn_on_noti_sections"),$(".noti-footer-notloggedin, .interest-footer").removeClass("turn_on_noti_sections"),$(".noti-footer-notloggedin, .interest-footer").addClass("turn_off_noti_sections")):($(".noti-footer-notloggedin, .interest-footer").removeClass("turn_off_noti_sections"),$(".noti-footer-notloggedin, .interest-footer").addClass("turn_on_noti_sections"))},userLoggedIn:function(){$(".noti-footer-notloggedin, .interest-footer").removeClass("turn_on_noti_sections"),$(".noti-footer-notloggedin, .interest-footer").addClass("turn_off_noti_sections")},tags_exist:function(){var notification_settings=(document.querySelector(".empty_outer"),document.querySelector(".notification-settings"));document.querySelector(".notification-settings-interests");notification_settings.classList.remove("turn_off_noti_sections")},adjust_notification_states:function(){function ckDefault(){if(cookie_cnt++,20>=cookie_cnt){if("default"!=$.cookie("abcn_appboyNotifStateUpdated"))switch(window.clearInterval(checkIfDefaultCookieChanged),$.cookie("abcn_appboyNotifStateUpdated")){case"true":if($(".interest-switch > input").prop("checked")){var not_pos=abcn_ui.ufNotificationArr.indexOf(alert_tag);-1===not_pos&&abcn_ui.ufNotificationArr.push(alert_tag),localStorage.setItem("abcn_ui.ufNotificationArr",JSON.stringify(abcn_ui.ufNotificationArr)),abcn_ui.ufNotificationArr.forEach(function(i){$(".interest-toggle").find('input[data-alert="'+i+'"]')[0].checked=!0}),abcn_ui.Helpers.ufirst_alerts.add_to_appboy(!0,"",abcn_ui.ufNotificationArr)}else $(".interest-switch > input").prop("checked")||abcn_interest.manualToggle||("undefined"!=typeof $(".interest-toggle").find('input[data-alert="'+alert_tag+'"]')[0]&&($(".interest-toggle").find('input[data-alert="'+alert_tag+'"]')[0].checked=!1),abcn_ui.Helpers.ufirst_alerts.remove_from_appboy(alert_tag),abcn_ui.ufNotificationArr.forEach(function(i){$(".interest-toggle").find('input[data-alert="'+i+'"]')[0].checked=!0}));break;case"false":$(".interest-toggle").hide()}}else cookie_cnt>=21&&window.clearInterval(checkIfDefaultCookieChanged)}function ckAbCookie(){if(ckcnt++,20>=ckcnt){if($.cookie("abcn_appboyNotifStateUpdated")){window.clearInterval(checkIfAppBoyCookie);var alert_tag=$(".interest-switch > input").attr("data-alert");switch($.cookie("abcn_appboyNotifStateUpdated")){case"true":if($(".interest-switch > input").prop("checked")){var not_pos=abcn_ui.ufNotificationArr.indexOf(alert_tag);-1===not_pos&&abcn_ui.ufNotificationArr.push(alert_tag),localStorage.setItem("abcn_ui.ufNotificationArr",JSON.stringify(abcn_ui.ufNotificationArr)),abcn_ui.ufNotificationArr.forEach(function(i){$(".interest-toggle").find('input[data-alert="'+i+'"]')[0].checked=!0}),abcn_ui.Helpers.ufirst_alerts.add_to_appboy(!0,"",abcn_ui.ufNotificationArr)}else $(".interest-switch > input").prop("checked")||abcn_interest.manualToggle||("undefined"!=typeof $(".interest-toggle").find('input[data-alert="'+alert_tag+'"]')[0]&&($(".interest-toggle").find('input[data-alert="'+alert_tag+'"]')[0].checked=!1),abcn_ui.Helpers.ufirst_alerts.remove_from_appboy(alert_tag),abcn_ui.ufNotificationArr.forEach(function(i){$(".interest-toggle").find('input[data-alert="'+i+'"]')[0].checked=!0}));break;case"false":$(".interest-toggle").hide()}}}else ckcnt>=21&&window.clearInterval(checkIfAppBoyCookie)}if($.cookie("abcn_appboyNotifStateUpdated"))switch($.cookie("abcn_appboyNotifStateUpdated")){case"true":abcn_ui.Helpers.ufirst_alerts.get_notification_tracker(function(data){var noti_counter=0;"undefined"!=typeof data.notifications&&data.notifications.forEach(function(i){noti_counter++;var not_pos=abcn_ui.ufNotificationArr.indexOf(i);-1===not_pos&&(abcn_ui.ufNotificationArr.push(i),localStorage.setItem("abcn_ui.ufNotificationArr",JSON.stringify(abcn_ui.ufNotificationArr))),"undefined"!=typeof $(".interest-toggle").find('input[data-alert="'+i+'"]')[0]&&($(".interest-toggle").find('input[data-alert="'+i+'"]')[0].checked=!0,noti_counter===data.notifications.length&&abcn_ui.Helpers.ufirst_alerts.add_to_appboy(!0,"",abcn_ui.ufNotificationArr))})});break;case"false":"isDesktop"!=abcn_ui.Helpers.ufirst.useragent_check()&&$(".interest-toggle").hide();break;case"default":var alert_tag=$(".interest-switch > input").attr("data-alert"),checkIfDefaultCookieChanged=window.setInterval(ckDefault,500),cookie_cnt=0}else var checkIfAppBoyCookie=window.setInterval(ckAbCookie,500),ckcnt=0},check_interest_band:function(time){setTimeout(function(){$("div.uf-tag").each(function(){if(void 0!==$(this).attr("data-alert")){var alert_data=$(this).attr("data-alert");$(this).find(".uf-text");abcn_ui.SWID_state&&-1!==$.inArray(alert_data,abcn_ui.ufTagArr)||abcn_ui.UNID_state&&-1!==$.inArray(alert_data,abcn_ui.ufTagArr)?$(this).hasClass("uf-tag-active")||($(this).addClass("uf-tag-active"),$(this).hasClass("add-interest")&&$(this).fadeTo(150,0,function(){$(this).parent().find(".interest-check, .uf-checkmark").addClass("interest-check-active")}).css("pointer-events","none")):($(this).parent().parent(".abcn-alert-insert").fadeIn(350),$(this).removeClass("uf-tag-active"),$(this).fadeTo(150,1,function(){$(this).parent().find(".interest-check, .uf-checkmark").removeClass("interest-check-active")}).css("pointer-events","initial"))}})},time)},get_interest_items:function(cB,numberOfItems){if(abcn_ui.SWID_state)var latestData={swid:abcn_ui.SWID,type:"getLatestContents",unid:null,isOneID:!0,number:numberOfItems};else if(abcn_ui.UNID_state&&!abcn_ui.SWID_state)var latestData={unid:abcn_ui.UNID,type:"getLatestContents",swid:null,isOneID:!1,number:numberOfItems};$.ajax({type:"POST",url:abcn_ui.ufbaseURL+"/news/gttlt",data:JSON.stringify(latestData),dataType:"json",success:function(success){cB("failed"!=success.status?success:"no tags")},error:function(error){cB("no tags")}})},get_notification_tracker:function(callBack){if(abcn_ui.SWID_state)var trackerObj={unid:null,swid:abcn_ui.SWID,isOneID:!0,type:"getNotifcationList"};else if(abcn_ui.UNID_state&&!abcn_ui.SWID_state)var trackerObj={swid:null,unid:abcn_ui.UNID,isOneID:!1,type:"getNotifcationList"};$.ajax({type:"POST",url:abcn_ui.ufbaseURL+"/news/gtpbl",data:JSON.stringify(trackerObj),dataType:"json",success:function(data,textStatus,jqXHR){callBack(data)},error:function(jqXHR,textStatus,errorThrown){}})},add_interest:function(tag,fromNotCenter){if("isDesktop"===abcn_ui.useragent&&"false"===$.cookie("abcn_appboyNotifStateUpdated")&&$(".abcn-interest-popover > .interest-switch").hide(),abcn_interest.manualToggle=!1,abcn_interest.pauseBuildManage=!1,abcn_ui.SWID_state)var tagData={swid:abcn_ui.SWID,type:"insert",unid:null,isOneID:!0,tags:[tag]};else if(abcn_ui.UNID_state)var tagData={unid:abcn_ui.UNID,type:"insert",swid:null,isOneID:!1,tags:[tag]};$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json"),xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:abcn_ui.ufbaseURL+"/news/isrt",data:JSON.stringify(tagData),dataType:"json",success:function(data,textStatus,jqXHR){4===jqXHR.readyState&&200===jqXHR.status&&"failed"!==data.status&&(abcn_ui.ufTagArr.push(tag),"true"===$.cookie("abcn_appboyNotifStateUpdated")&&"isDesktop"===abcn_ui.useragent&&($(".interest-switch > input").prop("checked",!0),$(".interest-switch").find(".on_text")[0].style.opacity=1,$(".interest-switch").find(".off_text")[0].style.opacity=0),abcn_ui.Helpers.ufirst_alerts.check_interest_band(100),fromNotCenter?setTimeout(function(){abcn_ui.Helpers.ufirst_alerts.tag_behavior()},10):($(".abcn-interest-popover, .abcn-interests-modules").addClass("popover-active"),setTimeout(function(){$(".abcn-interest-popover, .abcn-interests-modules").addClass("turn_opacity_on")},50),presentPopover=window.setTimeout(function(){$(".abcn-interest-popover, .abcn-interests-modules").removeClass("turn_opacity_on"),setTimeout(function(){$(".abcn-interest-popover, .abcn-interests-modules").removeClass("popover-active")},150),abcn_interest.popover_clicked===!1&&abcn_ui.Helpers.ufirst_alerts.tag_behavior()},5e3)))},error:function(jqXHR,textStatus,errorThrown){}})},remove_interest:function(tag){if(abcn_ui.SWID_state)var tagData={swid:abcn_ui.SWID,type:"delete",unid:null,isOneID:!0,remove:[tag]};else if(abcn_ui.UNID_state)var tagData={unid:abcn_ui.UNID,type:"delete",swid:null,isOneID:!1,remove:[tag]};$.ajax({type:"POST",url:abcn_ui.ufbaseURL+"/news/rvct",data:JSON.stringify(tagData),dataType:"json",success:function(data,textStatus,jqXHR){var oldData=JSON.parse(localStorage.getItem("abcn_interest_check"));if(oldData.filter(function(d,ix){d.alertTag===tag&&(oldData.splice(ix),localStorage.setItem("abcn_interest_check",JSON.stringify(oldData)))}),4===jqXHR.readyState&&200===jqXHR.status&&"failed"!==data.status){var tagArrPosition=abcn_ui.ufTagArr.indexOf(tag);if(tagArrPosition>-1){abcn_ui.ufTagArr.splice(tagArrPosition,1);var not_pos=abcn_ui.ufNotificationArr.indexOf(tag);not_pos>-1?(abcn_ui.ufNotificationArr.splice(not_pos,1),localStorage.setItem("abcn_ui.ufNotificationArr",JSON.stringify(abcn_ui.ufNotificationArr)),abcn_ui.Helpers.ufirst_alerts.remove_from_appboy(tag),abcn_ui.Helpers.ufirst_alerts.remove_tag_fromUI(tag)):(abcn_ui.Helpers.ufirst_alerts.remove_from_appboy(tag),abcn_ui.Helpers.ufirst_alerts.remove_tag_fromUI(tag))}}},error:function(jqXHR,textStatus,errorThrown){}})},remove_tag_fromUI:function(tag){0===abcn_ui.ufTagArr.length&&($(".see-all").hide(),$(".unsub-outer").remove(),document.querySelector(".notification-settings").classList.remove("slide_in"),document.querySelector(".parent-title").innerHTML="Notifications",abcn_ui.Helpers.ufirst_alerts.tag_behavior()),$('.notification-settings-interests li[data-alert="'+tag+'"]').fadeOut(350,function(){0===abcn_ui.ufTagArr.length?abcn_interest.pauseBuildManage=!1:abcn_interest.pauseBuildManage=!0,setTimeout(abcn_ui.Helpers.ufirst_alerts.tag_behavior(),100)})},toggleTagFromAppboy:function(isChecked,tag){switch(isChecked){case!0:abcn_ui.Helpers.ufirst_alerts.add_to_appboy(!1,tag);break;case!1:abcn_ui.Helpers.ufirst_alerts.remove_from_appboy(tag)}},is_appboy_loaded:function(){var isAppBoyLoaded=null!=$.cookie("abcn_appboySDK")?!0:!1;switch(isAppBoyLoaded){case!0:return!0;case!1:return!1}},add_to_appboy:function(isChangeUser,tag,notificationArray){if(abcn_ui.SWID_state)var idtoUse=abcn_ui.SWID;else if(abcn_ui.UNID_state&&!abcn_ui.SWID_state)var idtoUse=abcn_ui.UNID;if(isChangeUser)var tagDataAppboy={app_group_id:abcn_ui.appboyGroupID,attributes:[{external_id:idtoUse,tags:{add:notificationArray}}]};else var tagDataAppboy={app_group_id:abcn_ui.appboyGroupID,attributes:[{external_id:idtoUse,tags:{add:[tag]}}]};$.ajax({type:"POST",contentType:"application/json",url:"https://api.appboy.com/users/track",data:JSON.stringify(tagDataAppboy),dataType:"json",success:function(data,textStatus,jqXHR){abcn_ui.Helpers.ufirst_alerts.add_to_notification_tracker(tag)},error:function(jqXHR,textStatus,errorThrown){}})},add_to_notification_tracker:function(tag){if(abcn_ui.SWID_state)var tagData={swid:abcn_ui.SWID,unid:null,isOneID:!0,type:"addNotification",tags:[tag]};else if(abcn_ui.UNID_state&&!abcn_ui.SWID_state)var tagData={unid:abcn_ui.UNID,swid:null,isOneID:!1,type:"addNotification",tags:[tag]};$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json"),xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:abcn_ui.ufbaseURL+"/news/adapby",data:JSON.stringify(tagData),dataType:"json",success:function(data,textStatus,jqXHR){},error:function(jqXHR,textStatus,errorThrown){}})},remove_from_appboy:function(tag){if(abcn_ui.SWID_state)var idtoUse=abcn_ui.SWID;else if(abcn_ui.UNID_state&&!abcn_ui.SWID_state)var idtoUse=abcn_ui.UNID;var tagDataAppboy={app_group_id:abcn_ui.appboyGroupID,attributes:[{external_id:idtoUse,tags:{remove:[tag]}}]};$.ajax({type:"POST",contentType:"application/json",url:"https://api.appboy.com/users/track",data:JSON.stringify(tagDataAppboy),dataType:"json",success:function(data,textStatus,jqXHR){abcn_ui.Helpers.ufirst_alerts.remove_from_notification_tracker(tag)},error:function(jqXHR,textStatus,errorThrown){}})},remove_from_notification_tracker:function(tag,callBack){if(abcn_ui.SWID_state)var tagData={swid:abcn_ui.SWID,unid:null,isOneID:!0,type:"deleteNotification",remove:[tag]};else if(abcn_ui.UNID_state&&!abcn_ui.SWID_state)var tagData={unid:abcn_ui.UNID,swid:null,isOneID:!1,type:"deleteNotification",remove:[tag]};$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json"),xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:abcn_ui.ufbaseURL+"/news/rvntfn",data:JSON.stringify(tagData),dataType:"json",success:function(data,textStatus,jqXHR){var not_pos=abcn_ui.ufNotificationArr.indexOf(tag);not_pos>-1&&(abcn_ui.ufNotificationArr.splice(not_pos,1),localStorage.setItem("abcn_ui.ufNotificationArr",JSON.stringify(abcn_ui.ufNotificationArr))),callBack&&callBack(data)},error:function(jqXHR,textStatus,errorThrown){}})},interest_polling:function(){function interest_poll(){window.setTimeout(pollInterests,15e4)}function pollInterests(){window.clearTimeout(interest_poll),abcn_ui.Helpers.ufirst_alerts.get_interest_items(compareInterests,20),interest_poll()}function compareInterests(data){try{var oldData=JSON.parse(localStorage.getItem("abcn_interest_check")),newData=data.contents.map(function(x){var obj={};return x.hasOwnProperty("contentId")&&(obj.contentId=x.contentId),x.hasOwnProperty("alertTag")&&(obj.alertTag=x.alertTag),obj}),filtercounter=0;newData.filter(function(x){filtercounter++;for(var found=(x.contentId,!1),i=0;i<oldData.length;i++)oldData[i].contentId==x.contentId&&(found=!0);found||(oldData.push(x),document.querySelector(".notification-badge").classList.add("interestbadge-active")),filtercounter===newData.length&&(abcn_ui.Helpers.ufirst_alerts.build_interest_lis(data),localStorage.setItem("abcn_interest_check",JSON.stringify(oldData)))})}catch(error){}}interest_poll()},get_display_name:function(callBack){if(abcn_ui.SWID_state)var displayObj={swid:abcn_ui.SWID,unid:null,isOneID:!0,type:"getAlertTagDisplayNameList"};else if(abcn_ui.UNID_state&&!abcn_ui.SWID_state)var displayObj={unid:abcn_ui.UNID,swid:null,isOneID:!1,type:"getAlertTagDisplayNameList"};$.ajax({method:"POST",url:abcn_ui.ufbaseURL+"/news/gttgdpn",data:JSON.stringify(displayObj),dataType:"json",success:function(data){callBack(data)},error:function(err){}})},get_suggested_tags:function(callBack){var _protocol=/localhost/.test(window.location.host)?"http://":"https://";$.ajax({type:"GET",url:_protocol+window.location.host+"/xmldata/config/jsonConfig?id=my_alerts",dataType:"json",success:function(data){callBack(data)},error:function(error){}})},markup_ready:function(){abcn_ui.Helpers.interest_alert_band.buildCarousel()},whichDevice:function(){var u=navigator.userAgent;return u.match(/Mobile/i)||u.match(/Android/i)||u.match(/iPad/i)||u.match(/Mini/i)||u.match(/Silk/i)}},$.fn.scrollGuard=function(){return this.on("wheel",function(e){var $this=$(this);return e.originalEvent.deltaY<0?$this.scrollTop()>0:$this.scrollTop()+$this.innerHeight()<$this[0].scrollHeight})},window.abcn_ui.Helpers.ufirst_manager={init:function(){var abcn_ui=window.abcn_ui;abcn_ui.Helpers.ufirst_alerts.pageShow(),abcn_ui.Helpers.ufirst_manager.init_setup()},init_setup:function(){function isIdReady(){"undefined"!=typeof abcn_ui.SWID_state&&(window.clearInterval(check_id),abcn_ui.Helpers.ufirst_alerts.get_interest_items(abcn_ui.Helpers.ufirst_manager.load_content,50))}$(".suggested-container").length||abcn_ui.Helpers.ufirst_manager.suggestedTags();var check_id=window.setInterval(isIdReady,250)},load_content:function(data){$(".placeholder").length&&$(".placeholder").remove(),data&&"no tags"!==data?abcn_ui.Helpers.ufirst_manager.renderRow(data.contents):$(".ufm-container").append('<li class="placeholder inbox_in"><div class="inbox_txt_empty">It feels empty in here. To customize your news feed, choose the topics that interest you.</div></li>'),$(".ufm-container .loader").remove()},renderRow:function(content){abcn_ui.Helpers.get_media_query_in_use();$.each(content,function(i,item){var mediaIcon="",imageAnchor="",type=item.contentType?item.contentType.toLowerCase():"",hasImage=item.hasOwnProperty("imageBase")&&"null"!=item.imageBase&&"wirestory"!=type,image=hasImage?item.imageBase:"",backupImage="http://a.abcnews.com/images/US/abc_news_default_2000x2000_update_16x9_384.jpg",newImage=image&&-1!==image.indexOf("4x3t_96")?image.replace("4x3t_96","16x9_384"):image,imageClass=newImage?" w-image":"",id=item.contentId,url=item.contentLink,desc=item.hasOwnProperty("description")&&"null"!==item.description&&null!==item.description?'<div class="desc">'+item.description+"</div>":"",sep=url&&-1===url.indexOf("?")?"?cid=":"&cid=",title=item.contentTitle,tag=null!==item.alertTag?abcn_ui.Helpers.ufirst_manager.formatAlertKey(item.alertTag):"",tagClass=null!==item.alertTag?item.alertTag.toLowerCase():"",tagNameKey=item.hasOwnProperty("displayName")&&null!=item.displayName?item.displayName:tag;url&&(url+=sep+"my_interests_"+tagClass);var jsonDate=item.contentDate,outDate=jsonDate?abcn_ui.Helpers.ufirst.displayDate(jsonDate):"";"slideshow"===type?mediaIcon='<div class="corner"><span class="icon-slideshow2"></span></div>':"video"===type&&(mediaIcon='<div class="corner"><span class="icon-play-plain video-play-button-external"></span></div>'),newImage&&(imageAnchor='<a href="'+url+'" class="headlines-image"><img src="http://a.abcnews.com'+newImage+'" alt="'+item.contentTitle+'" onerror="this.onerror=null;this.src=\''+backupImage+"'\" />"+mediaIcon+"</a>"),$(".ufm-container").append('<li class="tag-block">                      <div class="tag-alert tg-1">                         <div class="uf-silent"><a href="/alerts/'+tag+"?cid=clicksource_myinterests_"+item.alertTag.toLowerCase()+'">'+tagNameKey+'</a></div>                         <div class="uf-tag uf-reg uf-tag-active" data-alert="'+tag+'">                             <span class="icon-bell"></span>                             <span class="uf-text">Unfollow</span >                         </div>                      </div>\n                     <div class="tag-content">                          <ul class="'+tagClass+'">                              <li class="headlines-li actual '+type+'" data-id="'+id+'">                                 <div class="tag-item">                                     <div class="tag-item-content '+imageClass+'">                                         <h1>                                             <a href="'+url+'" class="black-ln">'+title+"</a>                                             "+desc+'                                              <div class="date">'+outDate+'</div>                                              <div class="alert-date">                                                 <div class="uf-tag uf-reg uf-tag-active" data-alert="'+tag+'">                                                     <span class="icon-bell"></span>                                                     <span class="uf-text">Unfollow</span>                                                 </div>                                                 <div class="uf-silent"><a href="/alerts/'+tag+"?cid=my_interests_"+tagClass+'">'+tagNameKey+'</a></div>                                                 <div class="date">'+outDate+"</div>                                               </div>\n                                        </h1>                                         "+imageAnchor+"                                     </div>                                 </div>                             </li>                         </ul>                     </div>                  </li>")}),$(".tag-block").fadeIn(500)},suggestedTags:function(){var _protocol=/localhost/.test(window.location.host)?"http://":"https://";$.ajax({type:"GET",url:_protocol+window.location.host+"/xmldata/config/jsonConfig?id=my_alerts",dataType:"json",success:function(data){data&&($(".suggested .loader").remove(),$.each(data.alertTopic,function(i,set){$.each(set,function(key,value){var dashedKey=abcn_ui.Helpers.ufirst_manager.formatAlertKey(key);$(".suggested ul").append('<li class="s-tag abcn-interests">                             <div class="suggested-container"">                                 <div class="interest-lead abcn-alert-topic">                                     <a href="/alerts/'+dashedKey+'?cid=clicksource_suggested_topics"><span class="uf-checkmark"><span class="icon-interest-check"></span></span>'+value+'</a>                                 </div>                                 <div class="add-interest pull-right uf-tag" data-alert="'+key+'" data-alert-display="'+value+'">Add Interest</div>                             </div>                         </li>')})}),$(".s-tag").fadeIn(500))}})},formatAlertKey:function(alertKey){var camelEdges=/([A-Z](?=[A-Z][a-z])|[^A-Z](?=[A-Z])|[a-zA-Z](?=[^a-zA-Z]))/g,resultArray=[],clean_dash=null;alertKey=alertKey.replace(camelEdges,"$1 "),alertKey=alertKey.charAt(0).toUpperCase()+alertKey.slice(1),resultArray.push(alertKey),resultArray=resultArray.toString().replace(/\s+/g,"-").toLowerCase();var key_len=resultArray.length;if("-"===resultArray.charAt(key_len-2)){var new_clean_dash=resultArray.substring(0,key_len-2)+resultArray.substring(key_len-1,key_len);clean_dash=new_clean_dash.toLowerCase()}else clean_dash=resultArray;return clean_dash}},window.abcn_ui.Helpers.util=function(window,$){return{getPlatform:function(){var device_type=$("#header-wrapper").attr("data-device");return device_type},getPageTypeFromURL:function(url){var pageCSSName="";url=url.split("/_/")[0];var path=$.parseUri(url).path;return pageCSSName=path.match(/\/index$|\/$/)?"index":path.match(/\/(table|standings)$/)?"standings":path.match(/\/(team|club)$/)?"clubhouses":path.match(/\/scoreboard$/)?"scoreboards":path.match(/\/(schedule|fixtures)$/)?"schedules":"story",path.match(/\/blog\//)&&(pageCSSName="story"),pageCSSName}}}(this,window.jQuery),window.abcn_ui.Helpers.video={baseUrl:function(use_relative){window.location.origin||(window.location.origin="https://"+window.location.hostname+(window.location.port?":"+window.location.port:""));var base_url=0==/localhost/.test(window.location.origin)?window.location.origin.replace("http://","https://"):window.location.origin;return base_url},orientation:function(){var screenOrientation=$(window).width()>$(window).height()?90:0;return 90==screenOrientation?"landscape":"portrait"},getAutoplayPref:function(){var asCookie=$.cookie("abcn_upautostart");return asCookie=asCookie?asCookie:"undefined"!=typeof window.abcnvideo.editorautostart?window.abcnvideo.editorautostart:"true"},setAutoplayPref:function(state){$.cookie("abcn_upautostart",state,{expires:30,domain:window.location.hostname})},getClosedCaptionPref:function(){var ccCookie=$.cookie("abcn_closedcaption");return ccCookie=ccCookie?ccCookie:"false"},setClosedCaptionPref:function(state){$.cookie("abcn_closedcaption",state,{expires:30,domain:window.location.hostname})},pausePlayerIfActive:function(player){if("undefined"!=typeof player)try{
(!player.getEnded()||player.ads.getInProgress()||amp.ads.getStarted())&&(player.getPaused()||(player.getCurrentTime()>0||player.ads.getInProgress()||amp.ads.getStarted())&&player.pause())}catch(e){}},minimize:function(el,player){"undefined"!=typeof player&&(abcn_ui.Helpers.video.pausePlayerIfActive(player),abcn_ui.Helpers.video.hideHtmlControlBar(el))},maximize:function(el,player){"undefined"!=typeof player&&(player.play(),abcn_ui.Helpers.video.showHtmlControlBar(el))},mainStoryHasVideo:function(){var hasVideo=!1;return $("article.article").length>0&&$($("article.article")[0]).find("figure.article-figure.video").length>0&&$($("figure.article-figure")[0]).hasClass("video")&&(hasVideo=!0),hasVideo},setVideoMetadata:function(story){if(window.abcnvideo=window.abcnvideo||{},story)if(story.cache)for(var key in story.cache)abcnvideo[key]=story.cache[key];else story.content&&(abcnvideo.storyid=story.content.id,abcnvideo.editorautostart=story.content.autoStart,abcnvideo.allowmainmedia=story.content.allowMedia,abcnvideo.featuredimage=story.content.image),story.ads&&(abcnvideo.storysection=story.ads.section),story.video&&(abcnvideo.playlist=story.video.playlist,abcnvideo.show=story.video.show,abcnvideo.url=story.video.url,abcnvideo.featuredvideo=story.video.title),abcnvideo.uniUrl=story.unicornUrl+story.umxbeacon,story={}},resetStoryPlayer:function(data){var $videoContainer=$("#abcn-videoplayer");try{amp.pause()}catch(e){}abcn_ui.Helpers.video.setVideoMetadata(data),abcn_ui.Helpers.video.isPlayerSet?$videoContainer.hasClass("docked")?$videoContainer.animate({bottom:"-1000px"},1e3,function(){$(this).removeClass("docked").removeAttr("style"),$(document).trigger("video.reload",[])}):($videoContainer.removeAttr("style"),$(document).trigger("video.reload",[])):$videoContainer.removeClass("docked").addClass("offpage").removeAttr("style")},setPlayerParams:function(player,params){if("undefined"!=typeof player)for(param in params)if(params.hasOwnProperty(param)){var paramObj={};paramObj[param]=params[param],player.setParams(paramObj)}},setStoryPlayerLoc:function(player,el){var playerLoc="player|storypage";el&&el.hasClass("docked")&&(playerLoc="player|storypage|persistent-player");var obj={playerLocation:playerLoc};"undefined"!=typeof player&&abcn_ui.Helpers.video.setPlayerParams(player,obj)},seedPlayer:function(player,id){if("undefined"!=typeof player){var feedUrl="";feedUrl="flash"==player.playerType?window.abcn_ui.Helpers.video.baseUrl(!1)+"/video/itemfeed?id="+id+"&posterImage=false":window.abcn_ui.Helpers.video.baseUrl(!0)+"/video/itemfeed?id="+id,player.feed.setURL(feedUrl)}return!1},playNextVideo:function(player){if("undefined"!=typeof abcnvideo.playlist&&null!=abcnvideo.playlist){var currentClip=player.evaluateBindings("#{media.guid}"),currentPos=$.inArray(parseInt(currentClip),abcnvideo.playlist);if(currentPos>-1){var newPos=currentPos+1;newPos==abcnvideo.playlist.length&&(newPos=0),0==player.getAutoplay()&&player.setAutoplay(!0),abcn_ui.Helpers.video.seedPlayer(player,abcnvideo.playlist[newPos])}else player.setAutoplay(!0),abcn_ui.Helpers.video.seedPlayer(player,abcnvideo.playlist[0])}else{var currentFeed=player.feed.getURL();player.setAutoplay(!0),player.feed.setURL(currentFeed)}},positionVideoContainer:function($currContainer,$videoModuleWrapper){return $currContainer&&$videoModuleWrapper.css({position:"absolute",top:$currContainer.offset().top,left:$currContainer.offset().left,width:$currContainer.width(),height:$currContainer.height()}),!1},positionVideoContainerOffset:function($currContainer,$videoModuleWrapper,offset){if($currContainer){var topPos=$currContainer.offset().top+offset;$videoModuleWrapper.css({position:"absolute",top:topPos,left:$currContainer.offset().left,width:$currContainer.width(),height:$currContainer.height()})}return!1},stopRefreshTimer:function(){"undefined"!=typeof window.timeoutID&&clearTimeout(window.timeoutID)},beacon:function(url,beaconId){var beaconImg;return beaconImg=document.getElementById(beaconId),null==beaconImg&&(beaconImg=document.createElement("img"),beaconImg.setAttribute("id",beaconId),beaconImg.setAttribute("height",0),beaconImg.setAttribute("width",0),document.body.appendChild(beaconImg),beaconImg.style.display="none"),beaconImg.setAttribute("src",url),beaconImg},removeBeacon:function(beaconId){beaconImg=document.getElementById(beaconId),null!=beaconImg&&document.body.removeChild(beaconImg)},fireOutbrainBeacon:function(){var obUrl="//traffic.outbrain.com/network/trackpxl?advid=713&action=view&cb="+(new Date).getTime();abcn_ui.Helpers.video.beacon(obUrl,"outbrain-track")},removeOutbrainBeacon:function(){abcn_ui.Helpers.video.removeBeacon("outbrain-track")},fireBlueKaiBeacon:function(player){var s_omni_override={prop4:"video",prop5:"",prop15:"",eVar2:"undefined"!=typeof player?player.evaluateBindings("#{media.metadata.omniture.eVar2}"):"",eVar20:"undefined"!=typeof player?player.evaluateBindings("#{media.metadata.omniture.eVar20}"):"",channel:"undefined"!=typeof player?player.evaluateBindings("#{media.metadata.omniture.channel}"):""};"undefined"!=typeof bkInit&&window.bkInit(s_omni_override)},updateOmnitureEvent:function(player,playlistFlag){var adViewEventVal=player.getParams().adViewEvent,videoViewEventVal=player.getParams().videoViewEvent;"undefined"!=typeof adViewEventVal&&"undefined"!=typeof videoViewEventVal&&(playlistFlag?(adViewEventVal=-1==adViewEventVal.indexOf("event17")?adViewEventVal+",event17":adViewEventVal,videoViewEventVal=-1==videoViewEventVal.indexOf("event18")?videoViewEventVal+",event18":videoViewEventVal):(adViewEventVal=adViewEventVal.indexOf("event17")>-1?adViewEventVal.replace(",event17",""):adViewEventVal,videoViewEventVal=videoViewEventVal.indexOf("event18")>-1?videoViewEventVal.replace(",event18",""):videoViewEventVal),player.setParams({adViewEvent:adViewEventVal}),player.setParams({videoViewEvent:videoViewEventVal}))},getContainerPosition:function($container){return $container?{top:$container.offset().top,left:$container.offset().left}:void 0},getSWID:function(){var swidCookie=$.cookie("SWID");return null!=swidCookie?swidCookie:""},getAffiliateCookie:function(){return adNumCookie=$.cookie("adnum"),adNumCookie&&"4undefined"!=adNumCookie?(adNum=parseInt(adNumCookie.charAt(0)),adNum++):adNum=1,createCookie("adnum",adNum),affilCookie=$.cookie("affilcookie"),affil=affilCookie?affilCookie:"none",affil},segScores:function(i){var o={};if(!i.indexOf("CBLM-001:")){i=i.substring(9);for(var id,e=0,f=0,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b=0,a=i.length,l=a-a%4;l>b;){var m=h.indexOf(i.charAt(b++)),k=h.indexOf(i.charAt(b++));f|=(m<<2|k>>4)<<(e++?0:8),f*=(e%=6)&&e-2?1:0;var j=h.indexOf(i.charAt(b++));64!=j&&(f|=((15&k)<<4|j>>2)<<(e++?0:8),e-2||(id=f),f*=(e%=6)&&e-2?1:0);var g=h.indexOf(i.charAt(b++));64!=g&&(f|=((3&j)<<6|g)<<(e++?0:8),e-6||(o[id]=f),f*=(e%=6)&&e-2?1:0)}}return o},getSegValues:function(){if(fwCookieStr="",fwCookie=$.cookie("CRBLM"),null!=fwCookie){fwCookie=abcn_ui.Helpers.video.segScores(fwCookie),fwCookieStr="seg=";for(var i in fwCookie)fwCookie[i]>0&&(fwCookieStr=fwCookieStr+i+"&seg=");"="==fwCookieStr.charAt(fwCookieStr.length-1)&&(fwCookieStr=fwCookieStr.substring(0,fwCookieStr.length-5))}return fwCookieStr},hideShareButton:function(){$(".amp-custom-embed, .amp-facebook").hide()},showShareButton:function(){$(".amp-custom-embed, .amp-facebook").show()},keyHandler:function(event){switch(event.keyCode){case 27:abcn_ui.Helpers.video.fullscreenchangeHandler(!1)}},fullscreenchangeHandler:function(isFullScreen){styles=amp.getContainer().style,isFullScreen?(playerStyles={width:styles.width,height:styles.height,top:styles.top,left:styles.left,position:styles.position},styles.width=window.innerWidth+"px",styles.height=window.innerHeight+"px",styles.top="0px",styles.left="0px",styles.position="fixed",window.addEventListener("keydown",abcn_ui.Helpers.video.keyHandler,!1),$("#exitfullscreen").show(),$("#abcn-videoplayer").addClass("fullscreen"),$("#"+amp.getContainer().id).addClass("vjs-fullscreen"),"flash"==amp.getPlayerType()?amp.getMediaElement().setPlayerProperty("fullscreenBtn",{visible:!1}):$(".akamai-full-screen").hide(),$("body").addClass("disable_scroll")):(styles.width=playerStyles.width,styles.height=playerStyles.height,styles.top=playerStyles.top,styles.left=playerStyles.left,styles.position=playerStyles.position,$("#abcn-videoplayer").removeClass("fullscreen"),$("#abcn-videoplayer, #videoPlayer").removeClass("vjs-fullscreen"),$("#"+amp.getContainer().id).removeClass("vjs-fullscreen"),$("#exitfullscreen").hide(),window.removeEventListener("keydown",abcn_ui.Helpers.video.keyHandler,!1),"flash"==amp.getPlayerType()?amp.getMediaElement().setPlayerProperty("fullscreenBtn",{visible:!0}):$(".akamai-full-screen").show(),$("body").removeClass("disable_scroll"))},useAkamaiPlayer:function(){var useAMP=!0,iOSUser=new Object;iOSUser.userAgentMatch=navigator.userAgent.match(/iPhone|iPod|iPad/i);var androidUser=new Object;return androidUser.userAgentMatch=navigator.userAgent.match(/Android/),null!=androidUser.userAgentMatch&&(androidUser.userAgentVersion=new RegExp("Android (\\d+(?:\\.\\d+)?)(?:\\.\\d+)?;").exec(navigator.userAgent),null!=androidUser.userAgentVersion?androidUser.osVersionNum=androidUser.userAgentVersion[1]:androidUser.osVersionNum=4),useAMP=iOSUser.userAgentMatch?!0:androidUser.osVersionNum&&parseFloat(androidUser.osVersionNum)>=4?!0:!1},showHtmlControlBar:function($target){$(".abcn-amp-skin .amp-controls, .abcn-amp-skin .amp-progress, button.amp-pause-overlay.amp-icon.amp-control").removeAttr("style")},hideHtmlControlBar:function($target){$(".abcn-amp-skin .amp-controls, .abcn-amp-skin .amp-progress, button.amp-pause-overlay.amp-icon.amp-control").hide()},showAdModeControlBar:function(){$(".abcn-amp-skin .amp-time-display, .abcn-amp-skin .amp-progress, .abcn-amp-skin .amp-facebook, .abcn-amp-skin .amp-custom-embed").hide()},resetAdModeControlBar:function(){$(".abcn-amp-skin .amp-time-display, .abcn-amp-skin .amp-progress, .abcn-amp-skin .amp-facebook, .abcn-amp-skin .amp-custom-embed").removeAttr("style")},formatDuration:function(d){d=Number(d);var m=Math.floor(d%3600/60),s=Math.floor(d%3600%60);return(m>0?(10>m?"0":"")+m+":":"0:")+(10>s?"0":"")+s},launchStonewoodLightbox:function(vLinkEl,vUrl){window.vrOrigin=window.location.href,window.vrAjax=!0,0==$(".video-lightbox").length&&$.ajax({type:"HEAD",url:vUrl,complete:function(e,xhr,settings){if(200===e.status||304===e.status){if(0==$(".video-lightboxoverlay").length&&$("body").prepend('<div class="video-lightboxoverlay"></div><div class="video-lightbox-loader"></div>'),"undefined"!=typeof amp)try{amp.getCurrentTime()>0&&amp.pause()}catch(e){}Modernizr.history&&window.history.pushState(null,"",vUrl),window.onpopstate=function(event){document.location.reload(!0)};var delim=vUrl.indexOf("?")>-1?"&":"?";vUrl=vUrl+delim+"lightbox=true",$(".video-lightboxoverlay").fadeIn(400,function(){$(".video-lightbox-loader").fadeIn(400,function(){setTimeout(function(){0==$(".video-lightbox").length&&($("body").prepend('<div class="video-lightbox"><iframe src="'+vUrl+'" allowfullscreen  background="transparent" allowtransparency="true"></iframe></div>'),$(".video-lightbox").fadeIn(600,function(){$(".window, .footercontainer").html("")}))},1e3)})}),abcn_ui.Helpers.video.stopRefreshTimer()}else $(vLinkEl).unbind("click"),$(vLinkEl)[0].click()}})},getPageName:function(){var pn="";return pn="undefined"!=typeof s_omni&&"undefined"!=typeof s_omni.pageName?s_omni.pageName:document.title.replace(/"|&/g,"")},globalReadyHandler:function(event){"function"==typeof akamaiDisableServerIpLookup&&akamaiDisableServerIpLookup();var player=event.player;if($(".akamai-title-bar").css("display","none"),$(".paused_overlay .icon-play-paused").click(function(){"undefined"!=typeof player&&player.play()}),"undefined"!=typeof player.react&&"undefined"!=typeof React){var fb_component=React.createElement("button",{className:"amp-facebook amp-icon amp-control",id:"component",key:"fb",onClick:function(event){var shareUrl=player.evaluateBindings("#{media.metadata.canonicalUrl}"),url="https://www.facebook.com/sharer.php?u="+shareUrl+"&share_facebook_widget";const opener=window.open(url,"_blank","noresizable,noscrollbars,width=600,height=450"),windowBlocked="undefined"==typeof opener;windowBlocked||(event.returnValue=!1)}});player.react.controls.addComponent(fb_component);var embed_component=React.createElement("button",{className:"amp-embed amp-custom-embed amp-icon amp-control",id:"component",key:"customEmbed",onClick:function(event){abcn_ui.Helpers.video.doEmbed(player)}});player.react.controls.addComponent(embed_component);var controlElems=document.getElementsByClassName("amp-controls")[0],shareNode=document.getElementsByClassName("amp-share")[0],facebookNode=document.getElementsByClassName("amp-facebook")[0],customEmbed=document.getElementsByClassName("amp-custom-embed")[0];controlElems.insertBefore(facebookNode,shareNode),controlElems.insertBefore(customEmbed,shareNode);for(var playerContainer=player.getContainer(),vol_components=playerContainer.querySelectorAll(".amp-mute, .amp-volume"),vol_timer=null,i=0;i<vol_components.length;i++)vol_components[i].addEventListener("mouseover",function(){null!=vol_timer&&clearTimeout(vol_timer),playerContainer.classList.add("volume-active")}),vol_components[i].addEventListener("mouseout",function(){vol_timer=setTimeout(function(){playerContainer.classList.remove("volume-active")},500)});var embedScreenMarkup='<div id="player-share-overlay"></div><div id="embed-container" class="container"><div id="embed-close" class="player-close-button"></div><div class="embed-dialog"><div class="col-12 col-sm-12"><p class="embed-code-label">Copy and paste to <span>share</span> this video</p><input id="share-video" value="" class="embed-code-input"></div><div class="col-12 col-sm-12"><p class="embed-code-label">Copy and paste to <span>embed</span> this video</p><input id="embed-code" value="" class="embed-code-input"></div></div></div>';$(playerContainer).append(embedScreenMarkup),"html"==player.mode&&player.captioning.changeSettings({fontFamily:'"Helvetica",cursive, sans-serif'})}},globalPlayHandler:function(event){"desktop"==$("#header-wrapper").data("device")&&abcn_ui.Helpers.video.togglePlayerLoader(!1,event.player),$("#player-share-overlay, #embed-container").removeClass("active")},globalPlayingHandler:function(event){"desktop"==$("#header-wrapper").data("device")&&abcn_ui.Helpers.video.togglePlayerLoader(!1,event.player)},globalAdStartedHandler:function(event){"desktop"==$("#header-wrapper").data("device")&&abcn_ui.Helpers.video.togglePlayerLoader(!1,event.player),$(".akamai-video.akamai-layer .fw_vpaid_slot").css({height:"70%",width:"100%",top:30}),abcn_ui.Helpers.video.showAdModeControlBar()},globalAdEndedHandler:function(event){"desktop"==$("#header-wrapper").data("device")&&abcn_ui.Helpers.video.togglePlayerLoader(!0,event.player),abcn_ui.Helpers.video.resetAdModeControlBar()},globalStartedHandler:function(event){"desktop"==$("#header-wrapper").data("device")&&abcn_ui.Helpers.video.togglePlayerLoader(!1,event.player)},globalPlayHander:function(event){"desktop"==$("#header-wrapper").data("device")&&abcn_ui.Helpers.video.togglePlayerLoader(!1,event.player)},globalPlayingHandler:function(event){"desktop"==$("#header-wrapper").data("device")&&abcn_ui.Helpers.video.togglePlayerLoader(!1,event.player)},globalEndedHandler:function(event){"desktop"==$("#header-wrapper").data("device")&&abcn_ui.Helpers.video.togglePlayerLoader(!0,event.player)},globalMediaChangeHandler:function(event){"undefined"!=typeof event&&(abcn_ui.Helpers.video.setStreamTitleParam(event.data.title,event.player),event.player.evaluateBindings("#{media.metadata.shareEnabled}")?abcn_ui.Helpers.video.showShareButton():abcn_ui.Helpers.video.hideShareButton())},globalVolumeChangeHandler:function(event){0!=event.data&&abcn_ui.Helpers.video.toggleMuteState(!1,event.player)},terminateAllAds:function(player){player.ads&&player.ads.terminateAllAds(),null!=(_ads=player.ads)&&("undefined"!=typeof akamai&&akamai.amp.utils.Utils.isIPhone()&&null!=(_slot=_ads.proxy.slot)?_slot.stop():_ads.terminateAllAds())},setStreamTitleParam:function(title,player){var s_title="";1==player.evaluateBindings("#{media.metadata.isLiveVideo}")&&(s_title=title.substring(0,128).toLowerCase()),abcn_ui.Helpers.video.setPlayerParams(player,{streamTitle:s_title})},setFWDefaultParams:function(player){if(player){var fwProfile="html"==player.playerType?"168234:ABC_Live_HTML5_Moat":"168234:ABC_Live",fbSetParams=!1,fbToken="",fbTestVal="0";"undefined"!=typeof fbPrebid&&(fbToken=fbPrebid._tryGetToken(),fbSetParams=!0),"nobid"!=fbToken&&""!=fbToken&&(fbTestVal="1"),abcn_ui.Helpers.video.setPlayerParams(amp,{fw_profile_id:fwProfile,show:"",streamTitle:"",visitorId:abcn_ui.Helpers.video.getSWID(),affiliate:abcn_ui.Helpers.video.getAffiliateCookie(),segValues:abcn_ui.Helpers.video.getSegValues()}),fbSetParams&&abcn_ui.Helpers.video.setPlayerParams(amp,{fb_an:fbTestVal,fb_token:fbToken})}},getPlayerOffsetByEvent:function(eventName,isHP,modalActive){var bnActive=1==$(".global-alerts-container").length?!0:!1,livebarActive=$("#global-viewport").hasClass("livebar-active")?!0:!1,playerOffset=0;if("undefined"==typeof ieVersion)switch(eventName){case"breakingnews.render":playerOffset="phone"==$("#header-wrapper").data("device")?-56:livebarActive?-169:-74,bnActive=!0;break;case"breakingnews.close":playerOffset=0,bnActive=!1;break;case"livebar.load":playerOffset=bnActive?-169:0;break;case"hide.livebar":playerOffset=bnActive?-74:0;break;case"render.signup":playerOffset=modalActive?-74:bnActive?-74:-45;break;case"close.signup":playerOffset=bnActive?livebarActive?-195:-102:0}else switch(eventName){case"breakingnews.render":playerOffset=modalActive?livebarActive?-94:0:livebarActive?-169:-74,bnActive=!0;break;case"breakingnews.close":playerOffset=0,bnActive=!1;break;case"livebar.load":playerOffset=bnActive?-169:0;break;case"hide.livebar":playerOffset=bnActive?-74:0;break;case"render.signup":playerOffset=modalActive?-74:bnActive?-74:-45;break;case"close.signup":playerOffset=bnActive?livebarActive?-195:-102:0}return playerOffset},togglePlayerLoader:function(doShow,player){$parentContainer=$(player.getContainer()).parent(),doShow===!0?$(".player_loader",$parentContainer).fadeIn(400):($(".player_loader",$parentContainer).fadeOut(400),"true"==abcn_ui.Helpers.video.getAutoMuteFlag()&&abcn_ui.Helpers.video.toggleMuteState(!0,player))},setAutoMuteFlag:function(muted){$.cookie("abcn_muteflag",muted,{expires:30,domain:window.location.hostname})},getAutoMuteFlag:function(){var muteCookie=$.cookie("abcn_muteflag");return muteCookie=muteCookie?muteCookie:"false"},toggleMuteState:function(setMute,player){$parentContainer=$(player.getContainer()).parent()[0],setMute===!0?(player.setMuted(!0),$(".click_to_unmute",$parentContainer).fadeIn(400),$(".click_to_unmute").click(function(){abcn_ui.Helpers.video.toggleMuteState(!1,player)})):(abcn_ui.Helpers.video.setAutoMuteFlag(!1),player.unmute(),$(".click_to_unmute",$parentContainer).fadeOut(400))},doEmbed:function(player){var embedContainer=(player.container,document.getElementById("embed-container")),shareOverlay=document.getElementById("player-share-overlay"),$fullscreenExitBtn=$(".fullscreen #exitfullscreen"),embedUrl=abcn_ui.Helpers.video.baseUrl(!1)+"/video/embed?id="+player.evaluateBindings("#{media.guid}");document.querySelector("#embed-code").value='<iframe src="'+embedUrl+'" width="640" height="360" scrolling="no" style="border:none;" allowfullscreen></iframe>',document.querySelector("#share-video").value=player.evaluateBindings("#{media.metadata.shareUrl}"),player.pause(),$fullscreenExitBtn.hide(),embedContainer.classList.add("active"),shareOverlay.classList.add("active"),embedContainer.querySelector("#embed-close").addEventListener("click",function(){embedContainer.classList.remove("active"),shareOverlay.classList.remove("active"),player.play(),$fullscreenExitBtn.show()})},configOverrides:function(params){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var isSecure=(window.location.origin,!0),feedUrlBase=window.location.origin,baseurl_assets=/localhost/.test(window.location.origin)?"/demo/script?url=":"https://s.abcnews.com/assets";/preview/.test(window.location.origin)&&(baseurl_assets="https://preview.abcnews.go.com/assets");var controlsVal="undefined"!=typeof params.controls?params.controls:"auto",volumeVal="undefined"!=typeof params.volume?params.volume:"0.75",adVal="undefined"!=typeof params.ads&&"false"==params.ads?!1:!0,autostartVal="undefined"!=typeof params.autostart&&"false"==params.autostart?!1:!0,comscore="undefined"!=typeof params.comscore&&"false"==params.comscore?!1:!0,chartbeat="undefined"!=typeof params.chartbeat&&"false"==params.chartbeat?!1:!0,newrelic="undefined"!=typeof params.newrelic&&"false"==params.newrelic?!1:!0,nielsen="undefined"!=typeof params.nielsen&&"false"==params.nielsen?!1:!0,mediaanalytics="undefined"!=typeof params.mediaanalytics&&"false"==params.mediaanalytics?!1:!0,comscoreData="undefined"!=typeof params.comscoreData?params.comscoreData:null,videoFormat="undefined"!=typeof params.video_format?"&format="+params.video_format:"",omnitureVal="undefined"!=typeof params.omniture&&"false"==params.omniture?!1:!0,omnitureServer=isSecure?"sw88.go.com":"w88.go.com",fwJsPlugin=isSecure?"https://m.v.fwmrm.net/p/abc_live/AdManager.js":"http://adm.fwmrm.net/p/vitest-js/AdManager.js",fwSwfPlugin=isSecure?"https://m.v.fwmrm.net/p/abc_live/AdManager.swf?logLevel=VERBOSE":"http://adm.fwmrm.net/p/vitest-as3/AdManager.swf?logLevel=VERBOSE",omnitureAccount="wdgnewabcnews,wdgasec",playbackMode="undefined"!=typeof params.playbackmode?params.playbackmode:"html-auto",device="desktop";$("#header-wrapper").data("device")&&(device=$("#header-wrapper").data("device")),/mode=flash/.test(window.location.href)&&(playbackMode="flash"),/mode=html/.test(window.location.href)&&(playbackMode="html");var playOverlay="undefined"!=typeof params.playoverlay?params.playoverlay:!1,s_code_version="s_code",trackUsingContextData=!1,fw_profile_id="168234:ABC_Live",fullscreenMode="default",playerName="undefined"!=typeof params.playerName?params.playerName:document.title.replace(/"|&/g,"");("html"==playbackMode||"html-auto"==playbackMode)&&(s_code_version="s_code_15",trackUsingContextData=!0,fw_profile_id="168234:ABC_Live_HTML5_Moat",feedUrlBase=abcn_ui.Helpers.video.baseUrl(!0));var feedUrl=""!=params.clipid&&"undefined"!=params.clipid?feedUrlBase+"/video/itemfeed?id="+params.clipid+videoFormat+"&secure=true":"";if("localhost"==document.domain||"preview.abcnews.go.com"==document.domain||"qa.n7.abcnews.go.com"==document.domain||"newspreview.corp.dig.com"==document.domain)omnitureAccount="wdgnewabcnewstest,wdgasecdev";else switch(device){case"mobile":omnitureAccount="wdgnewabcnewssmartphone";break;case"tablet":omnitureAccount="wdgnewabcnewshtml5"}var config={name:playerName,flash:{vars:{auto_play_override:!0,inpage_bitrate_index_limit:3,core_player_name:playerName,mbr_starting_index:2,ad_control_enabled:!1,fullscreen_enabled:!1,suppress_events:"mediaPlayerViewInitialized",share_mode:"2",volume:volumeVal,playback_clicktoggle_enabled:!1},params:{wmode:"opaque"}},volume:volumeVal,controls:{mode:controlsVal},mode:playbackMode,autoplay:autostartVal,feed:{url:feedUrl},share:{enabled:!0},comscore:{url:"https://sb.scorecardresearch.com/b",data:{c1:"1",c2:"3000032",c3:null,c4:null,c5:"02",c6:null,c7:null,c8:null,c9:null,c10:null,c14:null},events:{ads:[{type:"started",data:{c5:"09"}}],video:[{type:"started",data:{c5:"02"}}]}},comscorestreamsense:{enabled:comscore},nielsen:{enabled:nielsen},mediaanalytics:{enabled:mediaanalytics},omniture:{enabled:document.location.search.indexOf("disableOmniture=true")>-1?!1:omnitureVal,playerName:document.title.replace(/"/g,""),account:omnitureAccount,trackingServer:omnitureServer,Media:{trackUsingContextData:trackUsingContextData},resources:[{src:baseurl_assets+"/js/"+s_code_version+".js?v=4",type:"text/javascript"}],customLinkTracking:{adStart:{events:"#{adViewEvent}",eVar15:"#{playerLocation}",eVar21:"#{eVar21}",eVar29:"#{eVar29}",eVar30:"#{eVar30}",eVar32:"#{eVar32}",eVar35:"#{eVar35}"},videoStart:{events:"#{videoViewEvent}",eVar15:"#{playerLocation}",prop18:"#{playerLocation}",eVar21:"#{eVar21}",eVar31:"#{eVar31}",eVar35:"#{eVar35}"}}},plugins:{},freewheel:{enabled:document.location.search.indexOf("disableAds=true")>-1?!1:adVal,networkId:168234,profileId:"#{fw_profile_id}",visitorId:"#{visitorId}",videoAssetId:"#{media.metadata.freewheel.videoAssetId}",keyValues:{affiliate:"#{affiliate}",pageType:"#{pageType}",show:"#{show}",streamTitle:"#{streamTitle}"},visitorHeader:{referer:"#{referer}"},keyValuesString:"#{segValues}",siteSectionId:"#{siteSectionId}",plugin:{js:fwJsPlugin,swf:fwSwfPlugin}},playoverlay:{enabled:playOverlay}};if("default"!=fullscreenMode&&(config.fullscreen=fullscreenMode),null!=comscoreData&&(config.comscorestreamsense=comscoreData),1==newrelic&&(config.plugins.newrelic={enabled:!0,resources:[{src:"https://s.abcnews.com/assets/player/amp/common/newrelic.min.js?v=1",type:"text/javascript"}],debug:!1,uniqueId:abcn_ui.Helpers.video.getSWID(),customAttributes:{playerLocation:"#{playerLocation}"},metadata:{videoTitle:"#{media.title}"}}),1==chartbeat){var uId="",domain="",useCanonical="",sections="",authors="";"undefined"!=typeof _sf_async_config&&(uId=_sf_async_config.uid?_sf_async_config.uid:"",domain=_sf_async_config.domain?_sf_async_config.domain:"",useCanonical=_sf_async_config.useCanonical?_sf_async_config.useCanonical:"",sections=_sf_async_config.sections?_sf_async_config.sections:"",authors=_sf_async_config.authors?_sf_async_config.authors:""),config.plugins.chartbeatanalytics={debug:!0,resources:[{src:params.playerversion+"/akamai/amp/chartbeatanalytics/Chartbeatanalytics.min.js",type:"text/javascript"}],sdk:[{src:"//static.chartbeat.com/js/chartbeat_video.js",type:"text/javascript"}],data:{uID:uId,domain:domain,useCanonical:useCanonical,sections:sections,authors:authors}}}return"undefined"!=typeof params.react_controls&&"undefined"!=typeof config.plugins&&(config.plugins.react={enabled:!0,resources:[{src:params.playerversion+"/akamai/amp/react/libs/react-compressed.min.js",debug:params.playerversion+"/akamai/amp/react/libs/react-compressed.min.js",type:"text/javascript",async:!1},{src:params.playerversion+"/akamai/amp/react/React.min.css",debug:params.playerversion+"/akamai/amp/react/React.css",type:"text/css"},{src:params.playerversion+"/akamai/amp/react/React.min.js",debug:params.playerversion+"/akamai/amp/react/React.js",type:"text/javascript",async:!1}],autoHide:3}),"undefined"!=typeof fbPrebid&&0==/fb=false/.test(window.location.href)&&(config.freewheel.keyValues.fb_an="#{fb_an}",config.freewheel.keyValues.fb_token="#{fb_token}"),config}},window.abcn_ui.Helpers.window_scroll=function(window,document,$,_){function triggerWindowScroll(eventType){$.event.trigger({type:eventType,scrollTop:$window.scrollTop()})}var throttleInterval=250,debounceInterval=250,$window=$(window);return{init:function(){$window.on("scroll",_.throttle(function(){triggerWindowScroll("windowscroll.throttle")},throttleInterval)),$window.on("scroll",_.debounce(function(){triggerWindowScroll("windowscroll.debounce")},debounceInterval)),$window.on("resize",_.throttle(function(){triggerWindowScroll("windowresize.throttle")},throttleInterval)),$window.on("resize",_.debounce(function(){triggerWindowScroll("windowresize.debounce")},debounceInterval)),$window.on("drag",_.throttle(function(){triggerWindowScroll("windowdrag.debounce")},throttleInterval)),$(window).on("drag",_.debounce(function(){triggerWindowScroll("windowdrag.throttle")},debounceInterval))},toTop:function(){_.throttle(function(){triggerWindowScroll("page.header-reset")},throttleInterval),_.debounce(function(){triggerWindowScroll("page.header-reset")},debounceInterval)}}}(this,this.document,window.jQuery,window._),function($){"use strict";function AffixAndScrollColumn(){this.$column=null,this.$affixUnder=null,this.$affixedStyle=null,this.$auxContent=null,this.$columnSiblings=null,this.affixed=!1,this.curScroll=0,this.windowHeight=0,this.affixedColOffset=0,this.affixedHeight=0,this.scrollThreshold=0,this.auxStaticHeight=0,this.fixedFlowOffset=0,this.siblingHeights=0,this.maxSiblingHeight=0,this.lastBottomScrollPosition=0}var $window=$(window);AffixAndScrollColumn.prototype.init=function(settings){return this.$column=settings.$column,this.$affixUnder=settings.$affixUnder,this.affixedHeight=0,this.scrollThreshold=0,this.auxStaticHeight=0,this.fixedFlowOffset=0,this.siblingHeights=0,this.maxSiblingHeight=0,this.bindEvents(),this.onResize(),this.onScroll(),this},AffixAndScrollColumn.prototype.bindEvents=function(){this.onResize=this.onResize.bind(this),this.debouncedResize=this.debouncedResize.bind(this),$window.on("resize",this.debouncedResize),this.onScroll=this.onScroll.bind(this),$window.on("windowscroll.debounce.affix-and-scroll",this.onScroll),this.onInnerScroll=this.onInnerScroll.bind(this),this.debouncedInnerScroll=this.debouncedInnerScroll.bind(this),this.$auxContent.on("scroll",this.debouncedInnerScroll)},AffixAndScrollColumn.prototype.onScroll=function(){this.curScroll=Math.max(window.scrollY||document.documentElement.scrollTo||window.pageYOffset,0),this.curScroll>this.scrollThreshold?this.affixed||(this.affixed=!0,this.$column.addClass("affix")):this.affixed&&(this.affixed=!1,this.$column.removeClass("affix"))},AffixAndScrollColumn.prototype.debouncedInnerScroll=function(){window._.debounce(this.onInnerScroll,100)()},AffixAndScrollColumn.prototype.onInnerScroll=function(){this.$auxContent[0].scrollTop>this.lastBottomScrollPosition&&Math.abs(this.$auxContent[0].scrollHeight-(this.$auxContent[0].scrollTop+this.$auxContent.height()))<100&&(this.lastBottomScrollPosition=this.$auxContent[0].scrollTop+100,$.publish("affix_and_scroll:scrolled-to-bottom"))},AffixAndScrollColumn.prototype.debouncedResize=function(){window._.debounce(this.onResize,100)()},AffixAndScrollColumn.prototype.onResize=function(){this.windowHeight=$window.height(),this.fixedFlowOffset=this.$affixUnder.height()||0,this.affixedColOffset=this.$column.offset().top,this.scrollThreshold=this.affixedColOffset-this.fixedFlowOffset,this.auxStaticHeight=this.windowHeight-this.affixedColOffset,this.$affixTo?this.maxSiblingHeight=this.$affixTo.height():(this.siblingHeights=this.$columnSiblings.map(function(){return $(this).height()}).get(),this.maxSiblingHeight=Math.max.apply(null,this.siblingHeights)),this.affixedHeight=this.windowHeight-this.fixedFlowOffset,this.$column.height(this.maxSiblingHeight>this.affixedHeight?this.windowHeight-this.fixedFlowOffset:Math.max(this.auxStaticHeight,this.maxSiblingHeight)),this.$auxContent.css("top",this.fixedFlowOffset),this.$auxContent.css("width",this.$column.width()),this.onScroll()},AffixAndScrollColumn.prototype.getAffixedStyles=function(){var style="";return style+='	[data-behavior*="affix_and_scroll"] {',style+="		min-height: 110%;",style+="		position: relative;",style+="	}",style+='	[data-behavior*="affix_and_scroll"].affix > *:first-child {',style+="		position: fixed;",style+="		bottom: 0;",style+="		top: 0;",style+="		height: auto;",style+="	}"},AffixAndScrollColumn.prototype.destroy=function(){$window.off("resize",this.debouncedResize),$window.off("windowscroll.debounce.affix-and-scroll",this.onScroll),this.$auxContent.off("scroll",this.debouncedInnerScroll),this.$column=null,this.$affixUnder=null,this.$affixTo=null,this.$auxContent=null,this.$columnSiblings=null,this.$affixedStyle.remove(),this.$affixedStyle=null},window.abcn_ui.Behaviors.affix_and_scroll=function($container){if(!$("body").hasClass("tablet")){if(!$container)return AffixAndScrollColumn;var $column=$container,$affixTo=null,$affixUnder=null,espnEventHandles=[];$column.addClass("affix_and_scroll");var affixToSelector=$column.data("affix-to");$affixTo=affixToSelector?$(affixToSelector):[],1!==$affixTo.length&&($affixTo=$($column.siblings(':not([data-behavior="affix_and_scroll_column"])').first()));var affixUnderSelector=$column.data("affix-under");$affixUnder=affixUnderSelector?$(affixUnderSelector):[],1!==$affixUnder.length&&($affixUnder=$($column.siblings(':not([data-behavior="affix_and_scroll_column"])').first()));var behaviorInstance=(new AffixAndScrollColumn).init({$column:$column,$affixUnder:$affixUnder,$affixTo:$affixTo}),deferredResize=function(){setTimeout(function(){behaviorInstance&&behaviorInstance.onResize()},101)};espnEventHandles.push($.subscribe("espn.header.collapsed",deferredResize)),espnEventHandles.push($.subscribe("espn.header.open",deferredResize)),
espnEventHandles.push($.subscribe("ad.rendered",function(){behaviorInstance&&behaviorInstance.onResize()}));var destroyBehavior=function(){$(window).off("page.load.affix_and_scroll",destroyBehavior),espnEventHandles.forEach(function(espnEventHandle){$.unsubscribe(espnEventHandle)}),behaviorInstance.destroy(),behaviorInstance=null,deferredResize=null,destroyBehavior=null};$(window).on("page.load.affix_and_scroll",destroyBehavior)}}}(window.jQuery),function($){if(!$("body").hasClass("abcn-desktop")){var b_col=$(".layout-abc .col-b .container"),c_col=$(".layout-abc .col-c .container"),store_loc=window.isAndroid?"https://play.google.com/store/apps/details?id=com.abc.abcnews":"https://itunes.apple.com/us/app/abc-news/id300255638?mt=8",promo_markup='<article class="app-promo"><img src="http://a.abcnews.com/assets/beta/assets/abcn_images/abcn_app_phone.png" class="app-promo-image" /><div class="app-promo-message">Personalize your <strong>Politics</strong> alerts. You choose which <strong>election</strong> stories matter to you. <a href="'+store_loc+'" class="app-promo-btn" target="_blank">Download the app</a></div></article>';if(window.isAndroid||window.isiPad||window.isiPhone)if(c_col.is(":visible")){c_col.addClass("active"),c_col.prepend(promo_markup);var rectangle_ad=c_col.find(".rectangle-ad");rectangle_ad.is(":visible")&&c_col.find(".app-promo").addClass("rectangle")}else b_col.addClass("active"),b_col.append(promo_markup)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.appboy_init=function(container){abcn_ui.Helpers.appboy_load.init()}}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.author_overlay=function(container){function build_overlay(){$("body").hasClass("author-clicked")||(container.on("click.author_overlay",delegate,function(event){event.stopPropagation(),event.preventDefault();var item=$(this),target=$(event.target);target.hasClass("close")?target.parent().parent().removeClass("active"):target.hasClass("icon-close")?target.parent().parent().parent().removeClass("active"):target.parent().toggleClass("active").siblings().removeClass("active"),$("body").hasClass("mobile")&&createMobileClass(item)}),$("body").on("click.author_overlay",function(event){container.find(".authors .active").removeClass("active")}),$("body").addClass("author-clicked"))}function destroy_overlay(){container.off("click.author_overlay",delegate),$("body").off("click.author_overlay")}function createMobileClass(item){var position=item.parent().position(),index=item.parent().index(),itemClass="author"+index;item.parent().hasClass(itemClass)||($("head").append("<style>.article li."+itemClass+" .author-overlay:before, .article li."+itemClass+" .author-overlay:after { left:"+position.left+"px; }</style>"),item.parent().addClass(itemClass))}var delegate=".author, .author-img, .close, .icon-close";abcn_ui.Helpers.build_or_destroy({notouch:!0},build_overlay,destroy_overlay)}}(window.jQuery),function($){$(".to-top a").click(function(){return $("body,html").animate({scrollTop:0},500),!1})}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.carousel_band=function(container){function buildCarousel(){container.hasClass("slick-initialized")||container.slick({infinite:!1,slidesToShow:3,slidesToScroll:1,lazyLoad:"ondemand",arrows:!0,speed:180,variableWidth:!0,responsive:[{breakpoint:768,settings:{centerMode:!0,slidesToShow:1,centerPadding:"0",arrows:!1,dots:!0,variableWidth:!1}}]}),$("body").hasClass("abcn-mobile")||$(container).slick("slickAdd",'<article class="originals vertical" style="width:10px !important;"><figure class="feed-item-figure"></figure></article>'),$(window).on("resize orientationchange",slickSetPosition),setButtonHeight()}function slickSetPosition(){container.slick("setPosition"),setButtonHeight()}function setButtonHeight(){var el=$(container),slickContainer=el.find(".slick-track"),slickH2=el.prev(),buttonEl=el.find(".slick-arrow"),buttonHeight=slickContainer.height(),slickH2Height=slickH2.outerHeight();buttonEl.css({height:buttonHeight,top:slickH2Height})}function destroyCarousel(){container.slick("unslick"),$(window).off("resize orientationchange",slickSetPosition)}abcn_ui.Helpers.build_or_destroy({},buildCarousel,destroyCarousel)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.data_track=function(container){$("a:not([target])").each(function(){if(void 0!==$(this).attr("data-analytics")){var _href=$(this).attr("href"),_whichtouse=-1===$(this).attr("href").indexOf("?")?"?":"&",_resulturl=_href+_whichtouse+$(this).attr("data-analytics");$(this).on("click",function(){return window.location=_resulturl,!1})}})}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.desktop_story_news_feed=function(container){function resize_fixed_column(){var width=container.width();container.children(":first").width(width),$(".container-wrapper>.container",container).css("width",width)}function buildSticky(){$("#news-feed-content .container-wrapper").on("windowscroll.throttle",function(){$(window).trigger("scroll")});var offset=container.parent().offset().top;$(window).on("windowresize.debounce.desktop_story_news_feed",function(){container.css({height:$(window).height()-offset+10})}),container.css({height:$(window).height()-offset+10}),$stickyheader=$("#main-container .sticky-header"),$(window).on("windowscroll.throttle.desktop_story_news_feed",function(){setClasses(),doneAjax===!1&&checkAndScrollNewsFeed()}),$(".container-wrapper",container).on("mousewheel.desktop_story_news_feed DOMMouseScroll.desktop_story_news_feed",function(event){var scrollTo=null;"mousewheel"===event.type?scrollTo=-1*event.originalEvent.wheelDelta:"DOMMouseScroll"===event.type&&(scrollTo=40*event.originalEvent.detail),scrollTo&&$(this).parents("#news-feed").hasClass("js-fixed")&&(event.preventDefault(),$(this).scrollTop(scrollTo+$(this).scrollTop()),doneAjax===!1&&checkAndScrollNewsFeed())}),container.on({mouseenter:function(){container.find(".container").addClass("hover")},mouseleave:function(){container.find(".container").removeClass("hover")}})}function checkAndScrollNewsFeed(){if(everScrollActive){var element_height,element_relative_position,news_feed_scroll_position,news_feed_height,$element=$("#news-feed .news-feed-item:last"),$news_feed=$("#news-feed .container-wrapper");$element[0]&&$news_feed[0]&&$news_feed.parents("#news-feed").hasClass("js-fixed")&&(element_relative_position=$element.position().top,element_height=$element.height(),news_feed_scroll_position=$news_feed.scrollTop(),news_feed_height=$news_feed.height(),Math.round(element_relative_position+element_height)<=1.25*news_feed_height&&(doneAjax=!0))}}function setClasses(){var offset=container.parent().offset().top-$("#header-wrapper").height();$(window).scrollTop()>=offset?(container.addClass("js-fixed"),setTop(),abcn_ui.ie8!==!0&&resize_fixed_column()):(container.removeClass("js-fixed"),abcn_ui.ie8!==!0&&($(container[0].firstElementChild).removeAttr("style"),$(".container-wrapper>.container",container).removeAttr("style")))}function destroySticky(){$(window).off("windowscroll.throttle.desktop_story_news_feed windowresize.debounce.desktop_story_news_feed"),$(document).off("media_query_updated.desktop_story_news_feed"),$(".container",container).off("mousewheel.desktop_story_news_feed DOMMouseScroll.desktop_story_news_feed"),$(window).off("page.load.desktop_story_news_feed"),container.removeAttr("style")}espn.hasOwnProperty("feed_offset")||(espn.feed_offset=0);var $stickyheader=$(),doneAjax=!1,everScrollActive=!0;$(window).on("page.load.desktop_story_news_feed",function(){destroySticky(),everScrollActive=!0}),abcn_ui.ie8!==!0&&$(window).on("windowresize.debounce",function(){container.hasClass("js-fixed")&&resize_fixed_column()});var setTop=function(){var top=$("#header-wrapper").height();if(container.hasClass("js-fixed")){window.scrollY||document.documentElement.scrollTo||window.pageYOffset;top<(window.scrollY||document.documentElement.scrollTo||window.pageYOffset)&&$("#news-feed-content").css("top",top+"px")}};abcn_ui.Helpers.build_or_destroy(null,buildSticky,destroySticky)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.expandable_description=function(container){function expanderLinkBehavior(){$(container).find(".desc").each(function(i){var $item=$(this);if(!$item.hasClass("expanded")){var $itemH=$item.outerHeight(),$spanH=$item.find(">span").height(),show_more=$spanH>$itemH?!0:!1;show_more&&0===$item.parent().find(".read-more-link").length&&$item.after('<a href="#" class="read-more-link" data-social="true">Read More...</a>')}})}function buildExpanderListeners(){$(container).on("click",".read-more-link",function(e){return $(this).prev().hasClass("expanded")?($(this).prev().removeClass("expanded").attr("style",""),$(this).attr("style",""),$(this).text("Read More...")):($(this).css("position","static"),$(this).text("Read Less..."),$(this).prev().addClass("expanded").attr("style","height:auto")),$(document).trigger("abcn.repositionPlayer",[]),!1}),$(window).on("resize orientationchange",$.debounce(300,function(){expanderLinkBehavior()})),expanderLinkBehavior()}function destroyExpanderListeners(){$(container).off("click",".read-more-link"),$(window).off("resize orientationchange",expanderLinkBehavior)}abcn_ui.Helpers.build_or_destroy({},buildExpanderListeners,destroyExpanderListeners)}}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.global_header=function(){function buildHeader(){function getHeight(){globalHeaderHeight=$globalHeaderWrapper.outerHeight()}function collapseNav(){$viewPort.addClass("scrolled"),pageScrolled=!0,$html.hasClass("desktop")&&$viewPort.addClass("global-nav-collapse")}function openNav(){$viewPort.removeClass("scrolled"),pageScrolled=!1,$html.hasClass("desktop")&&$viewPort.removeClass("global-nav-collapse")}function scrolling(scrollPosition){if("mobile"!==abcn_ui.media_query_in_use&&"tablet"!==abcn_ui.media_query_in_use){if($body.hasClass("scroll-locked")||Math.abs(prevScrollPosition-scrollPosition)<=delta)return;if(0>=scrollPosition&&pageScrolled===!0)return prevScrollPosition=scrollPosition,openNav(),void $.event.trigger({type:"abcn.scroll.up"});scrollPosition>50&&scrollPosition>prevScrollPosition?pageScrolled===!1&&(collapseNav(),$.event.trigger({type:"abcn.scroll.down"})):prevScrollPosition>scrollPosition&&pageScrolled===!0&&(openNav(),$.event.trigger({type:"abcn.scroll.up"})),prevScrollPosition=scrollPosition}else pageScrolled&&openNav()}var $html=$("html"),$body=$("body"),$viewPort=$("#global-viewport"),$globalHeaderWrapper=$("#header-wrapper"),$globalHeader=$("#global-header"),prevScrollPosition=($globalHeader.find("h1:first"),""),globalHeaderHeight="",delta=200;pageScrolled=!1,showSecondaryNav=!1,getHeight(),window.Modernizr.touch&&$(document).on("focus","input",function(){$body.addClass("ios-position-fix")}).on("blur","input",function(){$body.removeClass("ios-position-fix")}),$(window).on(scrollNamespace,function(event){scrolling(event.scrollTop)})}function destroyHeader(){}var pageScrolled=!1,showSecondaryNav=!1,scrollNamespace="windowdrag.debounce.globalheader windowscroll.throttle.globalheader";$(window).off(scrollNamespace),$(document).on("page.render",function(){$(".user").removeClass("hover"),$("body").removeClass("scroll-locked"),$("#global-viewport").removeClass("scrolled global-nav-collapse"),pageScrolled=!1,showSecondaryNav=!1}),$(document).on("media_query_updated",$.debounce(750,function(){$("body").hasClass("inactive")||$("body").removeClass("scroll-locked"),$("#global-viewport").removeClass("scrolled global-nav-collapse"),pageScrolled=!1,showSecondaryNav=!1})),abcn_ui.dep_mobile===!1&&abcn_ui.Helpers.build_or_destroy({desktop:!0,tablet:!0,mobile:!0},buildHeader,destroyHeader)}}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.global_nav_condensed=function(){function clearScroll(type){if(!abcn_ui.dep_mobile&&!viewPort.hasClass("dep-mobile"))switch(type){case"false":$("body").removeClass("scroll-locked"),_lastVerticalScrollPosition>0&&window.scrollTo(0,_lastVerticalScrollPosition);break;default:_lastVerticalScrollPosition=-1*viewPort[0].getBoundingClientRect().top,$("body").addClass("scroll-locked")}}function closeNav(){(viewPort.hasClass("js-scoreboard")||viewPort.hasClass("js-global-nav-mobile")||viewPort.hasClass("js-global-user"))&&(clearScroll("false"),$menuOverlayPrimary.removeClass("active"),$menuOverlaySecondary.removeClass("active"),$globalScoreboardTrigger.text("scores"),viewPort.removeClass("js-scoreboard js-global-nav-mobile js-global-user"),setTimeout(function(){viewPort.removeClass("js-from-scoreboard js-from-global-nav-mobile")},1e3*transitionDuration))}function addUserNav(){var $user=$("#global-user-trigger");$user.length>0&&-1===$.inArray($user[0],paneTriggers)&&paneTriggers.push($user[0])}function toggleDropdownHandler(){var $html=$("html"),$dropdownLeague=$(".current-league-name"),$dropdownDate=$(".selected-date");$html.hasClass("tablet")?($dropdownLeague.on("click mouseenter",function(){closeNav()}),$dropdownDate.on("click mouseenter",function(){closeNav()})):($dropdownLeague.off("click mouseenter"),$dropdownDate.off("click mouseenter"))}function setupMenuHeight(){var $headerHeight=$("#header-wrapper").height(),windowHeight=$(window).height()-$headerHeight,$clickElement=$("#global-nav-secondary li.has-sub");$clickElement.hasClass("show")?$("li.has-sub > div").css("height",windowHeight):$("li.has-sub > div").css("height","")}function buildMobileNav(){function storeMenuPosition(){$("body").hasClass("scroll-locked")?$("body, html").animate({scrollTop:windowTop},1):windowTop=$(window).scrollTop()}var $user=$("#global-user-trigger");$user.length>0&&-1===$.inArray($user[0],paneTriggers)?paneTriggers.push($user[0]):userBuildSub=$.subscribe("userBuilt",function(){addUserNav(),reInit()}),toggleDropdownHandler(),$("#global-nav-secondary").on("click.global_nav_secondary","li:not(.has-sub)",function(){$("body").removeClass("scroll-locked"),$(".first-group").removeClass("more-active"),$("li.has-sub").removeClass("show"),$(".menu-overlay-primary").removeClass("active"),$("#global-viewport").removeClass("js-more")}),$("#global-nav-secondary").on("click.global_nav_secondary","li.has-sub",function(event){storeMenuPosition(),$("body").toggleClass("scroll-locked"),$(".first-group").toggleClass("more-active"),$(event.currentTarget).toggleClass("show"),$(".menu-overlay-primary").toggleClass("active"),$("#global-viewport").toggleClass("js-more"),setupMenuHeight()}),paneTriggers.on("click.global_nav_mobile",function(event){event.preventDefault();var itemId=$(this).attr("id");switch(itemId){case"global-nav-mobile-trigger":viewPort.hasClass("js-global-nav-mobile")?(viewPort.removeClass("js-global-nav-mobile"),$menuOverlayPrimary.removeClass("active"),$menuOverlaySecondary.removeClass("active"),$headerWrapper.removeClass("active-menu"),clearScroll("false")):(viewPort.removeClass("js-scoreboard js-global-user js-more"),$globalScoreboardTrigger.text("scores"),$("#global-header .tools .hover").removeClass("hover"),$menuOverlayPrimary.addClass("active"),$menuOverlaySecondary.addClass("active"),viewPort.addClass("js-global-nav-mobile"),$(".first-group").removeClass("more-active"),$("#global-nav-secondary li.has-sub").removeClass("show"),$headerWrapper.addClass("active-menu"),clearScroll());break;case"global-scoreboard-trigger":viewPort.hasClass("js-scoreboard")?(viewPort.removeClass("js-scoreboard"),$menuOverlayPrimary.removeClass("active"),$menuOverlaySecondary.removeClass("active"),$globalScoreboardTrigger.text("scores"),$headerWrapper.removeClass("active-menu"),clearScroll("false")):(viewPort.removeClass("js-global-nav-mobile js-global-user js-more"),$("#global-header .tools .hover").removeClass("hover"),viewPort.addClass("js-scoreboard"),$(".first-group").removeClass("more-active"),$("#global-nav-secondary li.has-sub").removeClass("show"),$menuOverlayPrimary.addClass("active"),$menuOverlaySecondary.addClass("active"),$globalScoreboardTrigger.text(abcn_ui.Helpers.translate.t("close")),$headerWrapper.addClass("active-menu"),clearScroll());break;case"global-user-trigger":viewPort.hasClass("js-global-user")?(viewPort.removeClass("js-global-user"),$menuOverlayPrimary.removeClass("active"),$menuOverlaySecondary.removeClass("active"),$headerWrapper.removeClass("active-menu"),clearScroll("false")):(viewPort.removeClass("js-global-nav-mobile js-scoreboard js-more"),$globalScoreboardTrigger.text("scores"),viewPort.addClass("js-global-user"),$(".first-group").removeClass("more-active"),$menuOverlayPrimary.addClass("active"),$menuOverlaySecondary.addClass("active"),$("#global-nav-secondary li.has-sub").removeClass("show"),$headerWrapper.addClass("active-menu"),clearScroll()),$(this).parent().hasClass("hover")?$(this).parent().removeClass("hover"):$(this).parent().addClass("hover");break;default:$menuOverlayPrimary.removeClass("active"),$menuOverlaySecondary.removeClass("active"),viewPort.removeClass("js-global-nav-mobile js-scoreboard js-global-user js-more")}}),$("#global-nav-mobile .tier-1>li>a").on("click.global_nav_mobile",function(event){event.preventDefault(),$(this).parent().parent().find(".active").removeClass("active"),$(this).parent().addClass("active")}),$(document).on("update_global_nav.global_nav_mobile",function(){reInit()}),$(document).on("close_mobile_nav.global_nav_mobile",function(){closeNav()}),$(".abcn-phone #global-interest-trigger, .abcn-mobile #global-interest-trigger").on("click touch",function(e){e.preventDefault(),notificationHeightAdjust()}),$(".abcn-desktop #global-interest-trigger").on("click touch",function(e){$(window).width()<767?(e.preventDefault(),notificationHeightAdjust()):document.querySelector(".abcn-interest-notifications").setAttribute("style","")})}function notificationHeightAdjust(){document.querySelector(".notification-badge").classList.remove("interestbadge-active","breakingnews-active");var notification_center=document.querySelector(".abcn-interest-notifications");notification_center.classList.toggle("mobile-flag"),document.querySelector("#global-interest-trigger").classList.toggle("mobile-flag"),notification_center.classList.contains("mobile-flag")?(clearScroll(),document.querySelector(".abcn-interest-notifications").style.maxHeight="initial",document.querySelector(".abcn-interest-notifications").style.height=$(window).height()-54+"px",document.querySelector(".abcn-interest-notifications > .notification-body > .notification-sections").style.maxHeight=$(window).height()-54-100+"px",document.querySelector(".abcn-interest-notifications > .notification-body > .notification-settings").style.height=$(window).height()-54+"px",$("#abcn-videoplayer.mobile.docked").length&&(document.querySelector("#abcn-videoplayer.mobile.docked").style.display="none")):(clearScroll("false"),document.querySelector(".abcn-interest-notifications").style.maxHeight=0,document.querySelector(".abcn-interest-notifications").style.height=0,$("#abcn-videoplayer.mobile.docked").length&&(document.querySelector("#abcn-videoplayer.mobile.docked").style.display="block"))}function destroyMobileNav(){paneTriggers.off("click.global_nav_mobile"),$(document).off("update_global_nav.global_nav_mobile"),$(document).off("close_mobile_nav.global_nav_mobile"),$("#global-nav-secondary").off("click.global_nav_secondary"),"undefined"!=typeof userBuildSub&&$.unsubscribe(userBuildSub)}function reInit(){("mobile"===abcn_ui.media_query_in_use||"tablet"===abcn_ui.media_query_in_use)&&(destroyMobileNav(),buildMobileNav())}var userBuildSub,_lastVerticalScrollPosition,windowTop,viewPort=$("#global-viewport"),$menuOverlayPrimary=$(".menu-overlay-primary"),$menuOverlaySecondary=$(".menu-overlay-secondary"),paneTriggers=$("#global-nav-mobile-trigger, #global-scoreboard-trigger, #global-nav-mobile .tier-2 a"),$globalScoreboardTrigger=$("#global-scoreboard-trigger"),transitionDuration=.25,$headerWrapper=$("#header-wrapper"),device=abcn_ui.Helpers.get_media_query_in_use();if($(document).on("page.render",function(){$headerWrapper.removeClass("active-menu")}),$(document).on("link.ajax",function(){$("#global-nav>ul>li").removeClass("inactive"),$menuOverlayPrimary.removeClass("active"),$menuOverlaySecondary.removeClass("active"),$.event.trigger({type:"close_mobile_nav"})}),$(document).on("media_query_updated",$.debounce(750,function(){closeNav(),$menuOverlayPrimary.removeClass("active"),$menuOverlaySecondary.removeClass("active"),toggleDropdownHandler()})),"desktop"!==device){var event,w=window,orientEvent="resize";w.addEventListener&&(event=document.createEvent("Event"),event.initEvent(orientEvent,!0,!0),w.addEventListener(orientEvent,setupMenuHeight,!1),w.dispatchEvent(event))}abcn_ui.Helpers.build_or_destroy({desktop:!1},buildMobileNav,destroyMobileNav,!0)}}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.global_nav_full=function(container){function buildDesktopNav(){function navAddHoverClass(event){var $currentTarget=$(event.currentTarget),$parent_nav=$currentTarget.parent();$parent_nav.parent().is("#global-nav")&&($parent_nav=$.merge($("#global-header .container .tools"),$parent_nav)),$parent_nav.hasClass("tools")&&($parent_nav=$.merge($("#global-nav>ul"),$parent_nav)),$currentTarget.hasClass("inbox")&&$.publish("triggerInbox",[!0]),$parent_nav.addClass("focused"),$(".hover",$parent_nav).removeClass("hover"),$currentTarget.addClass("hover"),$(".active",$parent_nav).not(".search, .interest").removeClass("active").addClass("inactive"),touchNavOpen=!0,checkWhichTool($currentTarget[0])}function navRemoveHoverClass(event){$(event.currentTarget).removeClass("hover"),$("#global-header .focused").removeClass("focused"),$(event.currentTarget).hasClass("inbox")&&$.publish("triggerInbox",[!1]),navSetActive&&$("#global-header .inactive").removeClass("inactive").not(".search").addClass("active"),touchNavOpen=!1}function checkForOffScreen(el){if(el.hasClass("search"))return!1;var thisOffset=abcn_ui.ie8?el.position().left:el.offset().left,navOffset=abcn_ui.ie8?$("#global-nav").position().left:$("#global-nav").offset().left,windowWidth=abcn_ui.ie8?$("#global-viewport").width():$(window).width(),$dd=$("div",el).first(),dropdownWidth=$dd.width();thisOffset>windowWidth-dropdownWidth||el.parent().hasClass("tools")||el.hasClass("more-abcn")||el.hasClass("live")?$dd.css("global-nav-secondary"===el.closest("nav").attr("id")?{left:windowWidth-(thisOffset+dropdownWidth),"float":"left",right:"auto"}:{left:"auto","float":"left",right:"0"}):("global-nav-secondary"===el.closest("nav").attr("id")&&(navOffset=thisOffset),$dd.css({left:thisOffset-navOffset-10,"float":"left",right:"auto"}))}function containsNotificationClass(event){var node=event.target;return node===document.querySelector(".abcn-interest-notifications")?!1:document.querySelector(".abcn-interest-notifications").contains(node)}$("body").hasClass("inactive")||$("body").removeClass("scroll-locked"),$viewPort.removeClass("js-global-user");var navSetActive=!0,touchNavOpen=!1;$hoversTaps=$("#global-nav>ul>li, .global-nav-container>ul>li, #global-header .container .tools>li");var isTouchscreen=function(){return window.Modernizr.touch?!0:"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0?!0:!0}();isTouchscreen?("tablet"===abcn_ui.Helpers.get_media_query_in_use()&&($viewPort.addClass("js-tablet-nav").removeClass("js-scoreboard"),$toolsLi=$("#global-header .container .tools>li"),$toolsLi.on("click.global_nav_tablet",function(event){$(".search-results").find($(event.target)).length>0||(event.preventDefault(),$(this).hasClass("active")?($(this).removeClass("active"),$("body").removeClass("scroll-locked")):($(this).hasClass("search")?$.event.trigger({type:"show_search"}):$("body").addClass("scroll-locked"),$toolsLi.removeClass("active"),$(this).addClass("active")))}),$("input",$toolsLi).on("click",function(event){event.stopPropagation()})),$hoversTaps.on("click.global_nav_desktop",function(event){null!=abcn_ui.Helpers.ufirst_alerts.whichDevice()&&"android"===abcn_ui.Helpers.ufirst_alerts.whichDevice().toString().toLowerCase()&&$("body").hasClass("scroll-locked")&&$("body").removeClass("scroll-locked");var mq=abcn_ui.Helpers.get_media_query_in_use();if($(this).hasClass("interest")&&"tablet"===mq)$(this).hasClass("hover")&&!$(this).hasClass("interest")&&!containsNotificationClass(event)||!containsNotificationClass(event)&&$(this).hasClass("interest hover")?$(this).removeClass("hover active"):$(".interest").addClass("hover active");else{var $this=$(this),$link=$this.children("a:first"),_event=event,$li=$(event.target).parents("li:first"),mq=abcn_ui.Helpers.get_media_query_in_use(),isPrimary=!1;$("#global-nav > ul > li").each(function(p,el){$li.length>0&&el===$li[0]&&(isPrimary=!0)});var doHover=!0;$(this).parents("#global-nav-secondary").length>0&&("tablet"===mq||"mobile"===mq)&&abcn_ui.Helpers.nav.isExternal!==!0&&(doHover=!1),$this.hasClass("search")?$.event.trigger({type:"show_search"}):!doHover||$this.hasClass("hover")||$link.attr("data-tab")||$(event.target).parents("li:first").hasClass("sub")&&!$(event.target).parents("li:first").hasClass("has-sub")?$this.hasClass("hover")&&isPrimary?(event.preventDefault(),event.stopPropagation(),navRemoveHoverClass(_event)):!$this.is(".interest, .hover")&&containsNotificationClass(event)||$this.is(".user-active")&&!$this.hasClass("hover")?$this.is(".user-active")&&!$this.hasClass("hover")?($(".chevron-toggle").hide(),navAddHoverClass(event)):navRemoveHoverClass(_event):($this.is(".interest, .hover")&&!containsNotificationClass(event)||$this.is(".user-active")&&$this.hasClass("hover"))&&(event.preventDefault(),$(".chevron-toggle").show(),navRemoveHoverClass($this.is(".user-active")?event:_event)):(event.preventDefault(),event.stopPropagation(),checkForOffScreen($this),navAddHoverClass(event),$("body").on("click.global_nav_desktop_hover",function(event){var $this=$(event.target);0===$this.parents("#global-nav").length&&0===$this.parents("#global-nav-secondary").length&&0===$this.parents("#global-header .tools").length&&(event.preventDefault(),event.stopPropagation(),navRemoveHoverClass(_event),$("body").off("click.global_nav_desktop_hover"))}))}}),$("body").on("click",function(evt){var mq=abcn_ui.Helpers.get_media_query_in_use();if("tablet"===mq||mq.indexOf("desktop")>-1){var target=$(evt.target);target.parents("div.abcn-interest-notifications").length||target.hasClass("icon-notifications")||($(".interest").removeClass("hover active"),$("#breaking-alerts").hasClass("breaking_news")&&!$(evt.target).is(".icon-login")&&$(".chevron-toggle").show()),target.parents(".global-user").length||target.hasClass("icon-login")||target.hasClass("icon-user")||target.hasClass("profile-logged-in")||($(".user-active").removeClass("hover"),$("#breaking-alerts").hasClass("breaking_news")&&!$(evt.target).is(".icon-login")&&$(".chevron-toggle").show()),target.closest(".global-user").length&&($(".user-active").addClass("hover"),$("#breaking-alerts").hasClass("breaking_news")&&$(".chevron-toggle").hide())}}),$(".interest").on("click",function(){$(this).hasClass("hover")?$(".chevron-toggle").hide():$(".chevron-toggle").show()}),$("#global-header .container .tools>li.search>a").on("click.global_nav_desktop",function(event){var $li=$(this).parent();$li.hasClass("active")&&(event.preventDefault(),event.stopPropagation(),event.stopImmediatePropagation(),$li.removeClass("active hover"))})):(container.on("mouseenter.global_nav_desktop","#global-nav>ul>li, .global-nav-container>ul>li, #global-header .container .tools>li",function(event){if(hoverable){var doHover=!0,mq=abcn_ui.Helpers.get_media_query_in_use();$(this).parents("#global-nav-secondary").length>0&&("tablet"===mq||"mobile"===mq)&&abcn_ui.Helpers.nav.isExternal!==!0&&(doHover=!1),doHover&&(checkForOffScreen($(this)),navSetActive=!1,navAddHoverClass(event))}}),container.on("mouseleave.global_nav_desktop","#global-nav>ul>li, .global-nav-container>ul>li, #global-header .container .tools>li",function(event){var doHover=!0,mq=abcn_ui.Helpers.get_media_query_in_use();if($(this).parents("#global-nav-secondary").length>0&&("tablet"===mq||"mobile"===mq)&&abcn_ui.Helpers.nav.isExternal!==!0&&(doHover=!1),doHover){$(this).is(".search.active")||(navSetActive=!0,navRemoveHoverClass(event));var $dd=$("div",$(this)).first();$dd.removeAttr("style"),hoverable=!0}}),container.on("click.global_nav_desktop","#global-nav>ul>li, .global-nav-container>ul>li, #global-header .container .tools>li",function(event){if(!($(".search-results").find($(event.target)).length>0))if($(this).hasClass("search"))event.preventDefault(),$.event.trigger({type:"show_search"}),navRemoveHoverClass(event);else if($(this).hasClass("user"))$(this).addClass("hover").removeClass("active"),$("#global-nav ul, ul.tools").addClass("focused");else if($(this).hasClass("more")||$(this).hasClass("more-abcn"))$(this).addClass("hover").removeClass("active").parent().addClass("focused"),$("ul.tools").addClass("focused");else{var link=$(this).children("a:first");$(this).parents("#global-nav-secondary").length>0&&$("#global-nav-secondary .inactive").removeClass("inactive"),abcn_ui.Helpers.links.shouldAjax(link)&&(navRemoveHoverClass(event),hoverable=!1)}}),$("a","#global-header").on("click.global_nav_desktop",function(event){var href=event.currentTarget.href;!href||"#"!==href&&href!==window.location.href+"#"||event.preventDefault()}),$("#global-header .container .tools>li.search>a").on("click.global_nav_desktop",function(event){var $li=$(this).parent();$li.hasClass("active")&&(event.preventDefault(),event.stopPropagation(),event.stopImmediatePropagation(),$li.removeClass("active hover"),$.publish("nav.search.close"))})),$(window).on("update_global_nav.global_nav_desktop",function(){reInit()}).on("search_active.global_nav_desktop",function(){$("#global-header .hover").not(".search").removeClass("hover")})}function destroyDesktopNav(){$(window).off("update_global_nav.global_nav_desktop search_active.global_nav_desktop"),$("#global-header>.container>h1, #global-header").off("mouseenter.global_nav_desktop mouseleave.global_nav_desktop"),$("body").off("click.close_dropdown_nav"),$("#global-nav").off("click.click.global_nav_desktop.bug"),$("#global-header .container .tools>li.search>a").off("click.global_nav_desktop"),void 0!==$hoversTaps&&$hoversTaps.length>0&&($hoversTaps.children("a").off(".global_nav_desktop"),$hoversTaps.off(".global_nav_desktop"),$hoversTaps=$()),"tablet"===abcn_ui.Helpers.get_media_query_in_use()&&($viewPort.removeClass("js-tablet-nav"),"undefined"!=typeof $toolsLi&&$toolsLi.length>0&&$toolsLi.off("click.global_nav_tablet"))}function checkWhichTool(target){switch(target.classList[0]){case"alert":var alert_popover=document.querySelector(".alert-dropdown");alert_popover.style.display="block"}}function reInit(){destroyDesktopNav(),buildDesktopNav()}var $toolsLi,$viewPort=container,$hoversTaps=$(),hoverable=!0;abcn_ui.Helpers.build_or_destroy({mobile:!1},buildDesktopNav,destroyDesktopNav)}}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.go_to=function(){if(window.location.hash){var hash_id=window.location.hash.substr(1),el=$("#"+hash_id);el.length&&setTimeout(function(){var offset=el.offset().top-55;$("#alerts").length&&(offset-=55),$("html, body").animate({scrollTop:offset+"px"},"medium")},2e3)}}}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.hot_races=function(){$(".th-tabs .th-tab-toggle").click(function(e){if(!$(this).hasClass("active")){var tabNum=$(this).index(),nthChild=tabNum+1;$(".th-tab-toggle.active").removeClass("active"),$(this).addClass("active"),$(".th-tab-data.active").removeClass("active"),$(".th-tab-data:nth-child("+nthChild+")").addClass("active")}}),$.ajax({type:"GET",url:"http://"+window.location.host+"/beta/json/electionheadlines",success:function(data){var initData=JSON.stringify(data.markup);localStorage.getItem("abcn_elecstories")&&localStorage.setItem("abcn_elecstories",""),localStorage.setItem("abcn_elecstories",initData),
$(document).on("pollingtakeover",function(e){setTimeout(function(){$.ajax({type:"GET",url:"http://"+window.location.host+"/beta/json/electionheadlines",success:function(data2){var pollData=JSON.stringify(data2.markup);pollData!==initData&&($("#ts_election").empty(),$("#ts_election").html(data2.markup),localStorage.setItem("abcn_elecstories",""),localStorage.setItem("abcn_elecstories",pollData))}})},1500)})}})}}(jQuery),function($){abcn_ui.Behaviors.hp_player=function(){var $videoContainer=$("#abcn-videoplayer"),playerversion=$("#abcn-videoplayer").attr("data-playerversion"),clipid=$($("figure.video")[0]).attr("data-video");if(abcn_ui.device.isMobile||abcn_ui.device.isTablet){var useAMP=abcn_ui.Helpers.video.useAkamaiPlayer();if(useAMP){var directiveMarkup='<abcn-videoplayer playerid="videoPlayer" playerversion="'+playerversion+'" clipid="'+clipid+'" autostart="false" playbackmode="html" controls="custom" controlElements="play|volume|timefields|social|setting|autostart|fullscreen"></abcn-videoplayer>',playerMarkup='<div class="player_container abcn-amp-skin" ng-controller="hpHTML5PlayerController">';playerMarkup+=directiveMarkup,playerMarkup+='<div class="player_overlay_icon"><span class="icon-play-plain"></span></div>',playerMarkup+='<div id="exitfullscreen" class="buttons">Close <span class="icon-close"></span></div>',playerMarkup+="</div>",$videoContainer.html(playerMarkup),angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"])}else{var playerMarkup='<div class="player_container" ng-controller="hpNonAMPController">';playerMarkup+='<div id="dock_controls"><div id="close" class="closer"><span class="icon-close"></span></div></div>',playerMarkup+='<div id="videoPlayer"><div class="thumb"></div><span class="icon-play-plain"></span></div>',playerMarkup+="</div>",$videoContainer.html(playerMarkup),angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"])}}else{var $videoContainer=$("#abcn-videoplayer"),directiveMarkup='<abcn-videoplayer playerid="videoPlayer" playerversion="'+playerversion+'" clipid="'+clipid+'" autostart="false" fullscreen="external" controls="custom" controlElements="play|volume|timefields|social|setting|autostart|fullscreen"></abcn-videoplayer>',playerMarkup='<div class="player_container abcn-amp-skin" ng-controller="hpPlayerController">';playerMarkup+=directiveMarkup,playerMarkup+='<div id="player_meta"></div>',playerMarkup+='<abcn-share-video embedcode="true"></abcn-share-video>',playerMarkup+='<div id="exitfullscreen" class="buttons">Close <span class="icon-close"></span></div>',playerMarkup+='<div class="btn-close"><span class="icon-close"></span></div>',playerMarkup+='<div class="player_loader"></div>',playerMarkup+="",playerMarkup+="</div>",$videoContainer.html(playerMarkup),angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"])}}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.index_carousel=function(container){function buildCarousel(){container.hasClass("slick-initialized")||container.slick({infinite:!1,centerMode:!0,slidesToShow:1,centerPadding:"38px",lazyLoad:"ondemand",speed:180,responsive:[{breakpoint:1024,settings:{centerMode:!0,slidesToShow:1,centerPadding:"18px",arrows:!1}}]}),$(window).on("resize orientationchange",slickSetPosition),setButtonHeight()}function slickSetPosition(){container.slick("setPosition"),setButtonHeight()}function setButtonHeight(){var el=$(container),fifEl=el.find(".feed-item-figure"),buttonEl=el.find(".slick-arrow");buttonEl.css("height",fifEl.height())}function destroyCarousel(){container.slick("unslick"),$(window).off("resize orientationchange",slickSetPosition)}abcn_ui.Helpers.build_or_destroy({},buildCarousel,destroyCarousel)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.index_carousel_rsidx=function(container){function initCarousel(){var id=$(container).data("id"),defaultSelector="article div[data-id="+id+"] div.inneractive-ad";if($(defaultSelector).length){var spotId=$(defaultSelector).data("spotid"),adSelector="article div[data-id="+id+"] div.inneractive-ad div.abcn-inneractive";iaTag.cmd.push(function(){iaTag.api().once("onAdLoaded",function(){},spotId),iaTag.api().once("onAdShown",function(){$(adSelector).delay(2500).show(0)},spotId),iaTag.api().once("onAdImpression",function(){},spotId),iaTag.api().once("onAdClicked",function(){},spotId),iaTag.api().once("onNoAd",function(){$(defaultSelector).remove()},spotId)}),buildCarousel()}else buildCarousel()}function buildCarousel(){container.hasClass("slick-initialized")||container.slick({infinite:!1,slidesToShow:5,slidesToScroll:1,lazyLoad:"ondemand",arrows:!0,speed:180,responsive:[{breakpoint:1280,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{infinite:!1,centerMode:!0,slidesToShow:1,centerPadding:"20px",arrows:!1}}]}),$(window).on("resize orientationchange",slickSetPosition)}function slickSetPosition(){container.slick("setPosition")}function destroyCarousel(){container.slick("unslick"),$(window).off("resize orientationchange",slickSetPosition)}abcn_ui.Helpers.build_or_destroy({},initCarousel,destroyCarousel)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.index_carousel_trio=function(container){function buildCarousel(){container.hasClass("slick-initialized")||container.slick({infinite:!1,slidesToShow:3,slidesToScroll:3,lazyLoad:"ondemand",speed:180,responsive:[{breakpoint:1024,settings:{centerMode:!0,slidesToShow:1,centerPadding:"18px",arrows:!1}},{breakpoint:1280,settings:{slidesToShow:2,slidesToScroll:2}}]}),$(window).on("resize orientationchange",slickSetPosition),setButtonHeight()}function slickSetPosition(){container.slick("setPosition"),setButtonHeight()}function setButtonHeight(){var el=$(container),fifEl=el.find(".feed-item-figure"),buttonEl=el.find(".slick-arrow");buttonEl.css("height",fifEl.height())}function destroyCarousel(){container.slick("unslick"),$(window).off("resize orientationchange",slickSetPosition)}abcn_ui.Helpers.build_or_destroy({},buildCarousel,destroyCarousel)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.index_newsletter=function(container){abcn_ui.Helpers.newsletter_signup(container)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui,$notesFeed=$(".col-b .container");abcn_ui.Behaviors.index_notes=function(){function noteMoreLinkBehavior(){var defaultSelector=".notes .update-data > p";$(defaultSelector).each(function(i){var $item=$(this);if(!$item.hasClass("expanded")){var $itemH=$item.outerHeight(),$spanH=$item.find(">span").height(),show_more=$spanH>$itemH?!0:!1;show_more&&0===$item.find(".notes-more-link").length&&$item.append('<a href="#" class="notes-more-link" data-social="true">more</a>')}})}function buildNoteListeners(){$notesFeed.on("click",".share-count",function(e){$(this).parents(".now-share").find(".share-actions").addClass("active")}),$notesFeed.on("click",".share-actions .btn-close",function(e){$(this).parents(".now-share").find(".share-actions").removeClass("active")}),$notesFeed.on("click",".notes-more-link",function(e){return $(this).parent().hasClass("expanded")?($(this).parent().removeClass("expanded").attr("style",""),$(this).attr("style",""),$(this).text("more")):($(this).css("position","static"),$(this).text("less"),$(this).parent().addClass("expanded").attr("style","height:auto")),!1}),$(window).on("resize orientationchange",function(){noteMoreLinkBehavior()}),noteMoreLinkBehavior()}function destroyNoteListeners(){$notesFeed.off("click",".share-count"),$notesFeed.off("click",".share-actions .btn-close"),$notesFeed.off("click",".notes-more-link"),$(window).off("resize orientationchange",noteMoreLinkBehavior)}abcn_ui.Helpers.build_or_destroy({},buildNoteListeners,destroyNoteListeners)}}(jQuery),function($){abcn_ui.Behaviors.index_player=function(){var $videoContainer=$("#abcn-videoplayer"),playerversion=$("#abcn-videoplayer").attr("data-playerversion"),clipid=$($("figure.video")[0]).attr("data-video");if(abcn_ui.device.isMobile||abcn_ui.device.isTablet){var useAMP=abcn_ui.Helpers.video.useAkamaiPlayer();if(useAMP){var directiveMarkup='<abcn-videoplayer playerid="videoPlayer" playerversion="'+playerversion+'" clipid="'+clipid+'" autostart="false" playbackmode="html" controls="custom" controlElements="play|volume|timefields|social|setting|autostart|fullscreen"></abcn-videoplayer>',playerMarkup='<div class="player_container abcn-amp-skin" ng-controller="indexHTML5PlayerController">';playerMarkup+=directiveMarkup,playerMarkup+='<div class="player_overlay_icon"><span class="icon-play-plain"></span></div>',playerMarkup+='<div id="exitfullscreen" class="buttons">Close <span class="icon-close"></span></div>',playerMarkup+="</div>",$videoContainer.html(playerMarkup),angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"])}else{var playerMarkup='<div class="player_container" ng-controller="indexNonAMPController">';playerMarkup+='<div id="dock_controls"><div id="close" class="closer"><span class="icon-close"></span></div></div>',playerMarkup+='<div id="videoPlayer"><div class="thumb"></div><span class="icon-play-plain"></span></div>',playerMarkup+="</div>",$videoContainer.html(playerMarkup),angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"])}}else{var mediatype=1==$("#mast-superhero").length?"akamai live stream":"default",$videoContainer=$("#abcn-videoplayer"),directiveMarkup='<abcn-videoplayer playerid="videoPlayer" playerversion="'+playerversion+'" clipid="'+clipid+'" mediatype= "'+mediatype+' "autostart="false" fullscreen="external" controls="custom" controlElements="play|volume|timefields|social|setting|autostart|fullscreen"></abcn-videoplayer>',playerMarkup='<div class="player_container abcn-amp-skin" ng-controller="indexPlayerController">';playerMarkup+=directiveMarkup,playerMarkup+='<div id="dock_meta"></div>',playerMarkup+='<abcn-share-video embedcode="true"></abcn-share-video>',playerMarkup+='<div id="exitfullscreen" class="buttons">Close <span class="icon-close"></span></div>',playerMarkup+='<div class="player_loader"></div>',playerMarkup+='<div class="livebug"><span>Live</span><div class="tri"></div></div>',playerMarkup+="</div>",$videoContainer.html(playerMarkup),angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"]),angular.bootstrap(document.getElementById("liveStreamsSidebar"),["abcnPlayer"])}}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.index_videolink_handler=function(){function init(){$(".rl-anchor").click(function(event){event.stopPropagation()})}init()}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.live_alerts=function(){abcn_ui.Helpers.live_alerts_render.liveListen()}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.livebar_handler=function(container){window.abcn_ui.Helpers.livebar.config.mq.indexOf("desktop")>-1&&$(container).on("click",function(e){if(!window.abcn_ui.Helpers.livebar.config.takeover_active&&$("#global-live-bar").length>0&&window.abcn_ui.Helpers.livebar.config.shouldInit){e.preventDefault(),e.stopPropagation();var lb_closed=null;$("#global-live-bar").hasClass("inactive")?(lb_closed="true",window.abcn_ui.Helpers.livebar.render()):(lb_closed="false",window.abcn_ui.Helpers.livebar.hide()),window.abcn_ui.Helpers.livebar.setDisplayPref(lb_closed)}})}}(window.jQuery),function($){abcn_ui.Behaviors.livetab=function(container){abcn_ui.Helpers.livebar.config.playerversion=$(container).data("playerversion"),abcn_ui.Helpers.livebar.init()}}(window.jQuery),function($){abcn_ui.Behaviors.livetakeover=function(container){function init(){if(abcn_ui.Helpers.video.stopRefreshTimer(),window.abcn_ui.Helpers.livebar.config.mq.indexOf("desktop")>-1||window.abcn_ui.Helpers.livebar.config.mq.indexOf("tablet")>-1){var hlsfeed="https:"==window.location.protocol?"/video/hlspreview?secure=true":"/video/hlspreview";$.get(hlsfeed).success(function(data){window.abcn_ui.Helpers.livebar.config.liveUrlMap=data}),$.get("/beta/json/livebar",function(data){mainvideo="undefined"!=typeof data.items?data.items[0]:data.data[0],renderLiveVideo(data)}),$(document).off("click",".livetakeover .video-thumbnails .item"),$(document).on("click",".livetakeover .video-thumbnails .item",function(event){var thumb_idx=($(this).data("videoid"),$(".video-thumbnails .item").index(this)+1);if($("#abcn-videoplayer").hasClass("offpage")||0==$("figure.livetakeovervideo").hasClass("active")){$("figure.video.active").removeClass("active"),$("figure.livetakeovervideo").addClass("active");var playerOffset=1==$(".global-alerts-container").length?-74:0;abcn_ui.Helpers.video.positionVideoContainerOffset($("figure.livetakeovervideo"),$("#abcn-videoplayer"),playerOffset),$("#abcn-videoplayer").removeClass("offpage"),swapVideo(thumb_idx,this)}else swapVideo(thumb_idx,this)}),"desktop"==deviceType&&listen()}}function swapVideo(pos,el){try{if("desktop"==deviceType){var newVideo=playlist[pos],newVideoId=newVideo.videoId;if(abcn_ui.Helpers.video.seedPlayer(amp,newVideoId),mainvideo.isStarted){var tempPlaylist=playlist;tempPlaylist[pos]=mainvideo,tempPlaylist[0]=newVideo;var videoId=tempPlaylist[pos].videoId,headline=mainvideo.headline?mainvideo.headline:mainvideo.hed;$(el).find(".link-text").html(headline),$(el).attr("data-videoid",mainvideo.id);var targetPlayer=abcn_ui.Helpers.livebar.config.players[pos-1];abcn_ui.Helpers.video.seedPlayer(targetPlayer,videoId),mainvideo=newVideo,playlist=tempPlaylist}else{var tempPlaylist=playlist;tempPlaylist[0]=newVideo,tempPlaylist[pos]=mainvideo,mainvideo=newVideo,updateLivePlaylist({items:tempPlaylist})}$("figure.livetakeovervideo, figure.livetakeovervideo .video-play-button").attr("data-id",newVideoId),$("figure.livetakeovervideo picture div").css("background-image","url("+mainvideo.image+")")}else{var newVideo=playlist[pos],newVideoId=newVideo.videoId;abcn_ui.Helpers.video.seedPlayer(amp,newVideoId),amp.setAutoplay(!0),initialPlay&&(amp.play(),initialPlay=!1)}}catch(e){}}function listen(){if("undefined"!=typeof Pusher){var pusher=new Pusher("bbd22899e72cfe54c160"),channel=pusher.subscribe("livebar");window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var pusherEvent=/localhost|qa.n7.abcnews.go.com/.test(window.location.origin)?"desktop-livebar-update-qa":"desktop-livebar-update";/pusherpreview=true/.test(window.location.href)&&(pusherEvent="desktop-livebar-update-prev"),channel.bind(pusherEvent,function(data){renderLiveVideo(data)})}}function renderLiveVideo(data){var items="object"==typeof data.items?data.items:"object"==typeof data.data?data.data:JSON.parse(data.data);if(data&&items.length>0&&"phone"!==deviceType){v_init&&($(container).prepend('<div class="carousel" data-behavior="takeover_carousel"></div>'),v_init=!1);var newPlaylist=[],mainvideoId=mainvideo.videoId,playlistIds=[];playlistIds.push(mainvideoId);var isMainLive=!1;if($.each(items,function(i,item){var videoId=item.videoId;mainvideoId!=videoId&&-1==playlistIds.indexOf(videoId)&&(item.isStarted=!0,newPlaylist.push(item),playlistIds.push(videoId)),mainvideoId==videoId&&(isMainLive=!0,mainvideo=item)}),isMainLive?mainvideo.isStarted=!0:mainvideo.isStarted=!1,newPlaylist.unshift(mainvideo),playlist.length>items.length-1){var itemsToRemove=playlist.length-items.length;for(i=0;i<itemsToRemove;i++)window.abcn_ui.Helpers.livebar.removeVideo(i),$(".livetakeover .carousel").slick("slickRemove",!1)}playlist=newPlaylist;var target=$(".video-thumbnails .carousel");$.each(playlist,function(i,item){if(i>0){var id=item.id?item.id:"",videoId=item.videoId,r_id=(item.headline?item.headline:item.hed?item.hed:"",Math.floor(2e3*Math.random())),containerId=id+"_"+r_id,lMarkup=liveMarkup(item,!0,deviceType,containerId);"object"==typeof $(".livetakeover .carousel .item")[i-1]?updateItemMarkup(item,i-1):(caro_initialized?$(".video-thumbnails .carousel").slick("slickAdd",lMarkup):target.append(lMarkup),"desktop"==$("#header-wrapper").data("device")&&0==$("#player-"+videoId).length&&setTimeout(function(){abcn_ui.Helpers.livebar.createVideo(containerId,videoId)},2e3))}}),caro_initialized||(abcn_ui.LoadBehavior(container),caro_initialized=!0)}else $(container).html(""),v_init=!0,caro_initialized=!1}function updateLivePlaylist(data){var items=data.items;if(data&&items.length>0&&"phone"!==deviceType){var newPlaylist=[];$.each(items,function(i,item){1==item.isStarted&&newPlaylist.push(item)}),window.abcn_ui.Helpers.livebar.removeVideo(0),$(".livetakeover .carousel").slick("slickRemove",!1);var target=$(".video-thumbnails .carousel");$.each(newPlaylist,function(i,item){if(i>0){var id=item.id?item.id:"",videoId=item.videoId,r_id=(item.headline?item.headline:item.hed?item.hed:"",Math.floor(2e3*Math.random())),containerId=id+"_"+r_id,lMarkup=liveMarkup(item,!0,deviceType,containerId);"object"==typeof $(".livetakeover .carousel .item")[i-1]?updateItemMarkup(item,i-1):(caro_initialized?$(".video-thumbnails .carousel").slick("slickAdd",lMarkup):target.append(lMarkup),"desktop"==$("#header-wrapper").data("device")&&0==$("#player-"+videoId).length&&setTimeout(function(){abcn_ui.Helpers.livebar.createVideo(containerId,videoId)},2e3)),item.isStarted=!0}}),caro_initialized||(abcn_ui.LoadBehavior(container),caro_initialized=!0),playlist=newPlaylist}else $(container).html(""),v_init=!0,caro_initialized=!1}function liveMarkup(item,useli,device,containerId){var $this=item,id=$this.id?$this.id:"",headline=(item.videoId,$this.headline?$this.headline:$this.hed?$this.hed:""),image=$this.image?$this.image:"",closer=useli?"</div>":"",playerContainer="desktop"==device?'<div class="liveplayer"></div>':"",markup=useli?'<div class="item livebarvideo_'+containerId+'" itemprop="name" data-videoid="'+id+'">':"",url="";switch(device){case"phone":url=$this.canonicalUrl?$this.canonicalUrl:"";break;case"tablet":url=$this.canonicalUrl?$this.canonicalUrl:"";break;default:url=$this.desktopUrl?$this.desktopUrl:""}return markup+='<div class="text-container"><p class="link-text">'+headline+"</p></div>",image&&(markup+="tablet"==device?'<figure class="feed-item-figure"><div class="img-wrap"><picture><a itemprop="url" href="javascript:void(0);" name="lpos=nav[header_'+device+'_live]&lid=[image]" data-mobile="false"><img src="'+image+'" border="0" alt="'+headline+'" class="lazyautosizes lazyloaded" /></a></picture><a itemprop="url" href="'+url+'&cid=HP_TO_THUMB" name="lpos=nav[header_'+device+'_live]&lid=[headline]" data-mobile="false">'+playerContainer+"</a></div></figure>":'<figure class="feed-item-figure"><span class="circ"></span><div class="img-wrap"><picture><img src="'+image+'" border="0" alt="'+headline+'" class="lazyautosizes lazyloaded" /></picture>'+playerContainer+'<div class="liveplayer_overlay to_thumb"></div></div></figure>'),markup+=closer}function updateItemMarkup(item,targetIdx){var $this=item,id=$this.id?$this.id:"",headline=$this.headline?$this.headline:$this.hed?$this.hed:"",url=($this.image?$this.image:"",$this.url),delim=url.indexOf("?")>-1?"&":"?",img_url=url+delim+"urlHP_LB_THUMB",hed_url=url+delim+"urlHP_LB_HED",$targetEl=$($(".livetakeover .carousel .item")[targetIdx]);$targetEl.find(".link-text").html(headline),$targetEl.find(".img-wrap a").attr("href",img_url),$targetEl.find(".text-container a").attr("href",hed_url),abcn_ui.Helpers.livebar.config.players[targetIdx].evaluateBindings("#{media.guid}")!=id?abcn_ui.Helpers.video.seedPlayer(abcn_ui.Helpers.livebar.config.players[targetIdx],id):setTimeout(function(){abcn_ui.Helpers.livebar.config.players[targetIdx].paused&&abcn_ui.Helpers.livebar.config.players[targetIdx].play()},500)}var deviceType=($(container).data("playerversion"),window.abcn_ui.Helpers.livebar.detect()),v_init=!0,playlist=[],caro_initialized=!1,initialPlay=!0;init()}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.livevideo_carousel=function(container){function buildCarousel(){container.hasClass("slick-initialized")||container.slick({infinite:!1,centerMode:!1,centerPadding:"20px",slidesToShow:4,slidesToScroll:3,variableWidth:!0,lazyLoad:"ondemand",arrows:!0,speed:180,prevArrow:$(".prev"),nextArrow:$(".next"),responsive:[{breakpoint:1400,settings:{infinite:!1,slidesToShow:3,centerPadding:"20px",arrows:!0}},{breakpoint:768,settings:{infinite:!1,centerMode:!0,slidesToShow:3,centerPadding:"20px",arrows:!0}}]}),$(window).on("resize orientationchange",slickSetPosition),setButtonHeight()}function slickSetPosition(){container.slick("setPosition"),setButtonHeight()}function setButtonHeight(){var el=$(container),fifEl=el.find(".feed-item-figure"),buttonEl=el.find(".slick-arrow");buttonEl.css("height",fifEl.height())}function destroyCarousel(){container.slick("unslick"),$(window).off("resize orientationchange",slickSetPosition)}abcn_ui.Helpers.build_or_destroy({},buildCarousel,destroyCarousel)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui,$currentOffset=0;abcn_ui.Behaviors.load_comments=function(){function generateMarkup(){var html="";html="mobile"!==mq&&"tablet"!==mq?'<div class="comment-box-content">         					<div class="disquis-container"></div> 						</div> 						<div class="overlay-box"></div>':'<div class="lightbox-container">         					<article class="lightbox comments js-bloomed"> 	        					<div class="disquis-container"></div> 	        				</article>         				</div>',$("body").append(html)}function initClickEvents(){"mobile"===mq||"tablet"===mq?$(document).on("touchstart","div.close-icon",function(e){e.preventDefault(),e.stopPropagation(),$("body").removeClass("scroll-locked"),$("body").removeClass("touch-device"),$("body").removeClass("inactive"),$(".lightbox-container").remove(),$("body").scrollTop($currentOffset),$.event.trigger({type:"abcn.comments.close"})}):$(document).on("click","div.close-icon",function(e){e.preventDefault(),e.stopPropagation(),$(".comment-box-content").remove(),$(".overlay-box").hide(),$("body").removeClass("fixed"),$.event.trigger({type:"abcn.comments.close"})}),$(document).on("click",".page-action.comment",function(e){"mobile"!==mq&&"tablet"!==mq?$(".overlay-box").show():(e.preventDefault(),e.stopPropagation()),$.event.trigger({type:"abcn.comments.open"}),generateMarkup();var curScroll=window.scrollY||window.pageYOffset;$(window).height()-$(".widget_head").height()-80;return"mobile"!==mq&&"tablet"!==mq?($(".comment-box-content").height(window.innerHeight-175),$(".comment-box-content #disqus_thread").height(window.innerHeight-225),$(".comment-box-content").css("top",curScroll+75+"px"),$(".comment-box-content").css("left","5%"),$("body").addClass("fixed")):($currentOffset=$("body").scrollTop(),$("body").addClass("scroll-locked"),$("body").addClass("inactive"),$("body").addClass("touch-device")),window.DISQUS&&$("#disqus_thread").removeClass("loading"),$.ajax({type:"GET",url:"/defaults/widgets/disqus?id="+$(this).attr("data-content-id")+"&mode=ajax&reload=true",cache:!0,success:function(story){if($(".comment-box-content").show(),$(".disquis-container").html(story),"mobile"!==mq&&"tablet"!==mq)$(".comment-box-content").height(window.innerHeight-175),$(".comment-box-content #disqus_thread").height(window.innerHeight-225);else if("tablet"===mq){var adjustedHeight=$(window).height()-$(".widget_head").height()-80;$(".lightbox-container #disqus_thread").height(adjustedHeight)}else $(".lightbox-container #disqus_thread").height(adjustedHeight)}}),!1})}var mq=abcn_ui.Helpers.get_media_query_in_use();initClickEvents()}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.mailform_login_handler=function(){function populateForm(data){var mForm=document.getElementById("data2");if("undefined"!=typeof mForm){mForm.swdc.value=data.swid,mForm.firstName.value=data.firstName,mForm.lastName.value=data.lastName,mForm.email.value=data.email,data.phones&&"undefined"!=typeof data.phones[0]&&(mForm.phone.value=data.phones[0].number);var h_address;if(data.addresses&&(h_address=data.addresses.filter(function(address){return"HOME"==address.type}),"undefined"!=typeof h_address)){var g_add=h_address[0];mForm.addressLine1.value=g_add.line1,mForm.addressLine2.value=g_add.line2,mForm.city.value=g_add.city,mForm.state.value=g_add.stateProvince,mForm.postalCode.value=g_add.postalCode}if("undefined"!=typeof data.dateOfBirth){var dobArr=data.dateOfBirth.split("-");mForm.customBirthYear.value=dobArr[0],$("#custom-birthdate").val(dobArr[1]).change(),$("#custom-birthDay").val(dobArr[2]).change()}}}$(document).on("user_login",function(e){$(".mailform .loader").remove(),$(".login_mask, .login_msg_cont").removeClass("active").remove(),$(".abcn-form").addClass("show"),populateForm(e.g_data.profile)}),$(document).on("user_logout",function(e){$(".mailform .loader").remove(),$(".abcn-form").addClass("show"),$(".login_mask, .login_msg_cont").addClass("active"),$(document).on("click",".mailform-signup",function(e){$(window).scrollTop(0),abcn_ui.did.launchSocialRegistration(),e.preventDefault()}),$(document).on("click",".mailform-login",function(e){$(window).scrollTop(0),abcn_ui.did.launchLogin(),e.preventDefault()})})}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.make16x9=function(container){resize=function(){var setWidth=$(container).width(),setHeight=Math.round(9*setWidth/16);$(container).find("iframe").width(setWidth).height(setHeight)},$(window).on("orientationchange resize",function(){resize()}),resize()}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.native_star=function(){function init(){if("mobile"==mq){var obj={share_bar_target:".article-social",target:".native-star",urlslug:$("body").attr("data-alert-tag-primary"),message_title:"Following",message_text:"You are now following this story.",story_url:window.location.href};nativeStar.initTrident(obj)}}var mq=abcn_ui.Helpers.get_media_query_in_use();init()}}(window.jQuery),function($){var el=$("body").hasClass("abcn-desktop");if(el){var abcn_nativo=!1;$(".headline-container ul>li").each(function(i,items){3===i&&($(this).after('<li><div class="nativo"></div></li>'),abcn_nativo=!0)}),abcn_nativo||$(".headline-container ul>li:last").after('<li><div class="nativo"></div></li>')}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.overlay=function(container){function launchOverlay(elem,options){$.colorbox($.extend(options,{scrolling:!1,iframe:!0,opacity:"0.7",onOpen:function(){void 0!==options.css&&$("#colorbox").removeClass().addClass(options.css)},onClosed:function(){$("#colorbox").removeClass()},onCleanup:function(){$("#colorbox iframe").attr("src","about:blank")},onLoad:function(){$("iframe.cboxIframe").first().focus()}})),$("#colorbox").attr("tabIndex","")}function buildOverlay(){var finalHref;destroyOverlay(),container.on("click",function(event){var trigger=$(this);$(document).bind("cbox_complete",function(){$("iframe").first().focus()}),$(document).bind("cbox_cleanup",function(){});var params,height=!1,width=!1,css="registration_overlay",settings={regFormId:trigger.attr("data-regFormid")||"abcn",language:trigger.attr("data-language")||"en",affiliateName:trigger.attr("data-affiliateName")||"abcn",href:trigger.attr("tref")||"https://register.go.com/global/login?appRedirect=http%3A%2F%2Fabcnews.go.com%2F"};switch(settings.href){case"https://register.go.com/global/login?appRedirect=http%3A%2F%2Fabcnews.go.com%2F":width=820,height=600,params=settings.href;break;default:width=!1,height=!1}var mq=abcn_ui.Helpers.get_media_query_in_use();if("mobile"===mq||mq.indexOf("tablet")>-1)espn.storage.setItem("mobile-tabs",{index:$("#mobile-tabs a").index($("#mobile-tabs a.active"))});else{finalHref=params;var finalHeight=$("div.ie6, div.ie7").length?height+49:height;launchOverlay(this,{css:css,href:finalHref,speed:400,height:finalHeight,width:width,overlayClose:!1})}event.preventDefault()})}function destroyOverlay(){$(container).off("click")}abcn_ui.Helpers.build_or_destroy({mobile:!0,desktop:!0,tablet:!0},buildOverlay,destroyOverlay,!0)}}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.profile=function(container){function init(){("mobile"===mq||"tablet"===mq)&&$(container).on("click touch",function(){$(".global-user").length&&($(".global-user").is(":visible")?$(".global-user").hide():$(".global-user").show())})}var mq=abcn_ui.Helpers.get_media_query_in_use();init()}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.profile_handler=function(){var init=function(){function userLoggedIn(guest){$(".loggedOut").css("display","none"),$(".loggedIn").css("display","block"),$(document).trigger({type:"user_login",g_data:guest}),0===$(".global-user").length&&($(".tools .user").append('<div class="global-user"><ul><li itemprop="name" class="display-user">Welcome, <span>'+guest.profile.firstName+'</span></li><li itemprop="name"><a href="#" class="profile" data-social="true">Your Account</a></li><li><a href="#" class="signout" data-social="true">Log Out</a></li></ul></div>'),$(".loggedIn").parent().addClass("user-active"),$(".profile").on("click",function(e){$(window).scrollTop(0),abcn_ui.did.launchProfile(),e.preventDefault()}),$(".signout").on("click",function(e){abcn_ui.did.logout(),e.preventDefault()}))}function userLoggedOut(){$(document).trigger("user_logout"),$.cookie("DISQUSSENC")&&$.cookie("DISQUSSENC","",{expires:"Fri, 3 Aug 2001 20:47:11 UTC",domain:".go.com"}),$.cookie("DISQUSSESSION")&&$.cookie("DISQUSSESSION","",{expires:"Fri, 3 Aug 2001 20:47:11 UTC",domain:".go.com"}),$.cookie("DISQUSSESSIONSTART")&&$.cookie("DISQUSSESSIONSTART","",{expires:"Fri, 3 Aug 2001 20:47:11 UTC",domain:".go.com"}),$(".loggedIn").css("display","none"),$(".loggedOut").css("display","block"),$(".loggedOut").parent().removeClass("user-active"),$(".tools").removeClass("focused"),$(".user").removeClass("hover"),$(".global-user").remove(),$("#global-nav > ul").removeClass("focused")}abcn_ui.did=DisneyID.get({clientId:"DATG-ABCNEWSWEB.WEB",responderPage:"https://abcnews.go.com/disneyid/responder?v=1",cssOverride:"https://s.abcnews.com/assets/scss/css/disneyid.css?v=17",optionalConfigs:{sourceName:"ABCNews.com"}}),abcn_ui.did.on("login",userLoggedIn),abcn_ui.did.on("logout",userLoggedOut),abcn_ui.did.init().then(function(data){$(".signin").on("click",function(e){$(window).scrollTop(0),abcn_ui.did.launchLogin(),e.preventDefault()}),$(document).on("click",".uf-signup",function(e){$(window).scrollTop(0),$(this).hasClass("uf-create-acct")?abcn_ui.did.launchSocialRegistration():abcn_ui.did.launchLogin(),e.preventDefault(),$(".uf-lightbox").length&&setTimeout(function(){$(".uf-lightbox").removeClass("uflb-active")},50)}),data.loggedIn?userLoggedIn(data.guest):userLoggedOut()}),$("head").append("<style>div#disneyid-wrapper.state-active{z-index: 999999909 !important;}</style>")};"undefined"!=typeof DisneyID&&init()}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.rain_ads=function(){function init(){rain.dropAuto()}var el=(abcn_ui.Helpers.get_media_query_in_use(),$("body").hasClass("abcn-phone"));el||init()}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.recirc_slider=function(container){$(document).on("abcn.story.related",function(e){$(container).removeClass("rel-slider-hide"),setTimeout(function(){$(container).addClass("rel-slider-hide")},15e3),$(".rel-closer").click(function(){$(container).addClass("rel-slider-hide")}),$(document).off("abcn.story.related")})}}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.set_children_height=function(container){"mobile"!=abcn_ui.Helpers.get_media_query_in_use()&&abcn_ui.Helpers.inline_css.set_children_height(container)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.social_tools=function(){abcn_ui.Helpers.get_media_query_in_use();$(document).on("article.load",function(e,ele){e.stopPropagation();var container=$(ele);
if(container.length>0){var $shareCount=(container.find("ul.article-social").attr("data-src"),container.find(".share-count"));container.find(".comment.button-alt"),container.find("ul.article-social").attr("data-id"),container.find("ul.article-social").attr("data-section");if($shareCount.length>0){var fixCounts=function(countString){countString+="",countString=countString.replace("+","");var count=parseInt(countString,10);return count>999&&(count=Math.floor(count/1e3),count+="K"),count},displayShareCount=function(totalCount){totalCount=parseInt(totalCount,10);var $shareCountSpan=$shareCount.find("span");$shareCountSpan.length>0?0===totalCount?$shareCount.html("Share"):1===totalCount?$shareCount.html("<span>1</span> Share"):$shareCount.find("span").html(fixCounts(totalCount)):$shareCount.html(0===totalCount?"Share":1===totalCount?"1 Share":fixCounts(totalCount)+" Shares")};void 0!==$shareCount.data("shareCount")&&displayShareCount($shareCount.data("shareCount"))}}})}}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.sticky_social=function(container){function calculatePositions(){originalPos=Math.round($parent.offset().top-topBudge),height=Math.round($parent.outerHeight(!0))}function update(){var thisRect=container[0].getBoundingClientRect();if(thisRect.height+thisRect.top>0){if(calculatePositions(),this_height>=height)return!1;var sT=$(window).scrollTop();container.css(sT>=originalPos&&originalPos+height-this_height>sT?{position:"fixed",bottom:"auto",top:topBudge}:sT>originalPos+height-this_height?{position:"absolute",bottom:0,top:"auto"}:{position:"absolute",bottom:"auto",top:0})}}function setUp(){this_height=container.outerHeight(!0),$parent.css({minHeight:this_height}),topBudge=$("#global-header").outerHeight(!0)+20}function buildSocialSticky(){$parent=container.parent(),setUp(),$(window).on("windowscroll.throttle.sticky_social",function(){update()}),$(window).on("windowresize.debounce.sticky_social",function(){update()})}function destroySocialSticky(){$(window).off(".sticky_social"),container.removeAttr("style")}var $parent,this_height,topBudge,originalPos=0,height=0;abcn_ui.Helpers.build_or_destroy({touch:!1,mobile:!1},buildSocialSticky,destroySocialSticky)}}(window.jQuery),function($){abcn_ui.Behaviors.story_general_widget=function(container){function overrideStateObj(target){"undefined"==typeof electionJSObj.stNa&&(electionJSObj={},$(target).data("src")&&(electionJSObj.stNa=$(target).data("src")),$(target).data("racetype")&&(electionJSObj.race=$(target).data("racetype")),$(target).data("isspecialelection")&&(electionJSObj.isSpecialElection=$(target).data("isspecialelection")),$(target).data("year")&&(electionJSObj.year=$(target).data("year")))}storycount=0;var isElectionStandalone=qsParam("appchrome")?qsParam("appchrome"):"notstandalone";$(document).on("ready",function(){thisSVGIndex=null,!$(container).find(".g-map-wrapinner").find("div").hasClass("ng-scope")&&$(container).find(".g-map-wrapinner").find("div").hasClass("abcn-generals-2016")&&(overrideStateObj($(container).parent()),storycount++,thisSVGIndex=storycount,container.find(".g-map-wrapinner").find("div").attr("data-angapp",storycount),"notstandalone"===isElectionStandalone?setTimeout(function(){angular.bootstrap(container,["abcn-generals-2016"])},100):setTimeout(function(){angular.bootstrap($(".abcn-generals-2016"),["abcn-generals-2016"]),document.getElementsByClassName("abcn-generals-2016")[0].setAttribute("style","padding-bottom:0px !important; margin: 20px 20px 0 20px"),document.getElementById("global-viewport").style.minHeight="340px",document.getElementsByTagName("body")[0].style.height="340px"},100))}),$(document).on("article.load",function(e,ele){$(container).find(".g-map-wrapinner").find("div").hasClass("ng-scope")||(overrideStateObj($(container).parent()),"undefined"!=typeof storycount&&storycount++,container.find(".g-map-wrapinner").find("div").attr("data-angapp",storycount),thisSVGIndex=storycount,"notstandalone"===isElectionStandalone?setTimeout(function(){angular.bootstrap(container,["abcn-generals-2016"])},100):setTimeout(function(){angular.bootstrap($(".abcn-generals-2016"),["abcn-generals-2016"]),document.getElementsByClassName("abcn-generals-2016")[0].setAttribute("style","padding-bottom:0px !important; margin: 20px 20px 0 20px"),document.getElementById("global-viewport").style.minHeight="340px",document.getElementById("body")[0].style.height="340px"},100))})}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;window.abcnvideo=window.abcnvideo||{};abcnvideo;window.leadstoryvideo={},window.leadstoryvideo.cache=$.extend({},abcnvideo),abcn_ui.Behaviors.story_player=function(){var $videoContainer=$("#abcn-videoplayer"),playerversion=$("#abcn-videoplayer").attr("data-playerversion"),isAutoplay=abcn_ui.Helpers.video.getAutoplayPref(),clipid=$($("figure.video")[0]).attr("data-video");if(abcn_ui.device.isMobile){var useAMP=abcn_ui.Helpers.video.useAkamaiPlayer();if(useAMP){var directiveMarkup='<abcn-videoplayer playerid="videoPlayer" playerversion="'+playerversion+'" clipid="'+clipid+'" autostart="false" playbackmode="html" controls="custom"></abcn-videoplayer>',playerMarkup='<div class="player_container abcn-amp-skin" ng-controller="PhoneWebStoryPlayerController">';playerMarkup+='<div id="dock_controls"><div id="close" class="closer"><span class="icon-close"></span></div></div>',playerMarkup+=directiveMarkup,playerMarkup+='<div id="dock_label"></div><div id="dock_meta"></div>',playerMarkup+='<abcn-share-video embedcode="false"></abcn-share-video>',playerMarkup+='<div class="player_overlay_icon"><span class="icon-play-plain"></span></div>',playerMarkup+='<div class="player_overlay"></div>',playerMarkup+="</div>",$videoContainer.html(playerMarkup),$videoContainer.after('<div id="player_undocker"></div>'),angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"])}else{var playerMarkup='<div class="player_container" ng-controller="PhoneWebStoryController">';playerMarkup+='<div id="dock_controls"><div id="close" class="closer"><span class="icon-close"></span></div></div>',playerMarkup+='<div id="videoPlayer"><div class="thumb"></div><span class="icon-play-plain"></span></div>',playerMarkup+='<div id="dock_meta"></div>',playerMarkup+="</div>",$videoContainer.html(playerMarkup),angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"])}}else if(abcn_ui.device.isTablet){var useAMP=abcn_ui.Helpers.video.useAkamaiPlayer();if(useAMP){var directiveMarkup='<abcn-videoplayer playerid="videoPlayer" playerversion="'+playerversion+'" clipid="'+clipid+'" autostart="'+isAutoplay+'" playbackmode="html" controls="custom" autostart="true"></abcn-videoplayer>',playerMarkup='<div class="player_container abcn-amp-skin" ng-controller="TabletWebStoryPlayerController">';playerMarkup+='<div id="dock_controls"><div id="close" class="closer"><span class="icon-close"></span></div></div>',playerMarkup+=directiveMarkup,playerMarkup+='<div id="dock_label"></div><div id="dock_meta"></div>',playerMarkup+='<abcn-share-video embedcode="false"></abcn-share-video>',playerMarkup+='<div id="exitfullscreen" class="buttons">Close <span class="icon-close"></span></div>',playerMarkup+='<div class="player_overlay_icon"><span class="icon-play-plain"></span></div>',playerMarkup+='<div class="player_overlay"></div>',playerMarkup+="</div>",$videoContainer.html(playerMarkup),angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"])}else{var playerMarkup='<div class="player_container" ng-controller="PhoneWebStoryController">';playerMarkup+='<div id="dock_controls"><div id="close" class="closer"><span class="icon-close"></span></div></div>',playerMarkup+='<div id="videoPlayer"><div class="thumb"></div><span class="icon-play-plain"></span></div>',playerMarkup+='<div id="dock_meta"></div>',playerMarkup+="</div>",$videoContainer.html(playerMarkup),angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"])}}else{var $videoContainer=$("#abcn-videoplayer"),preloadClass=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?"":"preload",directiveMarkup='<abcn-videoplayer playerid="videoPlayer" playerclass="'+preloadClass+'" playerversion="'+playerversion+'" clipid="'+clipid+'" autostart="'+isAutoplay+'" fullscreen="external" controls="custom"></abcn-videoplayer>',playerMarkup='<div class="player_container abcn-amp-skin" ng-controller="storyPlayerController">';playerMarkup+='<div id="dock_controls"><div id="gofullscreen" class="buttons"><span class="icon-fullscreen"></span></div><div id="close" class="buttons"><span class="icon-close"></span></div><div id="minimize" class="buttons"><span class="icon-min">-</span></div><div id="maximize" class="buttons"><span class="icon-play"></span></div></div>',playerMarkup+=directiveMarkup,playerMarkup+='<div id="dock_meta"></div>',playerMarkup+='<abcn-share-video embedcode="true"></abcn-share-video>',playerMarkup+='<div id="exitfullscreen" class="buttons">Close <span class="icon-close"></span></div>',playerMarkup+='<div class="player_loader"><div class="abcn_loader amp-icon"></div></div>',playerMarkup+='<div class="player_overlay"></div>',playerMarkup+='<div id="nextvideo"><div class="thumb"><a data-route="false" data-id="{{nextVideo.guid}}" ng-click="playNextVideo(nextVideo.guid);"><img ng-src="{{nextVideo.thumbnail}}" width="148"/></a><span class="duration">{{nextVideo.duration}}</span></div><p><span>Next</span><a data-route="false" ng-click="playNextVideo(nextVideo.guid);">{{nextVideo.title|cut:true:75:" ..."}}</a></p></div>',playerMarkup+="</div>",$videoContainer.html(playerMarkup),$videoContainer.after('<div id="player_undocker"></div>'),0==/preview=false/.test(window.location.href)?angular.bootstrap(document.getElementById("abcn-videoplayer"),["abcnPlayer"]):$("body").addClass("previewactive")}$(document).on("abcn.story.reload",function(event){abcn_ui.Helpers.video.setVideoMetadata("object"==typeof event.storyObj.content?event.storyObj:leadstoryvideo),$(document).trigger("abcn.story.reload_complete",[])})}}(window.jQuery),function($){abcn_ui.Behaviors.story_primaries_dateview_widget=function(container){$(container).hasClass("ng-scope")||angular.bootstrap(container,["abcn-primaries-2016"]),$(document).on("article.load",function(e,ele){$(container).hasClass("ng-scope")||angular.bootstrap(container,["abcn-primaries-2016"])})}}(window.jQuery),function($){abcn_ui.Behaviors.story_primaries_widget=function(container){$(document).on("ready",function(){$(container).hasClass("ng-scope")||angular.bootstrap(container,["abcn-primaries-2016"])}),$(document).on("article.load",function(e,ele){$(container).hasClass("ng-scope")||angular.bootstrap(container,["abcn-primaries-2016"])})}}(window.jQuery),function($){var abcn_ui=window.abcn_ui,mq=abcn_ui.Helpers.get_media_query_in_use();window.abcn_analytics={},window.relatedOfferActive=!1,$(document).on("native.star.reload",function(){window.nativeStar.initTrident()}),abcn_ui.Behaviors.story_progress=function(container){function getStoryURLs($items){var $item,$itemA,href,$item_related_links;if($items.length>0)for(var i=0;i<$items.length;i++)$item=$($items[i]),$itemA=$item.find("a.realStory").first(),$itemA.length>0&&(href=$itemA.attr("href"),href&&-1===href.indexOf("http")&&espn.next_story_url.push(href)),$item_related_links=$item.find(".related-links li"),$item_related_links.length>0&&getStoryURLs($item_related_links)}function buildStoryURLs($element){var $related_links,$next_elements;0===espn.next_story_url.length&&($element.hasClass("news-feed-item")?$related_links=$element.find(".related-links li"):($related_links=$element.parent().nextAll("li"),$element=$element.parents(".news-feed-item")),$related_links.length>0&&getStoryURLs($related_links),$next_elements=$element.nextAll(".news-feed-item"),$next_elements.length>0&&getStoryURLs($next_elements))}function checkAndScrollNewsFeed($element){var $previous_feed_item,element_height,element_relative_position,news_feed_height,new_scroll_position,checkInterval,$news_feed=$("#news-feed .container-wrapper"),$adPlaceholder=$news_feed.find("article.ad-300");$element&&$element.length>0&&$news_feed&&$news_feed.length>0&&(checkInterval=setInterval(function(){$news_feed.parents("#news-feed").hasClass("js-fixed")&&(element_relative_position=$element.position().top,element_height=$element.height(),news_feed_height=$news_feed.height(),(element_relative_position+element_height>news_feed_height||0>element_relative_position)&&($previous_feed_item=$element.prev(),$previous_feed_item.hasClass("news-feed-item")||($previous_feed_item=$element),$previous_feed_item.length>0&&((void 0===$detachedAd||0===$detachedAd.length)&&($detachedAd=$adPlaceholder.detach()),new_scroll_position=$previous_feed_item.position().top+$news_feed.scrollTop(),$news_feed.animate({scrollTop:new_scroll_position},{complete:function(){if($detachedAd.length>0){var selector=".ad-slot-incontent-strip",$incontentStrip=$(selector),len=$("#news-feed-content article.news-feed-related").length;$detachedAd.insertAfter($incontentStrip.length>0&&$element.nextAll(selector).length>0?0!==len?$("#news-feed-content article.news-feed-related:last"):$element:0!==$(".news-feed-related").length?isElementInViewport($(".news-feed-related"))?0!==len?$("#news-feed-content article.news-feed-related:last"):$element:$element:$element),$detachedAd=void 0,$(document).trigger("ads.incontent.moved",espn.article_content[""+this_id])}}})))),clearInterval(checkInterval)},250))}function buildStoryProgress(){if($article.length>0){var $bar,$this_feed_item,$attach_progress_to,this_article_visible=!1,first_article=$article.prev().is("article.article")===!1,previous_scroll_top=$(window).scrollTop();if($attach_progress_to=$this_feed_item=$(".news-feed-item[data-id='"+this_id+"']"),0===$this_feed_item.length&&"expired_video"!==this_id?($attach_progress_to=$('.related-links li a[data-id="'+this_id+'"]'),$this_feed_item=$attach_progress_to.parents(".news-feed-item"),buildStoryURLs($attach_progress_to),$attach_progress_to=$attach_progress_to.parent()):buildStoryURLs($this_feed_item),!window.Modernizr.touch){var cssOveride=$attach_progress_to.hasClass("has-related")?' style="bottom: auto; height: '+$(".related-links",$this_feed_item).position().top+'px;"':"";$attach_progress_to.append('<div class="story_progress"'+cssOveride+'><div class="bar" style="height: 100%;"></div></div>'),$bar=$attach_progress_to.find(".bar")}$(document).on(this_scroll_namespace,function(event){var percent,bar_percent,next_url,load_next_story_at_percent=0;if(event.scrollTop<$article.offset().top&&first_article){if(window.Modernizr.touch||"none"!==$bar.css("display")&&($bar.hide(),$bar.css({height:bar_percent+"%"})),espn.next_story_url.length>0&&!ajax_innitted&&(next_url=espn.next_story_url.shift(),void 0!==next_url&&(espn.next_story_url.length<=2&&$.publish("please_load_feed"),!$("body").hasClass("scroll-event")))){var firstArticleNextStoryLoadEvents="mousemove.story_progress_first_article_next_story_load touchstart.story_progress_first_article_next_story_load";$(document).on(firstArticleNextStoryLoadEvents,function(){$(document).off(firstArticleNextStoryLoadEvents),$("body").hasClass("scroll-locked")||loadStory(next_url)}),$("body").addClass("scroll-event")}}else if(event.scrollTop+event.headerHeight>$article.offset().top&&event.scrollTop+event.headerHeight<$article.offset().top+$article.outerHeight(!0)){if(percent=Math.round((event.scrollTop+event.headerHeight-$article.offset().top)/$article.outerHeight(!0)*100),bar_percent=100-percent,"mobile"===mq&&"undefined"!=typeof window.relatedOffer&&50>bar_percent&&!window.relatedOfferActive&&($.event.trigger({type:"abcn.story.related"}),window.relatedOfferActive=!0),window.Modernizr.touch||("none"===$bar.css("display")&&$bar.show(),$bar.css({height:bar_percent+"%"})),!this_article_visible&&(this_article_visible=!0,$this_feed_item.removeClass("hide_progress").addClass("active").siblings().removeClass("active"),$this_feed_item.is($attach_progress_to)?$(".related-links .active",$this_feed_item).removeClass("active"):($attach_progress_to.addClass("active").siblings().removeClass("active"),$this_feed_item.addClass("hide_progress")),checkAndScrollNewsFeed($this_feed_item),history.replaceState)){var thisHref,obj=$.parseHTML("<div>"+abcn_ui.Helpers.page.contentPreBehavior.trim()+"</div>"),story=espn.article_content[""+this_id];if(story){if($.event.trigger({type:"abcn.story.reload",story:this_id,storyObj:story}),story.content){var storyHTML=story.content.html.trim(),$story=$(storyHTML);$story.is(".main-content")||$story.find(".main-content").length?$(obj).html($story):$(obj).find("#article-feed").html($story),story.content.html=abcn_ui.Helpers.page.contentPreBehavior=$(obj).html()}story.meta&&($("title").html(story.meta.title),$('meta[name="description"]').attr("content",story.meta.description),$('meta[name="keywords"]').attr("content",story.meta.keywords)),first_article&&previous_scroll_top<$article.offset().top||setTimeout(function(){$(document).trigger("page.scroll",[story])},250)}if(thisHref=$attach_progress_to.find("a").attr("href")?$attach_progress_to.find("a").attr("href"):$(".related-links .active",$this_feed_item).data("href"),thisHref="http://"+window.location.host+thisHref,!(first_article&&previous_scroll_top<$article.offset().top))if(setTimeout(function(){$(document).trigger("page.scroll",[story])},250),s_omni.events="event28",window.s_omni.t(),story.analytics)abcn_ui.Helpers.tracking.init(story,thisHref,"scrolled");else if("undefined"!==window.leadStoryAnalytics){var storyAds=JSON.parse(window.leadStoryAnalytics),leadTQ=JSON.parse(window.leadTQ),leadChartbeat=JSON.parse(window.chartbeatConfig),objForTracking={ads:leadTQ,chartbeat:leadChartbeat};abcn_ui.Helpers.tracking.init(storyAds,thisHref,"scrolled",objForTracking)}if(history.state&&history.state.url!==thisHref){"undefined"!=typeof window.instgrm&&window.instgrm.Embeds.process(),window.abcn_ui.Helpers.ufirst_alerts.tag_behavior(),$.event.trigger({type:"rain.reload",tq:story.ads});try{/https:/.test(history.state.url)&&(thisHref=thisHref.replace("http://","https://")),history.replaceState({id:this_id,scrollPos:0,context:"story",content:story.content,url:thisHref,meta:{title:$("title").html(),description:$('meta[name="description"]').attr("content"),keywords:$('meta[name="keywords"]').attr("content"),ogTitle:$("title").html(),ogDescription:$('meta[name="description"]').attr("content"),twitterTitle:$("title").html(),twitterDescription:$('meta[name="description"]').attr("content")},ads:story.ads,analytics:story.analytics},$("h1",$this_feed_item).text(),thisHref)}catch(e){}}if("undefined"==typeof history.state){$.event.trigger({type:"rain.reload",tq:story.ads});try{/https:/.test(history.state.url)&&(thisHref=thisHref.replace("http://","https://")),history.replaceState({id:this_id,scrollPos:0,context:"story",content:story.content,url:thisHref,meta:{title:$("title").html(),description:$('meta[name="description"]').attr("content"),keywords:$('meta[name="keywords"]').attr("content"),ogTitle:$("title").html(),ogDescription:$('meta[name="description"]').attr("content"),twitterTitle:$("title").html(),twitterDescription:$('meta[name="description"]').attr("content")},ads:story.ads,analytics:story.analytics},$("h1",$this_feed_item).text(),thisHref)}catch(e){}}}percent>load_next_story_at_percent&&!ajax_innitted&&(espn.next_story_url.length>0?(next_url=espn.next_story_url.shift(),void 0!==next_url&&(espn.next_story_url.length<=2&&$.publish("please_load_feed"),$("body").hasClass("scroll-locked")||loadStory(next_url))):($.publish("please_load_feed"),buildStoryURLs($this_feed_item)))}else event.windowHeight+event.scrollTop>=$article.outerHeight(!0)+$article.offset().top-100&&!ajax_innitted?(espn.next_story_url.length>0?(next_url=espn.next_story_url.shift(),void 0!==next_url&&(espn.next_story_url.length<=2&&$.publish("please_load_feed"),$("body").hasClass("scroll-locked")||loadStory(next_url))):($.publish("please_load_feed"),buildStoryURLs($this_feed_item)),this_article_visible&&(this_article_visible=!1),bar_percent=0):(this_article_visible&&(this_article_visible=!1),bar_percent=0);previous_scroll_top=event.scrollTop})}}function loadStory(url){if(ajax_innitted=!0,void 0!==url){$article.after($loading_next_article);var loadURL=new RegExp("(/[^?/]+/?)?(?:-(\\d{6,})[^?]*|[^?])*[?]?.*?(?:id=(\\d+))?").exec(url),loadID=loadURL[3]?loadURL[3]:loadURL[2];loadID?$.ajax({type:"GET",url:"/beta/json/article?id="+loadID+"&analytics=true",cache:!0,dataType:"json",success:function(story){story&&void 0!==story.content&&void 0!==story.content.html&&$article.length>0?($next_article=null,$next_article=$($(story.content.html).find(".main-content").length?$(story.content.html).find("article.article")[0]:story.content.html),$loading_next_article.remove(),$article.after($next_article),$(document).trigger("story.load"),espn.article_content[story.uid]=story,"mobile"===abcn_ui.Helpers.get_media_query_in_use()&&$(document).trigger("native.star.reload"),abcn_ui.Behaviors.story_progress($next_article),abcn_ui.LoadBehavior($next_article),abcn_ui.Helpers.captions.init($next_article),window.espn.plugins.getFacebook(function(){window.FB.XFBML.parse($next_article[0])}),window.espn.plugins.getTwitter(function(){window.twttr.widgets.load($next_article[0])})):$loading_next_article.remove()},error:function(){$loading_next_article.remove(),ajax_innitted=!1}}):($loading_next_article.remove(),ajax_innitted=!1)}}function destroyStoryProgress(){$(document).off(this_scroll_namespace),$(document).off("page.load."+this_id)}function isElementInViewport(el){"function"==typeof jQuery&&el instanceof jQuery&&(el=el[0]);var rect=el.getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)}espn.hasOwnProperty("next_story_url")||(espn.next_story_url=[]),espn.hasOwnProperty("article_content")||(espn.article_content={});var $detachedAd,this_id=container.data("id"),$article=$('article.article[data-id="'+this_id+'"]'),this_scroll_namespace="story_scroll."+this_id,ajax_innitted=!1,$next_article=[],$loading_next_article=$('<article class="article loading" />');$.subscribe("ad.rendered",function(key){if(key.indexOf("ad-slot-banner")>-1){var scrollTop=$(window).scrollTop(),offset=$("#main-container").offset().top,$newsFeed=$("#news-feed"),adHeight=$(".ad-slot-banner","#pane-main").height();adHeight+offset>=scrollTop&&$newsFeed.removeClass("js-fixed")}}),$(document).on("page.load."+this_id,function(){destroyStoryProgress(),espn.next_story_url=[],espn.article_content={}}),$(document).trigger("article.load",[container]),void 0===espn.article_content[this_id]&&(espn.article_content[this_id]={meta:{title:$("title").html(),description:$('meta[name="description"]').attr("content"),keywords:$('meta[name="keywords"]').attr("content")},content:"",id:this_id}),abcn_ui.Helpers.build_or_destroy({},buildStoryProgress,destroyStoryProgress)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.story_scroll=function(container){function buildStoryScroll(){offsetTop=container.offset().top,headerHeight=$("#header-wrapper").height(),windowHeight=$(window).height(),$.subscribe("espn.header.open",function(){headerHeight=$("#header-wrapper").outerHeight()}),$.subscribe("espn.header.collapsed",function(){headerHeight=$("#header-wrapper").outerHeight()}),$.subscribe("ad.rendered",function(key){key.indexOf("ad-slot-banner")>-1&&(offsetTop=container.offset().top)}),$(window).on(this_scroll_namespace,function(event){var sT=event.scrollTop;$.event.trigger({type:"story_scroll",scrollTop:sT,offsetTop:offsetTop,headerHeight:headerHeight,windowHeight:windowHeight})})}function destroyStoryScroll(){$(window).off(this_scroll_namespace)}var offsetTop,headerHeight,windowHeight,this_scroll_namespace="windowscroll.throttle.story_scroll"+container.data("id");abcn_ui.Helpers.build_or_destroy({},buildStoryScroll,destroyStoryScroll)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.takeover_carousel=function(container){function buildCarousel(){container.hasClass("slick-initialized")||container.slick({infinite:!1,centerMode:!1,slidesToShow:3,slidesToScroll:3,lazyLoad:"ondemand",arrows:!0,speed:180,responsive:[{breakpoint:1400,settings:{infinite:!1,slidesToShow:3,slidesToScroll:3,arrows:!0}},{breakpoint:768,settings:{infinite:!1,slidesToShow:3,slidesToScroll:3,arrows:!0}}]}),$(window).on("resize orientationchange",slickSetPosition),setButtonHeight()}function slickSetPosition(){container.slick("setPosition"),setButtonHeight()}function setButtonHeight(){var el=$(container),buttonEl=el.find(".slick-arrow"),buttonPos=(el.height()-25)/2;buttonEl.css("top",buttonPos)}function destroyCarousel(){container.slick("unslick"),$(window).off("resize orientationchange",slickSetPosition)}abcn_ui.Helpers.build_or_destroy({},buildCarousel,destroyCarousel)}}(window.jQuery),function($){var abcn_ui=window.abcn_ui,$results_html=null,isMobile=null,$searchIcon=null,$li=null,$input=null,$searchButton=null,$resultsContainer=null,open=null,activeSearchClassName=null,this_name_space=null,$body=$("body"),lastTerm=null,isTracked=!1,isOpen=function(){return open},showSearch=function(){"undefined"!==window.intervalHero&&window.intervalHero&&clearInterval(window.intervalHero),$li.addClass(activeSearchClassName),$input.focus(),$.event.trigger({type:"search_active"}),open=!0,lastTerm=null},hideSearch=function(){"undefined"!==window.intervalHero&&window.intervalHero&&window.globalHeroAuto(),$li.removeClass(activeSearchClassName+" hover"),$input.blur().val(""),open=!1,$searchIcon.blur(),isTracked=!1},removeOldResults=function(){$results_html&&$results_html.length&&$results_html.remove()},keyupNoBounce=function(event){if(isOpen()){var activeClass="active-search",$firstSearchItem=$(".search-results li:first-child",$resultsContainer),$activeClass=$("."+activeClass,$resultsContainer),$searchInput=$(".search-box",$resultsContainer);40===event.keyCode?$activeClass[0]?$activeClass.next().length&&($activeClass.removeClass(activeClass).next().addClass(activeClass),$searchInput.val($activeClass.next().find("b").text())):($firstSearchItem.addClass(activeClass),$searchInput.val($firstSearchItem.find("b").text())):38===event.keyCode?$activeClass[0]&&$activeClass.prev().length&&($activeClass.removeClass(activeClass).prev().addClass(activeClass),$searchInput.val($activeClass.prev().find("b").text())):isOpen()&&27===event.keyCode?(removeOldResults(),isMobile||hideSearch()):13===event.keyCode&&goToSearch(event)}},goToSearch=function(e){function searchExit(){e.metaKey||e.ctrlKey?window.open(searchUrl,"_blank"):window.location.href=searchUrl}var domain=$("#header-wrapper").attr("data-domain"),search_term=$input.val(),searchUrl=domain+"/search?searchtext="+encodeURIComponent(search_term);"mobile"===abcn_ui.media_query_in_use&&(searchUrl=domain+"/beta/mobilesearch?q="+encodeURIComponent(search_term)),"tablet"===abcn_ui.media_query_in_use&&(searchUrl=domain+"/t/search?searchtext="+encodeURIComponent(search_term)),searchExit()},init=function(){$results_html=null,isMobile="mobile"===abcn_ui.media_query_in_use,$searchIcon=$(isMobile?"#global-search-mobile":"#global-search-trigger"),$li=$searchIcon.parent(),$input=$li.find(isMobile?".search-box":"input[type=text]"),$searchButton=$li.find(".btn-search"),$resultsContainer=isMobile?$li:$("#global-search"),this_name_space=".type_to_search_"+$searchIcon.attr("id"),open=isMobile,activeSearchClassName="active",lastTerm=null,$input.val(""),$input.keyup(keyupNoBounce),$searchIcon.click(function(event){event.preventDefault(),event.stopImmediatePropagation(),isOpen()?isMobile||hideSearch():showSearch()}),$.subscribe("nav.search.close",function(){hideSearch()}),$searchButton.click(function(e){goToSearch(e)}),$input.keyup($.debounce(250,function(event){})).focus(function(){$li.addClass(activeSearchClassName)}),$body.click(function(event){isOpen()&&"search-box"!==event.target.className&&"btn-search"!==event.target.className&&hideSearch()}),$body.on("show_search"+this_name_space,function(){removeOldResults(),showSearch()})},destroy=function(){removeOldResults(),$li.removeClass(activeSearchClassName),$input.off("keyup"),$input.off("blur"),$input.off("focus"),$searchIcon.off("click"),$searchButton.off("click")};abcn_ui.Helpers.build_or_destroy({touch:!0,tablet:!0,mobile:!0},init,destroy,!0)}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.ufirst_init=function(container){abcn_ui.Helpers.ufirst.init()}}(jQuery),function($){var abcn_ui=window.abcn_ui;abcn_ui.Behaviors.render_video_preview=function(container){function init(){"desktop"==deviceType&&($.get("/beta/json/liveshelf?limit=5",function(data){renderLiveVideo(data,$container),"mobile"!=abcn_ui.Helpers.get_media_query_in_use()&&abcn_ui.Helpers.inline_css.set_children_height(container)}),listen())}function createVideo(container,videoId){$targetdiv=$(".prev-amp-"+container).find(".liveplayer"),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));window.location.origin;$targetdiv.append('<div id="prev-amp-'+container+'"></div>');var comscoreObj,comscoreFlag=0==players.length?!0:!1;comscoreObj={enabled:comscoreFlag,data:{metadata:{ads:{c4:"livepreview"},video:{c4:"livepreview"}}}};var settings={playerName:"abcn_vididx_shelf_"+videoId,clipid:videoId,controls:"none",volume:"0",ads:"false",comscore:comscoreFlag,nielsen:"false",chartbeat:"false",newrelic:"false",comscoreData:comscoreObj,omniture:"false",autostart:!0,video_format:"m3u8_low",namespace:"abcn_live"+videoId,playoverlay:!1,mediaanalytics:"false",playbackmode:"html-auto"};player_handler=function(event){event.player.setVolume(0),event.player.setAutoplay(!0),"flash"==event.player.playerType&&event.player.captioning.setHidden(!0),abcn_ui.Helpers.video.globalReadyHandler(event)},"undefined"==typeof akamai&&$.getScript(abcn_ui.Helpers.livebar.config.playerversion+"/amp.premier/amp.premier.min.js?v=2",function(){if(0==akamai.amp.AMP.defaults.loaded){var player_config=abcn_ui.Helpers.livebar.config.playerversion+"/amp.premier/amp.premier.default.xml?stonewood=0&sec=1";akamai.amp.AMP.loadDefaults(player_config)}}),players.push(akamai.amp.AMP.create("prev-amp-"+container,abcn_ui.Helpers.video.configOverrides(settings),player_handler))}function renderLiveVideo(data,$container){var items="object"==typeof data.items?data.items:"object"==typeof data.data?data.data:JSON.parse(data.data);if(data&&items.length>0&&"phone"!==deviceType){v_init&&(v_init=!1);var newPlaylist=[],playlistIds=[];if($.each(items,function(i,item){var videoId=item.id.toLowerCase();-1==playlistIds.indexOf(videoId)&&(newPlaylist.push(item),playlistIds.push(videoId))}),playlist.length>newPlaylist.length){var itemsToRemove=playlist.length-items.length;for(i=0;i<itemsToRemove;i++){try{var targetVideo=players[players.length-1];targetVideo.pause(),"undefined"!=typeof targetVideo.comscorestreamsense&&targetVideo.comscorestreamsense.retrieveProxy("ModuleProxy").myStreamingTag.stop(),$(targetVideo.getContainer()).remove(),targetVideo.destroy(),players.splice(-1,1)}catch(e){}$(".shelf-live .item").last().remove()}}playlist=newPlaylist;var target=$(container);$.each(playlist,function(i,item){if(5>i){var id=item.id?item.id:"",videoId=item.videoId,r_id=(item.headline?item.headline:item.hed?item.hed:"",Math.floor(2e3*Math.random())),containerId=id+"-"+r_id,lMarkup=liveMarkup(item,!0,deviceType,containerId);"object"==typeof $(".shelf-live .item")[i]?updateItemMarkup(item,i):(target.append(lMarkup),"desktop"==$("#header-wrapper").data("device")&&setTimeout(function(){createVideo(containerId,videoId)},2e3))}})}else $(container).html(""),v_init=!0}function liveMarkup(item,useli,device,r_id){var $this=item,random_id=($this.id?$this.id:"","undefined"!=typeof r_id?r_id:""),headline=(item.videoId,
$this.headline?$this.headline:$this.hed?$this.hed:""),image=$this.image?$this.image:"",closer=useli?"</div>":"",playerContainer="desktop"==device?'<div class="liveplayer"></div>':"",markup=useli?'<div class="item prev-amp-'+random_id+'" itemprop="name">':"",url="";switch(device){case"phone":url=$this.canonicalUrl?$this.canonicalUrl:"";break;case"tablet":url=$this.canonicalUrl?$this.canonicalUrl:"";break;default:url=$this.desktopUrl?$this.desktopUrl:$this.url}var caption='<figcaption><div class="caption-wrapper video-modal video-play-button-external" data-videouri="'+url+'"><h1><a href="javascript:void(0);" class="white-ln">'+headline+"</a></h1></div></figcaption>";return image&&(markup+='<figure class="feed-item-figure video video-play-button-external"><div class="img-wrap"><picture><img src="'+image+'" border="0" alt="'+headline+'" class="lazyautosizes lazyloaded" /><span class="icon-play-plain video-modal video-play-button-external" data-videouri="'+url+'"></span></picture><a href="javascript:void(0);" class="video-modal video-play-button-external" data-videouri="'+url+'">'+playerContainer+"</a></div>"+caption+"</figure>"),markup+=closer}function updateItemMarkup(item,targetIdx){var $this=item,id=$this.id?$this.id:"",headline=$this.headline?$this.headline:$this.hed?$this.hed:"",url=($this.image?$this.image:"",$this.url),$targetEl=$($(".shelf-live .item")[targetIdx]);$targetEl.find("h1 a").html(headline),$targetEl.find(".video-modal").attr("data-videouri",url),players[targetIdx].evaluateBindings("#{media.guid}")!=id&&abcn_ui.Helpers.video.seedPlayer(players[targetIdx],id)}function listen(){if("undefined"!=typeof Pusher){var pusher=new Pusher("bbd22899e72cfe54c160"),channel=pusher.subscribe("vcr");window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var pusherEvent=/localhost|qa.n7.abcnews.go.com/.test(window.location.origin)?"desktop-livepage-update-qa":"desktop-livepage-update";/pusherpreview=true/.test(window.location.href)&&(pusherEvent="desktop-livepage-update-prev"),channel.bind(pusherEvent,function(data){renderLiveVideo(data,$container)})}}var deviceType=window.abcn_ui.Helpers.livebar.detect(),v_init=!0,playlist=[],players=[],$container=$(container);init()}}(jQuery);